var Fr=Math.pow;(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[392],{53899:function(Dn,mn,kt){"use strict";kt.d(mn,{Z:function(){return Gt}});var Te=kt(1413),ne=kt(67294),Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v584zM639.5 414h-45c-3 0-5.8 1.7-7.1 4.4L514 563.8h-2.8l-73.4-145.4a8 8 0 00-7.1-4.4h-46c-1.3 0-2.7.3-3.8 1-3.9 2.1-5.3 7-3.2 10.9l89.3 164h-48.6c-4.4 0-8 3.6-8 8v21.3c0 4.4 3.6 8 8 8h65.1v33.7h-65.1c-4.4 0-8 3.6-8 8v21.3c0 4.4 3.6 8 8 8h65.1V752c0 4.4 3.6 8 8 8h41.3c4.4 0 8-3.6 8-8v-53.8h65.4c4.4 0 8-3.6 8-8v-21.3c0-4.4-3.6-8-8-8h-65.4v-33.7h65.4c4.4 0 8-3.6 8-8v-21.3c0-4.4-3.6-8-8-8h-49.1l89.3-164.1c.6-1.2 1-2.5 1-3.8.1-4.4-3.4-8-7.9-8z"}}]},name:"account-book",theme:"outlined"},je=Ge,Ee=kt(91146),B=function(rt,ue){return ne.createElement(Ee.Z,(0,Te.Z)((0,Te.Z)({},rt),{},{ref:ue,icon:je}))};B.displayName="AccountBookOutlined";var Gt=ne.forwardRef(B)},55355:function(Dn,mn,kt){"use strict";kt.d(mn,{Z:function(){return Gt}});var Te=kt(1413),ne=kt(67294),Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},je=Ge,Ee=kt(91146),B=function(rt,ue){return ne.createElement(Ee.Z,(0,Te.Z)((0,Te.Z)({},rt),{},{ref:ue,icon:je}))};B.displayName="TeamOutlined";var Gt=ne.forwardRef(B)},17816:function(Dn,mn){(function(kt,Te){Te(mn)})(this,function(kt){"use strict";function Te(et){var ut=typeof Symbol=="function"&&Symbol.iterator,Pt=ut&&et[ut],Xt=0;if(Pt)return Pt.call(et);if(et&&typeof et.length=="number")return{next:function(){return{value:(et=et&&Xt>=et.length?void 0:et)&&et[Xt++],done:!et}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(et,ut){var Pt=typeof Symbol=="function"&&et[Symbol.iterator];if(!Pt)return et;var Xt,Se,Me=Pt.call(et),ae=[];try{for(;(ut===void 0||0<ut--)&&!(Xt=Me.next()).done;)ae.push(Xt.value)}catch(oe){Se={error:oe}}finally{try{Xt&&!Xt.done&&(Pt=Me.return)&&Pt.call(Me)}finally{if(Se)throw Se.error}}return ae}function Ge(et,ut,Pt){if(Pt||arguments.length===2)for(var Xt,Se=0,Me=ut.length;Se<Me;Se++)!Xt&&Se in ut||((Xt=Xt||Array.prototype.slice.call(ut,0,Se))[Se]=ut[Se]);return et.concat(Xt||Array.prototype.slice.call(ut))}function je(et){return B(et,"Function")}var Ee={}.toString,B=function(et,ut){return Ee.call(et)==="[object "+ut+"]"},Gt=function(et){return Array.isArray?Array.isArray(et):B(et,"Array")},fe=function(et){if(typeof(ut=et)!="object"||ut===null||!B(et,"Object"))return!1;var ut;if(Object.getPrototypeOf(et)===null)return!0;for(var Pt=et;Object.getPrototypeOf(Pt)!==null;)Pt=Object.getPrototypeOf(Pt);return Object.getPrototypeOf(et)===Pt},rt=function(et){return B(et,"Number")},ue=Object.values?function(et){return Object.values(et)}:function(et){var ut,Pt=[],Xt=et,Se=function(ze,We){je(et)&&We==="prototype"||Pt.push(ze)};if(Xt){if(Gt(Xt))for(var Me=0,ae=Xt.length;Me<ae&&Se(Xt[Me],Me)!==!1;Me++);else if(ut=typeof Xt,Xt!==null&&ut=="object"||ut=="function"){for(var oe in Xt)if(Xt.hasOwnProperty(oe)&&Se(Xt[oe],oe)===!1)break}}return Pt},se=5;function de(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];for(var Xt=0;Xt<ut.length;Xt+=1)(function Se(Me,ae,oe,ze){for(var We in oe=oe||0,ze=ze||se,ae){var pn;ae.hasOwnProperty(We)&&((pn=ae[We])!==null&&fe(pn)?(fe(Me[We])||(Me[We]={}),oe<ze?Se(Me[We],pn,oe+1,ze):Me[We]=ae[We]):Gt(pn)?(Me[We]=[],Me[We]=Me[We].concat(pn)):pn!==void 0&&(Me[We]=pn))}})(et,ut[Xt]);return et}function Kt(et){return et}(function(et,ut){var Pt;if(je(et))return(Pt=function(){for(var Xt=[],Se=0;Se<arguments.length;Se++)Xt[Se]=arguments[Se];var Me,ae=ut?ut.apply(this,Xt):Xt[0],oe=Pt.cache;return oe.has(ae)?oe.get(ae):(Me=et.apply(this,Xt),oe.set(ae,Me),Me)}).cache=new Map;throw new TypeError("Expected a function")})(function(et,ae){var Pt=(ae=ae===void 0?{}:ae).fontSize,Xt=ae.fontFamily,Se=ae.fontWeight,Me=ae.fontStyle,ae=ae.fontVariant;return(L=L||document.createElement("canvas").getContext("2d")).font=[Me,ae,Se,Pt+"px",Xt].join(" "),L.measureText(B(et,"String")?et:"").width},function(et,ut){return function(){for(var Pt=0,Xt=0,Se=arguments.length;Xt<Se;Xt++)Pt+=arguments[Xt].length;for(var Me=Array(Pt),ae=0,Xt=0;Xt<Se;Xt++)for(var oe=arguments[Xt],ze=0,We=oe.length;ze<We;ze++,ae++)Me[ae]=oe[ze];return Me}([et],ue(ut=ut===void 0?{}:ut)).join("")});var L,_=typeof Float32Array!="undefined"?Float32Array:Array;function Ht(){var et=new _(9);return _!=Float32Array&&(et[1]=0,et[2]=0,et[3]=0,et[5]=0,et[6]=0,et[7]=0),et[0]=1,et[4]=1,et[8]=1,et}Math.hypot||(Math.hypot=function(){for(var et=0,ut=arguments.length;ut--;)et+=arguments[ut]*arguments[ut];return Math.sqrt(et)});var Lt=function(et,gn,An){var Xt=gn[0],Se=gn[1],Me=gn[2],ae=gn[3],oe=gn[4],ze=gn[5],We=gn[6],pn=gn[7],gn=gn[8],Ln=An[0],hn=An[1],wn=An[2],_n=An[3],on=An[4],Hn=An[5],Cn=An[6],Yn=An[7],An=An[8];return et[0]=Ln*Xt+hn*ae+wn*We,et[1]=Ln*Se+hn*oe+wn*pn,et[2]=Ln*Me+hn*ze+wn*gn,et[3]=_n*Xt+on*ae+Hn*We,et[4]=_n*Se+on*oe+Hn*pn,et[5]=_n*Me+on*ze+Hn*gn,et[6]=Cn*Xt+Yn*ae+An*We,et[7]=Cn*Se+Yn*oe+An*pn,et[8]=Cn*Me+Yn*ze+An*gn,et};function Oe(){var et=new _(16);return _!=Float32Array&&(et[1]=0,et[2]=0,et[3]=0,et[4]=0,et[6]=0,et[7]=0,et[8]=0,et[9]=0,et[11]=0,et[12]=0,et[13]=0,et[14]=0),et[0]=1,et[5]=1,et[10]=1,et[15]=1,et}var Ae=function(et,Cn,Pt){var Xt=Cn[0],Se=Cn[1],Me=Cn[2],ae=Cn[3],oe=Cn[4],ze=Cn[5],We=Cn[6],pn=Cn[7],gn=Cn[8],Ln=Cn[9],hn=Cn[10],wn=Cn[11],_n=Cn[12],on=Cn[13],Hn=Cn[14],Cn=Cn[15],Yn=Pt[0],An=Pt[1],zn=Pt[2],or=Pt[3];return et[0]=Yn*Xt+An*oe+zn*gn+or*_n,et[1]=Yn*Se+An*ze+zn*Ln+or*on,et[2]=Yn*Me+An*We+zn*hn+or*Hn,et[3]=Yn*ae+An*pn+zn*wn+or*Cn,Yn=Pt[4],An=Pt[5],zn=Pt[6],or=Pt[7],et[4]=Yn*Xt+An*oe+zn*gn+or*_n,et[5]=Yn*Se+An*ze+zn*Ln+or*on,et[6]=Yn*Me+An*We+zn*hn+or*Hn,et[7]=Yn*ae+An*pn+zn*wn+or*Cn,Yn=Pt[8],An=Pt[9],zn=Pt[10],or=Pt[11],et[8]=Yn*Xt+An*oe+zn*gn+or*_n,et[9]=Yn*Se+An*ze+zn*Ln+or*on,et[10]=Yn*Me+An*We+zn*hn+or*Hn,et[11]=Yn*ae+An*pn+zn*wn+or*Cn,Yn=Pt[12],An=Pt[13],zn=Pt[14],or=Pt[15],et[12]=Yn*Xt+An*oe+zn*gn+or*_n,et[13]=Yn*Se+An*ze+zn*Ln+or*on,et[14]=Yn*Me+An*We+zn*hn+or*Hn,et[15]=Yn*ae+An*pn+zn*wn+or*Cn,et};function jt(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];return et?ut.reduce(function(Xt,Se){return function(Me){return Se(Xt(Me))}},et):Kt}function le(et){return et instanceof Float32Array||et instanceof Array}function Ce(et,ut,Pt){for(;et<ut;)et+=2*Math.PI;for(;Pt<et;)et-=2*Math.PI;return et}he=new _(3),_!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0),he=new _(4),_!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0,he[3]=0);function Ve(ae,ut,Pt,Xt,Se){var Me=(ae=ne(ae,2))[0],ae=ae[1],oe=Ht();return Me=[Me,ae],(ae=oe)[0]=1,ae[1]=0,ae[2]=0,ae[3]=0,ae[4]=1,ae[5]=0,ae[6]=Me[0],ae[7]=Me[1],ae[8]=1,ae}function qe(et,...ut){return ut.reduce((Pt,Xt)=>Se=>Pt(Xt(Se)),et)}function Xe(et,ut){return ut-et?Pt=>(Pt-et)/(ut-et):Pt=>.5}const On=Math.sqrt(50),ve=Math.sqrt(10),Ne=Math.sqrt(2);function Qe(et,ut,Pt){return ut=(ut-et)/Math.max(0,Pt),et=Math.floor(Math.log(ut)/Math.LN10),Pt=ut/Fr(10,et),0<=et?(Pt>=On?10:Pt>=ve?5:Pt>=Ne?2:1)*Fr(10,et):-Fr(10,-et)/(Pt>=On?10:Pt>=ve?5:Pt>=Ne?2:1)}const Ue=(et,ut,Pt=5)=>{et=[et,ut];let Xt=0,Se=et.length-1,Me=et[Xt],ae=et[Se],oe;return ae<Me&&([Me,ae]=[ae,Me],[Xt,Se]=[Se,Xt]),0<(oe=Qe(Me,ae,Pt))?(Me=Math.floor(Me/oe)*oe,ae=Math.ceil(ae/oe)*oe,oe=Qe(Me,ae,Pt)):oe<0&&(Me=Math.ceil(Me*oe)/oe,ae=Math.floor(ae*oe)/oe,oe=Qe(Me,ae,Pt)),0<oe?(et[Xt]=Math.floor(Me/oe)*oe,et[Se]=Math.ceil(ae/oe)*oe):oe<0&&(et[Xt]=Math.ceil(Me*oe)/oe,et[Se]=Math.floor(ae*oe)/oe),et};function Ie(et){return et!=null&&!Number.isNaN(et)}function zt(et,ut){return Pt=>{Pt.prototype.rescale=function(){this.initRange(),this.nice();var[Xt]=this.chooseTransforms();this.composeOutput(Xt,this.chooseClamp(Xt))},Pt.prototype.initRange=function(){var Xt=this.options.interpolator;this.options.range=et(Xt)},Pt.prototype.composeOutput=function(Xt,Se){var Me,{domain:oe,interpolator:ae,round:ze}=this.getOptions(),oe=ut(oe.map(Xt)),ze=ze?(Me=ae,We=>(We=Me(We),rt(We)?Math.round(We):We)):ae;this.output=qe(ze,oe,Se,Xt)},Pt.prototype.invert=void 0}}var ye,he={exports:{}},Nt={exports:{}},nt=function(et){return!(!et||typeof et=="string")&&(et instanceof Array||Array.isArray(et)||0<=et.length&&(et.splice instanceof Function||Object.getOwnPropertyDescriptor(et,et.length-1)&&et.constructor.name!=="String"))},Et=Array.prototype.concat,ie=Array.prototype.slice,He=Nt.exports=function(et){for(var ut=[],Pt=0,Xt=et.length;Pt<Xt;Pt++){var Se=et[Pt];nt(Se)?ut=Et.call(ut,ie.call(Se)):ut.push(Se)}return ut},Je=(He.wrap=function(et){return function(){return et(He(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),tt=Nt.exports,ct=Object.hasOwnProperty,Ot=Object.create(null);for(ye in Je)ct.call(Je,ye)&&(Ot[Je[ye]]=ye);var yt=he.exports={to:{},get:{}};function Yt(et,ut,Pt){return Math.min(Math.max(ut,et),Pt)}function qt(et){return et=Math.round(et).toString(16).toUpperCase(),et.length<2?"0"+et:et}yt.get=function(et){var ut,Pt;switch(et.substring(0,3).toLowerCase()){case"hsl":ut=yt.get.hsl(et),Pt="hsl";break;case"hwb":ut=yt.get.hwb(et),Pt="hwb";break;default:ut=yt.get.rgb(et),Pt="rgb"}return ut?{model:Pt,value:ut}:null},yt.get.rgb=function(et){if(!et)return null;var ut,Pt,Xt,Se=[0,0,0,1];if(ut=et.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(Xt=ut[2],ut=ut[1],Pt=0;Pt<3;Pt++){var Me=2*Pt;Se[Pt]=parseInt(ut.slice(Me,2+Me),16)}Xt&&(Se[3]=parseInt(Xt,16)/255)}else if(ut=et.match(/^#([a-f0-9]{3,4})$/i)){for(Xt=(ut=ut[1])[3],Pt=0;Pt<3;Pt++)Se[Pt]=parseInt(ut[Pt]+ut[Pt],16);Xt&&(Se[3]=parseInt(Xt+Xt,16)/255)}else{if(ut=et.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(Pt=0;Pt<3;Pt++)Se[Pt]=parseInt(ut[Pt+1],0);else{if(!(ut=et.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(ut=et.match(/^(\w+)$/))?ut[1]==="transparent"?[0,0,0,0]:ct.call(Je,ut[1])?((Se=Je[ut[1]])[3]=1,Se):null:null;for(Pt=0;Pt<3;Pt++)Se[Pt]=Math.round(2.55*parseFloat(ut[Pt+1]))}ut[4]&&(ut[5]?Se[3]=.01*parseFloat(ut[4]):Se[3]=parseFloat(ut[4]))}for(Pt=0;Pt<3;Pt++)Se[Pt]=Yt(Se[Pt],0,255);return Se[3]=Yt(Se[3],0,1),Se},yt.get.hsl=function(et){var ut;return(et=et&&et.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(ut=parseFloat(et[4]),[(parseFloat(et[1])%360+360)%360,Yt(parseFloat(et[2]),0,100),Yt(parseFloat(et[3]),0,100),Yt(isNaN(ut)?1:ut,0,1)]):null},yt.get.hwb=function(et){var ut;return(et=et&&et.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(ut=parseFloat(et[4]),[(parseFloat(et[1])%360+360)%360,Yt(parseFloat(et[2]),0,100),Yt(parseFloat(et[3]),0,100),Yt(isNaN(ut)?1:ut,0,1)]):null},yt.to.hex=function(){var et=tt(arguments);return"#"+qt(et[0])+qt(et[1])+qt(et[2])+(et[3]<1?qt(Math.round(255*et[3])):"")},yt.to.rgb=function(){var et=tt(arguments);return et.length<4||et[3]===1?"rgb("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+")":"rgba("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+", "+et[3]+")"},yt.to.rgb.percent=function(){var et=tt(arguments),ut=Math.round(et[0]/255*100),Pt=Math.round(et[1]/255*100),Xt=Math.round(et[2]/255*100);return et.length<4||et[3]===1?"rgb("+ut+"%, "+Pt+"%, "+Xt+"%)":"rgba("+ut+"%, "+Pt+"%, "+Xt+"%, "+et[3]+")"},yt.to.hsl=function(){var et=tt(arguments);return et.length<4||et[3]===1?"hsl("+et[0]+", "+et[1]+"%, "+et[2]+"%)":"hsla("+et[0]+", "+et[1]+"%, "+et[2]+"%, "+et[3]+")"},yt.to.hwb=function(){var et=tt(arguments),ut="";return 4<=et.length&&et[3]!==1&&(ut=", "+et[3]),"hwb("+et[0]+", "+et[1]+"%, "+et[2]+"%"+ut+")"},yt.to.keyword=function(et){return Ot[et.slice(0,3)]};var we=he.exports;function xe(et,ut,Pt){let Xt=Pt;return Xt<0&&(Xt+=1),1<Xt&&--Xt,Xt<1/6?et+6*(ut-et)*Xt:Xt<.5?ut:Xt<2/3?et+(ut-et)*(2/3-Xt)*6:et}function xt(Se){var ut,Pt,Xt,Se=we.get(Se);return Se?({model:Se,value:ut}=Se,Se==="rgb"?ut:Se==="hsl"?(ut=(Se=ut)[0]/360,Pt=Se[1]/100,Xt=Se[2]/100,Se=Se[3],Pt==0?[255*Xt,255*Xt,255*Xt,Se]:[255*xe(Pt=2*Xt-(Xt=Xt<.5?Xt*(1+Pt):Xt+Pt-Xt*Pt),Xt,ut+1/3),255*xe(Pt,Xt,ut),255*xe(Pt,Xt,ut-1/3),Se]):null):null}const Wt=(et,ut)=>Pt=>et*(1-Pt)+ut*Pt,re=(et,ut)=>{if(typeof et=="number"&&typeof ut=="number")return Wt(et,ut);if(typeof et!="string"||typeof ut!="string")return()=>et;{var Pt=et,Xt=ut;const Se=xt(Pt),Me=xt(Xt);return Se===null||Me===null?Se?()=>Pt:()=>Xt:ae=>{var oe=new Array(4);for(let wn=0;wn<4;wn+=1){var ze=Se[wn],We=Me[wn];oe[wn]=ze*(1-ae)+We*ae}var[pn,gn,Ln,hn]=oe;return`rgba(${Math.round(pn)}, ${Math.round(gn)}, ${Math.round(Ln)}, ${hn})`}}},wt=(et,ut)=>{const Pt=Wt(et,ut);return Xt=>Math.round(Pt(Xt))};function vt({map:et,initKey:ut},Pt){return ut=ut(Pt),et.has(ut)?et.get(ut):Pt}function Bt(et){return typeof et=="object"?et.valueOf():et}class Zt extends Map{constructor(ut){if(super(),this.map=new Map,this.initKey=Bt,ut!==null)for(var[Pt,Xt]of ut)this.set(Pt,Xt)}get(ut){return super.get(vt({map:this.map,initKey:this.initKey},ut))}has(ut){return super.has(vt({map:this.map,initKey:this.initKey},ut))}set(ut,Pt){return super.set(([{map:ut,initKey:Xt},Se]=[{map:this.map,initKey:this.initKey},ut],Xt=Xt(Se),ut.has(Xt)?ut.get(Xt):(ut.set(Xt,Se),Se)),Pt);var Xt,Se}delete(ut){return super.delete(([{map:ut,initKey:Pt},Xt]=[{map:this.map,initKey:this.initKey},ut],Pt=Pt(Xt),ut.has(Pt)&&(Xt=ut.get(Pt),ut.delete(Pt)),Xt));var Pt,Xt}}class at{constructor(ut){this.options=de({},this.getDefaultOptions()),this.update(ut)}getOptions(){return this.options}update(ut={}){this.options=de({},this.options,ut),this.rescale(ut)}rescale(ut){}}const mt=Symbol("defaultUnknown");function It(et,ut,Pt){for(let Xt=0;Xt<ut.length;Xt+=1)et.has(ut[Xt])||et.set(Pt(ut[Xt]),Xt)}function te(ut){var{value:ut,from:Pt,to:Xt,mapper:Se,notFoundReturn:Me}=ut;let ae=Se.get(ut);if(ae===void 0){if(Me!==mt)return Me;ae=Pt.push(ut)-1,Se.set(ut,ae)}return Xt[ae%Xt.length]}function Qt(et){return et instanceof Date?ut=>""+ut:typeof et=="object"?ut=>JSON.stringify(ut):ut=>ut}class ee extends at{getDefaultOptions(){return{domain:[],range:[],unknown:mt}}constructor(ut){super(ut)}map(ut){return this.domainIndexMap.size===0&&It(this.domainIndexMap,this.getDomain(),this.domainKey),te({value:this.domainKey(ut),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(ut){return this.rangeIndexMap.size===0&&It(this.rangeIndexMap,this.getRange(),this.rangeKey),te({value:this.rangeKey(ut),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(ut){var[Pt]=this.options.domain,[Xt]=this.options.range;this.domainKey=Qt(Pt),this.rangeKey=Qt(Xt),this.rangeIndexMap?(ut&&!ut.range||this.rangeIndexMap.clear(),ut&&!ut.domain&&!ut.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new ee(this.options)}getRange(){return this.options.range}getDomain(){var ut,Pt;return this.sortedDomain||({domain:ut,compare:Pt}=this.options,this.sortedDomain=Pt?[...ut].sort(Pt):ut),this.sortedDomain}}function me(on){const{domain:ut,range:Pt,paddingOuter:Xt,paddingInner:Se,flex:Me,round:ae,align:oe}=on;var ze=ut.length,hn=0<(hn=(on=ze)-(We=Me).length)?[...We,...new Array(hn).fill(1)]:hn<0?We.slice(0,on):We,[on,We]=Pt,We=We-on,_n=We/(2/ze*Xt+1-1/ze*Se);const pn=_n*Se/ze;_n-=ze*pn;const gn=function(An){const zn=Math.min(...An);return An.map(or=>or/zn)}(hn),Ln=_n/gn.reduce((An,zn)=>An+zn);var hn=new Zt(ut.map((An,zn)=>(zn=gn[zn]*Ln,[An,ae?Math.floor(zn):zn]))),wn=new Zt(ut.map((An,zn)=>(zn=gn[zn]*Ln+pn,[An,ae?Math.floor(zn):zn]))),_n=Array.from(wn.values()).reduce((An,zn)=>An+zn),on=on+(We-(_n-_n/ze*Se))*oe;let Hn=ae?Math.round(on):on;var Cn=new Array(ze);for(let An=0;An<ze;An+=1){Cn[An]=(Yn=Hn,Math.round(1e12*Yn)/1e12);var Yn=ut[An];Hn+=wn.get(Yn)}return{valueBandWidth:hn,valueStep:wn,adjustedRange:Cn}}class dt extends ee{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:mt,flex:[]}}constructor(ut){super(ut)}clone(){return new dt(this.options)}getStep(ut){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:ut===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(ut)}getBandWidth(ut){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:ut===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(ut)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:ut,paddingInner:Pt}=this.options;return 0<ut?ut:Pt}getPaddingOuter(){var{padding:ut,paddingOuter:Pt}=this.options;return 0<ut?ut:Pt}rescale(){super.rescale();var{align:Xt,domain:ut,range:Se,round:Me,flex:Pt}=this.options,{adjustedRange:Xt,valueBandWidth:Se,valueStep:Me}=function(We){var oe=We.domain;if((oe=oe.length)===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!((ze=We.flex)==null||!ze.length))return me(We);var{range:ze,paddingOuter:We,paddingInner:pn,round:gn,align:Ln}=We;let hn,wn,_n=ze[0];return ze=ze[1]-_n,hn=ze/Math.max(1,2*We+(oe-pn)),gn&&(hn=Math.floor(hn)),_n+=(ze-hn*(oe-pn))*Ln,wn=hn*(1-pn),gn&&(_n=Math.round(_n),wn=Math.round(wn)),We=new Array(oe).fill(0).map((on,Hn)=>_n+Hn*hn),{valueStep:hn,valueBandWidth:wn,adjustedRange:We}}({align:Xt,range:Se,round:Me,flex:Pt,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:ut});this.valueStep=Me,this.valueBandWidth=Se,this.adjustedRange=Xt}}const it=(et,ut,Pt)=>{let Xt,Se,Me=et,ae=ut;if(Me===ae&&0<Pt)return[Me];let oe=Qe(Me,ae,Pt);if(oe===0||!Number.isFinite(oe))return[];if(0<oe){Me=Math.ceil(Me/oe),ae=Math.floor(ae/oe),Se=new Array(Xt=Math.ceil(ae-Me+1));for(let ze=0;ze<Xt;ze+=1)Se[ze]=(Me+ze)*oe}else{oe=-oe,Me=Math.ceil(Me*oe),ae=Math.floor(ae*oe),Se=new Array(Xt=Math.ceil(ae-Me+1));for(let ze=0;ze<Xt;ze+=1)Se[ze]=(Me+ze)/oe}return Se},Tt=(Xt,Me,Pt)=>{var[Xt,Se]=Xt,[Me,ae]=Me;let oe,ze;return qe(ze=Xt<Se?(oe=Xe(Xt,Se),Pt(Me,ae)):(oe=Xe(Se,Xt),Pt(ae,Me)),oe)},_t=(et,ut,Pt)=>{const Xt=Math.min(et.length,ut.length)-1,Se=new Array(Xt),Me=new Array(Xt);var ae=et[0]>et[Xt],oe=ae?[...et].reverse():et,ze=ae?[...ut].reverse():ut;for(let We=0;We<Xt;We+=1)Se[We]=Xe(oe[We],oe[We+1]),Me[We]=Pt(ze[We],ze[We+1]);return We=>{var pn=function(Ln,hn,wn,_n,on){let Hn=wn||0,Cn=_n||Ln.length;for(var Yn=on||(zn=>zn);Hn<Cn;){var An=Math.floor((Hn+Cn)/2);Yn(Ln[An])>hn?Cn=An:Hn=An+1}return Hn}(et,We,1,Xt)-1,gn=Se[pn];return qe(Me[pn],gn)(We)}},Dt=(et,ut,Pt,Xt)=>(2<Math.min(et.length,ut.length)?_t:Tt)(et,ut,Xt?wt:Pt);class $t extends at{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Wt,tickCount:5}}map(ut){return Ie(ut)?this.output(ut):this.options.unknown}invert(ut){return Ie(ut)?this.input(ut):this.options.unknown}nice(){var ut,Pt,Xt,Se;this.options.nice&&([ut,Pt,Xt,...Se]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(ut,Pt,Xt,...Se))}getTicks(){var ut=this.options.tickMethod,[Pt,Xt,Se,...Me]=this.getTickMethodOptions();return ut(Pt,Xt,Se,...Me)}getTickMethodOptions(){var{domain:ut,tickCount:Pt}=this.options;return[ut[0],ut[ut.length-1],Pt]}chooseNice(){return Ue}rescale(){this.nice();var[ut,Pt]=this.chooseTransforms();this.composeOutput(ut,this.chooseClamp(ut)),this.composeInput(ut,Pt,this.chooseClamp(Pt))}chooseClamp(Xt){var{clamp:Pt,range:Se}=this.options,Xt=this.options.domain.map(Xt),Se=Math.min(Xt.length,Se.length);if(Pt){Pt=Xt[0],Xt=Xt[Se-1];const Me=Xt<Pt?Xt:Pt,ae=Xt<Pt?Pt:Xt;return oe=>Math.min(Math.max(Me,oe),ae)}return Kt}composeOutput(ut,Pt){var{domain:ae,range:Xt,round:Se,interpolate:Me}=this.options,ae=Dt(ae.map(ut),Xt,Me,Se);this.output=qe(ae,Pt,ut)}composeInput(ut,Pt,Xt){var{domain:Se,range:Me}=this.options,Me=Dt(Me,Se.map(ut),Wt);this.input=qe(Pt,Xt,Me)}}class bt extends $t{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:re,tickMethod:it,tickCount:5}}chooseTransforms(){return[Kt,Kt]}clone(){return new bt(this.options)}}class lt extends dt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:mt,paddingInner:1,paddingOuter:0}}constructor(ut){super(ut)}getPaddingInner(){return 1}clone(){return new lt(this.options)}update(ut){super.update(ut)}getPaddingOuter(){return this.options.padding}}function pt(et,ut){for(var Pt=[],Xt=0,Se=et.length;Xt<Se;Xt++)Pt.push(et[Xt].substr(0,ut));return Pt}var Rt,Nt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he=["January","February","March","April","May","June","July","August","September","October","November","December"],Pe=pt(he,3);(function(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];for(var Xt=0,Se=ut;Xt<Se.length;Xt++){var Me,ae=Se[Xt];for(Me in ae)et[Me]=ae[Me]}})({},{dayNamesShort:pt(Nt,3),dayNames:Nt,monthNamesShort:Pe,monthNames:he,amPm:["am","pm"],DoFn:function(et){return et+["th","st","nd","rd"][3<et%10?0:(et-et%10!=10?1:0)*et%10]}});var Fe;let rn=Rt=class extends bt{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Kt,tickMethod:it,tickCount:5}}constructor(et){super(et)}clone(){return new Rt(this.options)}};rn=Rt=function(et,ut,Pt,Xt){var Se,Me=arguments.length,ae=Me<3?ut:Xt===null?Xt=Object.getOwnPropertyDescriptor(ut,Pt):Xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(et,ut,Pt,Xt);else for(var oe=et.length-1;0<=oe;oe--)(Se=et[oe])&&(ae=(Me<3?Se(ae):3<Me?Se(ut,Pt,ae):Se(ut,Pt))||ae);return 3<Me&&ae&&Object.defineProperty(ut,Pt,ae),ae}([zt(function(et){return[et(0),et(1)]},ut=>{var[ut,Pt]=ut;return qe(Wt(0,1),Xe(ut,Pt))})],rn);let un=Fe=class extends bt{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Kt,tickMethod:it,tickCount:5}}constructor(et){super(et)}clone(){return new Fe(this.options)}};un=Fe=function(et,ut,Pt,Xt){var Se,Me=arguments.length,ae=Me<3?ut:Xt===null?Xt=Object.getOwnPropertyDescriptor(ut,Pt):Xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(et,ut,Pt,Xt);else for(var oe=et.length-1;0<=oe;oe--)(Se=et[oe])&&(ae=(Me<3?Se(ae):3<Me?Se(ut,Pt,ae):Se(ut,Pt))||ae);return 3<Me&&ae&&Object.defineProperty(ut,Pt,ae),ae}([zt(function(et){return[et(0),et(.5),et(1)]},et=>{const[ut,Pt,Xt]=et,Se=qe(Wt(0,.5),Xe(ut,Pt)),Me=qe(Wt(.5,1),Xe(Pt,Xt));return ae=>(ut>Xt?ae<Pt?Me:Se:ae<Pt?Se:Me)(ae)})],un);function En(et,ut,Pt,Xt,Se){var Me=new bt({range:[ut,ut+Xt]}),ae=new bt({range:[Pt,Pt+Se]});return{transform:function(We){var We=ne(We,2),ze=We[0],We=We[1];return[Me.map(ze),ae.map(We)]},untransform:function(We){var We=ne(We,2),ze=We[0],We=We[1];return[Me.invert(ze),ae.invert(We)]}}}function qn(et,ut,Pt,Xt,Se){return(0,ne(et,1)[0])(ut,Pt,Xt,Se)}function _r(et,ut,Pt,Xt,Se){return ne(et,1)[0]}function fr(ze,ut,Pt,Xt,Se){var Me=(ze=ne(ze,4))[0],ae=ze[1],oe=ze[2],ze=ze[3],We=new bt({range:[oe,ze]}),pn=new bt({range:[Me,ae]}),gn=1<(oe=Se/Xt)?1:oe,Ln=1<oe?1/oe:1;return{transform:function(_n){var _n=ne(_n,2),wn=_n[0],_n=_n[1],wn=pn.map(wn),_n=We.map(_n);return[.5*(_n*Math.cos(wn)*gn)+.5,.5*(_n*Math.sin(wn)*Ln)+.5]},untransform:function(on){var on=ne(on,2),wn=on[0],on=on[1],wn=2*(wn-.5)/gn,on=2*(on-.5)/Ln,_n=Math.sqrt(Math.pow(wn,2)+Math.pow(on,2)),on=Ce(Math.atan2(on,wn),Me,ae);return[pn.invert(on),We.invert(_n)]}}}function Ur(et,ut,Pt,Xt,Se){return{transform:function(ae){var ae=ne(ae,2),oe=ae[0];return[ae[1],oe]},untransform:function(ae){var ae=ne(ae,2),oe=ae[0];return[ae[1],oe]}}}function Li(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];return Ba.apply(void 0,Ge([[-1,-1]],ne(ut),!1))}function Hi(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];return Ba.apply(void 0,Ge([[-1,1]],ne(ut),!1))}function Ra(et){for(var ut=[],Pt=1;Pt<arguments.length;Pt++)ut[Pt-1]=arguments[Pt];return Ba.apply(void 0,Ge([[1,-1]],ne(ut),!1))}function Fa(ae,ut,Pt,Xt,Se){var Me,ae=ne(ae,1)[0],oe=Ht();return oe=oe,ae=ae,Me=Math.sin(ae),ae=Math.cos(ae),oe[0]=ae,oe[1]=Me,oe[2]=0,oe[3]=-Me,oe[4]=ae,oe[5]=0,oe[6]=0,oe[7]=0,oe[8]=1,oe}function Da(et,ut,Pt,Xt,Se){var Me=(et=ne(et,4))[0],ae=et[1],oe=et[2],ze=(et[3]-oe)/(+ae/(2*Math.PI)+1),We=ze/(2*Math.PI),pn=new bt({range:[oe,oe+.99*ze]}),gn=new bt({range:[Me,ae]}),Ln=1<(et=Se/Xt)?1:et,hn=1<et?1/et:1;return{transform:function(on){var on=ne(on,2),_n=on[0],on=on[1],_n=gn.map(_n),on=pn.map(on);return[.5*(Math.cos(_n)*(We*_n+on)*Ln)+.5,.5*(Math.sin(_n)*(We*_n+on)*hn)+.5]},untransform:function(on){var on=ne(on,2),Hn=on[0],on=on[1],Hn=2*(Hn-.5)/Ln,on=2*(on-.5)/hn,_n=Math.sqrt(Math.pow(Hn,2)+Math.pow(on,2)),on=Ce(Math.atan2(on,Hn)+Math.floor(_n/ze)*Math.PI*2,Me,ae),Hn=_n-We*on;return[gn.invert(on),pn.invert(Hn)]}}}function Jo(ze,ut,Pt,Xt,Se){var Me=(ze=ne(ze,4))[0],ae=ze[1],oe=ze[2],ze=ze[3],We=new bt({range:[oe,ze]});return{transform:function(pn){for(var gn=[],Ln=pn.length,hn=new lt({domain:new Array(Ln).fill(0).map(function(Hn,Cn){return Cn}),range:[Me,ae]}),wn=0;wn<Ln;wn++){var on=pn[wn],_n=hn.map(wn),on=We.map(on);gn.push(_n,on)}return gn},untransform:function(pn){for(var gn=[],Ln=0;Ln<pn.length;Ln+=2){var hn=pn[Ln+1];gn.push(We.invert(hn))}return gn}}}var Ba=function(ae,ut,Pt,Xt,Se){var ae=ne(ae,2),Me=ae[0],ae=ae[1],oe=Ht();return Me=[Me,ae],(ae=oe)[0]=Me[0],ae[1]=0,ae[2]=0,ae[3]=0,ae[4]=Me[1],ae[5]=0,ae[6]=0,ae[7]=0,ae[8]=1,ae};function Fo(et){return 1/Math.tan(et)}function Do(et,ut,Pt,Xt,Se){var Me=Fo(ne(et,1)[0]);return{transform:function(ze){var ze=ne(ze,2),oe=ze[0],ze=ze[1];return[oe+ze*Me,ze]},untransform:function(ze){var ze=ne(ze,2),oe=ze[0],ze=ze[1];return[oe-ze*Me,ze]}}}function hh(et,ut,Pt,Xt,Se){var Me=Fo(ne(et,1)[0]);return{transform:function(oe){var oe=ne(oe,2),ze=oe[0];return[ze,oe[1]+ze*Me]},untransform:function(oe){var oe=ne(oe,2),ze=oe[0];return[ze,oe[1]-ze*Me]}}}function vs(et,ut,Pt,oe,ae){var Me=et<ut,ae=(Me?ut-oe:ae-ut)||ae-oe,oe=Me?-1:1;return oe*ae*(Pt+1)/(Pt+ae/((et-ut)*oe))+ut}function wl(et,ut,Pt,Xt,ae){var Me=et<ut,ae=(Me?ut-Xt:ae-ut)||ae-Xt;return ae/(ae*(Pt+1)/(et-ut)-Pt*(Me?-1:1))+ut}function Tc(et,ut,Pt){return Pt?new bt({range:[0,1],domain:[0,ut]}).map(et):et}function Pp(oe,ut,Pt,Xt,Se){var Me=(oe=ne(oe,3))[0],ae=oe[1],oe=oe[2],ze=Tc(Me,Xt,oe!==void 0&&oe);return{transform:function(gn){var gn=ne(gn,2),pn=gn[0],gn=gn[1];return[vs(pn,ze,ae,0,1),gn]},untransform:function(gn){var gn=ne(gn,2),pn=gn[0],gn=gn[1];return[wl(pn,ze,ae,0,1),gn]}}}function dh(oe,ut,Pt,Xt,Se){var Me=(oe=ne(oe,3))[0],ae=oe[1],oe=oe[2],ze=Tc(Me,Se,oe!==void 0&&oe);return{transform:function(We){return We=ne(We,2),[We[0],vs(We[1],ze,ae,0,1)]},untransform:function(We){return We=ne(We,2),[We[0],wl(We[1],ze,ae,0,1)]}}}function Lp(We,ut,Pt,Xt,Se){var Me=(We=ne(We,5))[0],ae=We[1],oe=We[2],ze=We[3],We=We[4],pn=Tc(Me,Xt,We=We!==void 0&&We),gn=Tc(ae,Se,We);return{transform:function(wn){var wn=ne(wn,2),hn=wn[0],wn=wn[1];return[vs(hn,pn,oe,0,1),vs(wn,gn,ze,0,1)]},untransform:function(wn){var wn=ne(wn,2),hn=wn[0],wn=wn[1];return[wl(hn,pn,oe,0,1),wl(wn,gn,ze,0,1)]}}}function ph(We,ut,Pt,Xt,Se){var Me=(We=ne(We,5))[0],ae=We[1],oe=We[2],ze=We[3],We=(We=We[4])!==void 0&&We,pn=new bt({range:[0,Xt]}),gn=new bt({range:[0,Se]}),Ln=We?Me:pn.map(Me),hn=We?ae:gn.map(ae);return{transform:function(on){var on=ne(on,2),_n=on[0],on=on[1],Hn=pn.map(_n)-Ln,Cn=gn.map(on)-hn,Yn=Math.sqrt(Hn*Hn+Cn*Cn);return oe<Yn?[_n,on]:(_n=vs(Yn,0,ze,0,oe),on=Math.atan2(Cn,Hn),Yn=Ln+_n*Math.cos(on),Cn=hn+_n*Math.sin(on),[pn.invert(Yn),gn.invert(Cn)])},untransform:function(on){var on=ne(on,2),_n=on[0],on=on[1],Hn=pn.map(_n)-Ln,Cn=gn.map(on)-hn,Yn=Math.sqrt(Hn*Hn+Cn*Cn);return oe<Yn?[_n,on]:(_n=wl(Yn,0,ze,0,oe),on=Math.atan2(Cn,Hn),Yn=Ln+_n*Math.cos(on),Cn=hn+_n*Math.sin(on),[pn.invert(Yn),gn.invert(Cn)])}}}function Fu(et,ut,Pt,Xt,Se,Me,ae){var oe=new bt({range:[ut,ut+Se]}),ze=new bt({range:[Pt,Pt+Me]}),We=new bt({range:[Xt,Xt+ae]});return{transform:function(hn){var hn=ne(hn,3),gn=hn[0],Ln=hn[1],hn=hn[2];return[oe.map(gn),ze.map(Ln),We.map(hn)]},untransform:function(hn){var hn=ne(hn,3),gn=hn[0],Ln=hn[1],hn=hn[2];return[oe.invert(gn),ze.invert(Ln),We.invert(hn)]}}}function Ip(pn,ut,Pt,Xt,Se,Me,ae){var oe,ze=(pn=ne(pn,3))[0],We=pn[1],pn=pn[2];return oe=Oe(),ze=[ze,We,pn],oe[0]=1,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0,oe[5]=1,oe[6]=0,oe[7]=0,oe[8]=0,oe[9]=0,oe[10]=1,oe[11]=0,oe[12]=ze[0],oe[13]=ze[1],oe[14]=ze[2],oe[15]=1,oe}function Ec(pn,ut,Pt,Xt,Se,Me,ae){var oe,ze=(pn=ne(pn,3))[0],We=pn[1],pn=pn[2];return oe=Oe(),ze=[ze,We,pn],oe[0]=ze[0],oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0,oe[5]=ze[1],oe[6]=0,oe[7]=0,oe[8]=0,oe[9]=0,oe[10]=ze[2],oe[11]=0,oe[12]=0,oe[13]=0,oe[14]=0,oe[15]=1,oe}Ki.prototype.update=function(et){this.options=de({},this.options,et),this.recoordinate()},Ki.prototype.clone=function(){return new Ki(this.options)},Ki.prototype.getOptions=function(){return this.options},Ki.prototype.clear=function(){this.update({transformations:[]})},Ki.prototype.getSize=function(){var et=this.options;return[et.width,et.height]},Ki.prototype.getCenter=function(){var et=this.options,ut=et.x,Pt=et.y;return[(2*ut+et.width)/2,(2*Pt+et.height)/2]},Ki.prototype.transform=function(){for(var et=[],ut=0;ut<arguments.length;ut++)et[ut]=arguments[ut];var Pt=this.options.transformations;return this.update({transformations:Ge(Ge([],ne(Pt),!1),[Ge([],ne(et),!1)],!1)}),this},Ki.prototype.map=function(et){return this.output(et)},Ki.prototype.invert=function(et){return this.input(et)},Ki.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},Ki.prototype.compose=function(et){function ut(An,zn){var or;oe.push((zn=zn===void 0?!0:zn)?(or=An,function(Yi){for(var ci=[],li=0;li<Yi.length-1;li+=2){var bi=[Yi[li],Yi[li+1]],bi=or(bi);ci.push.apply(ci,Ge([],ne(bi),!1))}return ci}):An)}var Pt,Xt,Se=(et=et===void 0?!1:et)?Ge([],ne(this.options.transformations),!1).reverse():this.options.transformations,Me=et?function(An){return An.untransform}:function(An){return An.transform},ae=[],oe=[];try{for(var ze=Te(Se),We=ze.next();!We.done;We=ze.next()){var pn,gn,Ln,hn,wn,_n,on=ne(We.value),Hn=on[0],Cn=on.slice(1),Yn=this.transformers[Hn];Yn&&(gn=(pn=this.options).x,Ln=pn.y,hn=pn.width,wn=pn.height,le(_n=Yn(Ge([],ne(Cn),!1),gn,Ln,hn,wn))?ae.push(_n):(ae.length&&(ut(this.createMatrixTransform(ae,et)),ae.splice(0,ae.length)),ut(Me(_n)||Kt,Hn!=="parallel")))}}catch(An){Pt={error:An}}finally{try{We&&!We.done&&(Xt=ze.return)&&Xt.call(ze)}finally{if(Pt)throw Pt.error}}return ae.length&&ut(this.createMatrixTransform(ae,et)),jt.apply(void 0,Ge([],ne(oe),!1))},Ki.prototype.createMatrixTransform=function(et,ut){var Pt,Xt,Se,Me,ae,oe,ze,We,pn,gn,Ln,hn,wn=Ht();return ut&&et.reverse(),et.forEach(function(_n){return Lt(wn,wn,_n)}),ut&&(ut=et=wn,(hn=new _(9))[0]=ut[0],hn[1]=ut[1],hn[2]=ut[2],hn[3]=ut[3],hn[4]=ut[4],hn[5]=ut[5],hn[6]=ut[6],hn[7]=ut[7],hn[8]=ut[8],hn=(ut=hn)[0],Pt=ut[1],Xt=ut[2],Se=ut[3],Me=ut[4],ae=ut[5],oe=ut[6],ze=ut[7],We=(ut=ut[8])*Me-ae*ze,Ln=hn*We+Pt*(pn=-ut*Se+ae*oe)+Xt*(gn=ze*Se-Me*oe))&&(et[0]=We*(Ln=1/Ln),et[1]=(-ut*Pt+Xt*ze)*Ln,et[2]=(ae*Pt-Xt*Me)*Ln,et[3]=pn*Ln,et[4]=(ut*hn-Xt*oe)*Ln,et[5]=(-ae*hn+Xt*Se)*Ln,et[6]=gn*Ln,et[7]=(-ze*hn+Pt*oe)*Ln,et[8]=(Me*hn-Pt*Se)*Ln),function(zn){var on,Hn,Cn,Yn,An,zn=[zn[0],zn[1],1];return Cn=wn,Yn=(Hn=on=zn)[0],An=Hn[1],Hn=Hn[2],on[0]=Yn*Cn[0]+An*Cn[3]+Hn*Cn[6],on[1]=Yn*Cn[1]+An*Cn[4]+Hn*Cn[7],on[2]=Yn*Cn[2]+An*Cn[5]+Hn*Cn[8],[zn[0],zn[1]]}},Nt=Ki;function Ki(et){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:En,translate:Ve,custom:qn,matrix:_r,polar:fr,transpose:Ur,scale:Ba,"shear.x":Do,"shear.y":hh,reflect:Li,"reflect.x":Hi,"reflect.y":Ra,rotate:Fa,helix:Da,parallel:Jo,fisheye:Lp,"fisheye.x":Pp,"fisheye.y":dh,"fisheye.circular":ph},this.update(et)}ya.prototype.update=function(et){this.options=de({},this.options,et),this.recoordinate()},ya.prototype.clone=function(){return new ya(this.options)},ya.prototype.getOptions=function(){return this.options},ya.prototype.clear=function(){this.update({transformations:[]})},ya.prototype.getSize=function(){var et=this.options;return[et.width,et.height,et.depth]},ya.prototype.getCenter=function(){var et=this.options,ut=et.x,Pt=et.y,Xt=et.z;return[(2*ut+et.width)/2,(2*Pt+et.height)/2,(2*Xt+et.depth)/2]},ya.prototype.transform=function(){for(var et=[],ut=0;ut<arguments.length;ut++)et[ut]=arguments[ut];var Pt=this.options.transformations;return this.update({transformations:Ge(Ge([],ne(Pt),!1),[Ge([],ne(et),!1)],!1)}),this},ya.prototype.map=function(et){return this.output(et)},ya.prototype.invert=function(et){return this.input(et)},ya.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},ya.prototype.compose=function(et){function ut(or,Yi){var ci;oe.push((Yi=Yi===void 0?!0:Yi)?(ci=or,function(li){for(var bi=[],Ti=0;Ti<li.length-1;Ti+=3){var Xr=[li[Ti],li[Ti+1],li[Ti+2]],Xr=ci(Xr);bi.push.apply(bi,Ge([],ne(Xr),!1))}return bi}):or)}var Pt,Xt,Se=(et=et===void 0?!1:et)?Ge([],ne(this.options.transformations),!1).reverse():this.options.transformations,Me=et?function(or){return or.untransform}:function(or){return or.transform},ae=[],oe=[];try{for(var ze=Te(Se),We=ze.next();!We.done;We=ze.next()){var pn,gn,Ln,hn,wn,_n,on,Hn,Cn=ne(We.value),Yn=Cn[0],An=Cn.slice(1),zn=this.transformers[Yn];zn&&(gn=(pn=this.options).x,Ln=pn.y,hn=pn.z,wn=pn.width,_n=pn.height,on=pn.depth,le(Hn=zn(Ge([],ne(An),!1),gn,Ln,hn,wn,_n,on))?ae.push(Hn):(ae.length&&(ut(this.createMatrixTransform(ae,et)),ae.splice(0,ae.length)),ut(Me(Hn)||Kt,!0)))}}catch(or){Pt={error:or}}finally{try{We&&!We.done&&(Xt=ze.return)&&Xt.call(ze)}finally{if(Pt)throw Pt.error}}return ae.length&&ut(this.createMatrixTransform(ae,et)),jt.apply(void 0,Ge([],ne(oe),!1))},ya.prototype.createMatrixTransform=function(et,ut){var Pt,Xt,Se,Me,ae,oe,ze,We,pn,gn,Ln,hn,wn,_n,on,Hn,Cn,Yn,An,zn,or,Yi,ci,li,bi,Ti,Xr,ei,Qo=Oe();return ut&&et.reverse(),et.forEach(function(Rp){return Ae(Qo,Qo,Rp)}),ut&&(ut=et=Qo,(ei=new _(16))[0]=ut[0],ei[1]=ut[1],ei[2]=ut[2],ei[3]=ut[3],ei[4]=ut[4],ei[5]=ut[5],ei[6]=ut[6],ei[7]=ut[7],ei[8]=ut[8],ei[9]=ut[9],ei[10]=ut[10],ei[11]=ut[11],ei[12]=ut[12],ei[13]=ut[13],ei[14]=ut[14],ei[15]=ut[15],ei=(ut=ei)[0],Pt=ut[1],Xt=ut[2],Se=ut[3],Me=ut[4],ae=ut[5],oe=ut[6],ze=ut[7],We=ut[8],pn=ut[9],gn=ut[10],Ln=ut[11],hn=ut[12],wn=ut[13],_n=ut[14],ut=ut[15],Xr=(on=ei*ae-Pt*Me)*(Ti=gn*ut-Ln*_n)-(Hn=ei*oe-Xt*Me)*(bi=pn*ut-Ln*wn)+(Cn=ei*ze-Se*Me)*(li=pn*_n-gn*wn)+(Yn=Pt*oe-Xt*ae)*(ci=We*ut-Ln*hn)-(An=Pt*ze-Se*ae)*(Yi=We*_n-gn*hn)+(zn=Xt*ze-Se*oe)*(or=We*wn-pn*hn))&&(et[0]=(ae*Ti-oe*bi+ze*li)*(Xr=1/Xr),et[1]=(Xt*bi-Pt*Ti-Se*li)*Xr,et[2]=(wn*zn-_n*An+ut*Yn)*Xr,et[3]=(gn*An-pn*zn-Ln*Yn)*Xr,et[4]=(oe*ci-Me*Ti-ze*Yi)*Xr,et[5]=(ei*Ti-Xt*ci+Se*Yi)*Xr,et[6]=(_n*Cn-hn*zn-ut*Hn)*Xr,et[7]=(We*zn-gn*Cn+Ln*Hn)*Xr,et[8]=(Me*bi-ae*ci+ze*or)*Xr,et[9]=(Pt*ci-ei*bi-Se*or)*Xr,et[10]=(hn*An-wn*Cn+ut*on)*Xr,et[11]=(pn*Cn-We*An-Ln*on)*Xr,et[12]=(ae*Yi-Me*li-oe*or)*Xr,et[13]=(ei*li-Pt*Yi+Xt*or)*Xr,et[14]=(wn*Hn-hn*Yn-_n*on)*Xr,et[15]=(We*Yn-pn*Hn+gn*on)*Xr),function(Ji){var Ml,ma,Di,gs,kc,ts,Ji=[Ji[0],Ji[1],Ji[2],1];return Di=Qo,gs=(ma=Ml=Ji)[0],kc=ma[1],ts=ma[2],ma=ma[3],Ml[0]=Di[0]*gs+Di[4]*kc+Di[8]*ts+Di[12]*ma,Ml[1]=Di[1]*gs+Di[5]*kc+Di[9]*ts+Di[13]*ma,Ml[2]=Di[2]*gs+Di[6]*kc+Di[10]*ts+Di[14]*ma,Ml[3]=Di[3]*gs+Di[7]*kc+Di[11]*ts+Di[15]*ma,[Ji[0],Ji[1],Ji[2]]}},Pe=ya;function ya(et){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:Fu,translate3D:Ip,scale3D:Ec},this.update(et)}kt.Coordinate=Nt,kt.Coordinate3D=Pe,Object.defineProperty(kt,"__esModule",{value:!0})})},6056:function(Dn,mn,kt){"use strict";kt.d(mn,{Z:function(){return B}});var Te,ne,Ge,je;function Ee(){Te=document.createElement("table"),ne=document.createElement("tr"),Ge=/^\s*<(\w+|!)[^>]*>/,je={tr:document.createElement("tbody"),tbody:Te,thead:Te,tfoot:Te,td:ne,th:ne,"*":document.createElement("div")}}function B(Gt){Te||Ee();var fe=Ge.test(Gt)&&RegExp.$1;(!fe||!(fe in je))&&(fe="*");var rt=je[fe];Gt=typeof Gt=="string"?Gt.replace(/(^\s*)|(\s*$)/g,""):Gt,rt.innerHTML=""+Gt;var ue=rt.childNodes[0];return ue&&rt.contains(ue)&&rt.removeChild(ue),ue}},90494:function(Dn,mn){"use strict";var kt="*",Te=function(){function ne(){this._events={}}return ne.prototype.on=function(Ge,je,Ee){return this._events[Ge]||(this._events[Ge]=[]),this._events[Ge].push({callback:je,once:!!Ee}),this},ne.prototype.once=function(Ge,je){return this.on(Ge,je,!0)},ne.prototype.emit=function(Ge){for(var je=this,Ee=[],B=1;B<arguments.length;B++)Ee[B-1]=arguments[B];var Gt=this._events[Ge]||[],fe=this._events[kt]||[],rt=function(ue){for(var se=ue.length,de=0;de<se;de++)if(ue[de]){var Kt=ue[de],L=Kt.callback,_=Kt.once;_&&(ue.splice(de,1),ue.length===0&&delete je._events[Ge],se--,de--),L.apply(je,Ee)}};rt(Gt),rt(fe)},ne.prototype.off=function(Ge,je){if(!Ge)this._events={};else if(!je)delete this._events[Ge];else{for(var Ee=this._events[Ge]||[],B=Ee.length,Gt=0;Gt<B;Gt++)Ee[Gt].callback===je&&(Ee.splice(Gt,1),B--,Gt--);Ee.length===0&&delete this._events[Ge]}return this},ne.prototype.getEvents=function(){return this._events},ne}();mn.Z=Te},2667:function(Dn,mn,kt){"use strict";var Te=kt(97582),ne=kt(90494),Ge=kt(77341),je=function(Ee){(0,Te.ZT)(B,Ee);function B(Gt){var fe=Ee.call(this)||this;fe.destroyed=!1;var rt=fe.getDefaultCfg();return fe.cfg=(0,Ge.CD)(rt,Gt),fe}return B.prototype.getDefaultCfg=function(){return{}},B.prototype.get=function(Gt){return this.cfg[Gt]},B.prototype.set=function(Gt,fe){this.cfg[Gt]=fe},B.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},B}(ne.Z);mn.Z=je},42085:function(Dn,mn,kt){"use strict";kt.d(mn,{Z:function(){return $t}});var Te=kt(97582),ne=kt(43631),Ge=kt(37153),je=kt(77341),Ee=kt(45098),B=0,Gt=0,fe=0,rt=1e3,ue,se,de=0,Kt=0,L=0,_=typeof performance=="object"&&performance.now?performance:Date,Ht=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(bt){setTimeout(bt,17)};function Lt(){return Kt||(Ht(Oe),Kt=_.now()+L)}function Oe(){Kt=0}function Ae(){this._call=this._time=this._next=null}Ae.prototype=jt.prototype={constructor:Ae,restart:function(bt,lt,pt){if(typeof bt!="function")throw new TypeError("callback is not a function");pt=(pt==null?Lt():+pt)+(lt==null?0:+lt),!this._next&&se!==this&&(se?se._next=this:ue=this,se=this),this._call=bt,this._time=pt,Xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xe())}};function jt(bt,lt,pt){var Rt=new Ae;return Rt.restart(bt,lt,pt),Rt}function le(){Lt(),++B;for(var bt=ue,lt;bt;)(lt=Kt-bt._time)>=0&&bt._call.call(null,lt),bt=bt._next;--B}function Ce(){Kt=(de=_.now())+L,B=Gt=0;try{le()}finally{B=0,qe(),Kt=0}}function Ve(){var bt=_.now(),lt=bt-de;lt>rt&&(L-=lt,de=bt)}function qe(){for(var bt,lt=ue,pt,Rt=1/0;lt;)lt._call?(Rt>lt._time&&(Rt=lt._time),bt=lt,lt=lt._next):(pt=lt._next,lt._next=null,lt=bt?bt._next=pt:ue=pt);se=bt,Xe(Rt)}function Xe(bt){if(!B){Gt&&(Gt=clearTimeout(Gt));var lt=bt-Kt;lt>24?(bt<1/0&&(Gt=setTimeout(Ce,bt-_.now()-L)),fe&&(fe=clearInterval(fe))):(fe||(de=_.now(),fe=setInterval(Ve,rt)),B=1,Ht(Ce))}}var On=kt(52677),ve=kt(96683),Ne=kt(43867);function Qe(bt,lt){lt||(lt=[]);var pt=bt?Math.min(lt.length,bt.length):0,Rt=lt.slice(),Nt;return function(he){for(Nt=0;Nt<pt;++Nt)Rt[Nt]=bt[Nt]*(1-he)+lt[Nt]*he;return Rt}}function Ue(bt){return ArrayBuffer.isView(bt)&&!(bt instanceof DataView)}function Ie(bt,lt){return(Ue(lt)?Qe:zt)(bt,lt)}function zt(bt,lt){var pt=lt?lt.length:0,Rt=bt?Math.min(pt,bt.length):0,Nt=new Array(Rt),he=new Array(pt),Pe;for(Pe=0;Pe<Rt;++Pe)Nt[Pe]=yt(bt[Pe],lt[Pe]);for(;Pe<pt;++Pe)he[Pe]=lt[Pe];return function(Fe){for(Pe=0;Pe<Rt;++Pe)he[Pe]=Nt[Pe](Fe);return he}}function ye(bt,lt){var pt=new Date;return bt=+bt,lt=+lt,function(Rt){return pt.setTime(bt*(1-Rt)+lt*Rt),pt}}function nt(bt,lt){return bt=+bt,lt=+lt,function(pt){return bt*(1-pt)+lt*pt}}function Et(bt,lt){var pt={},Rt={},Nt;(bt===null||On(bt)!=="object")&&(bt={}),(lt===null||On(lt)!=="object")&&(lt={});for(Nt in lt)Nt in bt?pt[Nt]=yt(bt[Nt],lt[Nt]):Rt[Nt]=lt[Nt];return function(he){for(Nt in pt)Rt[Nt]=pt[Nt](he);return Rt}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,He=new RegExp(ie.source,"g");function Je(bt){return function(){return bt}}function tt(bt){return function(lt){return bt(lt)+""}}function ct(bt,lt){var pt=ie.lastIndex=He.lastIndex=0,Rt,Nt,he,Pe=-1,Fe=[],rn=[];for(bt=bt+"",lt=lt+"";(Rt=ie.exec(bt))&&(Nt=He.exec(lt));)(he=Nt.index)>pt&&(he=lt.slice(pt,he),Fe[Pe]?Fe[Pe]+=he:Fe[++Pe]=he),(Rt=Rt[0])===(Nt=Nt[0])?Fe[Pe]?Fe[Pe]+=Nt:Fe[++Pe]=Nt:(Fe[++Pe]=null,rn.push({i:Pe,x:nt(Rt,Nt)})),pt=He.lastIndex;return pt<lt.length&&(he=lt.slice(pt),Fe[Pe]?Fe[Pe]+=he:Fe[++Pe]=he),Fe.length<2?rn[0]?tt(rn[0].x):Je(lt):(lt=rn.length,function(un){for(var En=0,qn;En<lt;++En)Fe[(qn=rn[En]).i]=qn.x(un);return Fe.join("")})}var Ot=kt(93816);function yt(bt,lt){var pt=On(lt),Rt;return lt==null||pt==="boolean"?(0,Ot.Z)(lt):(pt==="number"?nt:pt==="string"?(Rt=(0,ve.ZP)(lt))?(lt=Rt,Ne.ZP):ct:lt instanceof ve.ZP?Ne.ZP:lt instanceof Date?ye:Ue(lt)?Qe:Array.isArray(lt)?zt:typeof lt.valueOf!="function"&&typeof lt.toString!="function"||isNaN(lt)?Et:nt)(bt,lt)}var Yt=kt(93924),qt=kt(47575),we=function(bt){return["fill","stroke","fillStyle","strokeStyle"].includes(bt)},xe=function(bt){return/^[r,R,L,l]{1}[\s]*\(/.test(bt)},xt=[1,0,0,0,1,0,0,0,1];function Wt(bt,lt,pt){var Rt={},Nt=lt.fromAttrs,he=lt.toAttrs;if(!bt.destroyed){var Pe;for(var Fe in he)if(!(0,Ee.Xy)(Nt[Fe],he[Fe]))if(Fe==="path"){var rn=he[Fe],un=Nt[Fe];rn.length>un.length?(rn=qt.parsePathString(he[Fe]),un=qt.parsePathString(Nt[Fe]),un=qt.fillPathByDiff(un,rn),un=qt.formatPath(un,rn),lt.fromAttrs.path=un,lt.toAttrs.path=rn):lt.pathFormatted||(rn=qt.parsePathString(he[Fe]),un=qt.parsePathString(Nt[Fe]),un=qt.formatPath(un,rn),lt.fromAttrs.path=un,lt.toAttrs.path=rn,lt.pathFormatted=!0),Rt[Fe]=[];for(var En=0;En<rn.length;En++){for(var qn=rn[En],_r=un[En],fr=[],Ur=0;Ur<qn.length;Ur++)(0,Ee.hj)(qn[Ur])&&_r&&(0,Ee.hj)(_r[Ur])?(Pe=yt(_r[Ur],qn[Ur]),fr.push(Pe(pt))):fr.push(qn[Ur]);Rt[Fe].push(fr)}}else if(Fe==="matrix"){var Li=Ie(Nt[Fe]||xt,he[Fe]||xt),Hi=Li(pt);Rt[Fe]=Hi}else we(Fe)&&xe(he[Fe])?Rt[Fe]=he[Fe]:(0,Ee.mf)(he[Fe])||(Pe=yt(Nt[Fe],he[Fe]),Rt[Fe]=Pe(pt));bt.attr(Rt)}}function re(bt,lt,pt){var Rt=lt.startTime,Nt=lt.delay;if(pt<Rt+Nt||lt._paused)return!1;var he,Pe=lt.duration,Fe=lt.easing,rn=(0,Yt._)(Fe);if(pt=pt-Rt-lt.delay,lt.repeat)he=pt%Pe/Pe,he=rn(he);else if(he=pt/Pe,he<1)he=rn(he);else return lt.onFrame?bt.attr(lt.onFrame(1)):bt.attr(lt.toAttrs),!0;if(lt.onFrame){var un=lt.onFrame(he);bt.attr(un)}else Wt(bt,lt,he);return!1}var wt=function(){function bt(lt){this.animators=[],this.current=0,this.timer=null,this.canvas=lt}return bt.prototype.initTimer=function(){var lt=this,pt=!1,Rt,Nt,he;this.timer=jt(function(Pe){if(lt.current=Pe,lt.animators.length>0){for(var Fe=lt.animators.length-1;Fe>=0;Fe--){if(Rt=lt.animators[Fe],Rt.destroyed){lt.removeAnimator(Fe);continue}if(!Rt.isAnimatePaused()){Nt=Rt.get("animations");for(var rn=Nt.length-1;rn>=0;rn--)he=Nt[rn],pt=re(Rt,he,Pe),pt&&(Nt.splice(rn,1),pt=!1,he.callback&&he.callback())}Nt.length===0&&lt.removeAnimator(Fe)}var un=lt.canvas.get("autoDraw");un||lt.canvas.draw()}})},bt.prototype.addAnimator=function(lt){this.animators.push(lt)},bt.prototype.removeAnimator=function(lt){this.animators.splice(lt,1)},bt.prototype.isAnimating=function(){return!!this.animators.length},bt.prototype.stop=function(){this.timer&&this.timer.stop()},bt.prototype.stopAllAnimations=function(lt){lt===void 0&&(lt=!0),this.animators.forEach(function(pt){pt.stopAnimate(lt)}),this.animators=[],this.canvas.draw()},bt.prototype.getTime=function(){return this.current},bt}(),vt=wt,Bt=kt(89473),Zt=40,at=0,mt=":",It=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function te(bt,lt){for(var pt in bt)if(bt.hasOwnProperty(pt)&&pt.indexOf(mt+lt)>=0)return!0;return!1}function Qt(bt,lt,pt){pt.name=lt,pt.target=bt,pt.currentTarget=bt,pt.delegateTarget=bt,bt.emit(lt,pt)}function ee(bt,lt,pt){if(pt.bubbles){var Rt=void 0,Nt=!1;if(lt==="mouseenter"?(Rt=pt.fromShape,Nt=!0):lt==="mouseleave"&&(Nt=!0,Rt=pt.toShape),bt.isCanvas()&&Nt)return;if(Rt&&(0,je.UY)(bt,Rt)){pt.bubbles=!1;return}pt.name=lt,pt.currentTarget=bt,pt.delegateTarget=bt,bt.emit(lt,pt)}}var me=function(){function bt(lt){var pt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Rt){var Nt=Rt.type;pt._triggerEvent(Nt,Rt)},this._onDocumentMove=function(Rt){var Nt=pt.canvas,he=Nt.get("el");if(he!==Rt.target&&(pt.dragging||pt.currentShape)){var Pe=pt._getPointInfo(Rt);pt.dragging&&pt._emitEvent("drag",Rt,Pe,pt.draggingShape)}},this._onDocumentMouseUp=function(Rt){var Nt=pt.canvas,he=Nt.get("el");if(he!==Rt.target&&pt.dragging){var Pe=pt._getPointInfo(Rt);pt.draggingShape&&pt._emitEvent("drop",Rt,Pe,null),pt._emitEvent("dragend",Rt,Pe,pt.draggingShape),pt._afterDrag(pt.draggingShape,Pe,Rt)}},this.canvas=lt.canvas}return bt.prototype.init=function(){this._bindEvents()},bt.prototype._bindEvents=function(){var lt=this,pt=this.canvas.get("el");(0,je.S6)(It,function(Rt){pt.addEventListener(Rt,lt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},bt.prototype._clearEvents=function(){var lt=this,pt=this.canvas.get("el");(0,je.S6)(It,function(Rt){pt.removeEventListener(Rt,lt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},bt.prototype._getEventObj=function(lt,pt,Rt,Nt,he,Pe){var Fe=new Bt.Z(lt,pt);return Fe.fromShape=he,Fe.toShape=Pe,Fe.x=Rt.x,Fe.y=Rt.y,Fe.clientX=Rt.clientX,Fe.clientY=Rt.clientY,Fe.propagationPath.push(Nt),Fe},bt.prototype._getShape=function(lt,pt){return this.canvas.getShape(lt.x,lt.y,pt)},bt.prototype._getPointInfo=function(lt){var pt=this.canvas,Rt=pt.getClientByEvent(lt),Nt=pt.getPointByEvent(lt);return{x:Nt.x,y:Nt.y,clientX:Rt.x,clientY:Rt.y}},bt.prototype._triggerEvent=function(lt,pt){var Rt=this._getPointInfo(pt),Nt=this._getShape(Rt,pt),he=this["_on"+lt],Pe=!1;if(he)he.call(this,Rt,Nt,pt);else{var Fe=this.currentShape;lt==="mouseenter"||lt==="dragenter"||lt==="mouseover"?(this._emitEvent(lt,pt,Rt,null,null,Nt),Nt&&this._emitEvent(lt,pt,Rt,Nt,null,Nt),lt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",pt,Rt,null)):lt==="mouseleave"||lt==="dragleave"||lt==="mouseout"?(Pe=!0,Fe&&this._emitEvent(lt,pt,Rt,Fe,Fe,null),this._emitEvent(lt,pt,Rt,null,Fe,null),lt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",pt,Rt,null)):this._emitEvent(lt,pt,Rt,Nt,null,null)}if(Pe||(this.currentShape=Nt),Nt&&!Nt.get("destroyed")){var rn=this.canvas,un=rn.get("el");un.style.cursor=Nt.attr("cursor")||rn.get("cursor")}},bt.prototype._onmousedown=function(lt,pt,Rt){Rt.button===at&&(this.mousedownShape=pt,this.mousedownPoint=lt,this.mousedownTimeStamp=Rt.timeStamp),this._emitEvent("mousedown",Rt,lt,pt,null,null)},bt.prototype._emitMouseoverEvents=function(lt,pt,Rt,Nt){var he=this.canvas.get("el");Rt!==Nt&&(Rt&&(this._emitEvent("mouseout",lt,pt,Rt,Rt,Nt),this._emitEvent("mouseleave",lt,pt,Rt,Rt,Nt),(!Nt||Nt.get("destroyed"))&&(he.style.cursor=this.canvas.get("cursor"))),Nt&&(this._emitEvent("mouseover",lt,pt,Nt,Rt,Nt),this._emitEvent("mouseenter",lt,pt,Nt,Rt,Nt)))},bt.prototype._emitDragoverEvents=function(lt,pt,Rt,Nt,he){Nt?(Nt!==Rt&&(Rt&&this._emitEvent("dragleave",lt,pt,Rt,Rt,Nt),this._emitEvent("dragenter",lt,pt,Nt,Rt,Nt)),he||this._emitEvent("dragover",lt,pt,Nt)):Rt&&this._emitEvent("dragleave",lt,pt,Rt,Rt,Nt),he&&this._emitEvent("dragover",lt,pt,Nt)},bt.prototype._afterDrag=function(lt,pt,Rt){lt&&(lt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Nt=this._getShape(pt,Rt);Nt!==lt&&this._emitMouseoverEvents(Rt,pt,lt,Nt),this.currentShape=Nt},bt.prototype._onmouseup=function(lt,pt,Rt){if(Rt.button===at){var Nt=this.draggingShape;this.dragging?(Nt&&this._emitEvent("drop",Rt,lt,pt),this._emitEvent("dragend",Rt,lt,Nt),this._afterDrag(Nt,lt,Rt)):(this._emitEvent("mouseup",Rt,lt,pt),pt===this.mousedownShape&&this._emitEvent("click",Rt,lt,pt),this.mousedownShape=null,this.mousedownPoint=null)}},bt.prototype._ondragover=function(lt,pt,Rt){Rt.preventDefault();var Nt=this.currentShape;this._emitDragoverEvents(Rt,lt,Nt,pt,!0)},bt.prototype._onmousemove=function(lt,pt,Rt){var Nt=this.canvas,he=this.currentShape,Pe=this.draggingShape;if(this.dragging)Pe&&this._emitDragoverEvents(Rt,lt,he,pt,!1),this._emitEvent("drag",Rt,lt,Pe);else{var Fe=this.mousedownPoint;if(Fe){var rn=this.mousedownShape,un=Rt.timeStamp,En=un-this.mousedownTimeStamp,qn=Fe.clientX-lt.clientX,_r=Fe.clientY-lt.clientY,fr=qn*qn+_r*_r;En>120||fr>Zt?rn&&rn.get("draggable")?(Pe=this.mousedownShape,Pe.set("capture",!1),this.draggingShape=Pe,this.dragging=!0,this._emitEvent("dragstart",Rt,lt,Pe),this.mousedownShape=null,this.mousedownPoint=null):!rn&&Nt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Rt,lt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Rt,lt,he,pt),this._emitEvent("mousemove",Rt,lt,pt)):(this._emitMouseoverEvents(Rt,lt,he,pt),this._emitEvent("mousemove",Rt,lt,pt))}else this._emitMouseoverEvents(Rt,lt,he,pt),this._emitEvent("mousemove",Rt,lt,pt)}},bt.prototype._emitEvent=function(lt,pt,Rt,Nt,he,Pe){var Fe=this._getEventObj(lt,pt,Rt,Nt,he,Pe);if(Nt){Fe.shape=Nt,Qt(Nt,lt,Fe);for(var rn=Nt.getParent();rn;)rn.emitDelegation(lt,Fe),Fe.propagationStopped||ee(rn,lt,Fe),Fe.propagationPath.push(rn),rn=rn.getParent()}else{var un=this.canvas;Qt(un,lt,Fe)}},bt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},bt}(),dt=me,it="px",Tt=(0,ne.qY)(),_t=Tt&&Tt.name==="firefox",Dt=function(bt){(0,Te.ZT)(lt,bt);function lt(pt){var Rt=bt.call(this,pt)||this;return Rt.initContainer(),Rt.initDom(),Rt.initEvents(),Rt.initTimeline(),Rt}return lt.prototype.getDefaultCfg=function(){var pt=bt.prototype.getDefaultCfg.call(this);return pt.cursor="default",pt.supportCSSTransform=!1,pt},lt.prototype.initContainer=function(){var pt=this.get("container");(0,je.HD)(pt)&&(pt=document.getElementById(pt),this.set("container",pt))},lt.prototype.initDom=function(){var pt=this.createDom();this.set("el",pt);var Rt=this.get("container");Rt.appendChild(pt),this.setDOMSize(this.get("width"),this.get("height"))},lt.prototype.initEvents=function(){var pt=new dt({canvas:this});pt.init(),this.set("eventController",pt)},lt.prototype.initTimeline=function(){var pt=new vt(this);this.set("timeline",pt)},lt.prototype.setDOMSize=function(pt,Rt){var Nt=this.get("el");je.jU&&(Nt.style.width=pt+it,Nt.style.height=Rt+it)},lt.prototype.changeSize=function(pt,Rt){this.setDOMSize(pt,Rt),this.set("width",pt),this.set("height",Rt),this.onCanvasChange("changeSize")},lt.prototype.getRenderer=function(){return this.get("renderer")},lt.prototype.getCursor=function(){return this.get("cursor")},lt.prototype.setCursor=function(pt){this.set("cursor",pt);var Rt=this.get("el");je.jU&&Rt&&(Rt.style.cursor=pt)},lt.prototype.getPointByEvent=function(pt){var Rt=this.get("supportCSSTransform");if(Rt){if(_t&&!(0,je.kK)(pt.layerX)&&pt.layerX!==pt.offsetX)return{x:pt.layerX,y:pt.layerY};if(!(0,je.kK)(pt.offsetX))return{x:pt.offsetX,y:pt.offsetY}}var Nt=this.getClientByEvent(pt),he=Nt.x,Pe=Nt.y;return this.getPointByClient(he,Pe)},lt.prototype.getClientByEvent=function(pt){var Rt=pt;return pt.touches&&(pt.type==="touchend"?Rt=pt.changedTouches[0]:Rt=pt.touches[0]),{x:Rt.clientX,y:Rt.clientY}},lt.prototype.getPointByClient=function(pt,Rt){var Nt=this.get("el"),he=Nt.getBoundingClientRect();return{x:pt-he.left,y:Rt-he.top}},lt.prototype.getClientByPoint=function(pt,Rt){var Nt=this.get("el"),he=Nt.getBoundingClientRect();return{x:pt+he.left,y:Rt+he.top}},lt.prototype.draw=function(){},lt.prototype.removeDom=function(){var pt=this.get("el");pt.parentNode.removeChild(pt)},lt.prototype.clearEvents=function(){var pt=this.get("eventController");pt.destroy()},lt.prototype.isCanvas=function(){return!0},lt.prototype.getParent=function(){return null},lt.prototype.destroy=function(){var pt=this.get("timeline");this.get("destroyed")||(this.clear(),pt&&pt.stop(),this.clearEvents(),this.removeDom(),bt.prototype.destroy.call(this))},lt}(Ge.Z),$t=Dt},37153:function(Dn,mn,kt){"use strict";var Te=kt(97582),ne=kt(29881),Ge=kt(77341),je={},Ee="_INDEX";function B(de,Kt){if(de.set("canvas",Kt),de.isGroup()){var L=de.get("children");L.length&&L.forEach(function(_){B(_,Kt)})}}function Gt(de,Kt){if(de.set("timeline",Kt),de.isGroup()){var L=de.get("children");L.length&&L.forEach(function(_){Gt(_,Kt)})}}function fe(de,Kt){var L=de.getChildren();return L.indexOf(Kt)>=0}function rt(de,Kt,L){L===void 0&&(L=!0),L?Kt.destroy():(Kt.set("parent",null),Kt.set("canvas",null)),(0,Ge.As)(de.getChildren(),Kt)}function ue(de){return function(Kt,L){var _=de(Kt,L);return _===0?Kt[Ee]-L[Ee]:_}}var se=function(de){(0,Te.ZT)(Kt,de);function Kt(){return de!==null&&de.apply(this,arguments)||this}return Kt.prototype.isCanvas=function(){return!1},Kt.prototype.getBBox=function(){var L=1/0,_=-1/0,Ht=1/0,Lt=-1/0,Oe=this.getChildren().filter(function(jt){return jt.get("visible")&&(!jt.isGroup()||jt.isGroup()&&jt.getChildren().length>0)});Oe.length>0?(0,Ge.S6)(Oe,function(jt){var le=jt.getBBox(),Ce=le.minX,Ve=le.maxX,qe=le.minY,Xe=le.maxY;Ce<L&&(L=Ce),Ve>_&&(_=Ve),qe<Ht&&(Ht=qe),Xe>Lt&&(Lt=Xe)}):(L=0,_=0,Ht=0,Lt=0);var Ae={x:L,y:Ht,minX:L,minY:Ht,maxX:_,maxY:Lt,width:_-L,height:Lt-Ht};return Ae},Kt.prototype.getCanvasBBox=function(){var L=1/0,_=-1/0,Ht=1/0,Lt=-1/0,Oe=this.getChildren().filter(function(jt){return jt.get("visible")&&(!jt.isGroup()||jt.isGroup()&&jt.getChildren().length>0)});Oe.length>0?(0,Ge.S6)(Oe,function(jt){var le=jt.getCanvasBBox(),Ce=le.minX,Ve=le.maxX,qe=le.minY,Xe=le.maxY;Ce<L&&(L=Ce),Ve>_&&(_=Ve),qe<Ht&&(Ht=qe),Xe>Lt&&(Lt=Xe)}):(L=0,_=0,Ht=0,Lt=0);var Ae={x:L,y:Ht,minX:L,minY:Ht,maxX:_,maxY:Lt,width:_-L,height:Lt-Ht};return Ae},Kt.prototype.getDefaultCfg=function(){var L=de.prototype.getDefaultCfg.call(this);return L.children=[],L},Kt.prototype.onAttrChange=function(L,_,Ht){if(de.prototype.onAttrChange.call(this,L,_,Ht),L==="matrix"){var Lt=this.getTotalMatrix();this._applyChildrenMarix(Lt)}},Kt.prototype.applyMatrix=function(L){var _=this.getTotalMatrix();de.prototype.applyMatrix.call(this,L);var Ht=this.getTotalMatrix();Ht!==_&&this._applyChildrenMarix(Ht)},Kt.prototype._applyChildrenMarix=function(L){var _=this.getChildren();(0,Ge.S6)(_,function(Ht){Ht.applyMatrix(L)})},Kt.prototype.addShape=function(){for(var L=[],_=0;_<arguments.length;_++)L[_]=arguments[_];var Ht=L[0],Lt=L[1];(0,Ge.Kn)(Ht)?Lt=Ht:Lt.type=Ht;var Oe=je[Lt.type];Oe||(Oe=(0,Ge.jC)(Lt.type),je[Lt.type]=Oe);var Ae=this.getShapeBase(),jt=new Ae[Oe](Lt);return this.add(jt),jt},Kt.prototype.addGroup=function(){for(var L=[],_=0;_<arguments.length;_++)L[_]=arguments[_];var Ht=L[0],Lt=L[1],Oe;if((0,Ge.mf)(Ht))Lt?Oe=new Ht(Lt):Oe=new Ht({parent:this});else{var Ae=Ht||{},jt=this.getGroupBase();Oe=new jt(Ae)}return this.add(Oe),Oe},Kt.prototype.getCanvas=function(){var L;return this.isCanvas()?L=this:L=this.get("canvas"),L},Kt.prototype.getShape=function(L,_,Ht){if(!(0,Ge.pP)(this))return null;var Lt=this.getChildren(),Oe;if(this.isCanvas())Oe=this._findShape(Lt,L,_,Ht);else{var Ae=[L,_,1];Ae=this.invertFromMatrix(Ae),this.isClipped(Ae[0],Ae[1])||(Oe=this._findShape(Lt,Ae[0],Ae[1],Ht))}return Oe},Kt.prototype._findShape=function(L,_,Ht,Lt){for(var Oe=null,Ae=L.length-1;Ae>=0;Ae--){var jt=L[Ae];if((0,Ge.pP)(jt)&&(jt.isGroup()?Oe=jt.getShape(_,Ht,Lt):jt.isHit(_,Ht)&&(Oe=jt)),Oe)break}return Oe},Kt.prototype.add=function(L){var _=this.getCanvas(),Ht=this.getChildren(),Lt=this.get("timeline"),Oe=L.getParent();Oe&&rt(Oe,L,!1),L.set("parent",this),_&&B(L,_),Lt&&Gt(L,Lt),Ht.push(L),L.onCanvasChange("add"),this._applyElementMatrix(L)},Kt.prototype._applyElementMatrix=function(L){var _=this.getTotalMatrix();_&&L.applyMatrix(_)},Kt.prototype.getChildren=function(){return this.get("children")},Kt.prototype.sort=function(){var L=this.getChildren();(0,Ge.S6)(L,function(_,Ht){return _[Ee]=Ht,_}),L.sort(ue(function(_,Ht){return _.get("zIndex")-Ht.get("zIndex")})),this.onCanvasChange("sort")},Kt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var L=this.getChildren(),_=L.length-1;_>=0;_--)L[_].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Kt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),de.prototype.destroy.call(this))},Kt.prototype.getFirst=function(){return this.getChildByIndex(0)},Kt.prototype.getLast=function(){var L=this.getChildren();return this.getChildByIndex(L.length-1)},Kt.prototype.getChildByIndex=function(L){var _=this.getChildren();return _[L]},Kt.prototype.getCount=function(){var L=this.getChildren();return L.length},Kt.prototype.contain=function(L){var _=this.getChildren();return _.indexOf(L)>-1},Kt.prototype.removeChild=function(L,_){_===void 0&&(_=!0),this.contain(L)&&L.remove(_)},Kt.prototype.findAll=function(L){var _=[],Ht=this.getChildren();return(0,Ge.S6)(Ht,function(Lt){L(Lt)&&_.push(Lt),Lt.isGroup()&&(_=_.concat(Lt.findAll(L)))}),_},Kt.prototype.find=function(L){var _=null,Ht=this.getChildren();return(0,Ge.S6)(Ht,function(Lt){if(L(Lt)?_=Lt:Lt.isGroup()&&(_=Lt.find(L)),_)return!1}),_},Kt.prototype.findById=function(L){return this.find(function(_){return _.get("id")===L})},Kt.prototype.findByClassName=function(L){return this.find(function(_){return _.get("className")===L})},Kt.prototype.findAllByName=function(L){return this.findAll(function(_){return _.get("name")===L})},Kt}(ne.Z);mn.Z=se},29881:function(Dn,mn,kt){"use strict";var Te=kt(97582),ne=kt(45098),Ge=kt(31506),je=kt(77341),Ee=kt(41482),B=kt(2667),Gt=Ge.vs,fe="matrix",rt=["zIndex","capture","visible","type"],ue=["repeat"],se=":",de="*";function Kt(Oe){for(var Ae=[],jt=0;jt<Oe.length;jt++)(0,ne.kJ)(Oe[jt])?Ae.push([].concat(Oe[jt])):Ae.push(Oe[jt]);return Ae}function L(Oe,Ae){var jt={},le=Ae.attrs;for(var Ce in Oe)jt[Ce]=le[Ce];return jt}function _(Oe,Ae){var jt={},le=Ae.attr();return(0,ne.S6)(Oe,function(Ce,Ve){ue.indexOf(Ve)===-1&&!(0,ne.Xy)(le[Ve],Ce)&&(jt[Ve]=Ce)}),jt}function Ht(Oe,Ae){if(Ae.onFrame)return Oe;var jt=Ae.startTime,le=Ae.delay,Ce=Ae.duration,Ve=Object.prototype.hasOwnProperty;return(0,ne.S6)(Oe,function(qe){jt+le<qe.startTime+qe.delay+qe.duration&&Ce>qe.delay&&(0,ne.S6)(Ae.toAttrs,function(Xe,On){Ve.call(qe.toAttrs,On)&&(delete qe.toAttrs[On],delete qe.fromAttrs[On])})}),Oe}var Lt=function(Oe){(0,Te.ZT)(Ae,Oe);function Ae(jt){var le=Oe.call(this,jt)||this;le.attrs={};var Ce=le.getDefaultAttrs();return(0,ne.CD)(Ce,jt.attrs),le.attrs=Ce,le.initAttrs(Ce),le.initAnimate(),le}return Ae.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Ae.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Ae.prototype.onCanvasChange=function(jt){},Ae.prototype.initAttrs=function(jt){},Ae.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Ae.prototype.isGroup=function(){return!1},Ae.prototype.getParent=function(){return this.get("parent")},Ae.prototype.getCanvas=function(){return this.get("canvas")},Ae.prototype.attr=function(){for(var jt,le=[],Ce=0;Ce<arguments.length;Ce++)le[Ce]=arguments[Ce];var Ve=le[0],qe=le[1];if(!Ve)return this.attrs;if((0,ne.Kn)(Ve)){for(var Xe in Ve)this.setAttr(Xe,Ve[Xe]);return this.afterAttrsChange(Ve),this}return le.length===2?(this.setAttr(Ve,qe),this.afterAttrsChange((jt={},jt[Ve]=qe,jt)),this):this.attrs[Ve]},Ae.prototype.isClipped=function(jt,le){var Ce=this.getClip();return Ce&&!Ce.isHit(jt,le)},Ae.prototype.setAttr=function(jt,le){var Ce=this.attrs[jt];Ce!==le&&(this.attrs[jt]=le,this.onAttrChange(jt,le,Ce))},Ae.prototype.onAttrChange=function(jt,le,Ce){jt==="matrix"&&this.set("totalMatrix",null)},Ae.prototype.afterAttrsChange=function(jt){if(this.cfg.isClipShape){var le=this.cfg.applyTo;le&&le.onCanvasChange("clip")}else this.onCanvasChange("attr")},Ae.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Ae.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Ae.prototype.setZIndex=function(jt){this.set("zIndex",jt);var le=this.getParent();return le&&le.sort(),this},Ae.prototype.toFront=function(){var jt=this.getParent();if(jt){var le=jt.getChildren(),Ce=this.get("el"),Ve=le.indexOf(this);le.splice(Ve,1),le.push(this),this.onCanvasChange("zIndex")}},Ae.prototype.toBack=function(){var jt=this.getParent();if(jt){var le=jt.getChildren(),Ce=this.get("el"),Ve=le.indexOf(this);le.splice(Ve,1),le.unshift(this),this.onCanvasChange("zIndex")}},Ae.prototype.remove=function(jt){jt===void 0&&(jt=!0);var le=this.getParent();le?((0,je.As)(le.getChildren(),this),le.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),jt&&this.destroy()},Ae.prototype.resetMatrix=function(){this.attr(fe,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Ae.prototype.getMatrix=function(){return this.attr(fe)},Ae.prototype.setMatrix=function(jt){this.attr(fe,jt),this.onCanvasChange("matrix")},Ae.prototype.getTotalMatrix=function(){var jt=this.cfg.totalMatrix;if(!jt){var le=this.attr("matrix"),Ce=this.cfg.parentMatrix;Ce&&le?jt=(0,Ee.xq)(Ce,le):jt=le||Ce,this.set("totalMatrix",jt)}return jt},Ae.prototype.applyMatrix=function(jt){var le=this.attr("matrix"),Ce=null;jt&&le?Ce=(0,Ee.xq)(jt,le):Ce=le||jt,this.set("totalMatrix",Ce),this.set("parentMatrix",jt)},Ae.prototype.getDefaultMatrix=function(){return null},Ae.prototype.applyToMatrix=function(jt){var le=this.attr("matrix");return le?(0,Ee.rG)(le,jt):jt},Ae.prototype.invertFromMatrix=function(jt){var le=this.attr("matrix");if(le){var Ce=(0,Ee.U_)(le);if(Ce)return(0,Ee.rG)(Ce,jt)}return jt},Ae.prototype.setClip=function(jt){var le=this.getCanvas(),Ce=null;if(jt){var Ve=this.getShapeBase(),qe=(0,ne.jC)(jt.type),Xe=Ve[qe];Xe&&(Ce=new Xe({type:jt.type,isClipShape:!0,applyTo:this,attrs:jt.attrs,canvas:le}))}return this.set("clipShape",Ce),this.onCanvasChange("clip"),Ce},Ae.prototype.getClip=function(){var jt=this.cfg.clipShape;return jt||null},Ae.prototype.clone=function(){var jt=this,le=this.attrs,Ce={};(0,ne.S6)(le,function(Xe,On){(0,ne.kJ)(le[On])?Ce[On]=Kt(le[On]):Ce[On]=le[On]});var Ve=this.constructor,qe=new Ve({attrs:Ce});return(0,ne.S6)(rt,function(Xe){qe.set(Xe,jt.get(Xe))}),qe},Ae.prototype.destroy=function(){var jt=this.destroyed;jt||(this.attrs={},Oe.prototype.destroy.call(this))},Ae.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Ae.prototype.animate=function(){for(var jt=[],le=0;le<arguments.length;le++)jt[le]=arguments[le];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Ce=this.get("timeline");Ce||(Ce=this.get("canvas").get("timeline"),this.set("timeline",Ce));var Ve=this.get("animations")||[];Ce.timer||Ce.initTimer();var qe=jt[0],Xe=jt[1],On=jt[2],ve=On===void 0?"easeLinear":On,Ne=jt[3],Qe=Ne===void 0?ne.ZT:Ne,Ue=jt[4],Ie=Ue===void 0?0:Ue,zt,ye,nt,Et,ie;(0,ne.mf)(qe)?(zt=qe,qe={}):(0,ne.Kn)(qe)&&qe.onFrame&&(zt=qe.onFrame,ye=qe.repeat),(0,ne.Kn)(Xe)?(ie=Xe,Xe=ie.duration,ve=ie.easing||"easeLinear",Ie=ie.delay||0,ye=ie.repeat||ye||!1,Qe=ie.callback||ne.ZT,nt=ie.pauseCallback||ne.ZT,Et=ie.resumeCallback||ne.ZT):((0,ne.hj)(Qe)&&(Ie=Qe,Qe=null),(0,ne.mf)(ve)?(Qe=ve,ve="easeLinear"):ve=ve||"easeLinear");var He=_(qe,this),Je={fromAttrs:L(He,this),toAttrs:He,duration:Xe,easing:ve,repeat:ye,callback:Qe,pauseCallback:nt,resumeCallback:Et,delay:Ie,startTime:Ce.getTime(),id:(0,ne.EL)(),onFrame:zt,pathFormatted:!1};Ve.length>0?Ve=Ht(Ve,Je):Ce.addAnimator(this),Ve.push(Je),this.set("animations",Ve),this.set("_pause",{isPaused:!1})}},Ae.prototype.stopAnimate=function(jt){var le=this;jt===void 0&&(jt=!0);var Ce=this.get("animations");(0,ne.S6)(Ce,function(Ve){jt&&(Ve.onFrame?le.attr(Ve.onFrame(1)):le.attr(Ve.toAttrs)),Ve.callback&&Ve.callback()}),this.set("animating",!1),this.set("animations",[])},Ae.prototype.pauseAnimate=function(){var jt=this.get("timeline"),le=this.get("animations"),Ce=jt.getTime();return(0,ne.S6)(le,function(Ve){Ve._paused=!0,Ve._pauseTime=Ce,Ve.pauseCallback&&Ve.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Ce}),this},Ae.prototype.resumeAnimate=function(){var jt=this.get("timeline"),le=jt.getTime(),Ce=this.get("animations"),Ve=this.get("_pause").pauseTime;return(0,ne.S6)(Ce,function(qe){qe.startTime=qe.startTime+(le-Ve),qe._paused=!1,qe._pauseTime=null,qe.resumeCallback&&qe.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Ce),this},Ae.prototype.emitDelegation=function(jt,le){var Ce=this,Ve=le.propagationPath,qe=this.getEvents(),Xe;jt==="mouseenter"?Xe=le.fromShape:jt==="mouseleave"&&(Xe=le.toShape);for(var On=function(Ue){var Ie=Ve[Ue],zt=Ie.get("name");if(zt){if((Ie.isGroup()||Ie.isCanvas&&Ie.isCanvas())&&Xe&&(0,je.UY)(Ie,Xe))return"break";(0,ne.kJ)(zt)?(0,ne.S6)(zt,function(ye){Ce.emitDelegateEvent(Ie,ye,le)}):ve.emitDelegateEvent(Ie,zt,le)}},ve=this,Ne=0;Ne<Ve.length;Ne++){var Qe=On(Ne);if(Qe==="break")break}},Ae.prototype.emitDelegateEvent=function(jt,le,Ce){var Ve=this.getEvents(),qe=le+se+Ce.type;(Ve[qe]||Ve[de])&&(Ce.name=qe,Ce.currentTarget=jt,Ce.delegateTarget=this,Ce.delegateObject=jt.get("delegateObject"),this.emit(qe,Ce))},Ae.prototype.translate=function(jt,le){jt===void 0&&(jt=0),le===void 0&&(le=0);var Ce=this.getMatrix(),Ve=Gt(Ce,[["t",jt,le]]);return this.setMatrix(Ve),this},Ae.prototype.move=function(jt,le){var Ce=this.attr("x")||0,Ve=this.attr("y")||0;return this.translate(jt-Ce,le-Ve),this},Ae.prototype.moveTo=function(jt,le){return this.move(jt,le)},Ae.prototype.scale=function(jt,le){var Ce=this.getMatrix(),Ve=Gt(Ce,[["s",jt,le||jt]]);return this.setMatrix(Ve),this},Ae.prototype.rotate=function(jt){var le=this.getMatrix(),Ce=Gt(le,[["r",jt]]);return this.setMatrix(Ce),this},Ae.prototype.rotateAtStart=function(jt){var le=this.attr(),Ce=le.x,Ve=le.y,qe=this.getMatrix(),Xe=Gt(qe,[["t",-Ce,-Ve],["r",jt],["t",Ce,Ve]]);return this.setMatrix(Xe),this},Ae.prototype.rotateAtPoint=function(jt,le,Ce){var Ve=this.getMatrix(),qe=Gt(Ve,[["t",-jt,-le],["r",Ce],["t",jt,le]]);return this.setMatrix(qe),this},Ae}(B.Z);mn.Z=Lt},31841:function(Dn,mn,kt){"use strict";var Te=kt(97582),ne=kt(37153),Ge=function(je){(0,Te.ZT)(Ee,je);function Ee(){return je!==null&&je.apply(this,arguments)||this}return Ee.prototype.isGroup=function(){return!0},Ee.prototype.isEntityGroup=function(){return!1},Ee.prototype.clone=function(){for(var B=je.prototype.clone.call(this),Gt=this.getChildren(),fe=0;fe<Gt.length;fe++){var rt=Gt[fe];B.add(rt.clone())}return B},Ee}(ne.Z);mn.Z=Ge},15032:function(Dn,mn,kt){"use strict";var Te=kt(97582),ne=kt(29881),Ge=kt(41482),je=function(Ee){(0,Te.ZT)(B,Ee);function B(Gt){return Ee.call(this,Gt)||this}return B.prototype._isInBBox=function(Gt,fe){var rt=this.getBBox();return rt.minX<=Gt&&rt.maxX>=Gt&&rt.minY<=fe&&rt.maxY>=fe},B.prototype.afterAttrsChange=function(Gt){Ee.prototype.afterAttrsChange.call(this,Gt),this.clearCacheBBox()},B.prototype.getBBox=function(){var Gt=this.cfg.bbox;return Gt||(Gt=this.calculateBBox(),this.set("bbox",Gt)),Gt},B.prototype.getCanvasBBox=function(){var Gt=this.cfg.canvasBBox;return Gt||(Gt=this.calculateCanvasBBox(),this.set("canvasBBox",Gt)),Gt},B.prototype.applyMatrix=function(Gt){Ee.prototype.applyMatrix.call(this,Gt),this.set("canvasBBox",null)},B.prototype.calculateCanvasBBox=function(){var Gt=this.getBBox(),fe=this.getTotalMatrix(),rt=Gt.minX,ue=Gt.minY,se=Gt.maxX,de=Gt.maxY;if(fe){var Kt=(0,Ge.rG)(fe,[Gt.minX,Gt.minY]),L=(0,Ge.rG)(fe,[Gt.maxX,Gt.minY]),_=(0,Ge.rG)(fe,[Gt.minX,Gt.maxY]),Ht=(0,Ge.rG)(fe,[Gt.maxX,Gt.maxY]);rt=Math.min(Kt[0],L[0],_[0],Ht[0]),se=Math.max(Kt[0],L[0],_[0],Ht[0]),ue=Math.min(Kt[1],L[1],_[1],Ht[1]),de=Math.max(Kt[1],L[1],_[1],Ht[1])}var Lt=this.attrs;if(Lt.shadowColor){var Oe=Lt.shadowBlur,Ae=Oe===void 0?0:Oe,jt=Lt.shadowOffsetX,le=jt===void 0?0:jt,Ce=Lt.shadowOffsetY,Ve=Ce===void 0?0:Ce,qe=rt-Ae+le,Xe=se+Ae+le,On=ue-Ae+Ve,ve=de+Ae+Ve;rt=Math.min(rt,qe),se=Math.max(se,Xe),ue=Math.min(ue,On),de=Math.max(de,ve)}return{x:rt,y:ue,minX:rt,minY:ue,maxX:se,maxY:de,width:se-rt,height:de-ue}},B.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},B.prototype.isClipShape=function(){return this.get("isClipShape")},B.prototype.isInShape=function(Gt,fe){return!1},B.prototype.isOnlyHitBox=function(){return!1},B.prototype.isHit=function(Gt,fe){var rt=this.get("startArrowShape"),ue=this.get("endArrowShape"),se=[Gt,fe,1];se=this.invertFromMatrix(se);var de=se[0],Kt=se[1],L=this._isInBBox(de,Kt);return this.isOnlyHitBox()?L:!!(L&&!this.isClipped(de,Kt)&&(this.isInShape(de,Kt)||rt&&rt.isHit(de,Kt)||ue&&ue.isHit(de,Kt)))},B}(ne.Z);mn.Z=je},93924:function(Dn,mn,kt){"use strict";kt.d(mn,{_:function(){return re},C:function(){return wt}});var Te={};kt.r(Te),kt.d(Te,{easeBack:function(){return Ot},easeBackIn:function(){return tt},easeBackInOut:function(){return Ot},easeBackOut:function(){return ct},easeBounce:function(){return ie},easeBounceIn:function(){return Et},easeBounceInOut:function(){return He},easeBounceOut:function(){return ie},easeCircle:function(){return qe},easeCircleIn:function(){return Ce},easeCircleInOut:function(){return qe},easeCircleOut:function(){return Ve},easeCubic:function(){return fe},easeCubicIn:function(){return B},easeCubicInOut:function(){return fe},easeCubicOut:function(){return Gt},easeElastic:function(){return xe},easeElasticIn:function(){return we},easeElasticInOut:function(){return xt},easeElasticOut:function(){return xe},easeExp:function(){return le},easeExpIn:function(){return Ae},easeExpInOut:function(){return le},easeExpOut:function(){return jt},easeLinear:function(){return ne},easePoly:function(){return de},easePolyIn:function(){return ue},easePolyInOut:function(){return de},easePolyOut:function(){return se},easeQuad:function(){return Ee},easeQuadIn:function(){return Ge},easeQuadInOut:function(){return Ee},easeQuadOut:function(){return je},easeSin:function(){return Lt},easeSinIn:function(){return _},easeSinInOut:function(){return Lt},easeSinOut:function(){return Ht}});function ne(vt){return+vt}function Ge(vt){return vt*vt}function je(vt){return vt*(2-vt)}function Ee(vt){return((vt*=2)<=1?vt*vt:--vt*(2-vt)+1)/2}function B(vt){return vt*vt*vt}function Gt(vt){return--vt*vt*vt+1}function fe(vt){return((vt*=2)<=1?vt*vt*vt:(vt-=2)*vt*vt+2)/2}var rt=3,ue=function vt(Bt){Bt=+Bt;function Zt(at){return Math.pow(at,Bt)}return Zt.exponent=vt,Zt}(rt),se=function vt(Bt){Bt=+Bt;function Zt(at){return 1-Math.pow(1-at,Bt)}return Zt.exponent=vt,Zt}(rt),de=function vt(Bt){Bt=+Bt;function Zt(at){return((at*=2)<=1?Math.pow(at,Bt):2-Math.pow(2-at,Bt))/2}return Zt.exponent=vt,Zt}(rt),Kt=Math.PI,L=Kt/2;function _(vt){return+vt==1?1:1-Math.cos(vt*L)}function Ht(vt){return Math.sin(vt*L)}function Lt(vt){return(1-Math.cos(Kt*vt))/2}function Oe(vt){return(Math.pow(2,-10*vt)-.0009765625)*1.0009775171065494}function Ae(vt){return Oe(1-+vt)}function jt(vt){return 1-Oe(vt)}function le(vt){return((vt*=2)<=1?Oe(1-vt):2-Oe(vt-1))/2}function Ce(vt){return 1-Math.sqrt(1-vt*vt)}function Ve(vt){return Math.sqrt(1- --vt*vt)}function qe(vt){return((vt*=2)<=1?1-Math.sqrt(1-vt*vt):Math.sqrt(1-(vt-=2)*vt)+1)/2}var Xe=4/11,On=6/11,ve=8/11,Ne=3/4,Qe=9/11,Ue=10/11,Ie=15/16,zt=21/22,ye=63/64,nt=1/Xe/Xe;function Et(vt){return 1-ie(1-vt)}function ie(vt){return(vt=+vt)<Xe?nt*vt*vt:vt<ve?nt*(vt-=On)*vt+Ne:vt<Ue?nt*(vt-=Qe)*vt+Ie:nt*(vt-=zt)*vt+ye}function He(vt){return((vt*=2)<=1?1-ie(1-vt):ie(vt-1)+1)/2}var Je=1.70158,tt=function vt(Bt){Bt=+Bt;function Zt(at){return(at=+at)*at*(Bt*(at-1)+at)}return Zt.overshoot=vt,Zt}(Je),ct=function vt(Bt){Bt=+Bt;function Zt(at){return--at*at*((at+1)*Bt+at)+1}return Zt.overshoot=vt,Zt}(Je),Ot=function vt(Bt){Bt=+Bt;function Zt(at){return((at*=2)<1?at*at*((Bt+1)*at-Bt):(at-=2)*at*((Bt+1)*at+Bt)+2)/2}return Zt.overshoot=vt,Zt}(Je),yt=2*Math.PI,Yt=1,qt=.3,we=function vt(Bt,Zt){var at=Math.asin(1/(Bt=Math.max(1,Bt)))*(Zt/=yt);function mt(It){return Bt*Oe(- --It)*Math.sin((at-It)/Zt)}return mt.amplitude=function(It){return vt(It,Zt*yt)},mt.period=function(It){return vt(Bt,It)},mt}(Yt,qt),xe=function vt(Bt,Zt){var at=Math.asin(1/(Bt=Math.max(1,Bt)))*(Zt/=yt);function mt(It){return 1-Bt*Oe(It=+It)*Math.sin((It+at)/Zt)}return mt.amplitude=function(It){return vt(It,Zt*yt)},mt.period=function(It){return vt(Bt,It)},mt}(Yt,qt),xt=function vt(Bt,Zt){var at=Math.asin(1/(Bt=Math.max(1,Bt)))*(Zt/=yt);function mt(It){return((It=It*2-1)<0?Bt*Oe(-It)*Math.sin((at-It)/Zt):2-Bt*Oe(It)*Math.sin((at+It)/Zt))/2}return mt.amplitude=function(It){return vt(It,Zt*yt)},mt.period=function(It){return vt(Bt,It)},mt}(Yt,qt),Wt={};function re(vt){return Wt[vt.toLowerCase()]||Te[vt]}function wt(vt,Bt){Wt[vt.toLowerCase()]=Bt}},36224:function(Dn,mn,kt){"use strict";kt.d(mn,{b:function(){return Ge},W:function(){return ne}});var Te=new Map;function ne(dt,it){Te.set(dt,it)}function Ge(dt){return Te.get(dt)}function je(dt){var it=dt.attr(),Tt=it.x,_t=it.y,Dt=it.width,$t=it.height;return{x:Tt,y:_t,width:Dt,height:$t}}function Ee(dt){var it=dt.attr(),Tt=it.x,_t=it.y,Dt=it.r;return{x:Tt-Dt,y:_t-Dt,width:Dt*2,height:Dt*2}}var B=kt(45098);function Gt(dt,it,Tt,_t){var Dt=dt-Tt,$t=it-_t;return Math.sqrt(Dt*Dt+$t*$t)}function fe(dt,it){return Math.abs(dt-it)<.001}function rt(dt,it){var Tt=(0,B.VV)(dt),_t=(0,B.VV)(it),Dt=(0,B.Fp)(dt),$t=(0,B.Fp)(it);return{x:Tt,y:_t,width:Dt-Tt,height:$t-_t}}function ue(dt,it,Tt,_t){return{minX:(0,B.VV)([dt,Tt]),maxX:(0,B.Fp)([dt,Tt]),minY:(0,B.VV)([it,_t]),maxY:(0,B.Fp)([it,_t])}}function se(dt){return(dt+Math.PI*2)%(Math.PI*2)}var de=kt(31437),Kt={box:function(dt,it,Tt,_t){return rt([dt,Tt],[it,_t])},length:function(dt,it,Tt,_t){return Gt(dt,it,Tt,_t)},pointAt:function(dt,it,Tt,_t,Dt){return{x:(1-Dt)*dt+Dt*Tt,y:(1-Dt)*it+Dt*_t}},pointDistance:function(dt,it,Tt,_t,Dt,$t){var bt=(Tt-dt)*(Dt-dt)+(_t-it)*($t-it);if(bt<0)return Gt(dt,it,Dt,$t);var lt=(Tt-dt)*(Tt-dt)+(_t-it)*(_t-it);return bt>lt?Gt(Tt,_t,Dt,$t):this.pointToLine(dt,it,Tt,_t,Dt,$t)},pointToLine:function(dt,it,Tt,_t,Dt,$t){var bt=[Tt-dt,_t-it];if(de.I6(bt,[0,0]))return Math.sqrt((Dt-dt)*(Dt-dt)+($t-it)*($t-it));var lt=[-bt[1],bt[0]];de.Fv(lt,lt);var pt=[Dt-dt,$t-it];return Math.abs(de.AK(pt,lt))},tangentAngle:function(dt,it,Tt,_t){return Math.atan2(_t-it,Tt-dt)}},L=1e-4;function _(dt,it,Tt,_t,Dt,$t){var bt,lt=1/0,pt=[Tt,_t],Rt=20;$t&&$t>200&&(Rt=$t/10);for(var Nt=1/Rt,he=Nt/10,Pe=0;Pe<=Rt;Pe++){var Fe=Pe*Nt,rn=[Dt.apply(null,dt.concat([Fe])),Dt.apply(null,it.concat([Fe]))],un=Gt(pt[0],pt[1],rn[0],rn[1]);un<lt&&(bt=Fe,lt=un)}if(bt===0)return{x:dt[0],y:it[0]};if(bt===1){var En=dt.length;return{x:dt[En-1],y:it[En-1]}}lt=1/0;for(var Pe=0;Pe<32&&!(he<L);Pe++){var qn=bt-he,_r=bt+he,rn=[Dt.apply(null,dt.concat([qn])),Dt.apply(null,it.concat([qn]))],un=Gt(pt[0],pt[1],rn[0],rn[1]);if(qn>=0&&un<lt)bt=qn,lt=un;else{var fr=[Dt.apply(null,dt.concat([_r])),Dt.apply(null,it.concat([_r]))],Ur=Gt(pt[0],pt[1],fr[0],fr[1]);_r<=1&&Ur<lt?(bt=_r,lt=Ur):he*=.5}}return{x:Dt.apply(null,dt.concat([bt])),y:Dt.apply(null,it.concat([bt]))}}function Ht(dt,it){for(var Tt=0,_t=dt.length,Dt=0;Dt<_t;Dt++){var $t=dt[Dt],bt=it[Dt],lt=dt[(Dt+1)%_t],pt=it[(Dt+1)%_t];Tt+=Gt($t,bt,lt,pt)}return Tt/2}function Lt(dt,it,Tt,_t){var Dt=1-_t;return Dt*Dt*dt+2*_t*Dt*it+_t*_t*Tt}function Oe(dt,it,Tt){var _t=dt+Tt-2*it;if(fe(_t,0))return[.5];var Dt=(dt-it)/_t;return Dt<=1&&Dt>=0?[Dt]:[]}function Ae(dt,it,Tt,_t){return 2*(1-_t)*(it-dt)+2*_t*(Tt-it)}function jt(dt,it,Tt,_t,Dt,$t,bt){var lt=Lt(dt,Tt,Dt,bt),pt=Lt(it,_t,$t,bt),Rt=Kt.pointAt(dt,it,Tt,_t,bt),Nt=Kt.pointAt(Tt,_t,Dt,$t,bt);return[[dt,it,Rt.x,Rt.y,lt,pt],[lt,pt,Nt.x,Nt.y,Dt,$t]]}function le(dt,it,Tt,_t,Dt,$t,bt){if(bt===0)return(Gt(dt,it,Tt,_t)+Gt(Tt,_t,Dt,$t)+Gt(dt,it,Dt,$t))/2;var lt=jt(dt,it,Tt,_t,Dt,$t,.5),pt=lt[0],Rt=lt[1];return pt.push(bt-1),Rt.push(bt-1),le.apply(null,pt)+le.apply(null,Rt)}var Ce={box:function(dt,it,Tt,_t,Dt,$t){var bt=Oe(dt,Tt,Dt)[0],lt=Oe(it,_t,$t)[0],pt=[dt,Dt],Rt=[it,$t];return bt!==void 0&&pt.push(Lt(dt,Tt,Dt,bt)),lt!==void 0&&Rt.push(Lt(it,_t,$t,lt)),rt(pt,Rt)},length:function(dt,it,Tt,_t,Dt,$t){return le(dt,it,Tt,_t,Dt,$t,3)},nearestPoint:function(dt,it,Tt,_t,Dt,$t,bt,lt){return _([dt,Tt,Dt],[it,_t,$t],bt,lt,Lt)},pointDistance:function(dt,it,Tt,_t,Dt,$t,bt,lt){var pt=this.nearestPoint(dt,it,Tt,_t,Dt,$t,bt,lt);return Gt(pt.x,pt.y,bt,lt)},interpolationAt:Lt,pointAt:function(dt,it,Tt,_t,Dt,$t,bt){return{x:Lt(dt,Tt,Dt,bt),y:Lt(it,_t,$t,bt)}},divide:function(dt,it,Tt,_t,Dt,$t,bt){return jt(dt,it,Tt,_t,Dt,$t,bt)},tangentAngle:function(dt,it,Tt,_t,Dt,$t,bt){var lt=Ae(dt,Tt,Dt,bt),pt=Ae(it,_t,$t,bt),Rt=Math.atan2(pt,lt);return se(Rt)}};function Ve(dt,it,Tt,_t,Dt){var $t=1-Dt;return $t*$t*$t*dt+3*it*Dt*$t*$t+3*Tt*Dt*Dt*$t+_t*Dt*Dt*Dt}function qe(dt,it,Tt,_t,Dt){var $t=1-Dt;return 3*($t*$t*(it-dt)+2*$t*Dt*(Tt-it)+Dt*Dt*(_t-Tt))}function Xe(dt,it,Tt,_t){var Dt=-3*dt+9*it-9*Tt+3*_t,$t=6*dt-12*it+6*Tt,bt=3*it-3*dt,lt=[],pt,Rt,Nt;if(fe(Dt,0))fe($t,0)||(pt=-bt/$t,pt>=0&&pt<=1&&lt.push(pt));else{var he=$t*$t-4*Dt*bt;fe(he,0)?lt.push(-$t/(2*Dt)):he>0&&(Nt=Math.sqrt(he),pt=(-$t+Nt)/(2*Dt),Rt=(-$t-Nt)/(2*Dt),pt>=0&&pt<=1&&lt.push(pt),Rt>=0&&Rt<=1&&lt.push(Rt))}return lt}function On(dt,it,Tt,_t,Dt,$t,bt,lt,pt){var Rt=Ve(dt,Tt,Dt,bt,pt),Nt=Ve(it,_t,$t,lt,pt),he=Kt.pointAt(dt,it,Tt,_t,pt),Pe=Kt.pointAt(Tt,_t,Dt,$t,pt),Fe=Kt.pointAt(Dt,$t,bt,lt,pt),rn=Kt.pointAt(he.x,he.y,Pe.x,Pe.y,pt),un=Kt.pointAt(Pe.x,Pe.y,Fe.x,Fe.y,pt);return[[dt,it,he.x,he.y,rn.x,rn.y,Rt,Nt],[Rt,Nt,un.x,un.y,Fe.x,Fe.y,bt,lt]]}function ve(dt,it,Tt,_t,Dt,$t,bt,lt,pt){if(pt===0)return Ht([dt,Tt,Dt,bt],[it,_t,$t,lt]);var Rt=On(dt,it,Tt,_t,Dt,$t,bt,lt,.5),Nt=Rt[0],he=Rt[1];return Nt.push(pt-1),he.push(pt-1),ve.apply(null,Nt)+ve.apply(null,he)}var Ne={extrema:Xe,box:function(dt,it,Tt,_t,Dt,$t,bt,lt){for(var pt=[dt,bt],Rt=[it,lt],Nt=Xe(dt,Tt,Dt,bt),he=Xe(it,_t,$t,lt),Pe=0;Pe<Nt.length;Pe++)pt.push(Ve(dt,Tt,Dt,bt,Nt[Pe]));for(var Pe=0;Pe<he.length;Pe++)Rt.push(Ve(it,_t,$t,lt,he[Pe]));return rt(pt,Rt)},length:function(dt,it,Tt,_t,Dt,$t,bt,lt){return ve(dt,it,Tt,_t,Dt,$t,bt,lt,3)},nearestPoint:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt,Rt,Nt){return _([dt,Tt,Dt,bt],[it,_t,$t,lt],pt,Rt,Ve,Nt)},pointDistance:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt,Rt,Nt){var he=this.nearestPoint(dt,it,Tt,_t,Dt,$t,bt,lt,pt,Rt,Nt);return Gt(he.x,he.y,pt,Rt)},interpolationAt:Ve,pointAt:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt){return{x:Ve(dt,Tt,Dt,bt,pt),y:Ve(it,_t,$t,lt,pt)}},divide:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt){return On(dt,it,Tt,_t,Dt,$t,bt,lt,pt)},tangentAngle:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt){var Rt=qe(dt,Tt,Dt,bt,pt),Nt=qe(it,_t,$t,lt,pt);return se(Math.atan2(Nt,Rt))}};function Qe(dt,it){var Tt=Math.abs(dt);return it>0?Tt:Tt*-1}var Ue={box:function(dt,it,Tt,_t){return{x:dt-Tt,y:it-_t,width:Tt*2,height:_t*2}},length:function(dt,it,Tt,_t){return Math.PI*(3*(Tt+_t)-Math.sqrt((3*Tt+_t)*(Tt+3*_t)))},nearestPoint:function(dt,it,Tt,_t,Dt,$t){var bt=Tt,lt=_t;if(bt===0||lt===0)return{x:dt,y:it};for(var pt=Dt-dt,Rt=$t-it,Nt=Math.abs(pt),he=Math.abs(Rt),Pe=bt*bt,Fe=lt*lt,rn=Math.PI/4,un,En,qn=0;qn<4;qn++){un=bt*Math.cos(rn),En=lt*Math.sin(rn);var _r=(Pe-Fe)*Math.pow(Math.cos(rn),3)/bt,fr=(Fe-Pe)*Math.pow(Math.sin(rn),3)/lt,Ur=un-_r,Li=En-fr,Hi=Nt-_r,Ra=he-fr,Fa=Math.hypot(Li,Ur),Da=Math.hypot(Ra,Hi),Jo=Fa*Math.asin((Ur*Ra-Li*Hi)/(Fa*Da)),Ba=Jo/Math.sqrt(Pe+Fe-un*un-En*En);rn+=Ba,rn=Math.min(Math.PI/2,Math.max(0,rn))}return{x:dt+Qe(un,pt),y:it+Qe(En,Rt)}},pointDistance:function(dt,it,Tt,_t,Dt,$t){var bt=this.nearestPoint(dt,it,Tt,_t,Dt,$t);return Gt(bt.x,bt.y,Dt,$t)},pointAt:function(dt,it,Tt,_t,Dt){var $t=2*Math.PI*Dt;return{x:dt+Tt*Math.cos($t),y:it+_t*Math.sin($t)}},tangentAngle:function(dt,it,Tt,_t,Dt){var $t=2*Math.PI*Dt,bt=Math.atan2(_t*Math.cos($t),-Tt*Math.sin($t));return se(bt)}};function Ie(dt,it,Tt,_t,Dt,$t,bt,lt){return-1*Tt*Math.cos(Dt)*Math.sin(lt)-_t*Math.sin(Dt)*Math.cos(lt)}function zt(dt,it,Tt,_t,Dt,$t,bt,lt){return-1*Tt*Math.sin(Dt)*Math.sin(lt)+_t*Math.cos(Dt)*Math.cos(lt)}function ye(dt,it,Tt){return Math.atan(-it/dt*Math.tan(Tt))}function nt(dt,it,Tt){return Math.atan(it/(dt*Math.tan(Tt)))}function Et(dt,it,Tt,_t,Dt,$t){return Tt*Math.cos(Dt)*Math.cos($t)-_t*Math.sin(Dt)*Math.sin($t)+dt}function ie(dt,it,Tt,_t,Dt,$t){return Tt*Math.sin(Dt)*Math.cos($t)+_t*Math.cos(Dt)*Math.sin($t)+it}function He(dt,it,Tt,_t){var Dt=Math.atan2(_t*dt,Tt*it);return(Dt+Math.PI*2)%(Math.PI*2)}function Je(dt,it,Tt){return{x:dt*Math.cos(Tt),y:it*Math.sin(Tt)}}function tt(dt,it,Tt){var _t=Math.cos(Tt),Dt=Math.sin(Tt);return[dt*_t-it*Dt,dt*Dt+it*_t]}var ct={box:function(dt,it,Tt,_t,Dt,$t,bt){for(var lt=ye(Tt,_t,Dt),pt=1/0,Rt=-1/0,Nt=[$t,bt],he=-Math.PI*2;he<=Math.PI*2;he+=Math.PI){var Pe=lt+he;$t<bt?$t<Pe&&Pe<bt&&Nt.push(Pe):bt<Pe&&Pe<$t&&Nt.push(Pe)}for(var he=0;he<Nt.length;he++){var Fe=Et(dt,it,Tt,_t,Dt,Nt[he]);Fe<pt&&(pt=Fe),Fe>Rt&&(Rt=Fe)}for(var rn=nt(Tt,_t,Dt),un=1/0,En=-1/0,qn=[$t,bt],he=-Math.PI*2;he<=Math.PI*2;he+=Math.PI){var _r=rn+he;$t<bt?$t<_r&&_r<bt&&qn.push(_r):bt<_r&&_r<$t&&qn.push(_r)}for(var he=0;he<qn.length;he++){var fr=ie(dt,it,Tt,_t,Dt,qn[he]);fr<un&&(un=fr),fr>En&&(En=fr)}return{x:pt,y:un,width:Rt-pt,height:En-un}},length:function(dt,it,Tt,_t,Dt,$t,bt){},nearestPoint:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt){var Rt=tt(lt-dt,pt-it,-Dt),Nt=Rt[0],he=Rt[1],Pe=Ue.nearestPoint(0,0,Tt,_t,Nt,he),Fe=He(Tt,_t,Pe.x,Pe.y);Fe<$t?Pe=Je(Tt,_t,$t):Fe>bt&&(Pe=Je(Tt,_t,bt));var rn=tt(Pe.x,Pe.y,Dt);return{x:rn[0]+dt,y:rn[1]+it}},pointDistance:function(dt,it,Tt,_t,Dt,$t,bt,lt,pt){var Rt=this.nearestPoint(dt,it,Tt,_t,lt,pt);return Gt(Rt.x,Rt.y,lt,pt)},pointAt:function(dt,it,Tt,_t,Dt,$t,bt,lt){var pt=(bt-$t)*lt+$t;return{x:Et(dt,it,Tt,_t,Dt,pt),y:ie(dt,it,Tt,_t,Dt,pt)}},tangentAngle:function(dt,it,Tt,_t,Dt,$t,bt,lt){var pt=(bt-$t)*lt+$t,Rt=Ie(dt,it,Tt,_t,Dt,$t,bt,pt),Nt=zt(dt,it,Tt,_t,Dt,$t,bt,pt);return se(Math.atan2(Nt,Rt))}};function Ot(dt){for(var it=0,Tt=[],_t=0;_t<dt.length-1;_t++){var Dt=dt[_t],$t=dt[_t+1],bt=Gt(Dt[0],Dt[1],$t[0],$t[1]),lt={from:Dt,to:$t,length:bt};Tt.push(lt),it+=bt}return{segments:Tt,totalLength:it}}function yt(dt){if(dt.length<2)return 0;for(var it=0,Tt=0;Tt<dt.length-1;Tt++){var _t=dt[Tt],Dt=dt[Tt+1];it+=Gt(_t[0],_t[1],Dt[0],Dt[1])}return it}function Yt(dt,it){if(it>1||it<0||dt.length<2)return null;var Tt=Ot(dt),_t=Tt.segments,Dt=Tt.totalLength;if(Dt===0)return{x:dt[0][0],y:dt[0][1]};for(var $t=0,bt=null,lt=0;lt<_t.length;lt++){var pt=_t[lt],Rt=pt.from,Nt=pt.to,he=pt.length/Dt;if(it>=$t&&it<=$t+he){var Pe=(it-$t)/he;bt=Kt.pointAt(Rt[0],Rt[1],Nt[0],Nt[1],Pe);break}$t+=he}return bt}function qt(dt,it){if(it>1||it<0||dt.length<2)return 0;for(var Tt=Ot(dt),_t=Tt.segments,Dt=Tt.totalLength,$t=0,bt=0,lt=0;lt<_t.length;lt++){var pt=_t[lt],Rt=pt.from,Nt=pt.to,he=pt.length/Dt;if(it>=$t&&it<=$t+he){bt=Math.atan2(Nt[1]-Rt[1],Nt[0]-Rt[0]);break}$t+=he}return bt}function we(dt,it,Tt){for(var _t=1/0,Dt=0;Dt<dt.length-1;Dt++){var $t=dt[Dt],bt=dt[Dt+1],lt=Kt.pointDistance($t[0],$t[1],bt[0],bt[1],it,Tt);lt<_t&&(_t=lt)}return _t}var xe={box:function(dt){for(var it=[],Tt=[],_t=0;_t<dt.length;_t++){var Dt=dt[_t];it.push(Dt[0]),Tt.push(Dt[1])}return rt(it,Tt)},length:function(dt){return yt(dt)},pointAt:function(dt,it){return Yt(dt,it)},pointDistance:function(dt,it,Tt){return we(dt,it,Tt)},tangentAngle:function(dt,it){return qt(dt,it)}};function xt(dt){var it=dt.slice(0);return dt.length&&it.push(dt[0]),it}var Wt={box:function(dt){return xe.box(dt)},length:function(dt){return yt(xt(dt))},pointAt:function(dt,it){return Yt(xt(dt),it)},pointDistance:function(dt,it,Tt){return we(xt(dt),it,Tt)},tangentAngle:function(dt,it){return qt(xt(dt),it)}};function re(dt,it){return!dt||!it?dt||it:{minX:Math.min(dt.minX,it.minX),minY:Math.min(dt.minY,it.minY),maxX:Math.max(dt.maxX,it.maxX),maxY:Math.max(dt.maxY,it.maxY)}}function wt(dt,it){var Tt=dt.get("startArrowShape"),_t=dt.get("endArrowShape"),Dt=null,$t=null;return Tt&&(Dt=Tt.getCanvasBBox(),it=re(it,Dt)),_t&&($t=_t.getCanvasBBox(),it=re(it,$t)),it}function vt(dt){for(var it=dt.attr(),Tt=it.points,_t=[],Dt=[],$t=0;$t<Tt.length;$t++){var bt=Tt[$t];_t.push(bt[0]),Dt.push(bt[1])}var lt=rt(_t,Dt),pt=lt.x,Rt=lt.y,Nt=lt.width,he=lt.height,Pe={minX:pt,minY:Rt,maxX:pt+Nt,maxY:Rt+he};return Pe=wt(dt,Pe),{x:Pe.minX,y:Pe.minY,width:Pe.maxX-Pe.minX,height:Pe.maxY-Pe.minY}}function Bt(dt){for(var it=dt.attr(),Tt=it.points,_t=[],Dt=[],$t=0;$t<Tt.length;$t++){var bt=Tt[$t];_t.push(bt[0]),Dt.push(bt[1])}return rt(_t,Dt)}var Zt=kt(8723);function at(dt){var it=dt.attr(),Tt=it.x,_t=it.y,Dt=it.text,$t=it.fontSize,bt=it.lineHeight,lt=it.font;lt||(lt=(0,Zt.$O)(it));var pt=(0,Zt.mY)(Dt,lt),Rt;if(!pt)Rt={x:Tt,y:_t,width:0,height:0};else{var Nt=it.textAlign,he=it.textBaseline,Pe=(0,Zt.FE)(Dt,$t,bt),Fe={x:Tt,y:_t-Pe};Nt&&(Nt==="end"||Nt==="right"?Fe.x-=pt:Nt==="center"&&(Fe.x-=pt/2)),he&&(he==="top"?Fe.y+=Pe:he==="middle"&&(Fe.y+=Pe/2)),Rt={x:Fe.x,y:Fe.y,width:pt,height:Pe}}return Rt}var mt=kt(23077);function It(dt,it){for(var Tt=[],_t=[],Dt=[],$t=0;$t<dt.length;$t++){var bt=dt[$t],lt=bt.currentPoint,pt=bt.params,Rt=bt.prePoint,Nt=void 0;switch(bt.command){case"Q":Nt=Ce.box(Rt[0],Rt[1],pt[1],pt[2],pt[3],pt[4]);break;case"C":Nt=Ne.box(Rt[0],Rt[1],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6]);break;case"A":var he=bt.arcParams;Nt=ct.box(he.cx,he.cy,he.rx,he.ry,he.xRotation,he.startAngle,he.endAngle);break;default:Tt.push(lt[0]),_t.push(lt[1]);break}Nt&&(bt.box=Nt,Tt.push(Nt.x,Nt.x+Nt.width),_t.push(Nt.y,Nt.y+Nt.height)),it&&(bt.command==="L"||bt.command==="M")&&bt.prePoint&&bt.nextPoint&&Dt.push(bt)}Tt=Tt.filter(function(qn){return!Number.isNaN(qn)&&qn!==1/0&&qn!==-1/0}),_t=_t.filter(function(qn){return!Number.isNaN(qn)&&qn!==1/0&&qn!==-1/0});var Pe=(0,B.VV)(Tt),Fe=(0,B.VV)(_t),rn=(0,B.Fp)(Tt),un=(0,B.Fp)(_t);if(Dt.length===0)return{x:Pe,y:Fe,width:rn-Pe,height:un-Fe};for(var $t=0;$t<Dt.length;$t++){var bt=Dt[$t],lt=bt.currentPoint,En=void 0;lt[0]===Pe?(En=te(bt,it),Pe=Pe-En.xExtra):lt[0]===rn&&(En=te(bt,it),rn=rn+En.xExtra),lt[1]===Fe?(En=te(bt,it),Fe=Fe-En.yExtra):lt[1]===un&&(En=te(bt,it),un=un+En.yExtra)}return{x:Pe,y:Fe,width:rn-Pe,height:un-Fe}}function te(dt,it){var Tt=dt.prePoint,_t=dt.currentPoint,Dt=dt.nextPoint,$t=Math.pow(_t[0]-Tt[0],2)+Math.pow(_t[1]-Tt[1],2),bt=Math.pow(_t[0]-Dt[0],2)+Math.pow(_t[1]-Dt[1],2),lt=Math.pow(Tt[0]-Dt[0],2)+Math.pow(Tt[1]-Dt[1],2),pt=Math.acos(($t+bt-lt)/(2*Math.sqrt($t)*Math.sqrt(bt)));if(!pt||Math.sin(pt)===0||(0,B.vQ)(pt,0))return{xExtra:0,yExtra:0};var Rt=Math.abs(Math.atan2(Dt[1]-_t[1],Dt[0]-_t[0])),Nt=Math.abs(Math.atan2(Dt[0]-_t[0],Dt[1]-_t[1]));Rt=Rt>Math.PI/2?Math.PI-Rt:Rt,Nt=Nt>Math.PI/2?Math.PI-Nt:Nt;var he={xExtra:Math.cos(pt/2-Rt)*(it/2*(1/Math.sin(pt/2)))-it/2||0,yExtra:Math.cos(Nt-pt/2)*(it/2*(1/Math.sin(pt/2)))-it/2||0};return he}function Qt(dt){var it=dt.attr(),Tt=it.path,_t=it.stroke,Dt=_t?it.lineWidth:0,$t=dt.get("segments")||(0,mt.zx)(Tt),bt=It($t,Dt),lt=bt.x,pt=bt.y,Rt=bt.width,Nt=bt.height,he={minX:lt,minY:pt,maxX:lt+Rt,maxY:pt+Nt};return he=wt(dt,he),{x:he.minX,y:he.minY,width:he.maxX-he.minX,height:he.maxY-he.minY}}function ee(dt){var it=dt.attr(),Tt=it.x1,_t=it.y1,Dt=it.x2,$t=it.y2,bt=Math.min(Tt,Dt),lt=Math.max(Tt,Dt),pt=Math.min(_t,$t),Rt=Math.max(_t,$t),Nt={minX:bt,maxX:lt,minY:pt,maxY:Rt};return Nt=wt(dt,Nt),{x:Nt.minX,y:Nt.minY,width:Nt.maxX-Nt.minX,height:Nt.maxY-Nt.minY}}function me(dt){var it=dt.attr(),Tt=it.x,_t=it.y,Dt=it.rx,$t=it.ry;return{x:Tt-Dt,y:_t-$t,width:Dt*2,height:$t*2}}ne("rect",je),ne("image",je),ne("circle",Ee),ne("marker",Ee),ne("polyline",vt),ne("polygon",Bt),ne("text",at),ne("path",Qt),ne("line",ee),ne("ellipse",me)},89473:function(Dn,mn){"use strict";var kt=function(){function Te(ne,Ge){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=ne,this.name=ne,this.originalEvent=Ge,this.timeStamp=Ge.timeStamp}return Te.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Te.prototype.stopPropagation=function(){this.propagationStopped=!0},Te.prototype.toString=function(){var ne=this.type;return"[Event (type="+ne+")]"},Te.prototype.save=function(){},Te.prototype.restore=function(){},Te}();mn.Z=kt},98190:function(Dn,mn,kt){"use strict";kt.r(mn),kt.d(mn,{AbstractCanvas:function(){return ue.Z},AbstractGroup:function(){return se.Z},AbstractShape:function(){return de.Z},Base:function(){return rt.Z},Event:function(){return fe.Z},PathUtil:function(){return Te},assembleFont:function(){return L.$O},getBBoxMethod:function(){return Kt.b},getOffScreenContext:function(){return Lt.L},getTextHeight:function(){return L.FE},invert:function(){return Ht.U_},isAllowCapture:function(){return _.pP},multiplyVec2:function(){return Ht.rG},registerBBox:function(){return Kt.W},registerEasing:function(){return Oe.C},version:function(){return Ae}});var Te=kt(47575),ne=kt(52),Ge=kt.n(ne),Gt={};for(var je in ne)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(je)<0&&(Gt[je]=function(jt){return ne[jt]}.bind(0,je));kt.d(mn,Gt);var Ee=kt(19641),B=kt.n(Ee),Gt={};for(var je in Ee)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(je)<0&&(Gt[je]=function(le){return Ee[le]}.bind(0,je));kt.d(mn,Gt);var fe=kt(89473),rt=kt(2667),ue=kt(42085),se=kt(31841),de=kt(15032),Kt=kt(36224),L=kt(8723),_=kt(77341),Ht=kt(41482),Lt=kt(67052),Oe=kt(93924),Ae="0.5.11"},19641:function(){},52:function(){},41482:function(Dn,mn,kt){"use strict";kt.d(mn,{U_:function(){return Ge},rG:function(){return ne},xq:function(){return Te}});function Te(je,Ee){var B=[],Gt=je[0],fe=je[1],rt=je[2],ue=je[3],se=je[4],de=je[5],Kt=je[6],L=je[7],_=je[8],Ht=Ee[0],Lt=Ee[1],Oe=Ee[2],Ae=Ee[3],jt=Ee[4],le=Ee[5],Ce=Ee[6],Ve=Ee[7],qe=Ee[8];return B[0]=Ht*Gt+Lt*ue+Oe*Kt,B[1]=Ht*fe+Lt*se+Oe*L,B[2]=Ht*rt+Lt*de+Oe*_,B[3]=Ae*Gt+jt*ue+le*Kt,B[4]=Ae*fe+jt*se+le*L,B[5]=Ae*rt+jt*de+le*_,B[6]=Ce*Gt+Ve*ue+qe*Kt,B[7]=Ce*fe+Ve*se+qe*L,B[8]=Ce*rt+Ve*de+qe*_,B}function ne(je,Ee){var B=[],Gt=Ee[0],fe=Ee[1];return B[0]=je[0]*Gt+je[3]*fe+je[6],B[1]=je[1]*Gt+je[4]*fe+je[7],B}function Ge(je){var Ee=[],B=je[0],Gt=je[1],fe=je[2],rt=je[3],ue=je[4],se=je[5],de=je[6],Kt=je[7],L=je[8],_=L*ue-se*Kt,Ht=-L*rt+se*de,Lt=Kt*rt-ue*de,Oe=B*_+Gt*Ht+fe*Lt;return Oe?(Oe=1/Oe,Ee[0]=_*Oe,Ee[1]=(-L*Gt+fe*Kt)*Oe,Ee[2]=(se*Gt-fe*ue)*Oe,Ee[3]=Ht*Oe,Ee[4]=(L*B-fe*de)*Oe,Ee[5]=(-se*B+fe*rt)*Oe,Ee[6]=Lt*Oe,Ee[7]=(-Kt*B+Gt*de)*Oe,Ee[8]=(ue*B-Gt*rt)*Oe,Ee):null}},67052:function(Dn,mn,kt){"use strict";kt.d(mn,{L:function(){return ne}});var Te=null;function ne(){if(!Te){var Ge=document.createElement("canvas");Ge.width=1,Ge.height=1,Te=Ge.getContext("2d")}return Te}},47575:function(Dn,mn,kt){"use strict";kt.r(mn),kt.d(mn,{catmullRomToBezier:function(){return B},fillPath:function(){return Ie},fillPathByDiff:function(){return Et},formatPath:function(){return Je},intersection:function(){return ve},parsePathArray:function(){return L},parsePathString:function(){return Ee},pathToAbsolute:function(){return fe},pathToCurve:function(){return de},rectPath:function(){return jt}});var Te=kt(45098),ne=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Ge=new RegExp("([a-z])["+ne+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ne+"]*,?["+ne+"]*)+)","ig"),je=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ne+"]*,?["+ne+"]*","ig"),Ee=function(tt){if(!tt)return null;if((0,Te.kJ)(tt))return tt;var ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Ot=[];return String(tt).replace(Ge,function(yt,Yt,qt){var we=[],xe=Yt.toLowerCase();if(qt.replace(je,function(xt,Wt){Wt&&we.push(+Wt)}),xe==="m"&&we.length>2&&(Ot.push([Yt].concat(we.splice(0,2))),xe="l",Yt=Yt==="m"?"l":"L"),xe==="o"&&we.length===1&&Ot.push([Yt,we[0]]),xe==="r")Ot.push([Yt].concat(we));else for(;we.length>=ct[xe]&&(Ot.push([Yt].concat(we.splice(0,ct[xe]))),!!ct[xe]););return tt}),Ot},B=function(tt,ct){for(var Ot=[],yt=0,Yt=tt.length;Yt-2*!ct>yt;yt+=2){var qt=[{x:+tt[yt-2],y:+tt[yt-1]},{x:+tt[yt],y:+tt[yt+1]},{x:+tt[yt+2],y:+tt[yt+3]},{x:+tt[yt+4],y:+tt[yt+5]}];ct?yt?Yt-4===yt?qt[3]={x:+tt[0],y:+tt[1]}:Yt-2===yt&&(qt[2]={x:+tt[0],y:+tt[1]},qt[3]={x:+tt[2],y:+tt[3]}):qt[0]={x:+tt[Yt-2],y:+tt[Yt-1]}:Yt-4===yt?qt[3]=qt[2]:yt||(qt[0]={x:+tt[yt],y:+tt[yt+1]}),Ot.push(["C",(-qt[0].x+6*qt[1].x+qt[2].x)/6,(-qt[0].y+6*qt[1].y+qt[2].y)/6,(qt[1].x+6*qt[2].x-qt[3].x)/6,(qt[1].y+6*qt[2].y-qt[3].y)/6,qt[2].x,qt[2].y])}return Ot},Gt=function(tt,ct,Ot,yt,Yt){var qt=[];if(Yt===null&&yt===null&&(yt=Ot),tt=+tt,ct=+ct,Ot=+Ot,yt=+yt,Yt!==null){var we=Math.PI/180,xe=tt+Ot*Math.cos(-yt*we),xt=tt+Ot*Math.cos(-Yt*we),Wt=ct+Ot*Math.sin(-yt*we),re=ct+Ot*Math.sin(-Yt*we);qt=[["M",xe,Wt],["A",Ot,Ot,0,+(Yt-yt>180),0,xt,re]]}else qt=[["M",tt,ct],["m",0,-yt],["a",Ot,yt,0,1,1,0,2*yt],["a",Ot,yt,0,1,1,0,-2*yt],["z"]];return qt},fe=function(tt){if(tt=Ee(tt),!tt||!tt.length)return[["M",0,0]];var ct=[],Ot=0,yt=0,Yt=0,qt=0,we=0,xe,xt;tt[0][0]==="M"&&(Ot=+tt[0][1],yt=+tt[0][2],Yt=Ot,qt=yt,we++,ct[0]=["M",Ot,yt]);for(var Wt=tt.length===3&&tt[0][0]==="M"&&tt[1][0].toUpperCase()==="R"&&tt[2][0].toUpperCase()==="Z",re=void 0,wt=void 0,vt=we,Bt=tt.length;vt<Bt;vt++){if(ct.push(re=[]),wt=tt[vt],xe=wt[0],xe!==xe.toUpperCase())switch(re[0]=xe.toUpperCase(),re[0]){case"A":re[1]=wt[1],re[2]=wt[2],re[3]=wt[3],re[4]=wt[4],re[5]=wt[5],re[6]=+wt[6]+Ot,re[7]=+wt[7]+yt;break;case"V":re[1]=+wt[1]+yt;break;case"H":re[1]=+wt[1]+Ot;break;case"R":xt=[Ot,yt].concat(wt.slice(1));for(var Zt=2,at=xt.length;Zt<at;Zt++)xt[Zt]=+xt[Zt]+Ot,xt[++Zt]=+xt[Zt]+yt;ct.pop(),ct=ct.concat(B(xt,Wt));break;case"O":ct.pop(),xt=Gt(Ot,yt,wt[1],wt[2]),xt.push(xt[0]),ct=ct.concat(xt);break;case"U":ct.pop(),ct=ct.concat(Gt(Ot,yt,wt[1],wt[2],wt[3])),re=["U"].concat(ct[ct.length-1].slice(-2));break;case"M":Yt=+wt[1]+Ot,qt=+wt[2]+yt;break;default:for(var Zt=1,at=wt.length;Zt<at;Zt++)re[Zt]=+wt[Zt]+(Zt%2?Ot:yt)}else if(xe==="R")xt=[Ot,yt].concat(wt.slice(1)),ct.pop(),ct=ct.concat(B(xt,Wt)),re=["R"].concat(wt.slice(-2));else if(xe==="O")ct.pop(),xt=Gt(Ot,yt,wt[1],wt[2]),xt.push(xt[0]),ct=ct.concat(xt);else if(xe==="U")ct.pop(),ct=ct.concat(Gt(Ot,yt,wt[1],wt[2],wt[3])),re=["U"].concat(ct[ct.length-1].slice(-2));else for(var mt=0,It=wt.length;mt<It;mt++)re[mt]=wt[mt];if(xe=xe.toUpperCase(),xe!=="O")switch(re[0]){case"Z":Ot=+Yt,yt=+qt;break;case"H":Ot=re[1];break;case"V":yt=re[1];break;case"M":Yt=re[re.length-2],qt=re[re.length-1];break;default:Ot=re[re.length-2],yt=re[re.length-1]}}return ct},rt=function(tt,ct,Ot,yt){return[tt,ct,Ot,yt,Ot,yt]},ue=function(tt,ct,Ot,yt,Yt,qt){var we=.3333333333333333,xe=2/3;return[we*tt+xe*Ot,we*ct+xe*yt,we*Yt+xe*Ot,we*qt+xe*yt,Yt,qt]},se=function(tt,ct,Ot,yt,Yt,qt,we,xe,xt,Wt){Ot===yt&&(Ot+=1);var re=Math.PI*120/180,wt=Math.PI/180*(+Yt||0),vt=[],Bt,Zt,at,mt,It,te=function(Li,Hi,Ra){var Fa=Li*Math.cos(Ra)-Hi*Math.sin(Ra),Da=Li*Math.sin(Ra)+Hi*Math.cos(Ra);return{x:Fa,y:Da}};if(Wt)Zt=Wt[0],at=Wt[1],mt=Wt[2],It=Wt[3];else{Bt=te(tt,ct,-wt),tt=Bt.x,ct=Bt.y,Bt=te(xe,xt,-wt),xe=Bt.x,xt=Bt.y,tt===xe&&ct===xt&&(xe+=1,xt+=1);var Qt=(tt-xe)/2,ee=(ct-xt)/2,me=Qt*Qt/(Ot*Ot)+ee*ee/(yt*yt);me>1&&(me=Math.sqrt(me),Ot=me*Ot,yt=me*yt);var dt=Ot*Ot,it=yt*yt,Tt=(qt===we?-1:1)*Math.sqrt(Math.abs((dt*it-dt*ee*ee-it*Qt*Qt)/(dt*ee*ee+it*Qt*Qt)));mt=Tt*Ot*ee/yt+(tt+xe)/2,It=Tt*-yt*Qt/Ot+(ct+xt)/2,Zt=Math.asin(((ct-It)/yt).toFixed(9)),at=Math.asin(((xt-It)/yt).toFixed(9)),Zt=tt<mt?Math.PI-Zt:Zt,at=xe<mt?Math.PI-at:at,Zt<0&&(Zt=Math.PI*2+Zt),at<0&&(at=Math.PI*2+at),we&&Zt>at&&(Zt=Zt-Math.PI*2),!we&&at>Zt&&(at=at-Math.PI*2)}var _t=at-Zt;if(Math.abs(_t)>re){var Dt=at,$t=xe,bt=xt;at=Zt+re*(we&&at>Zt?1:-1),xe=mt+Ot*Math.cos(at),xt=It+yt*Math.sin(at),vt=se(xe,xt,Ot,yt,Yt,0,we,$t,bt,[at,Dt,mt,It])}_t=at-Zt;var lt=Math.cos(Zt),pt=Math.sin(Zt),Rt=Math.cos(at),Nt=Math.sin(at),he=Math.tan(_t/4),Pe=4/3*Ot*he,Fe=4/3*yt*he,rn=[tt,ct],un=[tt+Pe*pt,ct-Fe*lt],En=[xe+Pe*Nt,xt-Fe*Rt],qn=[xe,xt];if(un[0]=2*rn[0]-un[0],un[1]=2*rn[1]-un[1],Wt)return[un,En,qn].concat(vt);vt=[un,En,qn].concat(vt).join().split(",");for(var _r=[],fr=0,Ur=vt.length;fr<Ur;fr++)_r[fr]=fr%2?te(vt[fr-1],vt[fr],wt).y:te(vt[fr],vt[fr+1],wt).x;return _r},de=function(tt,ct){var Ot=fe(tt),yt=ct&&fe(ct),Yt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},qt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},we=[],xe=[],xt="",Wt="",re,wt=function(Qt,ee,me){var dt,it;if(!Qt)return["C",ee.x,ee.y,ee.x,ee.y,ee.x,ee.y];switch(!(Qt[0]in{T:1,Q:1})&&(ee.qx=ee.qy=null),Qt[0]){case"M":ee.X=Qt[1],ee.Y=Qt[2];break;case"A":Qt=["C"].concat(se.apply(0,[ee.x,ee.y].concat(Qt.slice(1))));break;case"S":me==="C"||me==="S"?(dt=ee.x*2-ee.bx,it=ee.y*2-ee.by):(dt=ee.x,it=ee.y),Qt=["C",dt,it].concat(Qt.slice(1));break;case"T":me==="Q"||me==="T"?(ee.qx=ee.x*2-ee.qx,ee.qy=ee.y*2-ee.qy):(ee.qx=ee.x,ee.qy=ee.y),Qt=["C"].concat(ue(ee.x,ee.y,ee.qx,ee.qy,Qt[1],Qt[2]));break;case"Q":ee.qx=Qt[1],ee.qy=Qt[2],Qt=["C"].concat(ue(ee.x,ee.y,Qt[1],Qt[2],Qt[3],Qt[4]));break;case"L":Qt=["C"].concat(rt(ee.x,ee.y,Qt[1],Qt[2]));break;case"H":Qt=["C"].concat(rt(ee.x,ee.y,Qt[1],ee.y));break;case"V":Qt=["C"].concat(rt(ee.x,ee.y,ee.x,Qt[1]));break;case"Z":Qt=["C"].concat(rt(ee.x,ee.y,ee.X,ee.Y));break;default:break}return Qt},vt=function(Qt,ee){if(Qt[ee].length>7){Qt[ee].shift();for(var me=Qt[ee];me.length;)we[ee]="A",yt&&(xe[ee]="A"),Qt.splice(ee++,0,["C"].concat(me.splice(0,6)));Qt.splice(ee,1),re=Math.max(Ot.length,yt&&yt.length||0)}},Bt=function(Qt,ee,me,dt,it){Qt&&ee&&Qt[it][0]==="M"&&ee[it][0]!=="M"&&(ee.splice(it,0,["M",dt.x,dt.y]),me.bx=0,me.by=0,me.x=Qt[it][1],me.y=Qt[it][2],re=Math.max(Ot.length,yt&&yt.length||0))};re=Math.max(Ot.length,yt&&yt.length||0);for(var Zt=0;Zt<re;Zt++){Ot[Zt]&&(xt=Ot[Zt][0]),xt!=="C"&&(we[Zt]=xt,Zt&&(Wt=we[Zt-1])),Ot[Zt]=wt(Ot[Zt],Yt,Wt),we[Zt]!=="A"&&xt==="C"&&(we[Zt]="C"),vt(Ot,Zt),yt&&(yt[Zt]&&(xt=yt[Zt][0]),xt!=="C"&&(xe[Zt]=xt,Zt&&(Wt=xe[Zt-1])),yt[Zt]=wt(yt[Zt],qt,Wt),xe[Zt]!=="A"&&xt==="C"&&(xe[Zt]="C"),vt(yt,Zt)),Bt(Ot,yt,Yt,qt,Zt),Bt(yt,Ot,qt,Yt,Zt);var at=Ot[Zt],mt=yt&&yt[Zt],It=at.length,te=yt&&mt.length;Yt.x=at[It-2],Yt.y=at[It-1],Yt.bx=parseFloat(at[It-4])||Yt.x,Yt.by=parseFloat(at[It-3])||Yt.y,qt.bx=yt&&(parseFloat(mt[te-4])||qt.x),qt.by=yt&&(parseFloat(mt[te-3])||qt.y),qt.x=yt&&mt[te-2],qt.y=yt&&mt[te-1]}return yt?[Ot,yt]:Ot},Kt=/,?([a-z]),?/gi,L=function(tt){return tt.join(",").replace(Kt,"$1")},_=function(tt,ct,Ot,yt,Yt){var qt=-3*ct+9*Ot-9*yt+3*Yt,we=tt*qt+6*ct-12*Ot+6*yt;return tt*we-3*ct+3*Ot},Ht=function(tt,ct,Ot,yt,Yt,qt,we,xe,xt){xt===null&&(xt=1),xt=xt>1?1:xt<0?0:xt;for(var Wt=xt/2,re=12,wt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],vt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Bt=0,Zt=0;Zt<re;Zt++){var at=Wt*wt[Zt]+Wt,mt=_(at,tt,Ot,Yt,we),It=_(at,ct,yt,qt,xe),te=mt*mt+It*It;Bt+=vt[Zt]*Math.sqrt(te)}return Wt*Bt},Lt=function(tt,ct,Ot,yt,Yt,qt,we,xe){for(var xt=[],Wt=[[],[]],re,wt,vt,Bt,Zt=0;Zt<2;++Zt){if(Zt===0?(wt=6*tt-12*Ot+6*Yt,re=-3*tt+9*Ot-9*Yt+3*we,vt=3*Ot-3*tt):(wt=6*ct-12*yt+6*qt,re=-3*ct+9*yt-9*qt+3*xe,vt=3*yt-3*ct),Math.abs(re)<1e-12){if(Math.abs(wt)<1e-12)continue;Bt=-vt/wt,Bt>0&&Bt<1&&xt.push(Bt);continue}var at=wt*wt-4*vt*re,mt=Math.sqrt(at);if(!(at<0)){var It=(-wt+mt)/(2*re);It>0&&It<1&&xt.push(It);var te=(-wt-mt)/(2*re);te>0&&te<1&&xt.push(te)}}for(var Qt=xt.length,ee=Qt,me;Qt--;)Bt=xt[Qt],me=1-Bt,Wt[0][Qt]=me*me*me*tt+3*me*me*Bt*Ot+3*me*Bt*Bt*Yt+Bt*Bt*Bt*we,Wt[1][Qt]=me*me*me*ct+3*me*me*Bt*yt+3*me*Bt*Bt*qt+Bt*Bt*Bt*xe;return Wt[0][ee]=tt,Wt[1][ee]=ct,Wt[0][ee+1]=we,Wt[1][ee+1]=xe,Wt[0].length=Wt[1].length=ee+2,{min:{x:Math.min.apply(0,Wt[0]),y:Math.min.apply(0,Wt[1])},max:{x:Math.max.apply(0,Wt[0]),y:Math.max.apply(0,Wt[1])}}},Oe=function(tt,ct,Ot,yt,Yt,qt,we,xe){if(!(Math.max(tt,Ot)<Math.min(Yt,we)||Math.min(tt,Ot)>Math.max(Yt,we)||Math.max(ct,yt)<Math.min(qt,xe)||Math.min(ct,yt)>Math.max(qt,xe))){var xt=(tt*yt-ct*Ot)*(Yt-we)-(tt-Ot)*(Yt*xe-qt*we),Wt=(tt*yt-ct*Ot)*(qt-xe)-(ct-yt)*(Yt*xe-qt*we),re=(tt-Ot)*(qt-xe)-(ct-yt)*(Yt-we);if(re){var wt=xt/re,vt=Wt/re,Bt=+wt.toFixed(2),Zt=+vt.toFixed(2);if(!(Bt<+Math.min(tt,Ot).toFixed(2)||Bt>+Math.max(tt,Ot).toFixed(2)||Bt<+Math.min(Yt,we).toFixed(2)||Bt>+Math.max(Yt,we).toFixed(2)||Zt<+Math.min(ct,yt).toFixed(2)||Zt>+Math.max(ct,yt).toFixed(2)||Zt<+Math.min(qt,xe).toFixed(2)||Zt>+Math.max(qt,xe).toFixed(2)))return{x:wt,y:vt}}}},Ae=function(tt,ct,Ot){return ct>=tt.x&&ct<=tt.x+tt.width&&Ot>=tt.y&&Ot<=tt.y+tt.height},jt=function(tt,ct,Ot,yt,Yt){if(Yt)return[["M",+tt+ +Yt,ct],["l",Ot-Yt*2,0],["a",Yt,Yt,0,0,1,Yt,Yt],["l",0,yt-Yt*2],["a",Yt,Yt,0,0,1,-Yt,Yt],["l",Yt*2-Ot,0],["a",Yt,Yt,0,0,1,-Yt,-Yt],["l",0,Yt*2-yt],["a",Yt,Yt,0,0,1,Yt,-Yt],["z"]];var qt=[["M",tt,ct],["l",Ot,0],["l",0,yt],["l",-Ot,0],["z"]];return qt.parsePathArray=L,qt},le=function(tt,ct,Ot,yt){return tt===null&&(tt=ct=Ot=yt=0),ct===null&&(ct=tt.y,Ot=tt.width,yt=tt.height,tt=tt.x),{x:tt,y:ct,width:Ot,w:Ot,height:yt,h:yt,x2:tt+Ot,y2:ct+yt,cx:tt+Ot/2,cy:ct+yt/2,r1:Math.min(Ot,yt)/2,r2:Math.max(Ot,yt)/2,r0:Math.sqrt(Ot*Ot+yt*yt)/2,path:jt(tt,ct,Ot,yt),vb:[tt,ct,Ot,yt].join(" ")}},Ce=function(tt,ct){return tt=le(tt),ct=le(ct),Ae(ct,tt.x,tt.y)||Ae(ct,tt.x2,tt.y)||Ae(ct,tt.x,tt.y2)||Ae(ct,tt.x2,tt.y2)||Ae(tt,ct.x,ct.y)||Ae(tt,ct.x2,ct.y)||Ae(tt,ct.x,ct.y2)||Ae(tt,ct.x2,ct.y2)||(tt.x<ct.x2&&tt.x>ct.x||ct.x<tt.x2&&ct.x>tt.x)&&(tt.y<ct.y2&&tt.y>ct.y||ct.y<tt.y2&&ct.y>tt.y)},Ve=function(tt,ct,Ot,yt,Yt,qt,we,xe){(0,Te.kJ)(tt)||(tt=[tt,ct,Ot,yt,Yt,qt,we,xe]);var xt=Lt.apply(null,tt);return le(xt.min.x,xt.min.y,xt.max.x-xt.min.x,xt.max.y-xt.min.y)},qe=function(tt,ct,Ot,yt,Yt,qt,we,xe,xt){var Wt=1-xt,re=Math.pow(Wt,3),wt=Math.pow(Wt,2),vt=xt*xt,Bt=vt*xt,Zt=re*tt+wt*3*xt*Ot+Wt*3*xt*xt*Yt+Bt*we,at=re*ct+wt*3*xt*yt+Wt*3*xt*xt*qt+Bt*xe,mt=tt+2*xt*(Ot-tt)+vt*(Yt-2*Ot+tt),It=ct+2*xt*(yt-ct)+vt*(qt-2*yt+ct),te=Ot+2*xt*(Yt-Ot)+vt*(we-2*Yt+Ot),Qt=yt+2*xt*(qt-yt)+vt*(xe-2*qt+yt),ee=Wt*tt+xt*Ot,me=Wt*ct+xt*yt,dt=Wt*Yt+xt*we,it=Wt*qt+xt*xe,Tt=90-Math.atan2(mt-te,It-Qt)*180/Math.PI;return{x:Zt,y:at,m:{x:mt,y:It},n:{x:te,y:Qt},start:{x:ee,y:me},end:{x:dt,y:it},alpha:Tt}},Xe=function(tt,ct,Ot){var yt=Ve(tt),Yt=Ve(ct);if(!Ce(yt,Yt))return Ot?0:[];for(var qt=Ht.apply(0,tt),we=Ht.apply(0,ct),xe=~~(qt/8),xt=~~(we/8),Wt=[],re=[],wt={},vt=Ot?0:[],Bt=0;Bt<xe+1;Bt++){var Zt=qe.apply(0,tt.concat(Bt/xe));Wt.push({x:Zt.x,y:Zt.y,t:Bt/xe})}for(var Bt=0;Bt<xt+1;Bt++){var Zt=qe.apply(0,ct.concat(Bt/xt));re.push({x:Zt.x,y:Zt.y,t:Bt/xt})}for(var Bt=0;Bt<xe;Bt++)for(var at=0;at<xt;at++){var mt=Wt[Bt],It=Wt[Bt+1],te=re[at],Qt=re[at+1],ee=Math.abs(It.x-mt.x)<.001?"y":"x",me=Math.abs(Qt.x-te.x)<.001?"y":"x",dt=Oe(mt.x,mt.y,It.x,It.y,te.x,te.y,Qt.x,Qt.y);if(dt){if(wt[dt.x.toFixed(4)]===dt.y.toFixed(4))continue;wt[dt.x.toFixed(4)]=dt.y.toFixed(4);var it=mt.t+Math.abs((dt[ee]-mt[ee])/(It[ee]-mt[ee]))*(It.t-mt.t),Tt=te.t+Math.abs((dt[me]-te[me])/(Qt[me]-te[me]))*(Qt.t-te.t);it>=0&&it<=1&&Tt>=0&&Tt<=1&&(Ot?vt+=1:vt.push({x:dt.x,y:dt.y,t1:it,t2:Tt}))}}return vt},On=function(tt,ct,Ot){tt=de(tt),ct=de(ct);for(var yt,Yt,qt,we,xe,xt,Wt,re,wt,vt,Bt=Ot?0:[],Zt=0,at=tt.length;Zt<at;Zt++){var mt=tt[Zt];if(mt[0]==="M")yt=xe=mt[1],Yt=xt=mt[2];else{mt[0]==="C"?(wt=[yt,Yt].concat(mt.slice(1)),yt=wt[6],Yt=wt[7]):(wt=[yt,Yt,yt,Yt,xe,xt,xe,xt],yt=xe,Yt=xt);for(var It=0,te=ct.length;It<te;It++){var Qt=ct[It];if(Qt[0]==="M")qt=Wt=Qt[1],we=re=Qt[2];else{Qt[0]==="C"?(vt=[qt,we].concat(Qt.slice(1)),qt=vt[6],we=vt[7]):(vt=[qt,we,qt,we,Wt,re,Wt,re],qt=Wt,we=re);var ee=Xe(wt,vt,Ot);if(Ot)Bt+=ee;else{for(var me=0,dt=ee.length;me<dt;me++)ee[me].segment1=Zt,ee[me].segment2=It,ee[me].bez1=wt,ee[me].bez2=vt;Bt=Bt.concat(ee)}}}}}return Bt},ve=function(tt,ct){return On(tt,ct)};function Ne(tt,ct){var Ot=[],yt=[];function Yt(qt,we){if(qt.length===1)Ot.push(qt[0]),yt.push(qt[0]);else{for(var xe=[],xt=0;xt<qt.length-1;xt++)xt===0&&Ot.push(qt[0]),xt===qt.length-2&&yt.push(qt[xt+1]),xe[xt]=[(1-we)*qt[xt][0]+we*qt[xt+1][0],(1-we)*qt[xt][1]+we*qt[xt+1][1]];Yt(xe,we)}}return tt.length&&Yt(tt,ct),{left:Ot,right:yt.reverse()}}function Qe(tt,ct,Ot){var yt=[[tt[1],tt[2]]];Ot=Ot||2;var Yt=[];ct[0]==="A"?(yt.push(ct[6]),yt.push(ct[7])):ct[0]==="C"?(yt.push([ct[1],ct[2]]),yt.push([ct[3],ct[4]]),yt.push([ct[5],ct[6]])):ct[0]==="S"||ct[0]==="Q"?(yt.push([ct[1],ct[2]]),yt.push([ct[3],ct[4]])):yt.push([ct[1],ct[2]]);for(var qt=yt,we=1/Ot,xe=0;xe<Ot-1;xe++){var xt=we/(1-we*xe),Wt=Ne(qt,xt);Yt.push(Wt.left),qt=Wt.right}Yt.push(qt);var re=Yt.map(function(wt){var vt=[];return wt.length===4&&(vt.push("C"),vt=vt.concat(wt[2])),wt.length>=3&&(wt.length===3&&vt.push("Q"),vt=vt.concat(wt[1])),wt.length===2&&vt.push("L"),vt=vt.concat(wt[wt.length-1]),vt});return re}var Ue=function(tt,ct,Ot){if(Ot===1)return[[].concat(tt)];var yt=[];if(ct[0]==="L"||ct[0]==="C"||ct[0]==="Q")yt=yt.concat(Qe(tt,ct,Ot));else{var Yt=[].concat(tt);Yt[0]==="M"&&(Yt[0]="L");for(var qt=0;qt<=Ot-1;qt++)yt.push(Yt)}return yt},Ie=function(tt,ct){if(tt.length===1)return tt;var Ot=tt.length-1,yt=ct.length-1,Yt=Ot/yt,qt=[];if(tt.length===1&&tt[0][0]==="M"){for(var we=0;we<yt-Ot;we++)tt.push(tt[0]);return tt}for(var we=0;we<yt;we++){var xe=Math.floor(Yt*we);qt[xe]=(qt[xe]||0)+1}var xt=qt.reduce(function(Wt,re,wt){return wt===Ot?Wt.concat(tt[Ot]):Wt.concat(Ue(tt[wt],tt[wt+1],re))},[]);return xt.unshift(tt[0]),(ct[yt]==="Z"||ct[yt]==="z")&&xt.push("Z"),xt},zt=function(tt,ct){if(tt.length!==ct.length)return!1;var Ot=!0;return(0,Te.S6)(tt,function(yt,Yt){if(yt!==ct[Yt])return Ot=!1,!1}),Ot};function ye(tt,ct,Ot){var yt=null,Yt=Ot;return ct<Yt&&(Yt=ct,yt="add"),tt<Yt&&(Yt=tt,yt="del"),{type:yt,min:Yt}}var nt=function(tt,ct){var Ot=tt.length,yt=ct.length,Yt,qt,we=0;if(Ot===0||yt===0)return null;for(var xe=[],xt=0;xt<=Ot;xt++)xe[xt]=[],xe[xt][0]={min:xt};for(var Wt=0;Wt<=yt;Wt++)xe[0][Wt]={min:Wt};for(var xt=1;xt<=Ot;xt++){Yt=tt[xt-1];for(var Wt=1;Wt<=yt;Wt++){qt=ct[Wt-1],zt(Yt,qt)?we=0:we=1;var re=xe[xt-1][Wt].min+1,wt=xe[xt][Wt-1].min+1,vt=xe[xt-1][Wt-1].min+we;xe[xt][Wt]=ye(re,wt,vt)}}return xe},Et=function(tt,ct){var Ot=nt(tt,ct),yt=tt.length,Yt=ct.length,qt=[],we=1,xe=1;if(Ot[yt][Yt].min!==yt){for(var xt=1;xt<=yt;xt++){var Wt=Ot[xt][xt].min;xe=xt;for(var re=we;re<=Yt;re++)Ot[xt][re].min<Wt&&(Wt=Ot[xt][re].min,xe=re);we=xe,Ot[xt][we].type&&qt.push({index:xt-1,type:Ot[xt][we].type})}for(var xt=qt.length-1;xt>=0;xt--)we=qt[xt].index,qt[xt].type==="add"?tt.splice(we,0,[].concat(tt[we])):tt.splice(we,1)}yt=tt.length;var wt=Yt-yt;if(yt<Yt)for(var xt=0;xt<wt;xt++)tt[yt-1][0]==="z"||tt[yt-1][0]==="Z"?tt.splice(yt-2,0,tt[yt-2]):tt.push(tt[yt-1]),yt+=1;return tt};function ie(tt,ct,Ot){for(var yt=[].concat(tt),Yt,qt=1/(Ot+1),we=He(ct)[0],xe=1;xe<=Ot;xe++)qt*=xe,Yt=Math.floor(tt.length*qt),Yt===0?yt.unshift([we[0]*qt+tt[Yt][0]*(1-qt),we[1]*qt+tt[Yt][1]*(1-qt)]):yt.splice(Yt,0,[we[0]*qt+tt[Yt][0]*(1-qt),we[1]*qt+tt[Yt][1]*(1-qt)]);return yt}function He(tt){var ct=[];switch(tt[0]){case"M":ct.push([tt[1],tt[2]]);break;case"L":ct.push([tt[1],tt[2]]);break;case"A":ct.push([tt[6],tt[7]]);break;case"Q":ct.push([tt[3],tt[4]]),ct.push([tt[1],tt[2]]);break;case"T":ct.push([tt[1],tt[2]]);break;case"C":ct.push([tt[5],tt[6]]),ct.push([tt[1],tt[2]]),ct.push([tt[3],tt[4]]);break;case"S":ct.push([tt[3],tt[4]]),ct.push([tt[1],tt[2]]);break;case"H":ct.push([tt[1],tt[1]]);break;case"V":ct.push([tt[1],tt[1]]);break;default:}return ct}var Je=function(tt,ct){if(tt.length<=1)return tt;for(var Ot,yt=0;yt<ct.length;yt++)if(tt[yt][0]!==ct[yt][0])switch(Ot=He(tt[yt]),ct[yt][0]){case"M":tt[yt]=["M"].concat(Ot[0]);break;case"L":tt[yt]=["L"].concat(Ot[0]);break;case"A":tt[yt]=[].concat(ct[yt]),tt[yt][6]=Ot[0][0],tt[yt][7]=Ot[0][1];break;case"Q":if(Ot.length<2)if(yt>0)Ot=ie(Ot,tt[yt-1],1);else{tt[yt]=ct[yt];break}tt[yt]=["Q"].concat(Ot.reduce(function(Yt,qt){return Yt.concat(qt)},[]));break;case"T":tt[yt]=["T"].concat(Ot[0]);break;case"C":if(Ot.length<3)if(yt>0)Ot=ie(Ot,tt[yt-1],2);else{tt[yt]=ct[yt];break}tt[yt]=["C"].concat(Ot.reduce(function(Yt,qt){return Yt.concat(qt)},[]));break;case"S":if(Ot.length<2)if(yt>0)Ot=ie(Ot,tt[yt-1],1);else{tt[yt]=ct[yt];break}tt[yt]=["S"].concat(Ot.reduce(function(Yt,qt){return Yt.concat(qt)},[]));break;default:tt[yt]=ct[yt]}return tt}},8723:function(Dn,mn,kt){"use strict";kt.d(mn,{$O:function(){return B},FE:function(){return Ge},mY:function(){return Ee}});var Te=kt(77341),ne=kt(67052);function Ge(Gt,fe,rt){var ue=1;if((0,Te.HD)(Gt)&&(ue=Gt.split(`
`).length),ue>1){var se=je(fe,rt);return fe*ue+se*(ue-1)}return fe}function je(Gt,fe){return fe?fe-Gt:Gt*.14}function Ee(Gt,fe){var rt=(0,ne.L)(),ue=0;if((0,Te.kK)(Gt)||Gt==="")return ue;if(rt.save(),rt.font=fe,(0,Te.HD)(Gt)&&Gt.includes(`
`)){var se=Gt.split(`
`);(0,Te.S6)(se,function(de){var Kt=rt.measureText(de).width;ue<Kt&&(ue=Kt)})}else ue=rt.measureText(Gt).width;return rt.restore(),ue}function B(Gt){var fe=Gt.fontSize,rt=Gt.fontFamily,ue=Gt.fontWeight,se=Gt.fontStyle,de=Gt.fontVariant;return[se,de,ue,fe+"px",rt].join(" ").trim()}},77341:function(Dn,mn,kt){"use strict";kt.d(mn,{As:function(){return ne},CD:function(){return Te.CD},HD:function(){return Te.HD},Kn:function(){return Te.Kn},S6:function(){return Te.S6},UY:function(){return je},jC:function(){return Te.jC},jU:function(){return Ge},kK:function(){return Te.UM},mf:function(){return Te.mf},pP:function(){return Ee}});var Te=kt(45098);function ne(B,Gt){var fe=B.indexOf(Gt);fe!==-1&&B.splice(fe,1)}var Ge=typeof window!="undefined"&&typeof window.document!="undefined";function je(B,Gt){if(B.isCanvas())return!0;for(var fe=Gt.getParent(),rt=!1;fe;){if(fe===B){rt=!0;break}fe=fe.getParent()}return rt}function Ee(B){return B.cfg.visible&&B.cfg.capture}},45287:function(Dn,mn,kt){"use strict";kt.d(mn,{kL:function(){return dnt}});var Te={};kt.r(Te),kt.d(Te,{add:function(){return at},adjoint:function(){return Ae},clone:function(){return de},copy:function(){return Kt},create:function(){return se},determinant:function(){return jt},equals:function(){return ee},exactEquals:function(){return Qt},frob:function(){return Zt},fromQuat:function(){return Ot},fromQuat2:function(){return Et},fromRotation:function(){return Ue},fromRotationTranslation:function(){return nt},fromRotationTranslationScale:function(){return tt},fromRotationTranslationScaleOrigin:function(){return ct},fromScaling:function(){return Qe},fromTranslation:function(){return Ne},fromValues:function(){return L},fromXRotation:function(){return Ie},fromYRotation:function(){return zt},fromZRotation:function(){return ye},frustum:function(){return yt},getRotation:function(){return Je},getScaling:function(){return He},getTranslation:function(){return ie},identity:function(){return Ht},invert:function(){return Oe},lookAt:function(){return wt},mul:function(){return me},multiply:function(){return le},multiplyScalar:function(){return It},multiplyScalarAndAdd:function(){return te},ortho:function(){return Wt},orthoNO:function(){return xt},orthoZO:function(){return re},perspective:function(){return qt},perspectiveFromFieldOfView:function(){return xe},perspectiveNO:function(){return Yt},perspectiveZO:function(){return we},rotate:function(){return qe},rotateX:function(){return Xe},rotateY:function(){return On},rotateZ:function(){return ve},scale:function(){return Ve},set:function(){return _},str:function(){return Bt},sub:function(){return dt},subtract:function(){return mt},targetTo:function(){return vt},translate:function(){return Ce},transpose:function(){return Lt}});var ne={};kt.r(ne),kt.d(ne,{geoAlbers:function(){return dj},geoAlbersUsa:function(){return yX},geoAzimuthalEqualArea:function(){return mX},geoAzimuthalEqualAreaRaw:function(){return vN},geoAzimuthalEquidistant:function(){return xX},geoAzimuthalEquidistantRaw:function(){return gN},geoConicConformal:function(){return wX},geoConicConformalRaw:function(){return gj},geoConicEqualArea:function(){return jE},geoConicEqualAreaRaw:function(){return hj},geoConicEquidistant:function(){return SX},geoConicEquidistantRaw:function(){return yj},geoEqualEarth:function(){return OX},geoEqualEarthRaw:function(){return yN},geoEquirectangular:function(){return MX},geoEquirectangularRaw:function(){return b2},geoGnomonic:function(){return CX},geoGnomonicRaw:function(){return mN},geoIdentity:function(){return AX},geoMercator:function(){return bX},geoMercatorRaw:function(){return x2},geoNaturalEarth1:function(){return TX},geoNaturalEarth1Raw:function(){return xN},geoOrthographic:function(){return EX},geoOrthographicRaw:function(){return bN},geoProjection:function(){return Oc},geoProjectionMutator:function(){return dN},geoStereographic:function(){return kX},geoStereographicRaw:function(){return wN},geoTransverseMercator:function(){return PX},geoTransverseMercatorRaw:function(){return MN}});var Ge={};kt.r(Ge),kt.d(Ge,{frequency:function(){return Vq},id:function(){return Hq},name:function(){return Yq},weight:function(){return Wq}});var je={};kt.r(je),kt.d(je,{area:function(){return hJ},bottom:function(){return Lu},bottomLeft:function(){return Lu},bottomRight:function(){return Lu},inside:function(){return Lu},left:function(){return Lu},outside:function(){return vJ},right:function(){return Lu},spider:function(){return yJ},surround:function(){return xJ},top:function(){return Lu},topLeft:function(){return Lu},topRight:function(){return Lu}});var Ee={};kt.r(Ee),kt.d(Ee,{interpolateBlues:function(){return cQ},interpolateBrBG:function(){return WJ},interpolateBuGn:function(){return KJ},interpolateBuPu:function(){return JJ},interpolateCividis:function(){return vQ},interpolateCool:function(){return wQ},interpolateCubehelixDefault:function(){return xQ},interpolateGnBu:function(){return QJ},interpolateGreens:function(){return uQ},interpolateGreys:function(){return fQ},interpolateInferno:function(){return EQ},interpolateMagma:function(){return TQ},interpolateOrRd:function(){return tQ},interpolateOranges:function(){return pQ},interpolatePRGn:function(){return VJ},interpolatePiYG:function(){return HJ},interpolatePlasma:function(){return kQ},interpolatePuBu:function(){return nQ},interpolatePuBuGn:function(){return eQ},interpolatePuOr:function(){return YJ},interpolatePuRd:function(){return rQ},interpolatePurples:function(){return hQ},interpolateRainbow:function(){return MQ},interpolateRdBu:function(){return UJ},interpolateRdGy:function(){return XJ},interpolateRdPu:function(){return iQ},interpolateRdYlBu:function(){return ZJ},interpolateRdYlGn:function(){return qJ},interpolateReds:function(){return dQ},interpolateSinebow:function(){return OQ},interpolateSpectral:function(){return $J},interpolateTurbo:function(){return CQ},interpolateViridis:function(){return AQ},interpolateWarm:function(){return bQ},interpolateYlGn:function(){return oQ},interpolateYlGnBu:function(){return aQ},interpolateYlOrBr:function(){return sQ},interpolateYlOrRd:function(){return lQ},schemeAccent:function(){return LJ},schemeBlues:function(){return xW},schemeBrBG:function(){return JG},schemeBuGn:function(){return sW},schemeBuPu:function(){return lW},schemeCategory10:function(){return PJ},schemeDark2:function(){return IJ},schemeGnBu:function(){return cW},schemeGreens:function(){return bW},schemeGreys:function(){return wW},schemeOrRd:function(){return uW},schemeOranges:function(){return _W},schemePRGn:function(){return QG},schemePaired:function(){return RJ},schemePastel1:function(){return FJ},schemePastel2:function(){return DJ},schemePiYG:function(){return tW},schemePuBu:function(){return hW},schemePuBuGn:function(){return fW},schemePuOr:function(){return eW},schemePuRd:function(){return dW},schemePurples:function(){return MW},schemeRdBu:function(){return nW},schemeRdGy:function(){return rW},schemeRdPu:function(){return pW},schemeRdYlBu:function(){return iW},schemeRdYlGn:function(){return aW},schemeReds:function(){return SW},schemeSet1:function(){return BJ},schemeSet2:function(){return NJ},schemeSet3:function(){return zJ},schemeSpectral:function(){return oW},schemeTableau10:function(){return jJ},schemeYlGn:function(){return gW},schemeYlGnBu:function(){return vW},schemeYlOrBr:function(){return yW},schemeYlOrRd:function(){return mW}});var B=kt(97582),Gt=kt(26729),fe=Gt,rt=kt(77160),ue=kt(49685);function se(){var t=new ue.WT(16);return ue.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function de(t){var e=new ue.WT(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function L(t,e,r,i,l,u,h,p,g,m,x,w,M,O,A,E){var P=new ue.WT(16);return P[0]=t,P[1]=e,P[2]=r,P[3]=i,P[4]=l,P[5]=u,P[6]=h,P[7]=p,P[8]=g,P[9]=m,P[10]=x,P[11]=w,P[12]=M,P[13]=O,P[14]=A,P[15]=E,P}function _(t,e,r,i,l,u,h,p,g,m,x,w,M,O,A,E,P){return t[0]=e,t[1]=r,t[2]=i,t[3]=l,t[4]=u,t[5]=h,t[6]=p,t[7]=g,t[8]=m,t[9]=x,t[10]=w,t[11]=M,t[12]=O,t[13]=A,t[14]=E,t[15]=P,t}function Ht(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Lt(t,e){if(t===e){var r=e[1],i=e[2],l=e[3],u=e[6],h=e[7],p=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=u,t[11]=e[14],t[12]=l,t[13]=h,t[14]=p}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Oe(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=e[4],p=e[5],g=e[6],m=e[7],x=e[8],w=e[9],M=e[10],O=e[11],A=e[12],E=e[13],P=e[14],I=e[15],F=r*p-i*h,N=r*g-l*h,z=r*m-u*h,G=i*g-l*p,W=i*m-u*p,Y=l*m-u*g,U=x*E-w*A,X=x*P-M*A,$=x*I-O*A,Q=w*P-M*E,ft=w*I-O*E,ot=M*I-O*P,J=F*ot-N*ft+z*Q+G*$-W*X+Y*U;return J?(J=1/J,t[0]=(p*ot-g*ft+m*Q)*J,t[1]=(l*ft-i*ot-u*Q)*J,t[2]=(E*Y-P*W+I*G)*J,t[3]=(M*W-w*Y-O*G)*J,t[4]=(g*$-h*ot-m*X)*J,t[5]=(r*ot-l*$+u*X)*J,t[6]=(P*z-A*Y-I*N)*J,t[7]=(x*Y-M*z+O*N)*J,t[8]=(h*ft-p*$+m*U)*J,t[9]=(i*$-r*ft-u*U)*J,t[10]=(A*W-E*z+I*F)*J,t[11]=(w*z-x*W-O*F)*J,t[12]=(p*X-h*Q-g*U)*J,t[13]=(r*Q-i*X+l*U)*J,t[14]=(E*N-A*G-P*F)*J,t[15]=(x*G-w*N+M*F)*J,t):null}function Ae(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=e[4],p=e[5],g=e[6],m=e[7],x=e[8],w=e[9],M=e[10],O=e[11],A=e[12],E=e[13],P=e[14],I=e[15];return t[0]=p*(M*I-O*P)-w*(g*I-m*P)+E*(g*O-m*M),t[1]=-(i*(M*I-O*P)-w*(l*I-u*P)+E*(l*O-u*M)),t[2]=i*(g*I-m*P)-p*(l*I-u*P)+E*(l*m-u*g),t[3]=-(i*(g*O-m*M)-p*(l*O-u*M)+w*(l*m-u*g)),t[4]=-(h*(M*I-O*P)-x*(g*I-m*P)+A*(g*O-m*M)),t[5]=r*(M*I-O*P)-x*(l*I-u*P)+A*(l*O-u*M),t[6]=-(r*(g*I-m*P)-h*(l*I-u*P)+A*(l*m-u*g)),t[7]=r*(g*O-m*M)-h*(l*O-u*M)+x*(l*m-u*g),t[8]=h*(w*I-O*E)-x*(p*I-m*E)+A*(p*O-m*w),t[9]=-(r*(w*I-O*E)-x*(i*I-u*E)+A*(i*O-u*w)),t[10]=r*(p*I-m*E)-h*(i*I-u*E)+A*(i*m-u*p),t[11]=-(r*(p*O-m*w)-h*(i*O-u*w)+x*(i*m-u*p)),t[12]=-(h*(w*P-M*E)-x*(p*P-g*E)+A*(p*M-g*w)),t[13]=r*(w*P-M*E)-x*(i*P-l*E)+A*(i*M-l*w),t[14]=-(r*(p*P-g*E)-h*(i*P-l*E)+A*(i*g-l*p)),t[15]=r*(p*M-g*w)-h*(i*M-l*w)+x*(i*g-l*p),t}function jt(t){var e=t[0],r=t[1],i=t[2],l=t[3],u=t[4],h=t[5],p=t[6],g=t[7],m=t[8],x=t[9],w=t[10],M=t[11],O=t[12],A=t[13],E=t[14],P=t[15],I=e*h-r*u,F=e*p-i*u,N=e*g-l*u,z=r*p-i*h,G=r*g-l*h,W=i*g-l*p,Y=m*A-x*O,U=m*E-w*O,X=m*P-M*O,$=x*E-w*A,Q=x*P-M*A,ft=w*P-M*E;return I*ft-F*Q+N*$+z*X-G*U+W*Y}function le(t,e,r){var i=e[0],l=e[1],u=e[2],h=e[3],p=e[4],g=e[5],m=e[6],x=e[7],w=e[8],M=e[9],O=e[10],A=e[11],E=e[12],P=e[13],I=e[14],F=e[15],N=r[0],z=r[1],G=r[2],W=r[3];return t[0]=N*i+z*p+G*w+W*E,t[1]=N*l+z*g+G*M+W*P,t[2]=N*u+z*m+G*O+W*I,t[3]=N*h+z*x+G*A+W*F,N=r[4],z=r[5],G=r[6],W=r[7],t[4]=N*i+z*p+G*w+W*E,t[5]=N*l+z*g+G*M+W*P,t[6]=N*u+z*m+G*O+W*I,t[7]=N*h+z*x+G*A+W*F,N=r[8],z=r[9],G=r[10],W=r[11],t[8]=N*i+z*p+G*w+W*E,t[9]=N*l+z*g+G*M+W*P,t[10]=N*u+z*m+G*O+W*I,t[11]=N*h+z*x+G*A+W*F,N=r[12],z=r[13],G=r[14],W=r[15],t[12]=N*i+z*p+G*w+W*E,t[13]=N*l+z*g+G*M+W*P,t[14]=N*u+z*m+G*O+W*I,t[15]=N*h+z*x+G*A+W*F,t}function Ce(t,e,r){var i=r[0],l=r[1],u=r[2],h,p,g,m,x,w,M,O,A,E,P,I;return e===t?(t[12]=e[0]*i+e[4]*l+e[8]*u+e[12],t[13]=e[1]*i+e[5]*l+e[9]*u+e[13],t[14]=e[2]*i+e[6]*l+e[10]*u+e[14],t[15]=e[3]*i+e[7]*l+e[11]*u+e[15]):(h=e[0],p=e[1],g=e[2],m=e[3],x=e[4],w=e[5],M=e[6],O=e[7],A=e[8],E=e[9],P=e[10],I=e[11],t[0]=h,t[1]=p,t[2]=g,t[3]=m,t[4]=x,t[5]=w,t[6]=M,t[7]=O,t[8]=A,t[9]=E,t[10]=P,t[11]=I,t[12]=h*i+x*l+A*u+e[12],t[13]=p*i+w*l+E*u+e[13],t[14]=g*i+M*l+P*u+e[14],t[15]=m*i+O*l+I*u+e[15]),t}function Ve(t,e,r){var i=r[0],l=r[1],u=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*l,t[5]=e[5]*l,t[6]=e[6]*l,t[7]=e[7]*l,t[8]=e[8]*u,t[9]=e[9]*u,t[10]=e[10]*u,t[11]=e[11]*u,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function qe(t,e,r,i){var l=i[0],u=i[1],h=i[2],p=Math.hypot(l,u,h),g,m,x,w,M,O,A,E,P,I,F,N,z,G,W,Y,U,X,$,Q,ft,ot,J,st;return p<ue.Ib?null:(p=1/p,l*=p,u*=p,h*=p,g=Math.sin(r),m=Math.cos(r),x=1-m,w=e[0],M=e[1],O=e[2],A=e[3],E=e[4],P=e[5],I=e[6],F=e[7],N=e[8],z=e[9],G=e[10],W=e[11],Y=l*l*x+m,U=u*l*x+h*g,X=h*l*x-u*g,$=l*u*x-h*g,Q=u*u*x+m,ft=h*u*x+l*g,ot=l*h*x+u*g,J=u*h*x-l*g,st=h*h*x+m,t[0]=w*Y+E*U+N*X,t[1]=M*Y+P*U+z*X,t[2]=O*Y+I*U+G*X,t[3]=A*Y+F*U+W*X,t[4]=w*$+E*Q+N*ft,t[5]=M*$+P*Q+z*ft,t[6]=O*$+I*Q+G*ft,t[7]=A*$+F*Q+W*ft,t[8]=w*ot+E*J+N*st,t[9]=M*ot+P*J+z*st,t[10]=O*ot+I*J+G*st,t[11]=A*ot+F*J+W*st,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Xe(t,e,r){var i=Math.sin(r),l=Math.cos(r),u=e[4],h=e[5],p=e[6],g=e[7],m=e[8],x=e[9],w=e[10],M=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=u*l+m*i,t[5]=h*l+x*i,t[6]=p*l+w*i,t[7]=g*l+M*i,t[8]=m*l-u*i,t[9]=x*l-h*i,t[10]=w*l-p*i,t[11]=M*l-g*i,t}function On(t,e,r){var i=Math.sin(r),l=Math.cos(r),u=e[0],h=e[1],p=e[2],g=e[3],m=e[8],x=e[9],w=e[10],M=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=u*l-m*i,t[1]=h*l-x*i,t[2]=p*l-w*i,t[3]=g*l-M*i,t[8]=u*i+m*l,t[9]=h*i+x*l,t[10]=p*i+w*l,t[11]=g*i+M*l,t}function ve(t,e,r){var i=Math.sin(r),l=Math.cos(r),u=e[0],h=e[1],p=e[2],g=e[3],m=e[4],x=e[5],w=e[6],M=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=u*l+m*i,t[1]=h*l+x*i,t[2]=p*l+w*i,t[3]=g*l+M*i,t[4]=m*l-u*i,t[5]=x*l-h*i,t[6]=w*l-p*i,t[7]=M*l-g*i,t}function Ne(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Qe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ue(t,e,r){var i=r[0],l=r[1],u=r[2],h=Math.hypot(i,l,u),p,g,m;return h<ue.Ib?null:(h=1/h,i*=h,l*=h,u*=h,p=Math.sin(e),g=Math.cos(e),m=1-g,t[0]=i*i*m+g,t[1]=l*i*m+u*p,t[2]=u*i*m-l*p,t[3]=0,t[4]=i*l*m-u*p,t[5]=l*l*m+g,t[6]=u*l*m+i*p,t[7]=0,t[8]=i*u*m+l*p,t[9]=l*u*m-i*p,t[10]=u*u*m+g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Ie(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zt(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var r=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nt(t,e,r){var i=e[0],l=e[1],u=e[2],h=e[3],p=i+i,g=l+l,m=u+u,x=i*p,w=i*g,M=i*m,O=l*g,A=l*m,E=u*m,P=h*p,I=h*g,F=h*m;return t[0]=1-(O+E),t[1]=w+F,t[2]=M-I,t[3]=0,t[4]=w-F,t[5]=1-(x+E),t[6]=A+P,t[7]=0,t[8]=M+I,t[9]=A-P,t[10]=1-(x+O),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Et(t,e){var r=new ue.WT(3),i=-e[0],l=-e[1],u=-e[2],h=e[3],p=e[4],g=e[5],m=e[6],x=e[7],w=i*i+l*l+u*u+h*h;return w>0?(r[0]=(p*h+x*i+g*u-m*l)*2/w,r[1]=(g*h+x*l+m*i-p*u)*2/w,r[2]=(m*h+x*u+p*l-g*i)*2/w):(r[0]=(p*h+x*i+g*u-m*l)*2,r[1]=(g*h+x*l+m*i-p*u)*2,r[2]=(m*h+x*u+p*l-g*i)*2),nt(t,e,r),t}function ie(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function He(t,e){var r=e[0],i=e[1],l=e[2],u=e[4],h=e[5],p=e[6],g=e[8],m=e[9],x=e[10];return t[0]=Math.hypot(r,i,l),t[1]=Math.hypot(u,h,p),t[2]=Math.hypot(g,m,x),t}function Je(t,e){var r=new ue.WT(3);He(r,e);var i=1/r[0],l=1/r[1],u=1/r[2],h=e[0]*i,p=e[1]*l,g=e[2]*u,m=e[4]*i,x=e[5]*l,w=e[6]*u,M=e[8]*i,O=e[9]*l,A=e[10]*u,E=h+x+A,P=0;return E>0?(P=Math.sqrt(E+1)*2,t[3]=.25*P,t[0]=(w-O)/P,t[1]=(M-g)/P,t[2]=(p-m)/P):h>x&&h>A?(P=Math.sqrt(1+h-x-A)*2,t[3]=(w-O)/P,t[0]=.25*P,t[1]=(p+m)/P,t[2]=(M+g)/P):x>A?(P=Math.sqrt(1+x-h-A)*2,t[3]=(M-g)/P,t[0]=(p+m)/P,t[1]=.25*P,t[2]=(w+O)/P):(P=Math.sqrt(1+A-h-x)*2,t[3]=(p-m)/P,t[0]=(M+g)/P,t[1]=(w+O)/P,t[2]=.25*P),t}function tt(t,e,r,i){var l=e[0],u=e[1],h=e[2],p=e[3],g=l+l,m=u+u,x=h+h,w=l*g,M=l*m,O=l*x,A=u*m,E=u*x,P=h*x,I=p*g,F=p*m,N=p*x,z=i[0],G=i[1],W=i[2];return t[0]=(1-(A+P))*z,t[1]=(M+N)*z,t[2]=(O-F)*z,t[3]=0,t[4]=(M-N)*G,t[5]=(1-(w+P))*G,t[6]=(E+I)*G,t[7]=0,t[8]=(O+F)*W,t[9]=(E-I)*W,t[10]=(1-(w+A))*W,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function ct(t,e,r,i,l){var u=e[0],h=e[1],p=e[2],g=e[3],m=u+u,x=h+h,w=p+p,M=u*m,O=u*x,A=u*w,E=h*x,P=h*w,I=p*w,F=g*m,N=g*x,z=g*w,G=i[0],W=i[1],Y=i[2],U=l[0],X=l[1],$=l[2],Q=(1-(E+I))*G,ft=(O+z)*G,ot=(A-N)*G,J=(O-z)*W,st=(1-(M+I))*W,gt=(P+F)*W,Mt=(A+N)*Y,At=(P-F)*Y,St=(1-(M+E))*Y;return t[0]=Q,t[1]=ft,t[2]=ot,t[3]=0,t[4]=J,t[5]=st,t[6]=gt,t[7]=0,t[8]=Mt,t[9]=At,t[10]=St,t[11]=0,t[12]=r[0]+U-(Q*U+J*X+Mt*$),t[13]=r[1]+X-(ft*U+st*X+At*$),t[14]=r[2]+$-(ot*U+gt*X+St*$),t[15]=1,t}function Ot(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=r+r,p=i+i,g=l+l,m=r*h,x=i*h,w=i*p,M=l*h,O=l*p,A=l*g,E=u*h,P=u*p,I=u*g;return t[0]=1-w-A,t[1]=x+I,t[2]=M-P,t[3]=0,t[4]=x-I,t[5]=1-m-A,t[6]=O+E,t[7]=0,t[8]=M+P,t[9]=O-E,t[10]=1-m-w,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yt(t,e,r,i,l,u,h){var p=1/(r-e),g=1/(l-i),m=1/(u-h);return t[0]=u*2*p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u*2*g,t[6]=0,t[7]=0,t[8]=(r+e)*p,t[9]=(l+i)*g,t[10]=(h+u)*m,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*u*2*m,t[15]=0,t}function Yt(t,e,r,i,l){var u=1/Math.tan(e/2),h;return t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,l!=null&&l!==1/0?(h=1/(i-l),t[10]=(l+i)*h,t[14]=2*l*i*h):(t[10]=-1,t[14]=-2*i),t}var qt=Yt;function we(t,e,r,i,l){var u=1/Math.tan(e/2),h;return t[0]=u/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,l!=null&&l!==1/0?(h=1/(i-l),t[10]=l*h,t[14]=l*i*h):(t[10]=-1,t[14]=-i),t}function xe(t,e,r,i){var l=Math.tan(e.upDegrees*Math.PI/180),u=Math.tan(e.downDegrees*Math.PI/180),h=Math.tan(e.leftDegrees*Math.PI/180),p=Math.tan(e.rightDegrees*Math.PI/180),g=2/(h+p),m=2/(l+u);return t[0]=g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=m,t[6]=0,t[7]=0,t[8]=-((h-p)*g*.5),t[9]=(l-u)*m*.5,t[10]=i/(r-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*r/(r-i),t[15]=0,t}function xt(t,e,r,i,l,u,h){var p=1/(e-r),g=1/(i-l),m=1/(u-h);return t[0]=-2*p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*g,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*m,t[11]=0,t[12]=(e+r)*p,t[13]=(l+i)*g,t[14]=(h+u)*m,t[15]=1,t}var Wt=xt;function re(t,e,r,i,l,u,h){var p=1/(e-r),g=1/(i-l),m=1/(u-h);return t[0]=-2*p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*g,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=m,t[11]=0,t[12]=(e+r)*p,t[13]=(l+i)*g,t[14]=u*m,t[15]=1,t}function wt(t,e,r,i){var l,u,h,p,g,m,x,w,M,O,A=e[0],E=e[1],P=e[2],I=i[0],F=i[1],N=i[2],z=r[0],G=r[1],W=r[2];return Math.abs(A-z)<ue.Ib&&Math.abs(E-G)<ue.Ib&&Math.abs(P-W)<ue.Ib?Ht(t):(x=A-z,w=E-G,M=P-W,O=1/Math.hypot(x,w,M),x*=O,w*=O,M*=O,l=F*M-N*w,u=N*x-I*M,h=I*w-F*x,O=Math.hypot(l,u,h),O?(O=1/O,l*=O,u*=O,h*=O):(l=0,u=0,h=0),p=w*h-M*u,g=M*l-x*h,m=x*u-w*l,O=Math.hypot(p,g,m),O?(O=1/O,p*=O,g*=O,m*=O):(p=0,g=0,m=0),t[0]=l,t[1]=p,t[2]=x,t[3]=0,t[4]=u,t[5]=g,t[6]=w,t[7]=0,t[8]=h,t[9]=m,t[10]=M,t[11]=0,t[12]=-(l*A+u*E+h*P),t[13]=-(p*A+g*E+m*P),t[14]=-(x*A+w*E+M*P),t[15]=1,t)}function vt(t,e,r,i){var l=e[0],u=e[1],h=e[2],p=i[0],g=i[1],m=i[2],x=l-r[0],w=u-r[1],M=h-r[2],O=x*x+w*w+M*M;O>0&&(O=1/Math.sqrt(O),x*=O,w*=O,M*=O);var A=g*M-m*w,E=m*x-p*M,P=p*w-g*x;return O=A*A+E*E+P*P,O>0&&(O=1/Math.sqrt(O),A*=O,E*=O,P*=O),t[0]=A,t[1]=E,t[2]=P,t[3]=0,t[4]=w*P-M*E,t[5]=M*A-x*P,t[6]=x*E-w*A,t[7]=0,t[8]=x,t[9]=w,t[10]=M,t[11]=0,t[12]=l,t[13]=u,t[14]=h,t[15]=1,t}function Bt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Zt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function at(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function mt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function It(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function te(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t[4]=e[4]+r[4]*i,t[5]=e[5]+r[5]*i,t[6]=e[6]+r[6]*i,t[7]=e[7]+r[7]*i,t[8]=e[8]+r[8]*i,t[9]=e[9]+r[9]*i,t[10]=e[10]+r[10]*i,t[11]=e[11]+r[11]*i,t[12]=e[12]+r[12]*i,t[13]=e[13]+r[13]*i,t[14]=e[14]+r[14]*i,t[15]=e[15]+r[15]*i,t}function Qt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ee(t,e){var r=t[0],i=t[1],l=t[2],u=t[3],h=t[4],p=t[5],g=t[6],m=t[7],x=t[8],w=t[9],M=t[10],O=t[11],A=t[12],E=t[13],P=t[14],I=t[15],F=e[0],N=e[1],z=e[2],G=e[3],W=e[4],Y=e[5],U=e[6],X=e[7],$=e[8],Q=e[9],ft=e[10],ot=e[11],J=e[12],st=e[13],gt=e[14],Mt=e[15];return Math.abs(r-F)<=ue.Ib*Math.max(1,Math.abs(r),Math.abs(F))&&Math.abs(i-N)<=ue.Ib*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(l-z)<=ue.Ib*Math.max(1,Math.abs(l),Math.abs(z))&&Math.abs(u-G)<=ue.Ib*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(h-W)<=ue.Ib*Math.max(1,Math.abs(h),Math.abs(W))&&Math.abs(p-Y)<=ue.Ib*Math.max(1,Math.abs(p),Math.abs(Y))&&Math.abs(g-U)<=ue.Ib*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(m-X)<=ue.Ib*Math.max(1,Math.abs(m),Math.abs(X))&&Math.abs(x-$)<=ue.Ib*Math.max(1,Math.abs(x),Math.abs($))&&Math.abs(w-Q)<=ue.Ib*Math.max(1,Math.abs(w),Math.abs(Q))&&Math.abs(M-ft)<=ue.Ib*Math.max(1,Math.abs(M),Math.abs(ft))&&Math.abs(O-ot)<=ue.Ib*Math.max(1,Math.abs(O),Math.abs(ot))&&Math.abs(A-J)<=ue.Ib*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(E-st)<=ue.Ib*Math.max(1,Math.abs(E),Math.abs(st))&&Math.abs(P-gt)<=ue.Ib*Math.max(1,Math.abs(P),Math.abs(gt))&&Math.abs(I-Mt)<=ue.Ib*Math.max(1,Math.abs(I),Math.abs(Mt))}var me=le,dt=mt,it=kt(35600);function Tt(){var t=new ue.WT(4);return ue.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function _t(t){var e=new ue.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Dt(t,e,r,i){var l=new ue.WT(4);return l[0]=t,l[1]=e,l[2]=r,l[3]=i,l}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function bt(t,e,r,i,l){return t[0]=e,t[1]=r,t[2]=i,t[3]=l,t}function lt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function pt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Rt(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Nt(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function he(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Pe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Fe(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function rn(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function un(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function En(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function qn(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t}function _r(t,e){var r=e[0]-t[0],i=e[1]-t[1],l=e[2]-t[2],u=e[3]-t[3];return Math.hypot(r,i,l,u)}function fr(t,e){var r=e[0]-t[0],i=e[1]-t[1],l=e[2]-t[2],u=e[3]-t[3];return r*r+i*i+l*l+u*u}function Ur(t){var e=t[0],r=t[1],i=t[2],l=t[3];return Math.hypot(e,r,i,l)}function Li(t){var e=t[0],r=t[1],i=t[2],l=t[3];return e*e+r*r+i*i+l*l}function Hi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Ra(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function Fa(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=r*r+i*i+l*l+u*u;return h>0&&(h=1/Math.sqrt(h)),t[0]=r*h,t[1]=i*h,t[2]=l*h,t[3]=u*h,t}function Da(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Jo(t,e,r,i){var l=r[0]*i[1]-r[1]*i[0],u=r[0]*i[2]-r[2]*i[0],h=r[0]*i[3]-r[3]*i[0],p=r[1]*i[2]-r[2]*i[1],g=r[1]*i[3]-r[3]*i[1],m=r[2]*i[3]-r[3]*i[2],x=e[0],w=e[1],M=e[2],O=e[3];return t[0]=w*m-M*g+O*p,t[1]=-(x*m)+M*h-O*u,t[2]=x*g-w*h+O*l,t[3]=-(x*p)+w*u-M*l,t}function Ba(t,e,r,i){var l=e[0],u=e[1],h=e[2],p=e[3];return t[0]=l+i*(r[0]-l),t[1]=u+i*(r[1]-u),t[2]=h+i*(r[2]-h),t[3]=p+i*(r[3]-p),t}function Fo(t,e){e=e||1;var r,i,l,u,h,p;do r=glMatrix.RANDOM()*2-1,i=glMatrix.RANDOM()*2-1,h=r*r+i*i;while(h>=1);do l=glMatrix.RANDOM()*2-1,u=glMatrix.RANDOM()*2-1,p=l*l+u*u;while(p>=1);var g=Math.sqrt((1-h)/p);return t[0]=e*r,t[1]=e*i,t[2]=e*l*g,t[3]=e*u*g,t}function Do(t,e,r){var i=e[0],l=e[1],u=e[2],h=e[3];return t[0]=r[0]*i+r[4]*l+r[8]*u+r[12]*h,t[1]=r[1]*i+r[5]*l+r[9]*u+r[13]*h,t[2]=r[2]*i+r[6]*l+r[10]*u+r[14]*h,t[3]=r[3]*i+r[7]*l+r[11]*u+r[15]*h,t}function hh(t,e,r){var i=e[0],l=e[1],u=e[2],h=r[0],p=r[1],g=r[2],m=r[3],x=m*i+p*u-g*l,w=m*l+g*i-h*u,M=m*u+h*l-p*i,O=-h*i-p*l-g*u;return t[0]=x*m+O*-h+w*-g-M*-p,t[1]=w*m+O*-p+M*-h-x*-g,t[2]=M*m+O*-g+x*-p-w*-h,t[3]=e[3],t}function vs(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function wl(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Tc(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Pp(t,e){var r=t[0],i=t[1],l=t[2],u=t[3],h=e[0],p=e[1],g=e[2],m=e[3];return Math.abs(r-h)<=ue.Ib*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=ue.Ib*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(l-g)<=ue.Ib*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-m)<=ue.Ib*Math.max(1,Math.abs(u),Math.abs(m))}var dh=null,Lp=null,ph=null,Fu=null,Ip=null,Ec=null,Ki=null,ya=function(){var t=Tt();return function(e,r,i,l,u,h){var p,g;for(r||(r=4),i||(i=0),l?g=Math.min(l*r+i,e.length):g=e.length,p=i;p<g;p+=r)t[0]=e[p],t[1]=e[p+1],t[2]=e[p+2],t[3]=e[p+3],u(t,t,h),e[p]=t[0],e[p+1]=t[1],e[p+2]=t[2],e[p+3]=t[3];return e}}();function et(){var t=new ue.WT(4);return ue.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ut(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Pt(t,e,r){r=r*.5;var i=Math.sin(r);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(r),t}function Xt(t,e){var r=Math.acos(e[3])*2,i=Math.sin(r/2);return i>glMatrix.EPSILON?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),r}function Se(t,e){var r=Ti(t,e);return Math.acos(2*r*r-1)}function Me(t,e,r){var i=e[0],l=e[1],u=e[2],h=e[3],p=r[0],g=r[1],m=r[2],x=r[3];return t[0]=i*x+h*p+l*m-u*g,t[1]=l*x+h*g+u*p-i*m,t[2]=u*x+h*m+i*g-l*p,t[3]=h*x-i*p-l*g-u*m,t}function ae(t,e,r){r*=.5;var i=e[0],l=e[1],u=e[2],h=e[3],p=Math.sin(r),g=Math.cos(r);return t[0]=i*g+h*p,t[1]=l*g+u*p,t[2]=u*g-l*p,t[3]=h*g-i*p,t}function oe(t,e,r){r*=.5;var i=e[0],l=e[1],u=e[2],h=e[3],p=Math.sin(r),g=Math.cos(r);return t[0]=i*g-u*p,t[1]=l*g+h*p,t[2]=u*g+i*p,t[3]=h*g-l*p,t}function ze(t,e,r){r*=.5;var i=e[0],l=e[1],u=e[2],h=e[3],p=Math.sin(r),g=Math.cos(r);return t[0]=i*g+l*p,t[1]=l*g-i*p,t[2]=u*g+h*p,t[3]=h*g-u*p,t}function We(t,e){var r=e[0],i=e[1],l=e[2];return t[0]=r,t[1]=i,t[2]=l,t[3]=Math.sqrt(Math.abs(1-r*r-i*i-l*l)),t}function pn(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=Math.sqrt(r*r+i*i+l*l),p=Math.exp(u),g=h>0?p*Math.sin(h)/h:0;return t[0]=r*g,t[1]=i*g,t[2]=l*g,t[3]=p*Math.cos(h),t}function gn(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=Math.sqrt(r*r+i*i+l*l),p=h>0?Math.atan2(h,u)/h:0;return t[0]=r*p,t[1]=i*p,t[2]=l*p,t[3]=.5*Math.log(r*r+i*i+l*l+u*u),t}function Ln(t,e,r){return gn(t,e),bi(t,t,r),pn(t,t),t}function hn(t,e,r,i){var l=e[0],u=e[1],h=e[2],p=e[3],g=r[0],m=r[1],x=r[2],w=r[3],M,O,A,E,P;return O=l*g+u*m+h*x+p*w,O<0&&(O=-O,g=-g,m=-m,x=-x,w=-w),1-O>ue.Ib?(M=Math.acos(O),A=Math.sin(M),E=Math.sin((1-i)*M)/A,P=Math.sin(i*M)/A):(E=1-i,P=i),t[0]=E*l+P*g,t[1]=E*u+P*m,t[2]=E*h+P*x,t[3]=E*p+P*w,t}function wn(t){var e=glMatrix.RANDOM(),r=glMatrix.RANDOM(),i=glMatrix.RANDOM(),l=Math.sqrt(1-e),u=Math.sqrt(e);return t[0]=l*Math.sin(2*Math.PI*r),t[1]=l*Math.cos(2*Math.PI*r),t[2]=u*Math.sin(2*Math.PI*i),t[3]=u*Math.cos(2*Math.PI*i),t}function _n(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=r*r+i*i+l*l+u*u,p=h?1/h:0;return t[0]=-r*p,t[1]=-i*p,t[2]=-l*p,t[3]=u*p,t}function on(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Hn(t,e){var r=e[0]+e[4]+e[8],i;if(r>0)i=Math.sqrt(r+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var l=0;e[4]>e[0]&&(l=1),e[8]>e[l*3+l]&&(l=2);var u=(l+1)%3,h=(l+2)%3;i=Math.sqrt(e[l*3+l]-e[u*3+u]-e[h*3+h]+1),t[l]=.5*i,i=.5/i,t[3]=(e[u*3+h]-e[h*3+u])*i,t[u]=(e[u*3+l]+e[l*3+u])*i,t[h]=(e[h*3+l]+e[l*3+h])*i}return t}function Cn(t,e,r,i){var l=.5*Math.PI/180;e*=l,r*=l,i*=l;var u=Math.sin(e),h=Math.cos(e),p=Math.sin(r),g=Math.cos(r),m=Math.sin(i),x=Math.cos(i);return t[0]=u*g*x-h*p*m,t[1]=h*p*x+u*g*m,t[2]=h*g*m-u*p*x,t[3]=h*g*x+u*p*m,t}function Yn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var An=_t,zn=Dt,or=$t,Yi=bt,ci=lt,li=Me,bi=En,Ti=Da,Xr=Ba,ei=Ur,Qo=null,Rp=Li,Ml=null,ma=Fa,Di=Tc,gs=Pp,kc=function(){var t=rt.Ue(),e=rt.al(1,0,0),r=rt.al(0,1,0);return function(i,l,u){var h=rt.AK(l,u);return h<-.999999?(rt.kC(t,e,l),rt.Zh(t)<1e-6&&rt.kC(t,r,l),rt.Fv(t,t),Pt(i,t,Math.PI),i):h>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(rt.kC(t,l,u),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+h,ma(i,i))}}(),ts=function(){var t=et(),e=et();return function(r,i,l,u,h,p){return hn(t,i,h,p),hn(e,l,u,p),hn(r,t,e,2*p*(1-p)),r}}(),Ji=function(){var t=it.Ue();return function(e,r,i,l){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=l[0],t[4]=l[1],t[7]=l[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],ma(e,Hn(e,t))}}(),Qi=kt(31437),Fp={}.toString,Dp=function(t,e){return Fp.call(t)==="[object "+e+"]"},vh=Dp,B2=function(t){return vh(t,"Number")},Sl=B2;function la(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var qg=function(t){return t==null},nr=qg,ys=function(t){return vh(t,"String")},Bp=function(t,e,r){return t<e?e:t>r?r:t},_l=Bp,Ol={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Np(t){return Array.isArray(t)&&t.every(function(e){var r=e[0].toLowerCase();return Ol[r]===e.length-1&&"achlmqstvz".includes(r)})}function gh(t){return Np(t)&&t.every(function(e){var r=e[0];return r===r.toUpperCase()})}function yh(t){return gh(t)&&t.every(function(e){var r=e[0];return"ACLMQZ".includes(r)})}var Bo={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function zp(t){for(var e=t.pathValue[t.segmentStart],r=e.toLowerCase(),i=t.data;i.length>=Ol[r]&&(r==="m"&&i.length>2?(t.segments.push([e].concat(i.splice(0,2))),r="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(i.splice(0,Ol[r]))),!!Ol[r]););}function $g(t){var e=t.index,r=t.pathValue,i=r.charCodeAt(e);if(i===48){t.param=0,t.index+=1;return}if(i===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'+r[e]+'", expecting 0 or 1 at index '+e}function jp(t){return t>=48&&t<=57||t===43||t===45||t===46}function Cl(t){return t>=48&&t<=57}function mh(t){var e=t.max,r=t.pathValue,i=t.index,l=i,u=!1,h=!1,p=!1,g=!1,m;if(l>=e){t.err="[path-util]: Invalid path value at index "+l+', "pathValue" is missing param';return}if(m=r.charCodeAt(l),(m===43||m===45)&&(l+=1,m=r.charCodeAt(l)),!Cl(m)&&m!==46){t.err="[path-util]: Invalid path value at index "+l+', "'+r[l]+'" is not a number';return}if(m!==46){if(u=m===48,l+=1,m=r.charCodeAt(l),u&&l<e&&m&&Cl(m)){t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number';return}for(;l<e&&Cl(r.charCodeAt(l));)l+=1,h=!0;m=r.charCodeAt(l)}if(m===46){for(g=!0,l+=1;Cl(r.charCodeAt(l));)l+=1,p=!0;m=r.charCodeAt(l)}if(m===101||m===69){if(g&&!h&&!p){t.err="[path-util]: Invalid path value at index "+l+', "'+r[l]+'" invalid float exponent';return}if(l+=1,m=r.charCodeAt(l),(m===43||m===45)&&(l+=1),l<e&&Cl(r.charCodeAt(l)))for(;l<e&&Cl(r.charCodeAt(l));)l+=1;else{t.err="[path-util]: Invalid path value at index "+l+', "'+r[l]+'" invalid integer exponent';return}}t.index=l,t.param=+t.pathValue.slice(i,l)}function Du(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&e.includes(t)}function Pc(t){for(var e=t.pathValue,r=t.max;t.index<r&&Du(e.charCodeAt(t.index));)t.index+=1}function Kg(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Jg(t){return(t|32)===97}function Qg(t){var e=t.max,r=t.pathValue,i=t.index,l=r.charCodeAt(i),u=Ol[r[i].toLowerCase()];if(t.segmentStart=i,!Kg(l)){t.err='[path-util]: Invalid path value "'+r[i]+'" is not a path command';return}if(t.index+=1,Pc(t),t.data=[],!u){zp(t);return}for(;;){for(var h=u;h>0;h-=1){if(Jg(l)&&(h===3||h===4)?$g(t):mh(t),t.err.length)return;t.data.push(t.param),Pc(t),t.index<e&&r.charCodeAt(t.index)===44&&(t.index+=1,Pc(t))}if(t.index>=t.max||!jp(r.charCodeAt(t.index)))break}zp(t)}var Bu=function(){function t(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Gp(t){if(Np(t))return[].concat(t);var e=new Bu(t);for(Pc(e);e.index<e.max&&!e.err.length;)Qg(e);return e.err?e.err:e.segments}function Lc(t){if(gh(t))return[].concat(t);var e=Gp(t),r=0,i=0,l=0,u=0;return e.map(function(h){var p=h.slice(1).map(Number),g=h[0],m=g.toUpperCase();if(g==="M")return r=p[0],i=p[1],l=r,u=i,["M",r,i];var x;if(g!==m)switch(m){case"A":x=[m,p[0],p[1],p[2],p[3],p[4],p[5]+r,p[6]+i];break;case"V":x=[m,p[0]+i];break;case"H":x=[m,p[0]+r];break;default:{var w=p.map(function(O,A){return O+(A%2?i:r)});x=[m].concat(w)}}else x=[m].concat(p);var M=x.length;switch(m){case"Z":r=l,i=u;break;case"H":r=x[1];break;case"V":i=x[1];break;default:r=x[M-2],i=x[M-1],m==="M"&&(l=r,u=i)}return x})}function Nu(t,e){var r=t[0],i=e.x1,l=e.y1,u=e.x2,h=e.y2,p=t.slice(1).map(Number),g=t;if("TQ".includes(r)||(e.qx=null,e.qy=null),r==="H")g=["L",t[1],l];else if(r==="V")g=["L",i,t[1]];else if(r==="S"){var m=i*2-u,x=l*2-h;e.x1=m,e.y1=x,g=["C",m,x].concat(p)}else if(r==="T"){var w=i*2-e.qx,M=l*2-e.qy;e.qx=w,e.qy=M,g=["Q",w,M].concat(p)}else if(r==="Q"){var O=p[0],A=p[1];e.qx=O,e.qy=A}return g}function zu(t){if(yh(t))return[].concat(t);for(var e=Lc(t),r=(0,B.pi)({},Bo),i=0;i<e.length;i+=1){e[i]=Nu(e[i],r);var l=e[i],u=l.length;r.x1=+l[u-2],r.y1=+l[u-1],r.x2=+l[u-4]||r.x1,r.y2=+l[u-3]||r.y1}return e}function xa(t,e,r){var i=t[0],l=t[1],u=e[0],h=e[1];return[i+(u-i)*r,l+(h-l)*r]}function xh(t,e,r,i,l){var u=la([t,e],[r,i]),h={x:0,y:0};if(typeof l=="number")if(l<=0)h={x:t,y:e};else if(l>=u)h={x:r,y:i};else{var p=xa([t,e],[r,i],l/u),g=p[0],m=p[1];h={x:g,y:m}}return{length:u,point:h,min:{x:Math.min(t,r),y:Math.min(e,i)},max:{x:Math.max(t,r),y:Math.max(e,i)}}}function ty(t,e){var r=t.x,i=t.y,l=e.x,u=e.y,h=r*l+i*u,p=Math.sqrt((Math.pow(r,2)+Math.pow(i,2))*(Math.pow(l,2)+Math.pow(u,2))),g=r*u-i*l<0?-1:1,m=g*Math.acos(h/p);return m}function Wp(t,e,r,i,l,u,h,p,g,m){var x=Math.abs,w=Math.sin,M=Math.cos,O=Math.sqrt,A=Math.PI,E=x(r),P=x(i),I=(l%360+360)%360,F=I*(A/180);if(t===p&&e===g)return{x:t,y:e};if(E===0||P===0)return xh(t,e,p,g,m).point;var N=(t-p)/2,z=(e-g)/2,G={x:M(F)*N+w(F)*z,y:-w(F)*N+M(F)*z},W=Math.pow(G.x,2)/Math.pow(E,2)+Math.pow(G.y,2)/Math.pow(P,2);W>1&&(E*=O(W),P*=O(W));var Y=Math.pow(E,2)*Math.pow(P,2)-Math.pow(E,2)*Math.pow(G.y,2)-Math.pow(P,2)*Math.pow(G.x,2),U=Math.pow(E,2)*Math.pow(G.y,2)+Math.pow(P,2)*Math.pow(G.x,2),X=Y/U;X=X<0?0:X;var $=(u!==h?1:-1)*O(X),Q={x:$*(E*G.y/P),y:$*(-(P*G.x)/E)},ft={x:M(F)*Q.x-w(F)*Q.y+(t+p)/2,y:w(F)*Q.x+M(F)*Q.y+(e+g)/2},ot={x:(G.x-Q.x)/E,y:(G.y-Q.y)/P},J=ty({x:1,y:0},ot),st={x:(-G.x-Q.x)/E,y:(-G.y-Q.y)/P},gt=ty(ot,st);!h&&gt>0?gt-=2*A:h&&gt<0&&(gt+=2*A),gt%=2*A;var Mt=J+gt*m,At=E*M(Mt),St=P*w(Mt),Ut={x:M(F)*At-w(F)*St+ft.x,y:w(F)*At+M(F)*St+ft.y};return Ut}function ey(t,e,r,i,l,u,h,p,g,m,x){var w,M=x.bbox,O=M===void 0?!0:M,A=x.length,E=A===void 0?!0:A,P=x.sampleSize,I=P===void 0?30:P,F=typeof m=="number",N=t,z=e,G=0,W=[N,z,G],Y=[N,z],U=0,X={x:0,y:0},$=[{x:N,y:z}];F&&m<=0&&(X={x:N,y:z});for(var Q=0;Q<=I;Q+=1){if(U=Q/I,w=Wp(t,e,r,i,l,u,h,p,g,U),N=w.x,z=w.y,O&&$.push({x:N,y:z}),E&&(G+=la(Y,[N,z])),Y=[N,z],F&&G>=m&&m>W[2]){var ft=(G-m)/(G-W[2]);X={x:Y[0]*(1-ft)+W[0]*ft,y:Y[1]*(1-ft)+W[1]*ft}}W=[N,z,G]}return F&&m>=G&&(X={x:p,y:g}),{length:G,point:X,min:{x:Math.min.apply(null,$.map(function(ot){return ot.x})),y:Math.min.apply(null,$.map(function(ot){return ot.y}))},max:{x:Math.max.apply(null,$.map(function(ot){return ot.x})),y:Math.max.apply(null,$.map(function(ot){return ot.y}))}}}function ny(t,e,r,i,l,u,h,p,g){var m=1-g;return{x:Math.pow(m,3)*t+3*Math.pow(m,2)*g*r+3*m*Math.pow(g,2)*l+Math.pow(g,3)*h,y:Math.pow(m,3)*e+3*Math.pow(m,2)*g*i+3*m*Math.pow(g,2)*u+Math.pow(g,3)*p}}function Ic(t,e,r,i,l,u,h,p,g,m){var x,w=m.bbox,M=w===void 0?!0:w,O=m.length,A=O===void 0?!0:O,E=m.sampleSize,P=E===void 0?10:E,I=typeof g=="number",F=t,N=e,z=0,G=[F,N,z],W=[F,N],Y=0,U={x:0,y:0},X=[{x:F,y:N}];I&&g<=0&&(U={x:F,y:N});for(var $=0;$<=P;$+=1){if(Y=$/P,x=ny(t,e,r,i,l,u,h,p,Y),F=x.x,N=x.y,M&&X.push({x:F,y:N}),A&&(z+=la(W,[F,N])),W=[F,N],I&&z>=g&&g>G[2]){var Q=(z-g)/(z-G[2]);U={x:W[0]*(1-Q)+G[0]*Q,y:W[1]*(1-Q)+G[1]*Q}}G=[F,N,z]}return I&&g>=z&&(U={x:h,y:p}),{length:z,point:U,min:{x:Math.min.apply(null,X.map(function(ft){return ft.x})),y:Math.min.apply(null,X.map(function(ft){return ft.y}))},max:{x:Math.max.apply(null,X.map(function(ft){return ft.x})),y:Math.max.apply(null,X.map(function(ft){return ft.y}))}}}function ry(t,e,r,i,l,u,h){var p=1-h;return{x:Math.pow(p,2)*t+2*p*h*r+Math.pow(h,2)*l,y:Math.pow(p,2)*e+2*p*h*i+Math.pow(h,2)*u}}function iy(t,e,r,i,l,u,h,p){var g,m=p.bbox,x=m===void 0?!0:m,w=p.length,M=w===void 0?!0:w,O=p.sampleSize,A=O===void 0?10:O,E=typeof h=="number",P=t,I=e,F=0,N=[P,I,F],z=[P,I],G=0,W={x:0,y:0},Y=[{x:P,y:I}];E&&h<=0&&(W={x:P,y:I});for(var U=0;U<=A;U+=1){if(G=U/A,g=ry(t,e,r,i,l,u,G),P=g.x,I=g.y,x&&Y.push({x:P,y:I}),M&&(F+=la(z,[P,I])),z=[P,I],E&&F>=h&&h>N[2]){var X=(F-h)/(F-N[2]);W={x:z[0]*(1-X)+N[0]*X,y:z[1]*(1-X)+N[1]*X}}N=[P,I,F]}return E&&h>=F&&(W={x:l,y:u}),{length:F,point:W,min:{x:Math.min.apply(null,Y.map(function($){return $.x})),y:Math.min.apply(null,Y.map(function($){return $.y}))},max:{x:Math.max.apply(null,Y.map(function($){return $.x})),y:Math.max.apply(null,Y.map(function($){return $.y}))}}}function Vp(t,e,r){for(var i,l,u,h,p,g,m=zu(t),x=typeof e=="number",w,M=[],O,A=0,E=0,P=0,I=0,F,N=[],z=[],G=0,W={x:0,y:0},Y=W,U=W,X=W,$=0,Q=0,ft=m.length;Q<ft;Q+=1)F=m[Q],O=F[0],w=O==="M",M=w?M:[A,E].concat(F.slice(1)),w?(P=F[1],I=F[2],W={x:P,y:I},Y=W,G=0,x&&e<.001&&(X=W)):O==="L"?(i=xh(M[0],M[1],M[2],M[3],(e||0)-$),G=i.length,W=i.min,Y=i.max,U=i.point):O==="A"?(l=ey(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],M[8],(e||0)-$,r||{}),G=l.length,W=l.min,Y=l.max,U=l.point):O==="C"?(u=Ic(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],(e||0)-$,r||{}),G=u.length,W=u.min,Y=u.max,U=u.point):O==="Q"?(h=iy(M[0],M[1],M[2],M[3],M[4],M[5],(e||0)-$,r||{}),G=h.length,W=h.min,Y=h.max,U=h.point):O==="Z"&&(M=[A,E,P,I],p=xh(M[0],M[1],M[2],M[3],(e||0)-$),G=p.length,W=p.min,Y=p.max,U=p.point),x&&$<e&&$+G>=e&&(X=U),z.push(Y),N.push(W),$+=G,g=O!=="Z"?F.slice(-2):[P,I],A=g[0],E=g[1];return x&&e>=$&&(X={x:A,y:E}),{length:$,point:X,min:{x:Math.min.apply(null,N.map(function(ot){return ot.x})),y:Math.min.apply(null,N.map(function(ot){return ot.y}))},max:{x:Math.max.apply(null,z.map(function(ot){return ot.x})),y:Math.max.apply(null,z.map(function(ot){return ot.y}))}}}function ay(t,e){return Vp(t,void 0,(0,B.pi)((0,B.pi)({},e),{bbox:!1,length:!0})).length}var Rc=function(t){return Array.isArray?Array.isArray(t):vh(t,"Array")},Fc=function(t){if(Rc(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},Hp=function(t){if(Rc(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},oy=1e-5;function sy(t,e,r){return r===void 0&&(r=oy),Math.abs(t-e)<r}var ht=function(t,e){return(t%e+e)%e},Vt=ht;function pe(t,e,r){if(t[r].length>7){t[r].shift();for(var i=t[r],l=r;i.length;)e[r]="A",t.splice(l+=1,0,["C"].concat(i.splice(0,6)));t.splice(r,1)}}function ke(t){return yh(t)&&t.every(function(e){var r=e[0];return"MC".includes(r)})}function $e(t,e,r){var i=t*Math.cos(r)-e*Math.sin(r),l=t*Math.sin(r)+e*Math.cos(r);return{x:i,y:l}}function yn(t,e,r,i,l,u,h,p,g,m){var x=t,w=e,M=r,O=i,A=p,E=g,P=Math.PI*120/180,I=Math.PI/180*(+l||0),F=[],N,z,G,W,Y;if(m)z=m[0],G=m[1],W=m[2],Y=m[3];else{N=$e(x,w,-I),x=N.x,w=N.y,N=$e(A,E,-I),A=N.x,E=N.y;var U=(x-A)/2,X=(w-E)/2,$=U*U/(M*M)+X*X/(O*O);$>1&&($=Math.sqrt($),M*=$,O*=$);var Q=M*M,ft=O*O,ot=(u===h?-1:1)*Math.sqrt(Math.abs((Q*ft-Q*X*X-ft*U*U)/(Q*X*X+ft*U*U)));W=ot*M*X/O+(x+A)/2,Y=ot*-O*U/M+(w+E)/2,z=Math.asin(((w-Y)/O*Math.pow(10,9)>>0)/Math.pow(10,9)),G=Math.asin(((E-Y)/O*Math.pow(10,9)>>0)/Math.pow(10,9)),z=x<W?Math.PI-z:z,G=A<W?Math.PI-G:G,z<0&&(z=Math.PI*2+z),G<0&&(G=Math.PI*2+G),h&&z>G&&(z-=Math.PI*2),!h&&G>z&&(G-=Math.PI*2)}var J=G-z;if(Math.abs(J)>P){var st=G,gt=A,Mt=E;G=z+P*(h&&G>z?1:-1),A=W+M*Math.cos(G),E=Y+O*Math.sin(G),F=yn(A,E,M,O,l,0,h,gt,Mt,[G,st,W,Y])}J=G-z;var At=Math.cos(z),St=Math.sin(z),Ut=Math.cos(G),ce=Math.sin(G),be=Math.tan(J/4),Le=4/3*M*be,nn=4/3*O*be,De=[x,w],en=[x+Le*St,w-nn*At],cn=[A+Le*ce,E-nn*Ut],an=[A,E];if(en[0]=2*De[0]-en[0],en[1]=2*De[1]-en[1],m)return en.concat(cn,an,F);F=en.concat(cn,an,F);for(var Rn=[],Tn=0,Vn=F.length;Tn<Vn;Tn+=1)Rn[Tn]=Tn%2?$e(F[Tn-1],F[Tn],I).y:$e(F[Tn],F[Tn+1],I).x;return Rn}function Wn(t,e,r,i,l,u){var h=.3333333333333333,p=2/3;return[h*t+p*r,h*e+p*i,h*l+p*r,h*u+p*i,l,u]}var wr=function(t,e,r,i){var l=.5,u=xa([t,e],[r,i],l);return(0,B.ev)((0,B.ev)([],u,!0),[r,i,r,i],!1)};function ba(t,e){var r=t[0],i=t.slice(1).map(Number),l=i[0],u=i[1],h,p=e.x1,g=e.y1,m=e.x,x=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=l,e.y=u,t;case"A":return h=[p,g].concat(i),["C"].concat(yn(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9]));case"Q":return e.qx=l,e.qy=u,h=[p,g].concat(i),["C"].concat(Wn(h[0],h[1],h[2],h[3],h[4],h[5]));case"L":return["C"].concat(wr(p,g,l,u));case"Z":return p===m&&g===x?["C",p,g,m,x,m,x]:["C"].concat(wr(p,g,m,x));default:}return t}function ta(t,e){if(e===void 0&&(e=!1),ke(t)){var r=[].concat(t);return e?[r,[]]:r}for(var i=zu(t),l=(0,B.pi)({},Bo),u=[],h="",p=i.length,g,m,x=[],w=0;w<p;w+=1){i[w]&&(h=i[w][0]),u[w]=h;var M=ba(i[w],l);i[w]=M,pe(i,u,w),p=i.length,h==="Z"&&x.push(w),g=i[w],m=g.length,l.x1=+g[m-2],l.y1=+g[m-1],l.x2=+g[m-4]||l.x1,l.y2=+g[m-3]||l.y1}return e?[i,x]:i}function go(t,e){e===void 0&&(e=.5);var r=t.slice(0,2),i=t.slice(2,4),l=t.slice(4,6),u=t.slice(6,8),h=xa(r,i,e),p=xa(i,l,e),g=xa(l,u,e),m=xa(h,p,e),x=xa(p,g,e),w=xa(m,x,e);return[["C"].concat(h,m,w),["C"].concat(x,g,u)]}function ju(t){return t.map(function(e,r,i){var l=r&&i[r-1].slice(-2).concat(e.slice(1)),u=r?Ic(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],{bbox:!1}).length:0,h;return r?h=u?go(l):[e,e]:h=[e],{s:e,ss:h,l:u}})}function N2(t,e,r){var i=ju(t),l=ju(e),u=i.length,h=l.length,p=i.filter(function(P){return P.l}).length,g=l.filter(function(P){return P.l}).length,m=i.filter(function(P){return P.l}).reduce(function(P,I){var F=I.l;return P+F},0)/p||0,x=l.filter(function(P){return P.l}).reduce(function(P,I){var F=I.l;return P+F},0)/g||0,w=r||Math.max(u,h),M=[m,x],O=[w-u,w-h],A=0,E=[i,l].map(function(P,I){return P.l===w?P.map(function(F){return F.s}):P.map(function(F,N){return A=N&&O[I]&&F.l>=M[I],O[I]-=A?1:0,A?F.ss:[F.s]}).flat()});return E[0].length===E[1].length?E:N2(E[0],E[1],w)}function xk(t,e,r,i,l,u,h,p){return 3*((p-e)*(r+l)-(h-t)*(i+u)+i*(t-l)-r*(e-u)+p*(l+t/3)-h*(u+e/3))/20}function bk(t){var e=0,r=0,i=0;return ta(t).map(function(l){var u;switch(l[0]){case"M":return e=l[1],r=l[2],0;default:var h=l.slice(1),p=h[0],g=h[1],m=h[2],x=h[3],w=h[4],M=h[5];return i=xk(e,r,p,g,m,x,w,M),u=l.slice(-2),e=u[0],r=u[1],i}}).reduce(function(l,u){return l+u},0)}function z2(t){return bk(t)>=0}function j2(t){var e=t.slice(1).map(function(r,i,l){return i?l[i-1].slice(-2).concat(r.slice(1)):t[0].slice(1).concat(r.slice(1))}).map(function(r){return r.map(function(i,l){return r[r.length-l-2*(1-l%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(r){return["C"].concat(r.slice(2))}))}function G2(t){return t.map(function(e){return Array.isArray(e)?[].concat(e):e})}function bh(t){var e=t.length,r=e-1;return t.map(function(i,l){return t.map(function(u,h){var p=l+h,g;return h===0||t[p]&&t[p][0]==="M"?(g=t[p],["M"].concat(g.slice(-2))):(p>=e&&(p-=r),t[p])})})}function wh(t,e){var r=t.length-1,i=[],l=0,u=0,h=bh(t);return h.forEach(function(p,g){t.slice(1).forEach(function(m,x){u+=la(t[(g+x)%r].slice(-2),e[x%r].slice(-2))}),i[g]=u,u=0}),l=i.indexOf(Math.min.apply(null,i)),h[l]}var wk=function(t){return vh(t,"Boolean")},Dr=wk,Yp=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"},Up=function(t){return t===void 0},wi=Up;function W2(t,e,r){return Vp(t,e,(0,B.pi)((0,B.pi)({},r),{bbox:!1,length:!0})).point}function Nn(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function V2(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Mh(){}var Sh=.7,Xp=1/Sh,Dc="\\s*([+-]?\\d+)\\s*",_h="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H2=/^#([0-9a-f]{3,8})$/,Y2=new RegExp("^rgb\\("+[Dc,Dc,Dc]+"\\)$"),Bc=new RegExp("^rgb\\("+[yo,yo,yo]+"\\)$"),ly=new RegExp("^rgba\\("+[Dc,Dc,Dc,_h]+"\\)$"),Mk=new RegExp("^rgba\\("+[yo,yo,yo,_h]+"\\)$"),Zp=new RegExp("^hsl\\("+[_h,yo,yo]+"\\)$"),Sk=new RegExp("^hsla\\("+[_h,yo,yo,_h]+"\\)$"),cy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nn(Mh,Jp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qp,formatHex:qp,formatHsl:$p,formatRgb:Kp,toString:Kp});function qp(){return this.rgb().formatHex()}function $p(){return Ok(this).formatHsl()}function Kp(){return this.rgb().formatRgb()}function Jp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=H2.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Gu(e):r===3?new ea(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Qp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Qp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Y2.exec(t))?new ea(e[1],e[2],e[3],1):(e=Bc.exec(t))?new ea(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ly.exec(t))?Qp(e[1],e[2],e[3],e[4]):(e=Mk.exec(t))?Qp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zp.exec(t))?X2(e[1],e[2]/100,e[3]/100,1):(e=Sk.exec(t))?X2(e[1],e[2]/100,e[3]/100,e[4]):cy.hasOwnProperty(t)?Gu(cy[t]):t==="transparent"?new ea(NaN,NaN,NaN,0):null}function Gu(t){return new ea(t>>16&255,t>>8&255,t&255,1)}function Qp(t,e,r,i){return i<=0&&(t=e=r=NaN),new ea(t,e,r,i)}function Oh(t){return t instanceof Mh||(t=Jp(t)),t?(t=t.rgb(),new ea(t.r,t.g,t.b,t.opacity)):new ea}function Nc(t,e,r,i){return arguments.length===1?Oh(t):new ea(t,e,r,i==null?1:i)}function ea(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}Nn(ea,Nc,V2(Mh,{brighter:function(t){return t=t==null?Xp:Math.pow(Xp,t),new ea(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Sh:Math.pow(Sh,t),new ea(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U2,formatHex:U2,formatRgb:_k,toString:_k}));function U2(){return"#"+Wu(this.r)+Wu(this.g)+Wu(this.b)}function _k(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Wu(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function X2(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ms(t,e,r,i)}function Ok(t){if(t instanceof ms)return new ms(t.h,t.s,t.l,t.opacity);if(t instanceof Mh||(t=Jp(t)),!t)return new ms;if(t instanceof ms)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,l=Math.min(e,r,i),u=Math.max(e,r,i),h=NaN,p=u-l,g=(u+l)/2;return p?(e===u?h=(r-i)/p+(r<i)*6:r===u?h=(i-e)/p+2:h=(e-r)/p+4,p/=g<.5?u+l:2-u-l,h*=60):p=g>0&&g<1?0:h,new ms(h,p,g,t.opacity)}function Z2(t,e,r,i){return arguments.length===1?Ok(t):new ms(t,e,r,i==null?1:i)}function ms(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}Nn(ms,Z2,V2(Mh,{brighter:function(t){return t=t==null?Xp:Math.pow(Xp,t),new ms(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Sh:Math.pow(Sh,t),new ms(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,l=2*r-i;return new ea(wa(t>=240?t-240:t+120,l,i),wa(t,l,i),wa(t<120?t+240:t-120,l,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function wa(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var q2=1e-5;function tv(t,e,r){return r===void 0&&(r=q2),Math.abs(t-e)<r}function Ma(t,e,r,i){var l=t-r,u=e-i;return Math.sqrt(l*l+u*u)}function Ch(t,e){var r=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(t),!1)),i=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(e),!1)),l=Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(t),!1)),u=Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(e),!1));return{x:r,y:i,width:l-r,height:u-i}}function Al(t){return(t+Math.PI*2)%(Math.PI*2)}function $2(t,e){var r=Math.abs(t);return e>0?r:r*-1}function Ck(t,e,r,i,l,u){var h=r,p=i;if(h===0||p===0)return{x:t,y:e};for(var g=l-t,m=u-e,x=Math.abs(g),w=Math.abs(m),M=h*h,O=p*p,A=Math.PI/4,E=0,P=0,I=0;I<4;I++){E=h*Math.cos(A),P=p*Math.sin(A);var F=(M-O)*Math.pow(Math.cos(A),3)/h,N=(O-M)*Math.pow(Math.sin(A),3)/p,z=E-F,G=P-N,W=x-F,Y=w-N,U=Math.hypot(G,z),X=Math.hypot(Y,W),$=U*Math.asin((z*Y-G*W)/(U*X)),Q=$/Math.sqrt(M+O-E*E-P*P);A+=Q,A=Math.min(Math.PI/2,Math.max(0,A))}return{x:t+$2(E,g),y:e+$2(P,m)}}function Ak(t,e,r,i,l,u,h,p){return-1*r*Math.cos(l)*Math.sin(p)-i*Math.sin(l)*Math.cos(p)}function ca(t,e,r,i,l,u,h,p){return-1*r*Math.sin(l)*Math.sin(p)+i*Math.cos(l)*Math.cos(p)}function uy(t,e,r){return Math.atan(-e/t*Math.tan(r))}function Tk(t,e,r){return Math.atan(e/(t*Math.tan(r)))}function zc(t,e,r,i,l,u){return r*Math.cos(l)*Math.cos(u)-i*Math.sin(l)*Math.sin(u)+t}function Ek(t,e,r,i,l,u){return r*Math.sin(l)*Math.cos(u)+i*Math.cos(l)*Math.sin(u)+e}function kk(t,e,r,i){var l=Math.atan2(i*t,r*e);return(l+Math.PI*2)%(Math.PI*2)}function K2(t,e,r){return{x:t*Math.cos(r),y:e*Math.sin(r)}}function J2(t,e,r){var i=Math.cos(r),l=Math.sin(r);return[t*i-e*l,t*l+e*i]}function Pk(t,e,r,i,l,u,h){for(var p=uy(r,i,l),g=1/0,m=-1/0,x=[u,h],w=-Math.PI*2;w<=Math.PI*2;w+=Math.PI){var M=p+w;u<h?u<M&&M<h&&x.push(M):h<M&&M<u&&x.push(M)}for(var w=0;w<x.length;w++){var O=zc(t,e,r,i,l,x[w]);O<g&&(g=O),O>m&&(m=O)}for(var A=Tk(r,i,l),E=1/0,P=-1/0,I=[u,h],w=-Math.PI*2;w<=Math.PI*2;w+=Math.PI){var F=A+w;u<h?u<F&&F<h&&I.push(F):h<F&&F<u&&I.push(F)}for(var w=0;w<I.length;w++){var N=Ek(t,e,r,i,l,I[w]);N<E&&(E=N),N>P&&(P=N)}return{x:g,y:E,width:m-g,height:P-E}}function Q2(t,e,r,i,l,u,h,p,g){var m=J2(p-t,g-e,-l),x=__read(m,2),w=x[0],M=x[1],O=Ck(0,0,r,i,w,M),A=kk(r,i,O.x,O.y);A<u?O=K2(r,i,u):A>h&&(O=K2(r,i,h));var E=J2(O.x,O.y,l);return{x:E[0]+t,y:E[1]+e}}function o6(t,e,r,i,l,u,h,p){var g=(h-u)*p+u,m=Ak(t,e,r,i,l,u,h,g),x=ca(t,e,r,i,l,u,h,g);return Al(Math.atan2(x,m))}var s6=1e-4;function Vu(t,e,r,i,l,u){var h=-1,p=1/0,g=[r,i],m=20;u&&u>200&&(m=u/10);for(var x=1/m,w=x/10,M=0;M<=m;M++){var O=M*x,A=[l.apply(void 0,(0,B.ev)([],(0,B.CR)(t.concat([O])),!1)),l.apply(void 0,(0,B.ev)([],(0,B.CR)(e.concat([O])),!1))],E=Ma(g[0],g[1],A[0],A[1]);E<p&&(h=O,p=E)}if(h===0)return{x:t[0],y:e[0]};if(h===1){var P=t.length;return{x:t[P-1],y:e[P-1]}}p=1/0;for(var M=0;M<32&&!(w<s6);M++){var I=h-w,F=h+w,A=[l.apply(void 0,(0,B.ev)([],(0,B.CR)(t.concat([I])),!1)),l.apply(void 0,(0,B.ev)([],(0,B.CR)(e.concat([I])),!1))],E=Ma(g[0],g[1],A[0],A[1]);if(I>=0&&E<p)h=I,p=E;else{var N=[l.apply(void 0,(0,B.ev)([],(0,B.CR)(t.concat([F])),!1)),l.apply(void 0,(0,B.ev)([],(0,B.CR)(e.concat([F])),!1))],z=Ma(g[0],g[1],N[0],N[1]);F<=1&&z<p?(h=F,p=z):w*=.5}}return{x:l.apply(void 0,(0,B.ev)([],(0,B.CR)(t.concat([h])),!1)),y:l.apply(void 0,(0,B.ev)([],(0,B.CR)(e.concat([h])),!1))}}function ev(t,e){for(var r=0,i=t.length,l=0;l<i;l++){var u=t[l],h=e[l],p=t[(l+1)%i],g=e[(l+1)%i];r+=Ma(u,h,p,g)}return r/2}function cr(t,e,r,i){return Ch([t,r],[e,i])}function tw(t,e,r,i){return Ma(t,e,r,i)}function xs(t,e,r,i,l){return{x:(1-l)*t+l*r,y:(1-l)*e+l*i}}function Lk(t,e,r,i,l,u){var h=(r-t)*(l-t)+(i-e)*(u-e);if(h<0)return Ma(t,e,l,u);var p=(r-t)*(r-t)+(i-e)*(i-e);return h>p?Ma(r,i,l,u):ew(t,e,r,i,l,u)}function ew(t,e,r,i,l,u){var h=[r-t,i-e];if(Qi.I6(h,[0,0]))return Math.sqrt((l-t)*(l-t)+(u-e)*(u-e));var p=[-h[1],h[0]];Qi.Fv(p,p);var g=[l-t,u-e];return Math.abs(Qi.AK(g,p))}function l6(t,e,r,i){return Math.atan2(i-e,r-t)}function jc(t,e,r,i,l){var u=1-l;return u*u*u*t+3*e*l*u*u+3*r*l*l*u+i*l*l*l}function nw(t,e,r,i,l){var u=1-l;return 3*(u*u*(e-t)+2*u*l*(r-e)+l*l*(i-r))}function rw(t,e,r,i){var l=-3*t+9*e-9*r+3*i,u=6*t-12*e+6*r,h=3*e-3*t,p=[],g,m,x;if(tv(l,0))tv(u,0)||(g=-h/u,g>=0&&g<=1&&p.push(g));else{var w=u*u-4*l*h;tv(w,0)?p.push(-u/(2*l)):w>0&&(x=Math.sqrt(w),g=(-u+x)/(2*l),m=(-u-x)/(2*l),g>=0&&g<=1&&p.push(g),m>=0&&m<=1&&p.push(m))}return p}function Ik(t,e,r,i,l,u,h,p,g){var m=jc(t,r,l,h,g),x=jc(e,i,u,p,g),w=xs(t,e,r,i,g),M=xs(r,i,l,u,g),O=xs(l,u,h,p,g),A=xs(w.x,w.y,M.x,M.y,g),E=xs(M.x,M.y,O.x,O.y,g);return[[t,e,w.x,w.y,A.x,A.y,m,x],[m,x,E.x,E.y,O.x,O.y,h,p]]}function fy(t,e,r,i,l,u,h,p,g){if(g===0)return ev([t,r,l,h],[e,i,u,p]);var m=Ik(t,e,r,i,l,u,h,p,.5),x=__spreadArray(__spreadArray([],__read(m[0]),!1),[g-1],!1),w=__spreadArray(__spreadArray([],__read(m[1]),!1),[g-1],!1);return fy.apply(void 0,__spreadArray([],__read(x),!1))+fy.apply(void 0,__spreadArray([],__read(w),!1))}function Rk(t,e,r,i,l,u,h,p){for(var g=[t,h],m=[e,p],x=rw(t,r,l,h),w=rw(e,i,u,p),M=0;M<x.length;M++)g.push(jc(t,r,l,h,x[M]));for(var M=0;M<w.length;M++)m.push(jc(e,i,u,p,w[M]));return Ch(g,m)}function c6(t,e,r,i,l,u,h,p){return fy(t,e,r,i,l,u,h,p,3)}function Fk(t,e,r,i,l,u,h,p,g,m,x){return Vu([t,r,l,h],[e,i,u,p],g,m,jc,x)}function iw(t,e,r,i,l,u,h,p,g,m,x){var w=Fk(t,e,r,i,l,u,h,p,g,m,x);return Ma(w.x,w.y,g,m)}function u6(t,e,r,i,l,u,h,p,g){return{x:jc(t,r,l,h,g),y:jc(e,i,u,p,g)}}function f6(t,e,r,i,l,u,h,p,g){var m=nw(t,r,l,h,g),x=nw(e,i,u,p,g);return Al(Math.atan2(x,m))}function aw(t){for(var e=0,r=[],i=0;i<t.length-1;i++){var l=t[i],u=t[i+1],h=Ma(l[0],l[1],u[0],u[1]),p={from:l,to:u,length:h};r.push(p),e+=h}return{segments:r,totalLength:e}}function ow(t){if(t.length<2)return 0;for(var e=0,r=0;r<t.length-1;r++){var i=t[r],l=t[r+1];e+=Ma(i[0],i[1],l[0],l[1])}return e}function Na(t,e){if(e>1||e<0||t.length<2)return null;var r=aw(t),i=r.segments,l=r.totalLength;if(l===0)return{x:t[0][0],y:t[0][1]};for(var u=0,h=null,p=0;p<i.length;p++){var g=i[p],m=g.from,x=g.to,w=g.length/l;if(e>=u&&e<=u+w){var M=(e-u)/w;h=xs(m[0],m[1],x[0],x[1],M);break}u+=w}return h}function sw(t,e){if(e>1||e<0||t.length<2)return 0;for(var r=aw(t),i=r.segments,l=r.totalLength,u=0,h=0,p=0;p<i.length;p++){var g=i[p],m=g.from,x=g.to,w=g.length/l;if(e>=u&&e<=u+w){h=Math.atan2(x[1]-m[1],x[0]-m[0]);break}u+=w}return h}function lw(t,e,r){for(var i=1/0,l=0;l<t.length-1;l++){var u=t[l],h=t[l+1],p=Lk(u[0],u[1],h[0],h[1],e,r);p<i&&(i=p)}return i}function Dk(t){for(var e=[],r=[],i=0;i<t.length;i++){var l=t[i];e.push(l[0]),r.push(l[1])}return Ch(e,r)}function Bk(t){return ow(t)}function h6(t,e){return Na(t,e)}function cw(t,e,r){return lw(t,e,r)}function d6(t,e){return sw(t,e)}function nv(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}function rv(t){return Dk(t)}function p6(t){return ow(nv(t))}function Nk(t,e){return Na(nv(t),e)}function uw(t,e,r){return lw(nv(t),e,r)}function v6(t,e){return sw(nv(t),e)}function Ah(t,e,r,i){var l=1-i;return l*l*t+2*i*l*e+i*i*r}function hy(t,e,r){var i=t+r-2*e;if(tv(i,0))return[.5];var l=(t-e)/i;return l<=1&&l>=0?[l]:[]}function zk(t,e,r,i,l,u,h){var p=Ah(t,r,l,h),g=Ah(e,i,u,h),m=xs(t,e,r,i,h),x=xs(r,i,l,u,h);return[[t,e,m.x,m.y,p,g],[p,g,x.x,x.y,l,u]]}function dy(t,e,r,i,l,u,h){if(h===0)return(Ma(t,e,r,i)+Ma(r,i,l,u)+Ma(t,e,l,u))/2;var p=zk(t,e,r,i,l,u,.5),g=p[0],m=p[1];return g.push(h-1),m.push(h-1),dy.apply(void 0,__spreadArray([],__read(g),!1))+dy.apply(void 0,__spreadArray([],__read(m),!1))}function fw(t,e,r,i,l,u){var h=hy(t,r,l)[0],p=hy(e,i,u)[0],g=[t,l],m=[e,u];return h!==void 0&&g.push(Ah(t,r,l,h)),p!==void 0&&m.push(Ah(e,i,u,p)),Ch(g,m)}function hw(t,e,r,i,l,u){return dy(t,e,r,i,l,u,3)}function Th(t,e,r,i,l,u,h,p){return Vu([t,r,l],[e,i,u],h,p,Ah)}function dw(t,e,r,i,l,u,h,p){var g=Th(t,e,r,i,l,u,h,p);return Ma(g.x,g.y,h,p)}var jk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof kt.g!="undefined"?kt.g:typeof self!="undefined"?self:{},pw={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(jk,function(){function r(G,W,Y,U,X){i(G,W,Y||0,U||G.length-1,X||u)}function i(G,W,Y,U,X){for(;U>Y;){if(U-Y>600){var $=U-Y+1,Q=W-Y+1,ft=Math.log($),ot=.5*Math.exp(2*ft/3),J=.5*Math.sqrt(ft*ot*($-ot)/$)*(Q-$/2<0?-1:1),st=Math.max(Y,Math.floor(W-Q*ot/$+J)),gt=Math.min(U,Math.floor(W+($-Q)*ot/$+J));i(G,W,st,gt,X)}var Mt=G[W],At=Y,St=U;for(l(G,Y,W),X(G[U],Mt)>0&&l(G,Y,U);At<St;){for(l(G,At,St),At++,St--;X(G[At],Mt)<0;)At++;for(;X(G[St],Mt)>0;)St--}X(G[Y],Mt)===0?l(G,Y,St):(St++,l(G,St,U)),St<=W&&(Y=St+1),W<=St&&(U=St-1)}}function l(G,W,Y){var U=G[W];G[W]=G[Y],G[Y]=U}function u(G,W){return G<W?-1:G>W?1:0}var h=function(W){W===void 0&&(W=9),this._maxEntries=Math.max(4,W),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};h.prototype.all=function(){return this._all(this.data,[])},h.prototype.search=function(W){var Y=this.data,U=[];if(!F(W,Y))return U;for(var X=this.toBBox,$=[];Y;){for(var Q=0;Q<Y.children.length;Q++){var ft=Y.children[Q],ot=Y.leaf?X(ft):ft;F(W,ot)&&(Y.leaf?U.push(ft):I(W,ot)?this._all(ft,U):$.push(ft))}Y=$.pop()}return U},h.prototype.collides=function(W){var Y=this.data;if(!F(W,Y))return!1;for(var U=[];Y;){for(var X=0;X<Y.children.length;X++){var $=Y.children[X],Q=Y.leaf?this.toBBox($):$;if(F(W,Q)){if(Y.leaf||I(W,Q))return!0;U.push($)}}Y=U.pop()}return!1},h.prototype.load=function(W){if(!(W&&W.length))return this;if(W.length<this._minEntries){for(var Y=0;Y<W.length;Y++)this.insert(W[Y]);return this}var U=this._build(W.slice(),0,W.length-1,0);if(!this.data.children.length)this.data=U;else if(this.data.height===U.height)this._splitRoot(this.data,U);else{if(this.data.height<U.height){var X=this.data;this.data=U,U=X}this._insert(U,this.data.height-U.height-1,!0)}return this},h.prototype.insert=function(W){return W&&this._insert(W,this.data.height-1),this},h.prototype.clear=function(){return this.data=N([]),this},h.prototype.remove=function(W,Y){if(!W)return this;for(var U=this.data,X=this.toBBox(W),$=[],Q=[],ft,ot,J;U||$.length;){if(U||(U=$.pop(),ot=$[$.length-1],ft=Q.pop(),J=!0),U.leaf){var st=p(W,U.children,Y);if(st!==-1)return U.children.splice(st,1),$.push(U),this._condense($),this}!J&&!U.leaf&&I(U,X)?($.push(U),Q.push(ft),ft=0,ot=U,U=U.children[0]):ot?(ft++,U=ot.children[ft],J=!1):U=null}return this},h.prototype.toBBox=function(W){return W},h.prototype.compareMinX=function(W,Y){return W.minX-Y.minX},h.prototype.compareMinY=function(W,Y){return W.minY-Y.minY},h.prototype.toJSON=function(){return this.data},h.prototype.fromJSON=function(W){return this.data=W,this},h.prototype._all=function(W,Y){for(var U=[];W;)W.leaf?Y.push.apply(Y,W.children):U.push.apply(U,W.children),W=U.pop();return Y},h.prototype._build=function(W,Y,U,X){var $=U-Y+1,Q=this._maxEntries,ft;if($<=Q)return ft=N(W.slice(Y,U+1)),g(ft,this.toBBox),ft;X||(X=Math.ceil(Math.log($)/Math.log(Q)),Q=Math.ceil($/Math.pow(Q,X-1))),ft=N([]),ft.leaf=!1,ft.height=X;var ot=Math.ceil($/Q),J=ot*Math.ceil(Math.sqrt(Q));z(W,Y,U,J,this.compareMinX);for(var st=Y;st<=U;st+=J){var gt=Math.min(st+J-1,U);z(W,st,gt,ot,this.compareMinY);for(var Mt=st;Mt<=gt;Mt+=ot){var At=Math.min(Mt+ot-1,gt);ft.children.push(this._build(W,Mt,At,X-1))}}return g(ft,this.toBBox),ft},h.prototype._chooseSubtree=function(W,Y,U,X){for(;X.push(Y),!(Y.leaf||X.length-1===U);){for(var $=1/0,Q=1/0,ft=void 0,ot=0;ot<Y.children.length;ot++){var J=Y.children[ot],st=O(J),gt=E(W,J)-st;gt<Q?(Q=gt,$=st<$?st:$,ft=J):gt===Q&&st<$&&($=st,ft=J)}Y=ft||Y.children[0]}return Y},h.prototype._insert=function(W,Y,U){var X=U?W:this.toBBox(W),$=[],Q=this._chooseSubtree(X,this.data,Y,$);for(Q.children.push(W),x(Q,X);Y>=0&&$[Y].children.length>this._maxEntries;)this._split($,Y),Y--;this._adjustParentBBoxes(X,$,Y)},h.prototype._split=function(W,Y){var U=W[Y],X=U.children.length,$=this._minEntries;this._chooseSplitAxis(U,$,X);var Q=this._chooseSplitIndex(U,$,X),ft=N(U.children.splice(Q,U.children.length-Q));ft.height=U.height,ft.leaf=U.leaf,g(U,this.toBBox),g(ft,this.toBBox),Y?W[Y-1].children.push(ft):this._splitRoot(U,ft)},h.prototype._splitRoot=function(W,Y){this.data=N([W,Y]),this.data.height=W.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},h.prototype._chooseSplitIndex=function(W,Y,U){for(var X,$=1/0,Q=1/0,ft=Y;ft<=U-Y;ft++){var ot=m(W,0,ft,this.toBBox),J=m(W,ft,U,this.toBBox),st=P(ot,J),gt=O(ot)+O(J);st<$?($=st,X=ft,Q=gt<Q?gt:Q):st===$&&gt<Q&&(Q=gt,X=ft)}return X||U-Y},h.prototype._chooseSplitAxis=function(W,Y,U){var X=W.leaf?this.compareMinX:w,$=W.leaf?this.compareMinY:M,Q=this._allDistMargin(W,Y,U,X),ft=this._allDistMargin(W,Y,U,$);Q<ft&&W.children.sort(X)},h.prototype._allDistMargin=function(W,Y,U,X){W.children.sort(X);for(var $=this.toBBox,Q=m(W,0,Y,$),ft=m(W,U-Y,U,$),ot=A(Q)+A(ft),J=Y;J<U-Y;J++){var st=W.children[J];x(Q,W.leaf?$(st):st),ot+=A(Q)}for(var gt=U-Y-1;gt>=Y;gt--){var Mt=W.children[gt];x(ft,W.leaf?$(Mt):Mt),ot+=A(ft)}return ot},h.prototype._adjustParentBBoxes=function(W,Y,U){for(var X=U;X>=0;X--)x(Y[X],W)},h.prototype._condense=function(W){for(var Y=W.length-1,U=void 0;Y>=0;Y--)W[Y].children.length===0?Y>0?(U=W[Y-1].children,U.splice(U.indexOf(W[Y]),1)):this.clear():g(W[Y],this.toBBox)};function p(G,W,Y){if(!Y)return W.indexOf(G);for(var U=0;U<W.length;U++)if(Y(G,W[U]))return U;return-1}function g(G,W){m(G,0,G.children.length,W,G)}function m(G,W,Y,U,X){X||(X=N(null)),X.minX=1/0,X.minY=1/0,X.maxX=-1/0,X.maxY=-1/0;for(var $=W;$<Y;$++){var Q=G.children[$];x(X,G.leaf?U(Q):Q)}return X}function x(G,W){return G.minX=Math.min(G.minX,W.minX),G.minY=Math.min(G.minY,W.minY),G.maxX=Math.max(G.maxX,W.maxX),G.maxY=Math.max(G.maxY,W.maxY),G}function w(G,W){return G.minX-W.minX}function M(G,W){return G.minY-W.minY}function O(G){return(G.maxX-G.minX)*(G.maxY-G.minY)}function A(G){return G.maxX-G.minX+(G.maxY-G.minY)}function E(G,W){return(Math.max(W.maxX,G.maxX)-Math.min(W.minX,G.minX))*(Math.max(W.maxY,G.maxY)-Math.min(W.minY,G.minY))}function P(G,W){var Y=Math.max(G.minX,W.minX),U=Math.max(G.minY,W.minY),X=Math.min(G.maxX,W.maxX),$=Math.min(G.maxY,W.maxY);return Math.max(0,X-Y)*Math.max(0,$-U)}function I(G,W){return G.minX<=W.minX&&G.minY<=W.minY&&W.maxX<=G.maxX&&W.maxY<=G.maxY}function F(G,W){return W.minX<=G.maxX&&W.minY<=G.maxY&&W.maxX>=G.minX&&W.maxY>=G.minY}function N(G){return{children:G,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function z(G,W,Y,U,X){for(var $=[W,Y];$.length;)if(Y=$.pop(),W=$.pop(),!(Y-W<=U)){var Q=W+Math.ceil((Y-W)/U/2)*U;r(G,Q,W,Y,X),$.push(W,Q,Q,Y)}}return h})})(pw);var Gk=pw.exports,Ye;(function(t){t.GROUP="g",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh"})(Ye||(Ye={}));var Gc;(function(t){t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE"})(Gc||(Gc={}));var Tl=function(){function t(){this.plugins=[]}return t.prototype.addRenderingPlugin=function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)},t.prototype.removeAllRenderingPlugins=function(){var e=this;this.plugins.forEach(function(r){var i=e.context.renderingPlugins.indexOf(r);i>=0&&e.context.renderingPlugins.splice(i,1)})},t}(),Wk=function(){function t(e){this.clipSpaceNearZ=Gc.NEGATIVE_ONE,this.plugins=[],this.config=(0,B.pi)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1},e)}return t.prototype.registerPlugin=function(e){var r=this.plugins.findIndex(function(i){return i===e});r===-1&&this.plugins.push(e)},t.prototype.unregisterPlugin=function(e){var r=this.plugins.findIndex(function(i){return i===e});r>-1&&this.plugins.splice(r,1)},t.prototype.getPlugins=function(){return this.plugins},t.prototype.getPlugin=function(e){return this.plugins.find(function(r){return r.name===e})},t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(e){Object.assign(this.config,e)},t}();function Wc(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function py(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Eh(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function vw(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Vk(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function Hk(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function Hu(t){return t===void 0?0:t>360||t<-360?t%360:t}function za(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=0),Array.isArray(t)&&t.length===3?rt.d9(t):Sl(t)?rt.al(t,e,r):rt.al(t[0],t[1]||e,t[2]||r)}function pi(t){return t*(Math.PI/180)}function Ja(t){return t*(180/Math.PI)}function g6(t){return t=t%400,t<0&&(t+=400),t/400*360}function Yk(t){return t/360}function Uk(t){return 360*t}function Xk(t,e){var r=e[0],i=e[1],l=e[2],u=e[3],h=r*r,p=i*i,g=l*l,m=u*u,x=h+p+g+m,w=r*u-i*l;return w>.499995*x?(t[0]=Math.PI/2,t[1]=2*Math.atan2(i,r),t[2]=0):w<-.499995*x?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(i,r),t[2]=0):(t[0]=Math.asin(2*(r*l-u*i)),t[1]=Math.atan2(2*(r*u+i*l),1-2*(g+m)),t[2]=Math.atan2(2*(r*i+l*u),1-2*(p+g))),t}function kh(t,e){var r,i,l=Math.PI*.5,u=(0,B.CR)(He(rt.Ue(),e),3),h=u[0],p=u[1],g=u[2],m=Math.asin(-e[2]/h);return m<l?m>-l?(r=Math.atan2(e[6]/p,e[10]/g),i=Math.atan2(e[1]/h,e[0]/h)):(i=0,r=-Math.atan2(e[4]/p,e[5]/p)):(i=0,r=Math.atan2(e[4]/p,e[5]/p)),t[0]=r,t[1]=m,t[2]=i,t}function Ph(t,e){return e.length===16?kh(t,e):Xk(t,e)}function vy(t,e,r,i,l){var u=Math.cos(t),h=Math.sin(t);return it.al(i*u,l*h,0,-i*h,l*u,0,e,r,1)}function Lh(t,e,r,i,l,u,h,p){p===void 0&&(p=!1);var g=2*u/(r-e),m=2*u/(i-l),x=(r+e)/(r-e),w=(i+l)/(i-l),M,O;return p?(M=-h/(h-u),O=-h*u/(h-u)):(M=-(h+u)/(h-u),O=-2*h*u/(h-u)),t[0]=g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=m,t[6]=0,t[7]=0,t[8]=x,t[9]=w,t[10]=M,t[11]=-1,t[12]=0,t[13]=0,t[14]=O,t[15]=0,t}function gw(t){var e=t[0],r=t[1],i=t[3],l=t[4],u=Math.sqrt(e*e+r*r),h=Math.sqrt(i*i+l*l),p=e*l-r*i;p<0&&(e<l?u=-u:h=-h),u&&(e*=1/u,r*=1/u),h&&(i*=1/h,l*=1/h);var g=Math.atan2(r,e),m=Ja(g);return[t[6],t[7],u,h,m]}var bs=se(),es=se(),Ih=Tt(),rr=[rt.Ue(),rt.Ue(),rt.Ue()],yw=rt.Ue();function Zk(t,e,r,i,l,u){if(!qk(bs,t)||(Kt(es,bs),es[3]=0,es[7]=0,es[11]=0,es[15]=1,Math.abs(jt(es))<1e-8))return!1;var h=bs[3],p=bs[7],g=bs[11],m=bs[12],x=bs[13],w=bs[14],M=bs[15];if(h!==0||p!==0||g!==0){Ih[0]=h,Ih[1]=p,Ih[2]=g,Ih[3]=M;var O=Oe(es,es);if(!O)return!1;Lt(es,es),Do(l,Ih,es)}else l[0]=l[1]=l[2]=0,l[3]=1;if(e[0]=m,e[1]=x,e[2]=w,$k(rr,bs),r[0]=rt.kE(rr[0]),rt.Fv(rr[0],rr[0]),i[0]=rt.AK(rr[0],rr[1]),gy(rr[1],rr[1],rr[0],1,-i[0]),r[1]=rt.kE(rr[1]),rt.Fv(rr[1],rr[1]),i[0]/=r[1],i[1]=rt.AK(rr[0],rr[2]),gy(rr[2],rr[2],rr[0],1,-i[1]),i[2]=rt.AK(rr[1],rr[2]),gy(rr[2],rr[2],rr[1],1,-i[2]),r[2]=rt.kE(rr[2]),rt.Fv(rr[2],rr[2]),i[1]/=r[2],i[2]/=r[2],rt.kC(yw,rr[1],rr[2]),rt.AK(rr[0],yw)<0)for(var A=0;A<3;A++)r[A]*=-1,rr[A][0]*=-1,rr[A][1]*=-1,rr[A][2]*=-1;return u[0]=.5*Math.sqrt(Math.max(1+rr[0][0]-rr[1][1]-rr[2][2],0)),u[1]=.5*Math.sqrt(Math.max(1-rr[0][0]+rr[1][1]-rr[2][2],0)),u[2]=.5*Math.sqrt(Math.max(1-rr[0][0]-rr[1][1]+rr[2][2],0)),u[3]=.5*Math.sqrt(Math.max(1+rr[0][0]+rr[1][1]+rr[2][2],0)),rr[2][1]>rr[1][2]&&(u[0]=-u[0]),rr[0][2]>rr[2][0]&&(u[1]=-u[1]),rr[1][0]>rr[0][1]&&(u[2]=-u[2]),!0}function qk(t,e){var r=e[15];if(r===0)return!1;for(var i=1/r,l=0;l<16;l++)t[l]=e[l]*i;return!0}function $k(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function gy(t,e,r,i,l){t[0]=e[0]*i+r[0]*l,t[1]=e[1]*i+r[1]*l,t[2]=e[2]*i+r[2]*l}var Bi=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return t.isEmpty=function(e){return!e||e.halfExtents[0]===0&&e.halfExtents[1]===0&&e.halfExtents[2]===0},t.prototype.update=function(e,r){Wc(this.center,e),Wc(this.halfExtents,r),py(this.min,this.center,this.halfExtents),Eh(this.max,this.center,this.halfExtents)},t.prototype.setMinMax=function(e,r){Eh(this.center,r,e),vw(this.center,this.center,.5),py(this.halfExtents,r,e),vw(this.halfExtents,this.halfExtents,.5),Wc(this.min,e),Wc(this.max,r)},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.add=function(e){if(!t.isEmpty(e)){if(t.isEmpty(this)){this.setMinMax(e.getMin(),e.getMax());return}var r=this.center,i=r[0],l=r[1],u=r[2],h=this.halfExtents,p=h[0],g=h[1],m=h[2],x=i-p,w=i+p,M=l-g,O=l+g,A=u-m,E=u+m,P=e.center,I=P[0],F=P[1],N=P[2],z=e.halfExtents,G=z[0],W=z[1],Y=z[2],U=I-G,X=I+G,$=F-W,Q=F+W,ft=N-Y,ot=N+Y;U<x&&(x=U),X>w&&(w=X),$<M&&(M=$),Q>O&&(O=Q),ft<A&&(A=ft),ot>E&&(E=ot),r[0]=(x+w)*.5,r[1]=(M+O)*.5,r[2]=(A+E)*.5,h[0]=(w-x)*.5,h[1]=(O-M)*.5,h[2]=(E-A)*.5,this.min[0]=x,this.min[1]=M,this.min[2]=A,this.max[0]=w,this.max[1]=O,this.max[2]=E}},t.prototype.setFromTransformedAABB=function(e,r){var i=this.center,l=this.halfExtents,u=e.center,h=e.halfExtents,p=r[0],g=r[4],m=r[8],x=r[1],w=r[5],M=r[9],O=r[2],A=r[6],E=r[10],P=Math.abs(p),I=Math.abs(g),F=Math.abs(m),N=Math.abs(x),z=Math.abs(w),G=Math.abs(M),W=Math.abs(O),Y=Math.abs(A),U=Math.abs(E);i[0]=r[12]+p*u[0]+g*u[1]+m*u[2],i[1]=r[13]+x*u[0]+w*u[1]+M*u[2],i[2]=r[14]+O*u[0]+A*u[1]+E*u[2],l[0]=P*h[0]+I*h[1]+F*h[2],l[1]=N*h[0]+z*h[1]+G*h[2],l[2]=W*h[0]+Y*h[1]+U*h[2],py(this.min,i,l),Eh(this.max,i,l)},t.prototype.intersects=function(e){var r=this.getMax(),i=this.getMin(),l=e.getMax(),u=e.getMin();return i[0]<=l[0]&&r[0]>=u[0]&&i[1]<=l[1]&&r[1]>=u[1]&&i[2]<=l[2]&&r[2]>=u[2]},t.prototype.intersection=function(e){if(!this.intersects(e))return null;var r=new t,i=Vk([0,0,0],this.getMin(),e.getMin()),l=Hk([0,0,0],this.getMax(),e.getMax());return r.setMinMax(i,l),r},t.prototype.getNegativeFarPoint=function(e){return e.pnVertexFlag===273?Wc([0,0,0],this.min):e.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:e.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},t.prototype.getPositiveFarPoint=function(e){return e.pnVertexFlag===273?Wc([0,0,0],this.max):e.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:e.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),mw=function(){function t(e,r){this.distance=e||0,this.normal=r||rt.al(0,1,0),this.updatePNVertexFlag()}return t.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)},t.prototype.distanceToPoint=function(e){return rt.AK(e,this.normal)-this.distance},t.prototype.normalize=function(){var e=1/rt.Zh(this.normal);rt.bA(this.normal,this.normal,e),this.distance*=e},t.prototype.intersectsLine=function(e,r,i){var l=this.distanceToPoint(e),u=this.distanceToPoint(r),h=l/(l-u),p=h>=0&&h<=1;return p&&i&&rt.t7(i,e,r,h),p},t}(),ws;(function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"})(ws||(ws={}));var iv=function(){function t(e){if(this.planes=[],e)this.planes=e;else for(var r=0;r<6;r++)this.planes.push(new mw)}return t.prototype.extractFromVPMatrix=function(e){var r=(0,B.CR)(e,16),i=r[0],l=r[1],u=r[2],h=r[3],p=r[4],g=r[5],m=r[6],x=r[7],w=r[8],M=r[9],O=r[10],A=r[11],E=r[12],P=r[13],I=r[14],F=r[15];rt.t8(this.planes[0].normal,h-i,x-p,A-w),this.planes[0].distance=F-E,rt.t8(this.planes[1].normal,h+i,x+p,A+w),this.planes[1].distance=F+E,rt.t8(this.planes[2].normal,h+l,x+g,A+M),this.planes[2].distance=F+P,rt.t8(this.planes[3].normal,h-l,x-g,A-M),this.planes[3].distance=F-P,rt.t8(this.planes[4].normal,h-u,x-m,A-O),this.planes[4].distance=F-I,rt.t8(this.planes[5].normal,h+u,x+m,A+O),this.planes[5].distance=F+I,this.planes.forEach(function(N){N.normalize(),N.updatePNVertexFlag()})},t}(),Ni=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},t}(),Js=function(){function t(e,r,i,l){this.x=e,this.y=r,this.width=i,this.height=l,this.left=e,this.right=e+i,this.top=r,this.bottom=r+l}return t.prototype.toJSON=function(){},t}(),Gr="Method not implemented.",Yu="Use document.documentElement instead.",Kk="Cannot append a destroyed element.",Nr;(function(t){t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING"})(Nr||(Nr={}));var Uu;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC"})(Uu||(Uu={}));var Qa;(function(t){t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE"})(Qa||(Qa={}));var xw={UPDATED:"updated"},Ms=2e-4,Ss=function(){function t(){this.clipSpaceNearZ=Gc.NEGATIVE_ONE,this.eventEmitter=new fe,this.matrix=se(),this.right=rt.al(1,0,0),this.up=rt.al(0,1,0),this.forward=rt.al(0,0,1),this.position=rt.al(0,0,1),this.focalPoint=rt.al(0,0,0),this.distanceVector=rt.al(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=se(),this.projectionMatrixInverse=se(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Nr.EXPLORING,this.trackingMode=Uu.DEFAULT,this.projectionMode=Qa.PERSPECTIVE,this.frustum=new iv,this.orthoMatrix=se()}return t.prototype.isOrtho=function(){return this.projectionMode===Qa.ORTHOGRAPHIC},t.prototype.getProjectionMode=function(){return this.projectionMode},t.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},t.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},t.prototype.getFrustum=function(){return this.frustum},t.prototype.getPosition=function(){return this.position},t.prototype.getFocalPoint=function(){return this.focalPoint},t.prototype.getDollyingStep=function(){return this.dollyingStep},t.prototype.getNear=function(){return this.near},t.prototype.getFar=function(){return this.far},t.prototype.getZoom=function(){return this.zoom},t.prototype.getOrthoMatrix=function(){return this.orthoMatrix},t.prototype.getView=function(){return this.view},t.prototype.setEnableUpdate=function(e){this.enableUpdate=e},t.prototype.setType=function(e,r){return this.type=e,this.type===Nr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Nr.TRACKING&&r!==void 0&&this.setTrackingMode(r),this},t.prototype.setProjectionMode=function(e){return this.projectionMode=e,this},t.prototype.setTrackingMode=function(e){if(this.type!==Nr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this},t.prototype.setWorldRotation=function(e){return this.rotateWorld=e,this._getAngles(),this},t.prototype.getViewTransform=function(){return Oe(se(),this.matrix)},t.prototype.getWorldTransform=function(){return this.matrix},t.prototype.jitterProjectionMatrix=function(e,r){var i=Ne(se(),[e,r,0]);this.jitteredProjectionMatrix=le(se(),i,this.projectionMatrix)},t.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},t.prototype.setMatrix=function(e){return this.matrix=e,this._update(),this},t.prototype.setFov=function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this},t.prototype.setAspect=function(e){return this.setPerspective(this.near,this.far,this.fov,e),this},t.prototype.setNear=function(e){return this.projectionMode===Qa.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this},t.prototype.setFar=function(e){return this.projectionMode===Qa.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this},t.prototype.setViewOffset=function(e,r,i,l,u,h){return this.aspect=e/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=l,this.view.width=u,this.view.height=h,this.projectionMode===Qa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.clearViewOffset=function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Qa.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.setZoom=function(e){return this.zoom=e,this.projectionMode===Qa.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Qa.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},t.prototype.setZoomByViewportPoint=function(e,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),l=i.x,u=i.y,h=this.roll;this.rotate(0,0,-h),this.setPosition(l,u),this.setFocalPoint(l,u),this.setZoom(e),this.rotate(0,0,h);var p=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),g=p.x,m=p.y,x=rt.al(g-l,m-u,0),w=rt.AK(x,this.right)/rt.kE(this.right),M=rt.AK(x,this.up)/rt.kE(this.up);return this.pan(-w,-M),this},t.prototype.setPerspective=function(e,r,i,l){var u;this.projectionMode=Qa.PERSPECTIVE,this.fov=i,this.near=e,this.far=r,this.aspect=l;var h=this.near*Math.tan(pi(.5*this.fov))/this.zoom,p=2*h,g=this.aspect*p,m=-.5*g;if(!((u=this.view)===null||u===void 0)&&u.enabled){var x=this.view.fullWidth,w=this.view.fullHeight;m+=this.view.offsetX*g/x,h-=this.view.offsetY*p/w,g*=this.view.width/x,p*=this.view.height/w}return Lh(this.projectionMatrix,m,m+g,h,h-p,e,this.far,this.clipSpaceNearZ===Gc.ZERO),Ve(this.projectionMatrix,this.projectionMatrix,rt.al(1,-1,1)),Oe(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},t.prototype.setOrthographic=function(e,r,i,l,u,h){var p;this.projectionMode=Qa.ORTHOGRAPHIC,this.rright=r,this.left=e,this.top=i,this.bottom=l,this.near=u,this.far=h;var g=(this.rright-this.left)/(2*this.zoom),m=(this.top-this.bottom)/(2*this.zoom),x=(this.rright+this.left)/2,w=(this.top+this.bottom)/2,M=x-g,O=x+g,A=w+m,E=w-m;if(!((p=this.view)===null||p===void 0)&&p.enabled){var P=(this.rright-this.left)/this.view.fullWidth/this.zoom,I=(this.top-this.bottom)/this.view.fullHeight/this.zoom;M+=P*this.view.offsetX,O=M+P*this.view.width,A-=I*this.view.offsetY,E=A-I*this.view.height}return this.clipSpaceNearZ===Gc.NEGATIVE_ONE?Wt(this.projectionMatrix,M,O,E,A,u,h):re(this.projectionMatrix,M,O,E,A,u,h),Ve(this.projectionMatrix,this.projectionMatrix,rt.al(1,-1,1)),Oe(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},t.prototype.setPosition=function(e,r,i){r===void 0&&(r=this.position[1]),i===void 0&&(i=this.position[2]);var l=za(e,r,i);return this._setPosition(l),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},t.prototype.setFocalPoint=function(e,r,i){r===void 0&&(r=this.focalPoint[1]),i===void 0&&(i=this.focalPoint[2]);var l=rt.al(0,1,0);if(this.focalPoint=za(e,r,i),this.trackingMode===Uu.CINEMATIC){var u=rt.$X(rt.Ue(),this.focalPoint,this.position);e=u[0],r=u[1],i=u[2];var h=rt.kE(u),p=Ja(Math.asin(r/h)),g=90+Ja(Math.atan2(i,e)),m=se();On(m,m,pi(g)),Xe(m,m,pi(p)),l=rt.fF(rt.Ue(),[0,1,0],m)}return Oe(this.matrix,wt(se(),this.position,this.focalPoint,l)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},t.prototype.getDistance=function(){return this.distance},t.prototype.getDistanceVector=function(){return this.distanceVector},t.prototype.setDistance=function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<Ms&&(this.distance=Ms),this.dollyingStep=this.distance/100;var r=rt.Ue();e=this.distance;var i=this.forward,l=this.focalPoint;return r[0]=e*i[0]+l[0],r[1]=e*i[1]+l[1],r[2]=e*i[2]+l[2],this._setPosition(r),this.triggerUpdate(),this},t.prototype.setMaxDistance=function(e){return this.maxDistance=e,this},t.prototype.setMinDistance=function(e){return this.minDistance=e,this},t.prototype.setAzimuth=function(e){return this.azimuth=Hu(e),this.computeMatrix(),this._getAxes(),this.type===Nr.ORBITING||this.type===Nr.EXPLORING?this._getPosition():this.type===Nr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getAzimuth=function(){return this.azimuth},t.prototype.setElevation=function(e){return this.elevation=Hu(e),this.computeMatrix(),this._getAxes(),this.type===Nr.ORBITING||this.type===Nr.EXPLORING?this._getPosition():this.type===Nr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getElevation=function(){return this.elevation},t.prototype.setRoll=function(e){return this.roll=Hu(e),this.computeMatrix(),this._getAxes(),this.type===Nr.ORBITING||this.type===Nr.EXPLORING?this._getPosition():this.type===Nr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getRoll=function(){return this.roll},t.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},t.prototype.computeMatrix=function(){var e=Pt(et(),[0,0,1],pi(this.roll));Ht(this.matrix);var r=Pt(et(),[1,0,0],pi((this.rotateWorld&&this.type!==Nr.TRACKING||this.type===Nr.TRACKING?1:-1)*this.elevation)),i=Pt(et(),[0,1,0],pi((this.rotateWorld&&this.type!==Nr.TRACKING||this.type===Nr.TRACKING?1:-1)*this.azimuth)),l=Me(et(),i,r);l=Me(et(),l,e);var u=Ot(se(),l);this.type===Nr.ORBITING||this.type===Nr.EXPLORING?(Ce(this.matrix,this.matrix,this.focalPoint),le(this.matrix,this.matrix,u),Ce(this.matrix,this.matrix,[0,0,this.distance])):this.type===Nr.TRACKING&&(Ce(this.matrix,this.matrix,this.position),le(this.matrix,this.matrix,u))},t.prototype._setPosition=function(e,r,i){this.position=za(e,r,i);var l=this.matrix;l[12]=this.position[0],l[13]=this.position[1],l[14]=this.position[2],l[15]=1,this._getOrthoMatrix()},t.prototype._getAxes=function(){rt.JG(this.right,za(Do(Tt(),[1,0,0,0],this.matrix))),rt.JG(this.up,za(Do(Tt(),[0,1,0,0],this.matrix))),rt.JG(this.forward,za(Do(Tt(),[0,0,1,0],this.matrix))),rt.Fv(this.right,this.right),rt.Fv(this.up,this.up),rt.Fv(this.forward,this.forward)},t.prototype._getAngles=function(){var e=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],l=rt.kE(this.distanceVector);if(l===0){this.elevation=0,this.azimuth=0;return}this.type===Nr.TRACKING?(this.elevation=Ja(Math.asin(r/l)),this.azimuth=Ja(Math.atan2(-e,-i))):this.rotateWorld?(this.elevation=Ja(Math.asin(r/l)),this.azimuth=Ja(Math.atan2(-e,-i))):(this.elevation=-Ja(Math.asin(r/l)),this.azimuth=-Ja(Math.atan2(-e,-i)))},t.prototype._getPosition=function(){rt.JG(this.position,za(Do(Tt(),[0,0,0,1],this.matrix))),this._getDistance()},t.prototype._getFocalPoint=function(){rt.kK(this.distanceVector,[0,0,-this.distance],it.xO(it.Ue(),this.matrix)),rt.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()},t.prototype._getDistance=function(){this.distanceVector=rt.$X(rt.Ue(),this.focalPoint,this.position),this.distance=rt.kE(this.distanceVector),this.dollyingStep=this.distance/100},t.prototype._getOrthoMatrix=function(){if(this.projectionMode===Qa.ORTHOGRAPHIC){var e=this.position,r=Pt(et(),[0,0,1],-this.roll*Math.PI/180);ct(this.orthoMatrix,r,rt.al((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),rt.al(this.zoom,this.zoom,1),e)}},t.prototype.triggerUpdate=function(){if(this.enableUpdate){var e=this.getViewTransform(),r=le(se(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(xw.UPDATED)}},t.prototype.rotate=function(e,r,i){throw new Error(Gr)},t.prototype.pan=function(e,r){throw new Error(Gr)},t.prototype.dolly=function(e){throw new Error(Gr)},t.prototype.createLandmark=function(e,r){throw new Error(Gr)},t.prototype.gotoLandmark=function(e,r){throw new Error(Gr)},t.prototype.cancelLandmarkAnimation=function(){throw new Error(Gr)},t}();function zi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=e?e.apply(this,i):i[0],h=r.cache;if(h.has(u))return h.get(u);var p=t.apply(this,i);return r.cache=h.set(u,p)||h,p};return r.cache=new(zi.Cache||Map),r}zi.Cache=Map;var xn;(function(t){t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger"})(xn||(xn={}));var Sa;(function(t){t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther"})(Sa||(Sa={}));var Rh;(function(t){t[t.kAll=0]="kAll",t[t.kNonNegative=1]="kNonNegative",t[t.kInteger=2]="kInteger",t[t.kNonNegativeInteger=3]="kNonNegativeInteger",t[t.kPositiveInteger=4]="kPositiveInteger"})(Rh||(Rh={}));var av;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(av||(av={}));var Fh;(function(t){t[t.kYes=0]="kYes",t[t.kNo=1]="kNo"})(Fh||(Fh={}));var yy=[{name:"em",unit_type:xn.kEms},{name:"px",unit_type:xn.kPixels},{name:"deg",unit_type:xn.kDegrees},{name:"rad",unit_type:xn.kRadians},{name:"grad",unit_type:xn.kGradians},{name:"ms",unit_type:xn.kMilliseconds},{name:"s",unit_type:xn.kSeconds},{name:"rem",unit_type:xn.kRems},{name:"turn",unit_type:xn.kTurns}],ua;(function(t){t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType"})(ua||(ua={}));var Jk=function(t){return yy.find(function(e){return e.name===t}).unit_type},Qk=function(t){return t?t==="number"?xn.kNumber:t==="percent"||t==="%"?xn.kPercentage:Jk(t):xn.kUnknown},tP=function(t){switch(t){case xn.kNumber:case xn.kInteger:return Sa.kUNumber;case xn.kPercentage:return Sa.kUPercent;case xn.kPixels:return Sa.kULength;case xn.kMilliseconds:case xn.kSeconds:return Sa.kUTime;case xn.kDegrees:case xn.kRadians:case xn.kGradians:case xn.kTurns:return Sa.kUAngle;default:return Sa.kUOther}},eP=function(t){switch(t){case Sa.kUNumber:return xn.kNumber;case Sa.kULength:return xn.kPixels;case Sa.kUPercent:return xn.kPercentage;case Sa.kUTime:return xn.kSeconds;case Sa.kUAngle:return xn.kDegrees;default:return xn.kUnknown}},bw=function(t){var e=1;switch(t){case xn.kPixels:case xn.kDegrees:case xn.kSeconds:break;case xn.kMilliseconds:e=.001;break;case xn.kRadians:e=180/Math.PI;break;case xn.kGradians:e=.9;break;case xn.kTurns:e=360;break}return e},my=function(t){switch(t){case xn.kNumber:case xn.kInteger:return"";case xn.kPercentage:return"%";case xn.kEms:return"em";case xn.kRems:return"rem";case xn.kPixels:return"px";case xn.kDegrees:return"deg";case xn.kRadians:return"rad";case xn.kGradians:return"grad";case xn.kMilliseconds:return"ms";case xn.kSeconds:return"s";case xn.kTurns:return"turn"}return""},ov=function(){function t(){}return t.isAngle=function(e){return e===xn.kDegrees||e===xn.kRadians||e===xn.kGradians||e===xn.kTurns},t.isLength=function(e){return e>=xn.kEms&&e<xn.kDegrees},t.isRelativeUnit=function(e){return e===xn.kPercentage||e===xn.kEms||e===xn.kRems},t.isTime=function(e){return e===xn.kSeconds||e===xn.kMilliseconds},t.prototype.toString=function(){return this.buildCSSText(av.kNo,Fh.kNo,"")},t.prototype.isNumericValue=function(){return this.getType()>=ua.kUnitType&&this.getType()<=ua.kClampType},t}(),nP=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this)||this;return i.colorSpace=r,i}return e.prototype.getType=function(){return ua.kColorType},e.prototype.to=function(r){return this},e}(ov),_s;(function(t){t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient"})(_s||(_s={}));var sv=function(t){(0,B.ZT)(e,t);function e(r,i){var l=t.call(this)||this;return l.type=r,l.value=i,l}return e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(r,i,l){return l},e.prototype.getType=function(){return ua.kColorType},e}(ov),to=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this)||this;return i.value=r,i}return e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return ua.kKeywordType},e.prototype.buildCSSText=function(r,i,l){return l+this.value},e}(ov),rP=zi(function(t){return t===void 0&&(t=""),t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}),xy=function(t){return t.split("").map(function(e,r){return e.toUpperCase()===e?"".concat(r!==0?"-":"").concat(e.toLowerCase()):e}).join("")};function iP(t){if(!t)throw new Error}function Xu(t){return typeof t=="function"}function aP(t){return typeof t=="symbol"}var y6=function(t){return Object.fromEntries(Object.entries(t).filter(function(e){var r=__read(e,2),i=r[1];return i!==void 0}))},oP={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},ww=zi(function(t){var e=rP(t),r=oP[e];return e=(r==null?void 0:r.alias)||e,e}),Mw=function(t,e){e===void 0&&(e="");var r="";return Number.isFinite(t)?(iP(Number.isNaN(t)),r="NaN"):t>0?r="infinity":r="-infinity",r+=e},lv=function(t){return eP(tP(t))},Zr=function(t){(0,B.ZT)(e,t);function e(r,i){i===void 0&&(i=xn.kNumber);var l=t.call(this)||this,u;return typeof i=="string"?u=Qk(i):u=i,l.unit=u,l.value=r,l}return e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(r){var i=r;return this.value===i.value&&this.unit===i.unit},e.prototype.getType=function(){return ua.kUnitType},e.prototype.convertTo=function(r){if(this.unit===r)return new e(this.value,this.unit);var i=lv(this.unit);if(i!==lv(r)||i===xn.kUnknown)return null;var l=bw(this.unit)/bw(r);return new e(this.value*l,r)},e.prototype.buildCSSText=function(r,i,l){var u;switch(this.unit){case xn.kUnknown:break;case xn.kInteger:u=Number(this.value).toFixed(0);break;case xn.kNumber:case xn.kPercentage:case xn.kEms:case xn.kRems:case xn.kPixels:case xn.kDegrees:case xn.kRadians:case xn.kGradians:case xn.kMilliseconds:case xn.kSeconds:case xn.kTurns:{var h=-999999,p=999999,g=this.value,m=my(this.unit);if(g<h||g>p){var x=my(this.unit);!Number.isFinite(g)||Number.isNaN(g)?u=Mw(g,x):u=g+(x||"")}else u="".concat(g).concat(m)}}return l+=u,l},e}(ov),na=new Zr(0,"px");new Zr(1,"px");var Qs=new Zr(0,"deg"),Zu=function(t){(0,B.ZT)(e,t);function e(r,i,l,u,h){u===void 0&&(u=1),h===void 0&&(h=!1);var p=t.call(this,"rgb")||this;return p.r=r,p.g=i,p.b=l,p.alpha=u,p.isNone=h,p}return e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(r,i,l){return l+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(nP),ni=new to("unset"),sP=new to("initial"),lP=new to("inherit"),by={"":ni,unset:ni,initial:sP,inherit:lP},Sw=function(t){return by[t]||(by[t]=new to(t)),by[t]},El=new Zu(0,0,0,0,!0),_w=new Zu(0,0,0,0),wy=zi(function(t,e,r,i){return new Zu(t,e,r,i)},function(t,e,r,i){return"rgba(".concat(t,",").concat(e,",").concat(r,",").concat(i,")")}),vi=function(t,e){return e===void 0&&(e=xn.kNumber),new Zr(t,e)},cv=new Zr(50,"%"),My;(function(t){t[t.Standard=0]="Standard"})(My||(My={}));var qu;(function(t){t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED"})(qu||(qu={}));var Ow={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Js(0,0,0,0)},Sn;(function(t){t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>"})(Sn||(Sn={}));function cP(t){var e=t.type,r=t.value;return e==="hex"?"#".concat(r):e==="literal"?r:e==="rgb"?"rgb(".concat(r.join(","),")"):"rgba(".concat(r.join(","),")")}var uv=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(Mt){throw new Error(e+": "+Mt)}function i(){var Mt=l();return e.length>0&&r("Invalid input not EOF"),Mt}function l(){return N(u)}function u(){return h("linear-gradient",t.linearGradient,g)||h("repeating-linear-gradient",t.repeatingLinearGradient,g)||h("radial-gradient",t.radialGradient,w)||h("repeating-radial-gradient",t.repeatingRadialGradient,w)||h("conic-gradient",t.conicGradient,w)}function h(Mt,At,St){return p(At,function(Ut){var ce=St();return ce&&(st(t.comma)||r("Missing comma before color stops")),{type:Mt,orientation:ce,colorStops:N(z)}})}function p(Mt,At){var St=st(Mt);if(St){st(t.startCall)||r("Missing (");var Ut=At(St);return st(t.endCall)||r("Missing )"),Ut}}function g(){return m()||x()}function m(){return J("directional",t.sideOrCorner,1)}function x(){return J("angular",t.angleValue,1)}function w(){var Mt,At=M(),St;return At&&(Mt=[],Mt.push(At),St=e,st(t.comma)&&(At=M(),At?Mt.push(At):e=St)),Mt}function M(){var Mt=O()||A();if(Mt)Mt.at=P();else{var At=E();if(At){Mt=At;var St=P();St&&(Mt.at=St)}else{var Ut=I();Ut&&(Mt={type:"default-radial",at:Ut})}}return Mt}function O(){var Mt=J("shape",/^(circle)/i,0);return Mt&&(Mt.style=ot()||E()),Mt}function A(){var Mt=J("shape",/^(ellipse)/i,0);return Mt&&(Mt.style=Q()||E()),Mt}function E(){return J("extent-keyword",t.extentKeywords,1)}function P(){if(J("position",/^at/,0)){var Mt=I();return Mt||r("Missing positioning value"),Mt}}function I(){var Mt=F();if(Mt.x||Mt.y)return{type:"position",value:Mt}}function F(){return{x:Q(),y:Q()}}function N(Mt){var At=Mt(),St=[];if(At)for(St.push(At);st(t.comma);)At=Mt(),At?St.push(At):r("One extra comma");return St}function z(){var Mt=G();return Mt||r("Expected color definition"),Mt.length=Q(),Mt}function G(){return Y()||X()||U()||W()}function W(){return J("literal",t.literalColor,0)}function Y(){return J("hex",t.hexColor,1)}function U(){return p(t.rgbColor,function(){return{type:"rgb",value:N($)}})}function X(){return p(t.rgbaColor,function(){return{type:"rgba",value:N($)}})}function $(){return st(t.number)[1]}function Q(){return J("%",t.percentageValue,1)||ft()||ot()}function ft(){return J("position-keyword",t.positionKeywords,1)}function ot(){return J("px",t.pixelValue,1)||J("em",t.emValue,1)}function J(Mt,At,St){var Ut=st(At);if(Ut)return{type:Mt,value:Ut[St]}}function st(Mt){var At=/^[\n\r\t\s]+/.exec(e);At&&gt(At[0].length);var St=Mt.exec(e);return St&&gt(St[0].length),St}function gt(Mt){e=e.substring(Mt)}return function(Mt){return e=Mt,i()}}();function uP(t,e,r){var i=pi(r.value),l=0,u=0,h=l+t/2,p=u+e/2,g=Math.abs(t*Math.cos(i))+Math.abs(e*Math.sin(i)),m=h-Math.cos(i)*g/2,x=p-Math.sin(i)*g/2,w=h+Math.cos(i)*g/2,M=p+Math.sin(i)*g/2;return{x1:m,y1:x,x2:w,y2:M}}function Cw(t,e,r,i,l){var u=r.value,h=i.value;r.unit===xn.kPercentage&&(u=r.value/100*t),i.unit===xn.kPercentage&&(h=i.value/100*e);var p=Math.max(la([0,0],[u,h]),la([0,e],[u,h]),la([t,e],[u,h]),la([t,0],[u,h]));return l&&(l instanceof Zr?p=l.value:l instanceof to&&(l.value==="closest-side"?p=Math.min(u,t-u,h,e-h):l.value==="farthest-side"?p=Math.max(u,t-u,h,e-h):l.value==="closest-corner"&&(p=Math.min(la([0,0],[u,h]),la([0,e],[u,h]),la([t,e],[u,h]),la([t,0],[u,h]))))),{x:u,y:h,r:p}}var Aw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ei=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,kl=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Sy=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Dh(t){var e,r,i,l=t.length;t[l-1].length=(e=t[l-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},l>1&&(t[0].length=(r=t[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"});for(var u=0,h=Number(t[0].length.value),p=1;p<l;p++){var g=(i=t[p].length)===null||i===void 0?void 0:i.value;if(!nr(g)&&!nr(h)){for(var m=1;m<p-u;m++)t[u+m].length={type:"%",value:"".concat(h+(Number(g)-h)*m/(p-u))};u=p,h=Number(g)}}}var fP={left:270-90,top:0-90,bottom:180-90,right:90-90,"left top":315-90,"top left":315-90,"left bottom":225-90,"bottom left":225-90,"right top":45-90,"top right":45-90,"right bottom":135-90,"bottom right":135-90},Tw=zi(function(t){var e;return t.type==="angular"?e=Number(t.value):e=fP[t.value]||0,vi(e,"deg")}),$u=zi(function(t){var e=50,r=50,i="%",l="%";if((t==null?void 0:t.type)==="position"){var u=t.value,h=u.x,p=u.y;(h==null?void 0:h.type)==="position-keyword"&&(h.value==="left"?e=0:h.value==="center"?e=50:h.value==="right"?e=100:h.value==="top"?r=0:h.value==="bottom"&&(r=100)),(p==null?void 0:p.type)==="position-keyword"&&(p.value==="left"?e=0:p.value==="center"?r=50:p.value==="right"?e=100:p.value==="top"?r=0:p.value==="bottom"&&(r=100)),((h==null?void 0:h.type)==="px"||(h==null?void 0:h.type)==="%"||(h==null?void 0:h.type)==="em")&&(i=h==null?void 0:h.type,e=Number(h.value)),((p==null?void 0:p.type)==="px"||(p==null?void 0:p.type)==="%"||(p==null?void 0:p.type)==="em")&&(l=p==null?void 0:p.type,r=Number(p.value))}return{cx:vi(e,i),cy:vi(r,l)}}),hP=zi(function(t){var e;if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var r=uv(t);return r.map(function(p){var g=p.type,m=p.orientation,x=p.colorStops;Dh(x);var w=x.map(function(N){return{offset:vi(Number(N.length.value),"%"),color:cP(N)}});if(g==="linear-gradient")return new sv(_s.LinearGradient,{angle:m?Tw(m):Qs,steps:w});if(g==="radial-gradient"&&(m||(m=[{type:"shape",value:"circle"}]),m[0].type==="shape"&&m[0].value==="circle")){var M=$u(m[0].at),O=M.cx,A=M.cy,E=void 0;if(m[0].style){var P=m[0].style,I=P.type,F=P.value;I==="extent-keyword"?E=Sw(F):E=vi(F,I)}return new sv(_s.RadialGradient,{cx:O,cy:A,size:E,steps:w})}})}var i=t[0];if(t[1]==="("||t[2]==="("){if(i==="l"){var l=Aw.exec(t);if(l){var u=((e=l[2].match(Sy))===null||e===void 0?void 0:e.map(function(p){return p.split(":")}))||[];return[new sv(_s.LinearGradient,{angle:vi(parseFloat(l[1]),"deg"),steps:u.map(function(p){var g=(0,B.CR)(p,2),m=g[0],x=g[1];return{offset:vi(Number(m)*100,"%"),color:x}})})]}}else if(i==="r"){var h=eo(t);if(h)if(ys(h))t=h;else return[new sv(_s.RadialGradient,h)]}else if(i==="p")return Pl(t)}});function eo(t){var e,r=Ei.exec(t);if(r){var i=((e=r[4].match(Sy))===null||e===void 0?void 0:e.map(function(l){return l.split(":")}))||[];return{cx:vi(50,"%"),cy:vi(50,"%"),steps:i.map(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1];return{offset:vi(Number(h)*100,"%"),color:p}})}}return null}function Pl(t){var e=kl.exec(t);if(e){var r=e[1],i=e[2];switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;case"n":r="no-repeat";break;default:r="no-repeat"}return{image:i,repetition:r}}return null}function ja(t){return!!t.type&&!!t.value}function fv(t){return t&&!!t.image}function hv(t){return t&&!nr(t.r)&&!nr(t.g)&&!nr(t.b)}var mo=zi(function(t){if(fv(t))return(0,B.pi)({repetition:"repeat"},t);if(nr(t)&&(t=""),t==="transparent")return _w;t==="currentColor"&&(t="black");var e=hP(t);if(e)return e;var r=Jp(t),i=[0,0,0,0];return r!==null&&(i[0]=r.r||0,i[1]=r.g||0,i[2]=r.b||0,i[3]=r.opacity),wy.apply(void 0,(0,B.ev)([],(0,B.CR)(i),!1))});function dP(t,e){if(!(!hv(t)||!hv(e)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(r){var i=r.slice();if(i[3])for(var l=0;l<3;l++)i[l]=Math.round(_l(i[l],0,255));return i[3]=_l(i[3],0,1),"rgba(".concat(i.join(","),")")}]}function Ll(t,e){if(nr(e))return vi(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return vi(Number(e),"px");if("deg".search(t)>=0)return vi(Number(e),"deg")}var r=[];e=e.replace(t,function(l){return r.push(l),"U"+l});var i="U("+t.source+")";return r.map(function(l){return vi(Number(e.replace(new RegExp("U"+l,"g"),"").replace(new RegExp(i,"g"),"*0")),l)})[0]}var pP=zi(function(t){return Ll(new RegExp("px","g"),t)});zi(function(t){return Ll(new RegExp("%","g"),t)});var ns=function(t){return Sl(t)||isFinite(Number(t))?vi(Number(t)||0,"px"):Ll(new RegExp("px|%|em|rem","g"),t)},dv=zi(function(t){return Ll(new RegExp("deg|rad|grad|turn","g"),t)});function vP(t,e,r,i,l){l===void 0&&(l=0);var u="",h=t.value||0,p=e.value||0,g=lv(t.unit),m=t.convertTo(g),x=e.convertTo(g);return m&&x?(h=m.value,p=x.value,u=my(t.unit)):(Zr.isLength(t.unit)||Zr.isLength(e.unit))&&(h=bo(t,l,r),p=bo(e,l,r),u="px"),[h,p,function(w){return i&&(w=Math.max(w,0)),w+u}]}function xo(t){var e=0;return t.unit===xn.kDegrees?e=t.value:t.unit===xn.kRadians?e=Ja(Number(t.value)):t.unit===xn.kTurns&&(e=Uk(Number(t.value))),e}function _y(t,e){var r;return Array.isArray(t)?r=t.map(function(i){return Number(i)}):ys(t)?r=t.split(" ").map(function(i){return Number(i)}):Sl(t)&&(r=[t]),e===2?r.length===1?[r[0],r[0]]:[r[0],r[1]]:r.length===1?[r[0],r[0],r[0],r[0]]:r.length===2?[r[0],r[1],r[0],r[1]]:r.length===3?[r[0],r[1],r[2],r[1]]:[r[0],r[1],r[2],r[3]]}function Oy(t){return ys(t)?t.split(" ").map(function(e){return ns(e)}):t.map(function(e){return ns(e.toString())})}function bo(t,e,r){if(t.value===0)return 0;if(t.unit===xn.kPixels)return Number(t.value);if(t.unit===xn.kPercentage&&r){var i=r.nodeName===Ye.GROUP?r.getLocalBounds():r.geometry.contentBounds;return t.value/100*i.halfExtents[e]*2}return 0}var gP=function(t){return Ll(/deg|rad|grad|turn|px|%/g,t)},Bh=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Cy(t){if(t===void 0&&(t=""),t=t.toLowerCase().trim(),t==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i,l=0;i=e.exec(t);){if(i.index!==l)return[];if(l=i.index+i[0].length,Bh.indexOf(i[1])>-1&&r.push({name:i[1],params:i[2].split(" ").map(function(u){return gP(u)||mo(u)})}),e.lastIndex===t.length)return r}return[]}function Ew(t){return t.toString()}var Vc=zi(function(t){return typeof t=="number"?vi(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?vi(Number(t)):vi(0)});zi(function(t){return ys(t)?t.split(" ").map(Vc):t.map(Vc)});function Ay(t,e){return[t,e,Ew]}function Ku(t,e){return function(r,i){return[r,i,function(l){return Ew(_l(l,t,e))}]}}function yP(t,e){if(t.length===e.length)return[t,e,function(r){return r}]}function pv(t){return t.parsedStyle.path.totalLength===0&&(t.parsedStyle.path.totalLength=ay(t.parsedStyle.path.absolutePath)),t.parsedStyle.path.totalLength}function kw(t){for(var e=0;e<t.length;e++){var r=t[e-1],i=t[e],l=i[0];if(l==="M"&&r){var u=r[0],h=[i[1],i[2]],p=void 0;u==="L"||u==="M"?p=[r[1],r[2]]:(u==="C"||u==="A"||u==="Q")&&(p=[r[r.length-2],r[r.length-1]]),p&&Ju(h,p)&&(t.splice(e,1),e--)}}}function vv(t){for(var e=!1,r=t.length,i=0;i<r;i++){var l=t[i],u=l[0];if(u==="C"||u==="A"||u==="Q"){e=!0;break}}return e}function Pw(t){for(var e=[],r=[],i=[],l=0;l<t.length;l++){var u=t[l],h=u[0];h==="M"?(i.length&&(r.push(i),i=[]),i.push([u[1],u[2]])):h==="Z"?i.length&&(e.push(i),i=[]):i.push([u[1],u[2]])}return i.length>0&&r.push(i),{polygons:e,polylines:r}}function Ju(t,e){return t[0]===e[0]&&t[1]===e[1]}function gv(t,e){for(var r=[],i=[],l=[],u=0;u<t.length;u++){var h=t[u],p=h.currentPoint,g=h.params,m=h.prePoint,x=void 0;switch(h.command){case"Q":x=fw(m[0],m[1],g[1],g[2],g[3],g[4]);break;case"C":x=Rk(m[0],m[1],g[1],g[2],g[3],g[4],g[5],g[6]);break;case"A":var w=h.arcParams;x=Pk(w.cx,w.cy,w.rx,w.ry,w.xRotation,w.startAngle,w.endAngle);break;default:r.push(p[0]),i.push(p[1]);break}x&&(h.box=x,r.push(x.x,x.x+x.width),i.push(x.y,x.y+x.height)),e&&(h.command==="L"||h.command==="M")&&h.prePoint&&h.nextPoint&&l.push(h)}r=r.filter(function(I){return!Number.isNaN(I)&&I!==1/0&&I!==-1/0}),i=i.filter(function(I){return!Number.isNaN(I)&&I!==1/0&&I!==-1/0});var M=Fc(r),O=Fc(i),A=Hp(r),E=Hp(i);if(l.length===0)return{x:M,y:O,width:A-M,height:E-O};for(var u=0;u<l.length;u++){var h=l[u],p=h.currentPoint,P=void 0;p[0]===M?(P=Nh(h,e),M=M-P.xExtra):p[0]===A&&(P=Nh(h,e),A=A+P.xExtra),p[1]===O?(P=Nh(h,e),O=O-P.yExtra):p[1]===E&&(P=Nh(h,e),E=E+P.yExtra)}return{x:M,y:O,width:A-M,height:E-O}}function Nh(t,e){var r=t.prePoint,i=t.currentPoint,l=t.nextPoint,u=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),h=Math.pow(i[0]-l[0],2)+Math.pow(i[1]-l[1],2),p=Math.pow(r[0]-l[0],2)+Math.pow(r[1]-l[1],2),g=Math.acos((u+h-p)/(2*Math.sqrt(u)*Math.sqrt(h)));if(!g||Math.sin(g)===0||sy(g,0))return{xExtra:0,yExtra:0};var m=Math.abs(Math.atan2(l[1]-i[1],l[0]-i[0])),x=Math.abs(Math.atan2(l[0]-i[0],l[1]-i[1]));m=m>Math.PI/2?Math.PI-m:m,x=x>Math.PI/2?Math.PI-x:x;var w={xExtra:Math.cos(g/2-m)*(e/2*(1/Math.sin(g/2)))-e/2||0,yExtra:Math.cos(x-g/2)*(e/2*(1/Math.sin(g/2)))-e/2||0};return w}function Ty(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var Il=function(t,e){var r=t.x*e.x+t.y*e.y,i=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),l=t.x*e.y-t.y*e.x<0?-1:1,u=l*Math.acos(r/i);return u},Ey=function(t,e,r,i,l,u,h,p){e=Math.abs(e),r=Math.abs(r),i=Vt(i,360);var g=pi(i);if(t.x===h.x&&t.y===h.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(e===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var m=(t.x-h.x)/2,x=(t.y-h.y)/2,w={x:Math.cos(g)*m+Math.sin(g)*x,y:-Math.sin(g)*m+Math.cos(g)*x},M=Math.pow(w.x,2)/Math.pow(e,2)+Math.pow(w.y,2)/Math.pow(r,2);M>1&&(e=Math.sqrt(M)*e,r=Math.sqrt(M)*r);var O=Math.pow(e,2)*Math.pow(r,2)-Math.pow(e,2)*Math.pow(w.y,2)-Math.pow(r,2)*Math.pow(w.x,2),A=Math.pow(e,2)*Math.pow(w.y,2)+Math.pow(r,2)*Math.pow(w.x,2),E=O/A;E=E<0?0:E;var P=(l!==u?1:-1)*Math.sqrt(E),I={x:P*(e*w.y/r),y:P*(-(r*w.x)/e)},F={x:Math.cos(g)*I.x-Math.sin(g)*I.y+(t.x+h.x)/2,y:Math.sin(g)*I.x+Math.cos(g)*I.y+(t.y+h.y)/2},N={x:(w.x-I.x)/e,y:(w.y-I.y)/r},z=Il({x:1,y:0},N),G={x:(-w.x-I.x)/e,y:(-w.y-I.y)/r},W=Il(N,G);!u&&W>0?W-=2*Math.PI:u&&W<0&&(W+=2*Math.PI),W%=2*Math.PI;var Y=z+W*p,U=e*Math.cos(Y),X=r*Math.sin(Y),$={x:Math.cos(g)*U-Math.sin(g)*X+F.x,y:Math.sin(g)*U+Math.cos(g)*X+F.y,ellipticalArcStartAngle:z,ellipticalArcEndAngle:z+W,ellipticalArcAngle:Y,ellipticalArcCenter:F,resultantRx:e,resultantRy:r};return $};function Lw(t){for(var e=[],r=null,i=null,l=null,u=0,h=t.length,p=0;p<h;p++){var g=t[p];i=t[p+1];var m=g[0],x={command:m,prePoint:r,params:g,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(m){case"M":l=[g[1],g[2]],u=p;break;case"A":var w=mP(r,g);x.arcParams=w;break}if(m==="Z")r=l,i=t[u+1];else{var M=g.length;r=[g[M-2],g[M-1]]}i&&i[0]==="Z"&&(i=t[u],e[u]&&(e[u].prePoint=r)),x.currentPoint=r,e[u]&&Ju(r,e[u].currentPoint)&&(e[u].prePoint=x.prePoint);var O=i?[i[i.length-2],i[i.length-1]]:null;x.nextPoint=O;var A=x.prePoint;if(["L","H","V"].includes(m))x.startTangent=[A[0]-r[0],A[1]-r[1]],x.endTangent=[r[0]-A[0],r[1]-A[1]];else if(m==="Q"){var E=[g[1],g[2]];x.startTangent=[A[0]-E[0],A[1]-E[1]],x.endTangent=[r[0]-E[0],r[1]-E[1]]}else if(m==="T"){var P=e[p-1],E=Ty(P.currentPoint,A);P.command==="Q"?(x.command="Q",x.startTangent=[A[0]-E[0],A[1]-E[1]],x.endTangent=[r[0]-E[0],r[1]-E[1]]):(x.command="TL",x.startTangent=[A[0]-r[0],A[1]-r[1]],x.endTangent=[r[0]-A[0],r[1]-A[1]])}else if(m==="C"){var I=[g[1],g[2]],F=[g[3],g[4]];x.startTangent=[A[0]-I[0],A[1]-I[1]],x.endTangent=[r[0]-F[0],r[1]-F[1]],x.startTangent[0]===0&&x.startTangent[1]===0&&(x.startTangent=[I[0]-F[0],I[1]-F[1]]),x.endTangent[0]===0&&x.endTangent[1]===0&&(x.endTangent=[F[0]-I[0],F[1]-I[1]])}else if(m==="S"){var P=e[p-1],I=Ty(P.currentPoint,A),F=[g[1],g[2]];P.command==="C"?(x.command="C",x.startTangent=[A[0]-I[0],A[1]-I[1]],x.endTangent=[r[0]-F[0],r[1]-F[1]]):(x.command="SQ",x.startTangent=[A[0]-F[0],A[1]-F[1]],x.endTangent=[r[0]-F[0],r[1]-F[1]])}else if(m==="A"){var N=Rl(x,0),z=N.x,G=N.y,W=Rl(x,1,!1),Y=W.x,U=W.y;x.startTangent=[z,G],x.endTangent=[Y,U]}e.push(x)}return e}function Rl(t,e,r){r===void 0&&(r=!0);var i=t.arcParams,l=i.rx,u=l===void 0?0:l,h=i.ry,p=h===void 0?0:h,g=i.xRotation,m=i.arcFlag,x=i.sweepFlag,w=Ey({x:t.prePoint[0],y:t.prePoint[1]},u,p,g,!!m,!!x,{x:t.currentPoint[0],y:t.currentPoint[1]},e),M=Ey({x:t.prePoint[0],y:t.prePoint[1]},u,p,g,!!m,!!x,{x:t.currentPoint[0],y:t.currentPoint[1]},r?e+.005:e-.005),O=M.x-w.x,A=M.y-w.y,E=Math.sqrt(O*O+A*A);return{x:-O/E,y:-A/E}}function yv(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Rr(t,e){return yv(t)*yv(e)?(t[0]*e[0]+t[1]*e[1])/(yv(t)*yv(e)):1}function Iw(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Rr(t,e))}function mP(t,e){var r=e[1],i=e[2],l=Vt(pi(e[3]),Math.PI*2),u=e[4],h=e[5],p=t[0],g=t[1],m=e[6],x=e[7],w=Math.cos(l)*(p-m)/2+Math.sin(l)*(g-x)/2,M=-1*Math.sin(l)*(p-m)/2+Math.cos(l)*(g-x)/2,O=w*w/(r*r)+M*M/(i*i);O>1&&(r*=Math.sqrt(O),i*=Math.sqrt(O));var A=r*r*(M*M)+i*i*(w*w),E=A?Math.sqrt((r*r*(i*i)-A)/A):1;u===h&&(E*=-1),isNaN(E)&&(E=0);var P=i?E*r*M/i:0,I=r?E*-i*w/r:0,F=(p+m)/2+Math.cos(l)*P-Math.sin(l)*I,N=(g+x)/2+Math.sin(l)*P+Math.cos(l)*I,z=[(w-P)/r,(M-I)/i],G=[(-1*w-P)/r,(-1*M-I)/i],W=Iw([1,0],z),Y=Iw(z,G);return Rr(z,G)<=-1&&(Y=Math.PI),Rr(z,G)>=1&&(Y=0),h===0&&Y>0&&(Y=Y-2*Math.PI),h===1&&Y<0&&(Y=Y+2*Math.PI),{cx:F,cy:N,rx:Ju(t,[m,x])?0:r,ry:Ju(t,[m,x])?0:i,startAngle:W,endAngle:W+Y,xRotation:l,arcFlag:u,sweepFlag:h}}function mv(t,e,r){var i=e.parsedStyle,l=i.defX,u=l===void 0?0:l,h=i.defY,p=h===void 0?0:h;return t.reduce(function(g,m){var x="";if(m[0]==="M"||m[0]==="L"){var w=rt.al(m[1]-u,m[2]-p,0);r&&rt.fF(w,w,r),x="".concat(m[0]).concat(w[0],",").concat(w[1])}else if(m[0]==="Z")x=m[0];else if(m[0]==="C"){var M=rt.al(m[1]-u,m[2]-p,0),O=rt.al(m[3]-u,m[4]-p,0),A=rt.al(m[5]-u,m[6]-p,0);r&&(rt.fF(M,M,r),rt.fF(O,O,r),rt.fF(A,A,r)),x="".concat(m[0]).concat(M[0],",").concat(M[1],",").concat(O[0],",").concat(O[1],",").concat(A[0],",").concat(A[1])}else if(m[0]==="A"){var E=rt.al(m[6]-u,m[7]-p,0);r&&rt.fF(E,E,r),x="".concat(m[0]).concat(m[1],",").concat(m[2],",").concat(m[3],",").concat(m[4],",").concat(m[5],",").concat(E[0],",").concat(E[1])}else if(m[0]==="Q"){var M=rt.al(m[1]-u,m[2]-p,0),O=rt.al(m[3]-u,m[4]-p,0);r&&(rt.fF(M,M,r),rt.fF(O,O,r)),x="".concat(m[0]).concat(m[1],",").concat(m[2],",").concat(m[3],",").concat(m[4],"}")}return g+=x},"")}function xP(t,e,r,i){return[["M",t,e],["L",r,i]]}function Qu(t,e,r,i){var l=(-1+Math.sqrt(2))/3*4,u=t*l,h=e*l,p=r-t,g=r+t,m=i-e,x=i+e;return[["M",p,i],["C",p,i-h,r-u,m,r,m],["C",r+u,m,g,i-h,g,i],["C",g,i+h,r+u,x,r,x],["C",r-u,x,p,i+h,p,i],["Z"]]}function In(t,e){var r=t.map(function(i,l){return[l===0?"M":"L",i[0],i[1]]});return e&&r.push(["Z"]),r}function m6(t,e,r,i,l){if(l){var u=(0,B.CR)(l,4),h=u[0],p=u[1],g=u[2],m=u[3],x=t>0?1:-1,w=e>0?1:-1,M=x+w!==0?1:0;return[["M",x*h+r,i],["L",t-x*p+r,i],p?["A",p,p,0,0,M,t+r,w*p+i]:null,["L",t+r,e-w*g+i],g?["A",g,g,0,0,M,t+r-x*g,e+i]:null,["L",r+x*m,e+i],m?["A",m,m,0,0,M,r,e+i-w*m]:null,["L",r,w*h+i],h?["A",h,h,0,0,M,x*h+r,i]:null,["Z"]].filter(function(O){return O})}return[["M",r,i],["L",r+t,i],["L",r+t,i+e],["L",r,i+e],["Z"]]}function Rw(t,e){e===void 0&&(e=t.getLocalTransform());var r=[];switch(t.nodeName){case Ye.LINE:var i=t.parsedStyle,l=i.x1,u=l===void 0?0:l,h=i.y1,p=h===void 0?0:h,g=i.x2,m=g===void 0?0:g,x=i.y2,w=x===void 0?0:x;r=xP(u,p,m,w);break;case Ye.CIRCLE:{var M=t.parsedStyle,O=M.r,A=O===void 0?0:O,E=M.cx,P=E===void 0?0:E,I=M.cy,F=I===void 0?0:I;r=Qu(A,A,P,F);break}case Ye.ELLIPSE:{var N=t.parsedStyle,z=N.rx,G=z===void 0?0:z,W=N.ry,Y=W===void 0?0:W,U=N.cx,P=U===void 0?0:U,X=N.cy,F=X===void 0?0:X;r=Qu(G,Y,P,F);break}case Ye.POLYLINE:case Ye.POLYGON:var $=t.parsedStyle.points;r=In($.points,t.nodeName===Ye.POLYGON);break;case Ye.RECT:var Q=t.parsedStyle,ft=Q.width,ot=ft===void 0?0:ft,J=Q.height,st=J===void 0?0:J,gt=Q.x,Mt=gt===void 0?0:gt,At=Q.y,St=At===void 0?0:At,Ut=Q.radius,ce=Ut&&Ut.some(function(Le){return Le!==0});r=m6(ot,st,Mt,St,ce&&Ut.map(function(Le){return _l(Le,0,Math.min(Math.abs(ot)/2,Math.abs(st)/2))}));break;case Ye.PATH:var be=t.parsedStyle.path.absolutePath;r=(0,B.ev)([],(0,B.CR)(be),!1);break}if(r.length)return mv(r,t,e)}function x6(t,e,r,i,l,u,h){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0);var p=t.map(function(g,m){var x=g[0],w=t[m+1],M=m===0&&(i!==0||l!==0),O=(m===t.length-1||w&&(w[0]==="M"||w[0]==="Z"))&&u!==0&&h!==0;switch(x){case"M":return M?"M ".concat(g[1]-e+i,",").concat(g[2]-r+l," L ").concat(g[1]-e,",").concat(g[2]-r):"M ".concat(g[1]-e,",").concat(g[2]-r);case"L":return"L ".concat(g[1]-e+(O?u:0),",").concat(g[2]-r+(O?h:0));case"Q":return"Q ".concat(g[1]-e," ").concat(g[2]-r,",").concat(g[3]-e," ").concat(g[4]-r)+(O?" L ".concat(g[3]-e+u,",").concat(g[4]-r+h):"");case"C":return"C ".concat(g[1]-e," ").concat(g[2]-r,",").concat(g[3]-e," ").concat(g[4]-r,",").concat(g[5]-e," ").concat(g[6]-r)+(O?" L ".concat(g[5]-e+u,",").concat(g[6]-r+h):"");case"A":return"A ".concat(g[1]," ").concat(g[2]," ").concat(g[3]," ").concat(g[4]," ").concat(g[5]," ").concat(g[6]-e," ").concat(g[7]-r)+(O?" L ".concat(g[6]-e+u,",").concat(g[7]-r+h):"");case"Z":return"Z"}}).join(" ");return~p.indexOf("NaN")?"":p}var xv=function(t){if(t===""||Array.isArray(t)&&t.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=zu(t)}catch(M){e=zu(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}kw(e);var r=vv(e),i=Pw(e),l=i.polygons,u=i.polylines,h=Lw(e),p=gv(h,0),g=p.x,m=p.y,x=p.width,w=p.height;return{absolutePath:e,hasArc:r,segments:h,polygons:l,polylines:u,totalLength:0,rect:{x:Number.isFinite(g)?g:0,y:Number.isFinite(m)?m:0,width:Number.isFinite(x)?x:0,height:Number.isFinite(w)?w:0}}},Fw=zi(xv);function ky(t){return ys(t)?Fw(t):xv(t)}function bP(t,e,r){var i=t.curve,l=e.curve;(!i||i.length===0)&&(i=ta(t.absolutePath,!1),t.curve=i),(!l||l.length===0)&&(l=ta(e.absolutePath,!1),e.curve=l);var u=[i,l];i.length!==l.length&&(u=N2(i,l));var h=z2(u[0])!==z2(u[1])?j2(u[0]):G2(u[0]);return[h,wh(u[1],h),function(p){return p}]}function Dw(t,e){var r;ys(t)?r=t.split(" ").map(function(x){var w=(0,B.CR)(x.split(","),2),M=w[0],O=w[1];return[Number(M),Number(O)]}):r=t;var i=[],l=0,u,h,p=Bk(r);r.forEach(function(x,w){r[w+1]&&(u=[0,0],u[0]=l/p,h=tw(x[0],x[1],r[w+1][0],r[w+1][1]),l+=h,u[1]=l/p,i.push(u))});var g=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(x){return x[0]})),!1)),m=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(x){return x[1]})),!1));return e&&(e.parsedStyle.defX=g,e.parsedStyle.defY=m),{points:r,totalLength:p,segments:i}}function Bw(t,e){return[t.points,e.points,function(r){return r}]}var ri=null;function fa(t){return function(e){var r=0;return t.map(function(i){return i===ri?e[r++]:i})}}function Hc(t){return t}var Py={matrix:["NNNNNN",[ri,ri,0,0,ri,ri,0,0,0,0,1,0,ri,ri,0,1],Hc],matrix3d:["NNNNNNNNNNNNNNNN",Hc],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",fa([ri,ri,new Zr(1)]),Hc],scalex:["N",fa([ri,new Zr(1),new Zr(1)]),fa([ri,new Zr(1)])],scaley:["N",fa([new Zr(1),ri,new Zr(1)]),fa([new Zr(1),ri])],scalez:["N",fa([new Zr(1),new Zr(1),ri])],scale3d:["NNN",Hc],skew:["Aa",null,Hc],skewx:["A",null,fa([ri,Qs])],skewy:["A",null,fa([Qs,ri])],translate:["Tt",fa([ri,ri,na]),Hc],translatex:["T",fa([ri,na,na]),fa([ri,na])],translatey:["T",fa([na,ri,na]),fa([na,ri])],translatez:["L",fa([na,na,ri])],translate3d:["TTL",Hc]};function bv(t){if(t=(t||"none").toLowerCase().trim(),t==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,r=[],i,l=0;i=e.exec(t);){if(i.index!==l)return[];l=i.index+i[0].length;var u=i[1],h=Py[u];if(!h)return[];var p=i[2].split(","),g=h[0];if(g.length<p.length)return[];for(var m=[],x=0;x<g.length;x++){var w=p[x],M=g[x],O=void 0;if(w?O={A:function(A){return A.trim()==="0"?Qs:dv(A)},N:Vc,T:ns,L:pP}[M.toUpperCase()](w):O={a:Qs,n:m[0],t:na}[M],O===void 0)return[];m.push(O)}if(r.push({t:u,d:m}),e.lastIndex===t.length)return r}return[]}function wP(t){var e,r,i,l;switch(t.t){case"rotatex":return l=pi(xo(t.d[0])),[1,0,0,0,0,Math.cos(l),Math.sin(l),0,0,-Math.sin(l),Math.cos(l),0,0,0,0,1];case"rotatey":return l=pi(xo(t.d[0])),[Math.cos(l),0,-Math.sin(l),0,0,1,0,0,Math.sin(l),0,Math.cos(l),0,0,0,0,1];case"rotate":case"rotatez":return l=pi(xo(t.d[0])),[Math.cos(l),Math.sin(l),0,0,-Math.sin(l),Math.cos(l),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,r=t.d[1].value,i=t.d[2].value,l=pi(xo(t.d[3]));var u=e*e+r*r+i*i;if(u===0)e=1,r=0,i=0;else if(u!==1){var h=Math.sqrt(u);e/=h,r/=h,i/=h}var p=Math.sin(l/2),g=p*Math.cos(l/2),m=p*p;return[1-2*(r*r+i*i)*m,2*(e*r*m+i*g),2*(e*i*m-r*g),0,2*(e*r*m-i*g),1-2*(e*e+i*i)*m,2*(r*i*m+e*g),0,2*(e*i*m+r*g),2*(r*i*m-e*g),1-2*(e*e+r*r)*m,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var x=pi(xo(t.d[0])),w=pi(xo(t.d[1]));return[1,Math.tan(w),0,0,Math.tan(x),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return l=pi(xo(t.d[0])),[1,0,0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return l=pi(xo(t.d[0])),[1,Math.tan(l),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=bo(t.d[0],0,null)||0,r=bo(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,r,0,1];case"translatex":return e=bo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return r=bo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,r,0,1];case"translatez":return i=bo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,i,1];case"translate3d":return e=bo(t.d[0],0,null)||0,r=bo(t.d[1],0,null)||0,i=bo(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,r,i,1];case"perspective":var M=bo(t.d[0],0,null)||0,O=M?-1/M:0;return[1,0,0,0,0,1,0,0,0,0,1,O,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(A){return A.value})}}function b6(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function w6(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(wP).reduce(b6)}function Nw(t){var e=[0,0,0],r=[1,1,1],i=[0,0,0],l=[0,0,0,1],u=[0,0,0,1];return Zk(w6(t),e,r,i,l,u),[[e,r,i,u,l]]}var MP=function(){function t(i,l){for(var u=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],h=0;h<4;h++)for(var p=0;p<4;p++)for(var g=0;g<4;g++)u[h][p]+=l[h][g]*i[g][p];return u}function e(i){return i[0][2]==0&&i[0][3]==0&&i[1][2]==0&&i[1][3]==0&&i[2][0]==0&&i[2][1]==0&&i[2][2]==1&&i[2][3]==0&&i[3][2]==0&&i[3][3]==1}function r(i,l,u,h,p){for(var g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],m=0;m<4;m++)g[m][3]=p[m];for(var m=0;m<3;m++)for(var x=0;x<3;x++)g[3][m]+=i[x]*g[x][m];var w=h[0],M=h[1],O=h[2],A=h[3],E=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];E[0][0]=1-2*(M*M+O*O),E[0][1]=2*(w*M-O*A),E[0][2]=2*(w*O+M*A),E[1][0]=2*(w*M+O*A),E[1][1]=1-2*(w*w+O*O),E[1][2]=2*(M*O-w*A),E[2][0]=2*(w*O-M*A),E[2][1]=2*(M*O+w*A),E[2][2]=1-2*(w*w+M*M),g=t(g,E);var P=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];u[2]&&(P[2][1]=u[2],g=t(g,P)),u[1]&&(P[2][1]=0,P[2][0]=u[0],g=t(g,P)),u[0]&&(P[2][0]=0,P[1][0]=u[0],g=t(g,P));for(var m=0;m<3;m++)for(var x=0;x<3;x++)g[m][x]*=l[m];return e(g)?[g[0][0],g[0][1],g[1][0],g[1][1],g[3][0],g[3][1]]:g[0].concat(g[1],g[2],g[3])}return r}();function M6(t){return t.toFixed(6).replace(".000000","")}function Yc(t,e){var r,i;return t.decompositionPair!==e&&(t.decompositionPair=e,r=Nw(t)),e.decompositionPair!==t&&(e.decompositionPair=t,i=Nw(e)),r[0]===null||i[0]===null?[[!1],[!0],function(l){return l?e[0].d:t[0].d}]:(r[0].push(0),i[0].push(1),[r,i,function(l){var u=_P(r[0][3],i[0][3],l[5]),h=MP(l[0],l[1],l[2],u,l[4]),p=h.map(M6).join(",");return p}])}function SP(t,e){for(var r=0,i=0;i<t.length;i++)r+=t[i]*e[i];return r}function _P(t,e,r){var i=SP(t,e);i=_l(i,-1,1);var l=[];if(i===1)l=t;else for(var u=Math.acos(i),h=Math.sin(r*u)*1/Math.sqrt(1-i*i),p=0;p<4;p++)l.push(t[p]*(Math.cos(r*u)-i*h)+e[p]*h);return l}function Ly(t){return t.replace(/[xy]/,"")}function Iy(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var zw=function(t,e){return t==="perspective"&&e==="perspective"||(t==="matrix"||t==="matrix3d")&&(e==="matrix"||e==="matrix3d")};function S6(t,e,r){var i=!1;if(!t.length||!e.length){t.length||(i=!0,t=e,e=[]);for(var l=function(W){var Y=t[W],U=Y.t,X=Y.d,$=U.substring(0,5)==="scale"?1:0;e.push({t:U,d:X.map(function(Q){return typeof Q=="number"?vi($):vi($,Q.unit)})})},u=0;u<t.length;u++)l(u)}var h=[],p=[],g=[];if(t.length!==e.length){var m=Yc(t,e);h=[m[0]],p=[m[1]],g=[["matrix",[m[2]]]]}else for(var u=0;u<t.length;u++){var x=t[u].t,w=e[u].t,M=t[u].d,O=e[u].d,A=Py[x],E=Py[w],P=void 0;if(zw(x,w)){var m=Yc([t[u]],[e[u]]);h.push(m[0]),p.push(m[1]),g.push(["matrix",[m[2]]]);continue}else if(x===w)P=x;else if(A[2]&&E[2]&&Ly(x)===Ly(w))P=Ly(x),M=A[2](M),O=E[2](O);else if(A[1]&&E[1]&&Iy(x)===Iy(w))P=Iy(x),M=A[1](M),O=E[1](O);else{var m=Yc(t,e);h=[m[0]],p=[m[1]],g=[["matrix",[m[2]]]];break}for(var I=[],F=[],N=[],z=0;z<M.length;z++){var m=vP(M[z],O[z],r,!1,z);I[z]=m[0],F[z]=m[1],N.push(m[2])}h.push(I),p.push(F),g.push([P,N])}if(i){var G=h;h=p,p=G}return[h,p,function(W){return W.map(function(Y,U){var X=Y.map(function($,Q){return g[U][1][Q]($)}).join(",");return g[U][0]==="matrix"&&X.split(",").length===16&&(g[U][0]="matrix3d"),g[U][0]==="matrix3d"&&X.split(",").length===6&&(g[U][0]="matrix"),g[U][0]+"("+X+")"}).join(" ")}]}var tf=zi(function(t){if(ys(t)){if(t==="text-anchor")return[vi(0,"px"),vi(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[ns(wv(e[0])),ns(wv(e[1]))]}else return[vi(t[0]||0,"px"),vi(t[1]||0,"px")]});function wv(t){return t==="center"?"50%":t==="left"||t==="top"?"0":t==="right"||t==="bottom"?"100%":t}var Ry=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Sn.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Sn.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Sn.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Sn.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Sn.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Sn.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Sn.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Sn.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Sn.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Sn.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Sn.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Sn.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Sn.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Sn.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Sn.FILTER},{n:"clipPath",syntax:Sn.DEFINED_PATH},{n:"textPath",syntax:Sn.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Sn.TRANSFORM},{n:"transformOrigin",p:100,d:function(t){return t===Ye.CIRCLE||t===Ye.ELLIPSE?"center":t===Ye.TEXT?"text-anchor":"left top"},l:!0,syntax:Sn.TRANSFORM_ORIGIN},{n:"anchor",p:99,d:function(t){return t===Ye.CIRCLE||t===Ye.ELLIPSE?"0.5 0.5":"0 0"},l:!0,syntax:Sn.LENGTH_PERCENTAGE_12},{n:"cx",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"cy",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"cz",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"x",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"y",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"z",int:!0,d:"0",syntax:Sn.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Sn.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Sn.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Sn.COORDINATE},{n:"path",int:!0,l:!0,d:"",a:["d"],syntax:Sn.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Sn.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Sn.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Sn.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Sn.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Sn.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Sn.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Sn.NUMBER,d:function(t){return t===Ye.PATH||t===Ye.POLYGON||t===Ye.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Sn.MARKER},{n:"markerEnd",syntax:Sn.MARKER},{n:"markerMid",syntax:Sn.MARKER},{n:"markerStartOffset",syntax:Sn.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Sn.LENGTH,l:!0,int:!0,d:"0"}],Fy=Ry.filter(function(t){return!!t.l}).map(function(t){return t.n}),Fl={},ef=new WeakMap,_6=function(t,e){var r=ef.get(t);return!r||r.length===0?!0:r.includes(e)},O6=function(){function t(e){var r=this;this.runtime=e,Ry.forEach(function(i){r.registerMetadata(i)})}return t.prototype.registerMetadata=function(e){(0,B.ev)([e.n],(0,B.CR)(e.a||[]),!1).forEach(function(r){Fl[r]=e})},t.prototype.unregisterMetadata=function(e){delete Fl[e]},t.prototype.getPropertySyntax=function(e){return this.runtime.CSSPropertySyntaxFactory[e]},t.prototype.processProperties=function(e,r,i){var l=this;if(i===void 0&&(i={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[]}),!this.runtime.enableCSSParsing){Object.assign(e.attributes,r);var u=Object.keys(r),h=e.parsedStyle.clipPath,p=e.parsedStyle.offsetPath;e.parsedStyle=Object.assign(e.parsedStyle,r);var g=!!i.forceUpdateGeometry;if(!g){for(var m=0;m<Fy.length;m++)if(Fy[m]in r){g=!0;break}}r.fill&&(e.parsedStyle.fill=mo(r.fill)),r.stroke&&(e.parsedStyle.stroke=mo(r.stroke)),r.shadowColor&&(e.parsedStyle.shadowColor=mo(r.shadowColor)),r.filter&&(e.parsedStyle.filter=Cy(r.filter)),nr(r.radius)||(e.parsedStyle.radius=_y(r.radius,4)),nr(r.lineDash)||(e.parsedStyle.lineDash=_y(r.lineDash,2)),r.points&&(e.parsedStyle.points=Dw(r.points,e)),r.path===""&&(e.parsedStyle.path=(0,B.pi)({},Ow)),r.path&&(e.parsedStyle.path=ky(r.path),e.parsedStyle.defX=e.parsedStyle.path.rect.x,e.parsedStyle.defY=e.parsedStyle.path.rect.y),r.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:r.textTransform},e,null),r.clipPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",h,r.clipPath,e,this.runtime),r.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",p,r.offsetPath,e,this.runtime),r.anchor&&(e.parsedStyle.anchor=_y(r.anchor,2)),r.transform&&(e.parsedStyle.transform=bv(r.transform)),r.transformOrigin&&(e.parsedStyle.transformOrigin=tf(r.transformOrigin)),r.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,r.markerStart,r.markerStart,null,null)),r.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,r.markerEnd,r.markerEnd,null,null)),r.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",r.markerMid,r.markerMid,null,null)),((e.nodeName===Ye.CIRCLE||e.nodeName===Ye.ELLIPSE)&&(!nr(r.cx)||!nr(r.cy))||(e.nodeName===Ye.RECT||e.nodeName===Ye.IMAGE||e.nodeName===Ye.GROUP||e.nodeName===Ye.HTML||e.nodeName===Ye.TEXT||e.nodeName===Ye.MESH)&&(!nr(r.x)||!nr(r.y)||!nr(r.z))||e.nodeName===Ye.LINE&&(!nr(r.x1)||!nr(r.y1)||!nr(r.z1)||!nr(r.x2)||!nr(r.y2)||!nr(r.z2)))&&this.runtime.CSSPropertySyntaxFactory["<coordinate>"].postProcessor(e,u),nr(r.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(e,u),r.path&&this.runtime.CSSPropertySyntaxFactory["<path>"].postProcessor(e,u),r.points&&this.runtime.CSSPropertySyntaxFactory["<list-of-points>"].postProcessor(e,u),nr(r.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(e,u),r.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(e,u),g&&this.updateGeometry(e);return}var x=i.skipUpdateAttribute,w=i.skipParse,M=i.forceUpdateGeometry,O=i.usedAttributes,A=M,E=Object.keys(r);E.forEach(function(P){var I;x||(e.attributes[P]=r[P]),!A&&(!((I=Fl[P])===null||I===void 0)&&I.l)&&(A=!0)}),w||E.forEach(function(P){e.computedStyle[P]=l.parseProperty(P,e.attributes[P],e)}),O!=null&&O.length&&(E=Array.from(new Set(E.concat(O)))),E.forEach(function(P){P in e.computedStyle&&(e.parsedStyle[P]=l.computeProperty(P,e.computedStyle[P],e))}),A&&this.updateGeometry(e),E.forEach(function(P){P in e.parsedStyle&&l.postProcessProperty(P,e,E)}),this.runtime.enableCSSParsing&&e.children.length&&E.forEach(function(P){P in e.parsedStyle&&l.isPropertyInheritable(P)&&e.children.forEach(function(I){I.internalSetAttribute(P,null,{skipUpdateAttribute:!0,skipParse:!0})})})},t.prototype.parseProperty=function(e,r,i){var l=Fl[e],u=r;if((r===""||nr(r))&&(r="unset"),r==="unset"||r==="initial"||r==="inherit")u=Sw(r);else if(l){var h=l.k,p=l.syntax,g=p&&this.getPropertySyntax(p);h&&h.indexOf(r)>-1?u=Sw(r):g&&g.parser&&(u=g.parser(r,i))}return u},t.prototype.computeProperty=function(e,r,i){var l=Fl[e],u=i.id==="g-root",h=r;if(l){var p=l.syntax,g=l.inh,m=l.d;if(r instanceof to){var x=r.value;if(x==="unset"&&(g&&!u?x="inherit":x="initial"),x==="initial")nr(m)||(r=this.parseProperty(e,Xu(m)?m(i.nodeName):m,i));else if(x==="inherit"){var w=this.tryToResolveProperty(i,e,{inherited:!0});if(nr(w)){this.addUnresolveProperty(i,e);return}else return w}}var M=p&&this.getPropertySyntax(p);if(M&&M.calculator){var O=i.parsedStyle[e];h=M.calculator(e,O,r,i,this.runtime)}else r instanceof to?h=r.value:h=r}return h},t.prototype.postProcessProperty=function(e,r,i){var l=Fl[e];if(l&&l.syntax){var u=l.syntax&&this.getPropertySyntax(l.syntax),h=u;h&&h.postProcessor&&h.postProcessor(r,i)}},t.prototype.addUnresolveProperty=function(e,r){var i=ef.get(e);i||(ef.set(e,[]),i=ef.get(e)),i.indexOf(r)===-1&&i.push(r)},t.prototype.tryToResolveProperty=function(e,r,i){i===void 0&&(i={});var l=i.inherited;if(l&&e.parentElement&&_6(e.parentElement,r)){var u=e.parentElement.parsedStyle[r];return u==="unset"||u==="initial"||u==="inherit"?void 0:u}},t.prototype.recalc=function(e){var r=ef.get(e);if(r&&r.length){var i={};r.forEach(function(l){i[l]=e.attributes[l]}),this.processProperties(e,i),ef.delete(e)}},t.prototype.updateGeometry=function(e){var r=e.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var l=e.geometry;l.contentBounds||(l.contentBounds=new Bi),l.renderBounds||(l.renderBounds=new Bi);var u=e.parsedStyle,h=i.update(u,e),p=h.width,g=h.height,m=h.depth,x=m===void 0?0:m,w=h.offsetX,M=w===void 0?0:w,O=h.offsetY,A=O===void 0?0:O,E=h.offsetZ,P=E===void 0?0:E,I=[Math.abs(p)/2,Math.abs(g)/2,x/2],F=u,N=F.stroke,z=F.lineWidth,G=F.increasedLineWidthForHitTesting,W=F.shadowType,Y=F.shadowColor,U=F.filter,X=U===void 0?[]:U,$=F.transformOrigin,Q=u.anchor;r===Ye.TEXT?delete u.anchor:r===Ye.MESH&&(u.anchor[2]=.5);var ft=[(1-(Q&&Q[0]||0)*2)*p/2+M,(1-(Q&&Q[1]||0)*2)*g/2+A,(1-(Q&&Q[2]||0)*2)*I[2]+P];l.contentBounds.update(ft,I);var ot=r===Ye.POLYLINE||r===Ye.POLYGON||r===Ye.PATH?Math.SQRT2:.5,J=N&&!N.isNone;if(J){var st=((z||0)+(G||0))*ot;I[0]+=st,I[1]+=st}if(l.renderBounds.update(ft,I),Y&&W&&W!=="inner"){var gt=l.renderBounds,Mt=gt.min,At=gt.max,St=u,Ut=St.shadowBlur,ce=St.shadowOffsetX,be=St.shadowOffsetY,Le=Ut||0,nn=ce||0,De=be||0,en=Mt[0]-Le+nn,cn=At[0]+Le+nn,an=Mt[1]-Le+De,Rn=At[1]+Le+De;Mt[0]=Math.min(Mt[0],en),At[0]=Math.max(At[0],cn),Mt[1]=Math.min(Mt[1],an),At[1]=Math.max(At[1],Rn),l.renderBounds.setMinMax(Mt,At)}X.forEach(function(Gn){var lr=Gn.name,dr=Gn.params;if(lr==="blur"){var Yr=dr[0].value;l.renderBounds.update(l.renderBounds.center,Eh(l.renderBounds.halfExtents,l.renderBounds.halfExtents,[Yr,Yr,0]))}else if(lr==="drop-shadow"){var jr=dr[0].value,$i=dr[1].value,Ka=dr[2].value,Ks=l.renderBounds,Ro=Ks.min,bl=Ks.max,Ep=Ro[0]-Ka+jr,i6=bl[0]+Ka+jr,mk=Ro[1]-Ka+$i,kp=bl[1]+Ka+$i;Ro[0]=Math.min(Ro[0],Ep),bl[0]=Math.max(bl[0],i6),Ro[1]=Math.min(Ro[1],mk),bl[1]=Math.max(bl[1],kp),l.renderBounds.setMinMax(Ro,bl)}}),Q=u.anchor;var Tn=p<0,Vn=g<0,ur=(Tn?-1:1)*($?bo($[0],0,e):0),Fn=(Vn?-1:1)*($?bo($[1],1,e):0);ur=ur-(Tn?-1:1)*(Q&&Q[0]||0)*l.contentBounds.halfExtents[0]*2,Fn=Fn-(Vn?-1:1)*(Q&&Q[1]||0)*l.contentBounds.halfExtents[1]*2,e.setOrigin(ur,Fn),this.runtime.sceneGraphService.dirtifyToRoot(e)}},t.prototype.isPropertyInheritable=function(e){var r=Fl[e];return r?r.inh:!1},t}(),C6=function(){function t(){this.parser=dv,this.parserWithCSSDisabled=null,this.mixer=Ay}return t.prototype.calculator=function(e,r,i,l){return xo(i)},t}(),OP=function(){function t(){}return t.prototype.calculator=function(e,r,i,l,u){return i instanceof to&&(i=null),u.sceneGraphService.updateDisplayObjectDependency(e,r,i,l),e==="clipPath"&&l.forEach(function(h){h.childNodes.length===0&&u.sceneGraphService.dirtifyToRoot(h)}),i},t}(),jw=function(){function t(){this.parser=mo,this.parserWithCSSDisabled=mo,this.mixer=dP}return t.prototype.calculator=function(e,r,i,l){return i instanceof to?i.value==="none"?El:_w:i},t}(),Gw=function(){function t(){this.parser=Cy}return t.prototype.calculator=function(e,r,i){return i instanceof to?[]:i},t}();function Ww(t){var e=t.parsedStyle.fontSize;return nr(e)?null:e}var Dy=function(){function t(){this.parser=ns,this.parserWithCSSDisabled=null,this.mixer=Ay}return t.prototype.calculator=function(e,r,i,l,u){var h;if(Sl(i))return i;if(Zr.isRelativeUnit(i.unit)){var p=u.styleValueRegistry;if(i.unit===xn.kPercentage)return 0;if(i.unit===xn.kEms){if(l.parentNode){var g=Ww(l.parentNode);if(g)return g*=i.value,g;p.addUnresolveProperty(l,e)}else p.addUnresolveProperty(l,e);return 0}else if(i.unit===xn.kRems){if(!((h=l==null?void 0:l.ownerDocument)===null||h===void 0)&&h.documentElement){var g=Ww(l.ownerDocument.documentElement);if(g)return g*=i.value,g;p.addUnresolveProperty(l,e)}else p.addUnresolveProperty(l,e);return 0}}else return i.value},t}(),Dl=function(){function t(){this.mixer=yP}return t.prototype.parser=function(e){var r=Oy(Sl(e)?[e]:e),i;return r.length===1?i=[r[0],r[0]]:i=[r[0],r[1]],i},t.prototype.calculator=function(e,r,i){return i.map(function(l){return l.value})},t}(),By=function(){function t(){this.mixer=yP}return t.prototype.parser=function(e){var r=Oy(Sl(e)?[e]:e),i;return r.length===1?i=[r[0],r[0],r[0],r[0]]:r.length===2?i=[r[0],r[1],r[0],r[1]]:r.length===3?i=[r[0],r[1],r[2],r[1]]:i=[r[0],r[1],r[2],r[3]],i},t.prototype.calculator=function(e,r,i){return i.map(function(l){return l.value})},t}(),zh=se();function Mv(t,e){var r=e.parsedStyle.defX||0,i=e.parsedStyle.defY||0;return e.resetLocalTransform(),e.setLocalPosition(r,i),t.forEach(function(l){var u=l.t,h=l.d;if(u==="scale"){var p=(h==null?void 0:h.map(function(F){return F.value}))||[1,1];e.scaleLocal(p[0],p[1],1)}else if(u==="scalex"){var p=(h==null?void 0:h.map(function(N){return N.value}))||[1];e.scaleLocal(p[0],1,1)}else if(u==="scaley"){var p=(h==null?void 0:h.map(function(N){return N.value}))||[1];e.scaleLocal(1,p[0],1)}else if(u==="scalez"){var p=(h==null?void 0:h.map(function(N){return N.value}))||[1];e.scaleLocal(1,1,p[0])}else if(u==="scale3d"){var p=(h==null?void 0:h.map(function(N){return N.value}))||[1,1,1];e.scaleLocal(p[0],p[1],p[2])}else if(u==="translate"){var g=h||[na,na];e.translateLocal(g[0].value,g[1].value,0)}else if(u==="translatex"){var g=h||[na];e.translateLocal(g[0].value,0,0)}else if(u==="translatey"){var g=h||[na];e.translateLocal(0,g[0].value,0)}else if(u==="translatez"){var g=h||[na];e.translateLocal(0,0,g[0].value)}else if(u==="translate3d"){var g=h||[na,na,na];e.translateLocal(g[0].value,g[1].value,g[2].value)}else if(u==="rotate"){var m=h||[Qs];e.rotateLocal(0,0,xo(m[0]))}else if(u==="rotatex"){var m=h||[Qs];e.rotateLocal(xo(m[0]),0,0)}else if(u==="rotatey"){var m=h||[Qs];e.rotateLocal(0,xo(m[0]),0)}else if(u==="rotatez"){var m=h||[Qs];e.rotateLocal(0,0,xo(m[0]))}else if(u!=="rotate3d")if(u==="skew"){var x=(h==null?void 0:h.map(function(F){return F.value}))||[0,0];e.setLocalSkew(pi(x[0]),pi(x[1]))}else if(u==="skewx"){var x=(h==null?void 0:h.map(function(N){return N.value}))||[0];e.setLocalSkew(pi(x[0]),e.getLocalSkew()[1])}else if(u==="skewy"){var x=(h==null?void 0:h.map(function(N){return N.value}))||[0];e.setLocalSkew(e.getLocalSkew()[0],pi(x[0]))}else if(u==="matrix"){var w=(0,B.CR)(h.map(function(F){return F.value}),6),M=w[0],O=w[1],A=w[2],E=w[3],P=w[4],I=w[5];e.setLocalTransform(_(zh,M,O,0,0,A,E,0,0,0,0,1,0,P+r,I+i,0,1))}else u==="matrix3d"&&(_.apply(Te,(0,B.ev)([zh],(0,B.CR)(h.map(function(F){return F.value})),!1)),zh[12]+=r,zh[13]+=i,e.setLocalTransform(zh))}),e.getLocalTransform()}var Vw=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.postProcessor=function(r,i){var l,u,h;switch(r.nodeName){case Ye.CIRCLE:case Ye.ELLIPSE:var p=r.parsedStyle,g=p.cx,m=p.cy,x=p.cz;nr(g)||(l=g),nr(m)||(u=m),nr(x)||(h=x);break;case Ye.LINE:var w=r.parsedStyle,M=w.x1,O=w.x2,A=w.y1,E=w.y2,P=Math.min(M,O),I=Math.min(A,E);l=P,u=I,h=0;break;case Ye.RECT:case Ye.IMAGE:case Ye.GROUP:case Ye.HTML:case Ye.TEXT:case Ye.MESH:nr(r.parsedStyle.x)||(l=r.parsedStyle.x),nr(r.parsedStyle.y)||(u=r.parsedStyle.y),nr(r.parsedStyle.z)||(h=r.parsedStyle.z);break}r.nodeName!==Ye.PATH&&r.nodeName!==Ye.POLYLINE&&r.nodeName!==Ye.POLYGON&&(r.parsedStyle.defX=l||0,r.parsedStyle.defY=u||0);var F=!nr(l)||!nr(u)||!nr(h);if(F&&i.indexOf("transform")===-1){var N=r.parsedStyle.transform;if(N&&N.length)Mv(N,r);else{var z=(0,B.CR)(r.getLocalPosition(),3),G=z[0],W=z[1],Y=z[2];r.setLocalPosition(nr(l)?G:l,nr(u)?W:u,nr(h)?Y:h)}}},e}(Dy),CP=function(){function t(){}return t.prototype.calculator=function(e,r,i,l){i instanceof to&&(i=null);var u=i==null?void 0:i.cloneNode(!0);return u&&(u.style.isMarker=!0),u},t}(),AP=function(){function t(){this.mixer=Ay,this.parser=Vc,this.parserWithCSSDisabled=null}return t.prototype.calculator=function(e,r,i){return i.value},t}(),A6=function(){function t(){this.parser=Vc,this.parserWithCSSDisabled=null,this.mixer=Ku(0,1)}return t.prototype.calculator=function(e,r,i){return i.value},t.prototype.postProcessor=function(e){var r=e.parsedStyle,i=r.offsetPath,l=r.offsetDistance;if(i){var u=i.nodeName;if(u===Ye.LINE||u===Ye.PATH||u===Ye.POLYLINE){var h=i.getPoint(l);h&&(e.parsedStyle.defX=h.x,e.parsedStyle.defY=h.y,e.setLocalPosition(h.x,h.y))}}},t}(),Sv=function(){function t(){this.parser=Vc,this.parserWithCSSDisabled=null,this.mixer=Ku(0,1)}return t.prototype.calculator=function(e,r,i){return i.value},t}(),Ny=function(){function t(){this.parser=ky,this.parserWithCSSDisabled=ky,this.mixer=bP}return t.prototype.calculator=function(e,r,i){return i instanceof to&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Js(0,0,0,0)}:i},t.prototype.postProcessor=function(e,r){if(e.parsedStyle.defX=e.parsedStyle.path.rect.x,e.parsedStyle.defY=e.parsedStyle.path.rect.y,e.nodeName===Ye.PATH&&r.indexOf("transform")===-1){var i=e.parsedStyle,l=i.defX,u=l===void 0?0:l,h=i.defY,p=h===void 0?0:h;e.setLocalPosition(u,p)}},t}(),Hw=function(){function t(){this.parser=Dw,this.mixer=Bw}return t.prototype.postProcessor=function(e,r){if((e.nodeName===Ye.POLYGON||e.nodeName===Ye.POLYLINE)&&r.indexOf("transform")===-1){var i=e.parsedStyle,l=i.defX,u=i.defY;e.setLocalPosition(l,u)}},t}(),Yw=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.mixer=Ku(0,1/0),r}return e}(Dy),T6=function(){function t(){}return t.prototype.calculator=function(e,r,i,l){return i instanceof to?i.value==="unset"?"":i.value:"".concat(i)},t.prototype.postProcessor=function(e){e.nodeValue="".concat(e.parsedStyle.text)||""},t}(),Uw=function(){function t(){}return t.prototype.calculator=function(e,r,i,l){var u=l.getAttribute("text");if(u){var h=u;i.value==="capitalize"?h=u.charAt(0).toUpperCase()+u.slice(1):i.value==="lowercase"?h=u.toLowerCase():i.value==="uppercase"&&(h=u.toUpperCase()),l.parsedStyle.text=h}return i.value},t}(),Xw={},TP=0;function zy(t,e){if(t){var r=typeof t=="string"?t:t.id||TP++;Xw[r]&&Xw[r].destroy(),Xw[r]=e}}var jh=typeof window!="undefined"&&typeof window.document!="undefined";function Zw(t){return!!t.getAttribute}function qw(t,e){for(var r=0,i=t.length;r<i;){var l=r+i>>>1;$w(t[l],e)<0?r=l+1:i=l}return r}function $w(t,e){var r=Number(t.parsedStyle.zIndex),i=Number(e.parsedStyle.zIndex);if(r===i){var l=t.parentNode;if(l){var u=l.childNodes||[];return u.indexOf(t)-u.indexOf(e)}}return r-i}function jy(t){var e,r=t;do{var i=(e=r.parsedStyle)===null||e===void 0?void 0:e.clipPath;if(i)return r;r=r.parentElement}while(r!==null);return null}var Kw="px";function Jw(t,e,r){jh&&t.style&&(t.style.width=e+Kw,t.style.height=r+Kw)}function Qw(t,e){if(jh)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function EP(t){var e=Qw(t,"width");return e==="auto"?t.offsetWidth:parseFloat(e)}function tM(t){var e=Qw(t,"height");return e==="auto"?t.offsetHeight:parseFloat(e)}var eM=1,nM={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},_v=typeof performance=="object"&&performance.now?performance:Date;function Uc(t,e,r){var i=!1,l=!1,u=!!e&&!e.isNone,h=!!r&&!r.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(i=u,l=h):t==="visiblefill"||t==="fill"?i=!0:t==="visiblestroke"||t==="stroke"?l=!0:(t==="visible"||t==="all")&&(i=!0,l=!0),[i,l]}var rM=1,kP=function(){return rM++},ha=typeof self=="object"&&self.self==self?self:typeof kt.g=="object"&&kt.g.global==kt.g?kt.g:{},Xc=Date.now(),iM=function(){return ha.performance&&typeof ha.performance.now=="function"?ha.performance.now():Date.now()-Xc},tl={},Gy=Date.now(),Gh=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");var e=Date.now(),r=e-Gy,i=r>16?0:16-r,l=kP();return tl[l]=t,Object.keys(tl).length>1||setTimeout(function(){Gy=e;var u=tl;tl={},Object.keys(u).forEach(function(h){return u[h](iM())})},i),l},Ov=function(t){delete tl[t]},Wy=["","webkit","moz","ms","o"],aM=function(t){return typeof t!="string"?Gh:t===""?ha.requestAnimationFrame:ha[t+"RequestAnimationFrame"]},oM=function(t){return typeof t!="string"?Ov:t===""?ha.cancelAnimationFrame:ha[t+"CancelAnimationFrame"]||ha[t+"CancelRequestAnimationFrame"]},sM=function(t,e){for(var r=0;t[r]!==void 0;){if(e(t[r]))return t[r];r=r+1}},lM=sM(Wy,function(t){return!!aM(t)}),Ui=aM(lM),cM=oM(lM);ha.requestAnimationFrame=Ui,ha.cancelAnimationFrame=cM;var uM=function(){function t(){this.callbacks=[]}return t.prototype.getCallbacksNum=function(){return this.callbacks.length},t.prototype.tapPromise=function(e,r){this.callbacks.push(r)},t.prototype.promise=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Promise.all(this.callbacks.map(function(i){return i.apply(void 0,(0,B.ev)([],(0,B.CR)(e),!1))}))},t}(),rs=function(){function t(){this.callbacks=[]}return t.prototype.tapPromise=function(e,r){this.callbacks.push(r)},t.prototype.promise=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(0,B.mG)(this,void 0,void 0,function(){var i,l,u,h;return(0,B.Jh)(this,function(p){switch(p.label){case 0:return this.callbacks.length?[4,(h=this.callbacks)[0].apply(h,(0,B.ev)([],(0,B.CR)(e),!1))]:[3,6];case 1:i=p.sent(),l=0,p.label=2;case 2:return l<this.callbacks.length-1?(u=this.callbacks[l],[4,u(i)]):[3,5];case 3:i=p.sent(),p.label=4;case 4:return l++,[3,2];case 5:return[2,i];case 6:return[2,null]}})})},t}(),Ga=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(e,r){this.callbacks.push(r)},t.prototype.call=function(){var e=arguments;this.callbacks.forEach(function(r){r.apply(void 0,e)})},t}(),nf=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(e,r){this.callbacks.push(r)},t.prototype.call=function(){if(this.callbacks.length){for(var e=arguments,r=this.callbacks[0].apply(void 0,e),i=0;i<this.callbacks.length-1;i++){var l=this.callbacks[i];r=l(r)}return r}return null},t}(),fM=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hM=/([\"\'])[^\'\"]+\1/;function dM(t){for(var e=t.fontSize,r=t.fontFamily,i=t.fontStyle,l=t.fontVariant,u=t.fontWeight,h=Sl(e)&&"".concat(e,"px")||"16px",p=r.split(","),g=p.length-1;g>=0;g--){var m=p[g].trim();!hM.test(m)&&fM.indexOf(m)<0&&(m='"'.concat(m,'"')),p[g]=m}return"".concat(i," ").concat(l," ").concat(u," ").concat(h," ").concat(p.join(","))}var Vy=function(){function t(){this.parser=bv,this.parserWithCSSDisabled=bv,this.mixer=S6}return t.prototype.calculator=function(e,r,i,l){return i instanceof to?[]:i},t.prototype.postProcessor=function(e){var r=e.parsedStyle.transform;Mv(r,e)},t}(),PP=function(){function t(){this.parser=tf}return t}(),pM=function(){function t(){this.parser=Vc}return t.prototype.calculator=function(e,r,i,l){return i.value},t.prototype.postProcessor=function(e){if(e.parentNode){var r=e.parentNode,i=r.renderable,l=r.sortable;i&&(i.dirty=!0),l&&(l.dirty=!0,l.dirtyReason=qu.Z_INDEX_CHANGED)}},t}(),Os=function(){function t(){}return t.prototype.update=function(e,r){var i=e.r,l=i*2,u=i*2;return{width:l,height:u}},t}(),LP=function(){function t(){}return t.prototype.update=function(e,r){var i=e.rx,l=e.ry,u=i*2,h=l*2;return{width:u,height:h}},t}(),Hy=function(){function t(){}return t.prototype.update=function(e){var r=e.x1,i=e.y1,l=e.x2,u=e.y2,h=Math.min(r,l),p=Math.max(r,l),g=Math.min(i,u),m=Math.max(i,u),x=p-h,w=m-g;return{width:x,height:w}},t}(),vM=function(){function t(){}return t.prototype.update=function(e){var r=e.path,i=r.rect,l=i.width,u=i.height;return{width:l,height:u}},t}(),rf=function(){function t(){}return t.prototype.update=function(e){var r=e.points.points,i=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(m){return m[0]})),!1)),l=Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(m){return m[0]})),!1)),u=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(m){return m[1]})),!1)),h=Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(r.map(function(m){return m[1]})),!1)),p=l-i,g=h-u;return{width:p,height:g}},t}(),IP=function(){function t(){}return t.prototype.update=function(e,r){var i=e.img,l=e.width,u=l===void 0?0:l,h=e.height,p=h===void 0?0:h,g=u,m=p;return i&&!ys(i)&&(g||(g=i.width,e.width=g),m||(m=i.height,e.height=m)),{width:g,height:m}},t}(),RP=function(){function t(e){this.globalRuntime=e}return t.prototype.isReadyToMeasure=function(e,r){var i=e.text,l=e.textAlign,u=e.textBaseline,h=e.fontSize,p=e.fontStyle,g=e.fontWeight,m=e.fontVariant,x=e.lineWidth;return i&&h&&p&&g&&m&&l&&u&&!nr(x)},t.prototype.update=function(e,r){var i,l,u=e.text,h=e.textAlign,p=e.lineWidth,g=e.textBaseline,m=e.dx,x=e.dy;if(!this.isReadyToMeasure(e,r))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{width:0,height:0,x:0,y:0,offsetX:0,offsetY:0};var w=(((l=(i=r==null?void 0:r.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||l===void 0?void 0:l.getConfig())||{}).offscreenCanvas,M=this.globalRuntime.textService.measureText(u,e,w);e.metrics=M;var O=M.width,A=M.height,E=M.lineHeight,P=M.fontProperties,I=[O/2,A/2,0],F=[0,1],N=0;h==="center"||h==="middle"?(N=p/2,F=[.5,1]):(h==="right"||h==="end")&&(N=p,F=[1,1]);var z=0;return g==="middle"?z=I[1]:g==="top"||g==="hanging"?z=I[1]*2:g==="alphabetic"?z=this.globalRuntime.enableCSSParsing?E-P.ascent:0:(g==="bottom"||g==="ideographic")&&(z=0),m&&(N+=m),x&&(z+=x),e.anchor=[F[0],F[1],0],{width:I[0]*2,height:I[1]*2,offsetX:N,offsetY:z}},t}();function FP(t){return!!t.type}var Wh=function(){function t(e){this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ni,this.page=new Ni,this.canvas=new Ni,this.viewport=new Ni,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),t.prototype.composedPath=function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(t.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},t.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.initEvent=function(){},t.prototype.initUIEvent=function(){},t.prototype.clone=function(){throw new Error(Gr)},t}(),Yy=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.client=new Ni,r.movement=new Ni,r.offset=new Ni,r.global=new Ni,r.screen=new Ni,r}return Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)},e.prototype.initMouseEvent=function(){throw new Error(Gr)},e}(Wh),Cv=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.height=0,r.isPrimary=!1,r}return e.prototype.getCoalescedEvents=function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(Yy),Wa=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Yy),qr=function(t){(0,B.ZT)(e,t);function e(r,i){var l=t.call(this,null)||this;return l.type=r,l.detail=i,Object.assign(l,i),l}return e}(Wh),gM=":",Uy=function(){function t(){this.emitter=new fe}return t.prototype.on=function(e,r,i){return this.addEventListener(e,r,i),this},t.prototype.addEventListener=function(e,r,i){var l=Dr(i)&&i||Yp(i)&&i.capture,u=Yp(i)&&i.once,h=Xu(r)?void 0:r,p=!1,g="";if(e.indexOf(gM)>-1){var m=(0,B.CR)(e.split(gM),2),x=m[0],w=m[1];e=w,g=x,p=!0}if(e=l?"".concat(e,"capture"):e,r=Xu(r)?r:r.handleEvent,p){var M=r;r=function(){for(var O,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];((O=A[0].target)===null||O===void 0?void 0:O.name)===g&&M.apply(void 0,(0,B.ev)([],(0,B.CR)(A),!1))}}return u?this.emitter.once(e,r,h):this.emitter.on(e,r,h),this},t.prototype.off=function(e,r,i){return e?this.removeEventListener(e,r,i):this.removeAllEventListeners(),this},t.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},t.prototype.removeEventListener=function(e,r,i){var l=Dr(i)&&i||Yp(i)&&i.capture,u=Xu(r)?void 0:r;return e=l?"".concat(e,"capture"):e,r=Xu(r)?r:r==null?void 0:r.handleEvent,this.emitter.off(e,r,u),this},t.prototype.emit=function(e,r){this.dispatchEvent(new qr(e,r))},t.prototype.dispatchEvent=function(e,r){var i,l;if(r===void 0&&(r=!1),!FP(e))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");var u;if(this.document?u=this:this.defaultView?u=this.defaultView:u=(i=this.ownerDocument)===null||i===void 0?void 0:i.defaultView,u){if(e.manager=u.getEventService()||null,!e.manager)return!1;e.defaultPrevented=!1,e.path=[],r||(e.target=this),(l=e.manager)===null||l===void 0||l.dispatchEvent(e,e.type,r)}return!e.defaultPrevented},t}(),ra=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.shadow=!1,r.ownerDocument=null,r.isConnected=!1,r.baseURI="",r.childNodes=[],r.nodeType=0,r.nodeName="",r.nodeValue=null,r.parentNode=null,r}return e.isNode=function(r){return!!r.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var r,i,l="";this.nodeName===Ye.TEXT&&(l+=this.style.text);try{for(var u=(0,B.XA)(this.childNodes),h=u.next();!h.done;h=u.next()){var p=h.value;p.nodeName===Ye.TEXT?l+=p.nodeValue:l+=p.textContent}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return l},set:function(r){var i=this;this.childNodes.slice().forEach(function(l){i.removeChild(l)}),this.nodeName===Ye.TEXT&&(this.style.text="".concat(r))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(r){return r===void 0&&(r={}),this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(r){throw new Error(Gr)},e.prototype.lookupNamespaceURI=function(r){throw new Error(Gr)},e.prototype.lookupPrefix=function(r){throw new Error(Gr)},e.prototype.normalize=function(){throw new Error(Gr)},e.prototype.isEqualNode=function(r){return this===r},e.prototype.isSameNode=function(r){return this.isEqualNode(r)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(r){var i;if(r===this)return 0;for(var l=r,u=this,h=[l],p=[u];(i=l.parentNode)!==null&&i!==void 0?i:u.parentNode;)l=l.parentNode?(h.push(l.parentNode),l.parentNode):l,u=u.parentNode?(p.push(u.parentNode),u.parentNode):u;if(l!==u)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var g=h.length>p.length?h:p,m=g===h?p:h;if(g[g.length-m.length]===m[0])return g===h?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var x=g.length-m.length,w=m.length-1;w>=0;w--){var M=m[w],O=g[x+w];if(O!==M){var A=M.parentNode.childNodes;return A.indexOf(M)<A.indexOf(O)?m===h?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:g===h?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(r){return this.contains(r)},e.prototype.contains=function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i},e.prototype.getAncestor=function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i},e.prototype.forEach=function(r,i){i===void 0&&(i=!1),r(this)||(i?this.childNodes.slice():this.childNodes).forEach(function(l){l.forEach(r)})},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(Uy),Zn=2048,DP=function(){function t(e,r){var i=this;this.globalRuntime=e,this.context=r,this.emitter=new fe,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=se(),this.tmpVec3=rt.Ue(),this.onPointerDown=function(l){var u=i.createPointerEvent(l);if(i.dispatchEvent(u,"pointerdown"),u.pointerType==="touch")i.dispatchEvent(u,"touchstart");else if(u.pointerType==="mouse"||u.pointerType==="pen"){var h=u.button===2;i.dispatchEvent(u,h?"rightdown":"mousedown")}var p=i.trackingData(l.pointerId);p.pressTargetsByButton[l.button]=u.composedPath(),i.freeEvent(u)},this.onPointerUp=function(l){var u,h=_v.now(),p=i.createPointerEvent(l,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);if(i.dispatchEvent(p,"pointerup"),p.pointerType==="touch")i.dispatchEvent(p,"touchend");else if(p.pointerType==="mouse"||p.pointerType==="pen"){var g=p.button===2;i.dispatchEvent(p,g?"rightup":"mouseup")}var m=i.trackingData(l.pointerId),x=i.findMountedTarget(m.pressTargetsByButton[l.button]),w=x;if(x&&!p.composedPath().includes(x)){for(var M=x;M&&!p.composedPath().includes(M);){if(p.currentTarget=M,i.notifyTarget(p,"pointerupoutside"),p.pointerType==="touch")i.notifyTarget(p,"touchendoutside");else if(p.pointerType==="mouse"||p.pointerType==="pen"){var g=p.button===2;i.notifyTarget(p,g?"rightupoutside":"mouseupoutside")}ra.isNode(M)&&(M=M.parentNode)}delete m.pressTargetsByButton[l.button],w=M}if(w){var O=i.clonePointerEvent(p,"click");O.target=w,O.path=[],m.clicksByButton[l.button]||(m.clicksByButton[l.button]={clickCount:0,target:O.target,timeStamp:h});var A=m.clicksByButton[l.button];A.target===O.target&&h-A.timeStamp<200?++A.clickCount:A.clickCount=1,A.target=O.target,A.timeStamp=h,O.detail=A.clickCount,!((u=p.detail)===null||u===void 0)&&u.preventClick||(!i.context.config.useNativeClickEvent&&(O.pointerType==="mouse"||O.pointerType==="touch")&&i.dispatchEvent(O,"click"),i.dispatchEvent(O,"pointertap")),i.freeEvent(O)}i.freeEvent(p)},this.onPointerMove=function(l){var u=i.createPointerEvent(l,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0),h=u.pointerType==="mouse"||u.pointerType==="pen",p=i.trackingData(l.pointerId),g=i.findMountedTarget(p.overTargets);if(p.overTargets&&g!==u.target){var m=l.type==="mousemove"?"mouseout":"pointerout",x=i.createPointerEvent(l,m,g||void 0);if(i.dispatchEvent(x,"pointerout"),h&&i.dispatchEvent(x,"mouseout"),!u.composedPath().includes(g)){var w=i.createPointerEvent(l,"pointerleave",g||void 0);for(w.eventPhase=w.AT_TARGET;w.target&&!u.composedPath().includes(w.target);)w.currentTarget=w.target,i.notifyTarget(w),h&&i.notifyTarget(w,"mouseleave"),ra.isNode(w.target)&&(w.target=w.target.parentNode);i.freeEvent(w)}i.freeEvent(x)}if(g!==u.target){var M=l.type==="mousemove"?"mouseover":"pointerover",O=i.clonePointerEvent(u,M);i.dispatchEvent(O,"pointerover"),h&&i.dispatchEvent(O,"mouseover");for(var A=g&&ra.isNode(g)&&g.parentNode;A&&A!==(ra.isNode(i.rootTarget)&&i.rootTarget.parentNode)&&A!==u.target;)A=A.parentNode;var E=!A||A===(ra.isNode(i.rootTarget)&&i.rootTarget.parentNode);if(E){var P=i.clonePointerEvent(u,"pointerenter");for(P.eventPhase=P.AT_TARGET;P.target&&P.target!==g&&P.target!==(ra.isNode(i.rootTarget)&&i.rootTarget.parentNode);)P.currentTarget=P.target,i.notifyTarget(P),h&&i.notifyTarget(P,"mouseenter"),ra.isNode(P.target)&&(P.target=P.target.parentNode);i.freeEvent(P)}i.freeEvent(O)}i.dispatchEvent(u,"pointermove"),u.pointerType==="touch"&&i.dispatchEvent(u,"touchmove"),h&&(i.dispatchEvent(u,"mousemove"),i.cursor=i.getCursor(u.target)),p.overTargets=u.composedPath(),i.freeEvent(u)},this.onPointerOut=function(l){var u=i.trackingData(l.pointerId);if(u.overTargets){var h=l.pointerType==="mouse"||l.pointerType==="pen",p=i.findMountedTarget(u.overTargets),g=i.createPointerEvent(l,"pointerout",p||void 0);i.dispatchEvent(g),h&&i.dispatchEvent(g,"mouseout");var m=i.createPointerEvent(l,"pointerleave",p||void 0);for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==(ra.isNode(i.rootTarget)&&i.rootTarget.parentNode);)m.currentTarget=m.target,i.notifyTarget(m),h&&i.notifyTarget(m,"mouseleave"),ra.isNode(m.target)&&(m.target=m.target.parentNode);u.overTargets=null,i.freeEvent(g),i.freeEvent(m)}i.cursor=null},this.onPointerOver=function(l){var u=i.trackingData(l.pointerId),h=i.createPointerEvent(l),p=h.pointerType==="mouse"||h.pointerType==="pen";i.dispatchEvent(h,"pointerover"),p&&i.dispatchEvent(h,"mouseover"),h.pointerType==="mouse"&&(i.cursor=i.getCursor(h.target));var g=i.clonePointerEvent(h,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==(ra.isNode(i.rootTarget)&&i.rootTarget.parentNode);)g.currentTarget=g.target,i.notifyTarget(g),p&&i.notifyTarget(g,"mouseenter"),ra.isNode(g.target)&&(g.target=g.target.parentNode);u.overTargets=h.composedPath(),i.freeEvent(h),i.freeEvent(g)},this.onPointerUpOutside=function(l){var u=i.trackingData(l.pointerId),h=i.findMountedTarget(u.pressTargetsByButton[l.button]),p=i.createPointerEvent(l);if(h){for(var g=h;g;)p.currentTarget=g,i.notifyTarget(p,"pointerupoutside"),p.pointerType==="touch"||(p.pointerType==="mouse"||p.pointerType==="pen")&&i.notifyTarget(p,p.button===2?"rightupoutside":"mouseupoutside"),ra.isNode(g)&&(g=g.parentNode);delete u.pressTargetsByButton[l.button]}i.freeEvent(p)},this.onWheel=function(l){var u=i.createWheelEvent(l);i.dispatchEvent(u),i.freeEvent(u)},this.onClick=function(l){if(i.context.config.useNativeClickEvent){var u=i.createPointerEvent(l);i.dispatchEvent(u),i.freeEvent(u)}},this.onPointerCancel=function(l){var u=i.createPointerEvent(l,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);i.dispatchEvent(u),i.freeEvent(u)}}return t.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},t.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},t.prototype.client2Viewport=function(e){var r=this.context.contextService.getBoundingClientRect();return new Ni(e.x-((r==null?void 0:r.left)||0),e.y-((r==null?void 0:r.top)||0))},t.prototype.viewport2Client=function(e){var r=this.context.contextService.getBoundingClientRect();return new Ni(e.x+((r==null?void 0:r.left)||0),e.y+((r==null?void 0:r.top)||0))},t.prototype.viewport2Canvas=function(e){var r=e.x,i=e.y,l=this.rootTarget.defaultView,u=l.getCamera(),h=this.context.config,p=h.width,g=h.height,m=u.getPerspectiveInverse(),x=u.getWorldTransform(),w=le(this.tmpMatrix,x,m),M=rt.t8(this.tmpVec3,r/p*2-1,(1-i/g)*2-1,0);return rt.fF(M,M,w),new Ni(M[0],M[1])},t.prototype.canvas2Viewport=function(e){var r=this.rootTarget.defaultView,i=r.getCamera(),l=i.getPerspective(),u=i.getViewTransform(),h=le(this.tmpMatrix,l,u),p=rt.t8(this.tmpVec3,e.x,e.y,0);rt.fF(this.tmpVec3,this.tmpVec3,h);var g=this.context.config,m=g.width,x=g.height;return new Ni((p[0]+1)/2*m,(1-(p[1]+1)/2)*x)},t.prototype.setPickHandler=function(e){this.pickHandler=e},t.prototype.addEventMapping=function(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort(function(i,l){return i.priority-l.priority})},t.prototype.mapEvent=function(e){if(this.rootTarget){var r=this.mappingTable[e.type];if(r)for(var i=0,l=r.length;i<l;i++)r[i].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}},t.prototype.dispatchEvent=function(e,r,i){if(!i)e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r);else{e.eventPhase=e.AT_TARGET;var l=this.rootTarget.defaultView||null;e.currentTarget=l,this.notifyListeners(e,r)}this.emitter.emit(r||e.type,e)},t.prototype.propagate=function(e,r){if(e.target){var i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var l=i.length-1;l>=1;l--)if(e.currentTarget=i[l],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){var u=i.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var l=u+1;l<i.length;l++)if(e.currentTarget=i[l],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}},t.prototype.propagationPath=function(e){var r=[e],i=this.rootTarget.defaultView||null;if(i&&i===e)return r.unshift(i.document),r;for(var l=0;l<Zn&&e!==this.rootTarget;l++)ra.isNode(e)&&e.parentNode&&(r.push(e.parentNode),e=e.parentNode);return i&&r.push(i),r},t.prototype.hitTest=function(e){var r=e.viewportX,i=e.viewportY,l=this.context.config,u=l.width,h=l.height;return r<0||i<0||r>u||i>h?null:this.pickHandler(e)||this.rootTarget||null},t.prototype.isNativeEventFromCanvas=function(e){var r,i=this.context.contextService.getDomElement(),l=(r=e.nativeEvent)===null||r===void 0?void 0:r.target;if(l){if(l===i)return!0;if(i&&i.contains)return i.contains(l)}return e.nativeEvent.composedPath?e.nativeEvent.composedPath().indexOf(i)>-1:!1},t.prototype.getExistedHTML=function(e){var r,i;if(e.nativeEvent.composedPath)try{for(var l=(0,B.XA)(e.nativeEvent.composedPath()),u=l.next();!u.done;u=l.next()){var h=u.value,p=this.globalRuntime.nativeHTMLMap.get(h);if(p)return p}}catch(g){r={error:g}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return null},t.prototype.pickTarget=function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})},t.prototype.createPointerEvent=function(e,r,i,l){var u=this.allocateEvent(Cv);this.copyPointerData(e,u),this.copyMouseData(e,u),this.copyData(e,u),u.nativeEvent=e.nativeEvent,u.originalEvent=e;var h=this.getExistedHTML(u);return u.target=i!=null?i:h||this.isNativeEventFromCanvas(u)&&this.pickTarget(u)||l,typeof r=="string"&&(u.type=r),u},t.prototype.createWheelEvent=function(e){var r=this.allocateEvent(Wa);this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e;var i=this.getExistedHTML(r);return r.target=i||this.isNativeEventFromCanvas(r)&&this.pickTarget(r),r},t.prototype.trackingData=function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]},t.prototype.cloneWheelEvent=function(e){var r=this.allocateEvent(Wa);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=e.type,r},t.prototype.clonePointerEvent=function(e,r){var i=this.allocateEvent(Cv);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r!=null?r:i.type,i},t.prototype.copyPointerData=function(e,r){r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist},t.prototype.copyMouseData=function(e,r){r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.shiftKey=e.shiftKey,r.client.copyFrom(e.client),r.movement.copyFrom(e.movement),r.canvas.copyFrom(e.canvas),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global),r.offset.copyFrom(e.offset)},t.prototype.copyWheelData=function(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ},t.prototype.copyData=function(e,r){r.isTrusted=e.isTrusted,r.timeStamp=_v.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.page.copyFrom(e.page),r.viewport.copyFrom(e.viewport)},t.prototype.allocateEvent=function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r},t.prototype.freeEvent=function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)},t.prototype.notifyTarget=function(e,r){r=r!=null?r:e.type;var i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)},t.prototype.notifyListeners=function(e,r){var i=e.currentTarget.emitter,l=i._events[r];if(l)if("fn"in l)l.once&&i.removeListener(r,l.fn,void 0,!0),l.fn.call(e.currentTarget||l.context,e);else for(var u=0;u<l.length&&!e.propagationImmediatelyStopped;u++)l[u].once&&i.removeListener(r,l[u].fn,void 0,!0),l[u].fn.call(e.currentTarget||l[u].context,e)},t.prototype.findMountedTarget=function(e){if(!e)return null;for(var r=e[e.length-1],i=e.length-2;i>=0;i--){var l=e[i];if(l===this.rootTarget||ra.isNode(l)&&l.parentNode===r)r=e[i];else break}return r},t.prototype.getCursor=function(e){for(var r=e;r;){var i=Zw(r)&&r.getAttribute("cursor");if(i)return i;r=ra.isNode(r)&&r.parentNode}},t}(),BP=function(){function t(){}return t.prototype.getOrCreateCanvas=function(e,r){if(this.canvas)return this.canvas;if(e||Ke.offscreenCanvas)this.canvas=e||Ke.offscreenCanvas,this.context=this.canvas.getContext("2d",r);else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",r),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",r)}return this.canvas.width=10,this.canvas.height=10,this.canvas},t.prototype.getOrCreateContext=function(e,r){return this.context?this.context:(this.getOrCreateCanvas(e,r),this.context)},t}(),Zc;(function(t){t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE"})(Zc||(Zc={}));var yM=function(){function t(e,r){this.globalRuntime=e,this.context=r,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Ga,initAsync:new uM,dirtycheck:new nf,cull:new nf,beginFrame:new Ga,beforeRender:new Ga,render:new Ga,afterRender:new Ga,endFrame:new Ga,destroy:new Ga,pick:new rs,pickSync:new nf,pointerDown:new Ga,pointerUp:new Ga,pointerMove:new Ga,pointerOut:new Ga,pointerOver:new Ga,pointerWheel:new Ga,pointerCancel:new Ga,click:new Ga}}return t.prototype.init=function(e){var r=this,i=(0,B.pi)((0,B.pi)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(l){l.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){r.inited=!0,e()})},t.prototype.getStats=function(){return this.stats},t.prototype.disableDirtyRectangleRendering=function(){var e=this.context.config.renderer,r=e.getConfig().enableDirtyRectangleRendering;return!r||this.context.renderingContext.renderReasons.has(Zc.CAMERA_CHANGED)},t.prototype.render=function(e,r){var i=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var l=this.context.renderingContext;this.globalRuntime.sceneGraphService.syncHierarchy(l.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),l.renderReasons.size&&this.inited&&(this.renderDisplayObject(l.root,e,l),this.hooks.beginFrame.call(),l.renderListCurrentFrame.forEach(function(u){i.hooks.beforeRender.call(u),i.hooks.render.call(u),i.hooks.afterRender.call(u)}),this.hooks.endFrame.call(),l.renderListCurrentFrame=[],l.renderReasons.clear(),r())},t.prototype.renderDisplayObject=function(e,r,i){var l=this,u=r.renderer.getConfig(),h=u.enableDirtyCheck,p=u.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(e);var g=h?this.hooks.dirtycheck.call(e):e;if(g){var m=p?this.hooks.cull.call(g,this.context.camera):g;m&&(this.stats.rendered++,i.renderListCurrentFrame.push(m))}e.renderable.dirty=!1,e.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var x=e.sortable;x.dirty&&(this.sort(e,x),x.dirty=!1,x.dirtyChildren=[],x.dirtyReason=void 0),(x.sorted||e.childNodes).forEach(function(w){l.renderDisplayObject(w,r,i)})},t.prototype.sort=function(e,r){r.sorted&&r.dirtyReason!==qu.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(i){var l=e.childNodes.indexOf(i);if(l===-1){var u=r.sorted.indexOf(i);u>=0&&r.sorted.splice(u,1)}else if(r.sorted.length===0)r.sorted.push(i);else{var h=qw(r.sorted,i);r.sorted.splice(h,0,i)}}):r.sorted=e.childNodes.slice().sort($w)},t.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},t.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add(Zc.DISPLAY_OBJECT_CHANGED)},t}(),Pr=/\[\s*(.*)=(.*)\s*\]/,af=function(){function t(){}return t.prototype.selectOne=function(e,r){var i=this;if(e.startsWith("."))return r.find(function(p){return((p==null?void 0:p.classList)||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return r.find(function(p){return p.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var l=this.getAttribute(e),u=l.name,h=l.value;return u?r.find(function(p){return r!==p&&(u==="name"?p.name===h:i.attributeToString(p,u)===h)}):null}else return r.find(function(p){return r!==p&&p.nodeName===e})},t.prototype.selectAll=function(e,r){var i=this;if(e.startsWith("."))return r.findAll(function(p){return r!==p&&((p==null?void 0:p.classList)||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return r.findAll(function(p){return r!==p&&p.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var l=this.getAttribute(e),u=l.name,h=l.value;return u?r.findAll(function(p){return r!==p&&(u==="name"?p.name===h:i.attributeToString(p,u)===h)}):[]}else return r.findAll(function(p){return r!==p&&p.nodeName===e})},t.prototype.is=function(e,r){if(e.startsWith("."))return r.className===this.getIdOrClassname(e);if(e.startsWith("#"))return r.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),l=i.name,u=i.value;return l==="name"?r.name===u:this.attributeToString(r,l)===u}else return r.nodeName===e},t.prototype.getIdOrClassname=function(e){return e.substring(1)},t.prototype.getAttribute=function(e){var r=e.match(Pr),i="",l="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),l=r[2].replace(/"/g,"")),{name:i,value:l}},t.prototype.attributeToString=function(e,r){if(!e.getAttribute)return"";var i=e.getAttribute(r);return nr(i)?"":i.toString?i.toString():""},t}(),Bl=function(t){(0,B.ZT)(e,t);function e(r,i,l,u,h,p,g,m){var x=t.call(this,null)||this;return x.relatedNode=i,x.prevValue=l,x.newValue=u,x.attrName=h,x.attrChange=p,x.prevParsedValue=g,x.newParsedValue=m,x.type=r,x}return e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(Wh),$n;(function(t){t.REPARENT="reparent",t.DESTROY="destroy",t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.REMOVED="removed",t.MOUNTED="DOMNodeInsertedIntoDocument",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled"})($n||($n={}));function mM(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}var xM=new Bl($n.REPARENT,null,"","","",0,"",""),E6=function(){function t(e){var r=this;this.runtime=e,this.pendingEvents=[],this.boundsChangedEvent=new qr($n.BOUNDS_CHANGED),this.rotate=function(){var i=et();return function(l,u,h,p){h===void 0&&(h=0),p===void 0&&(p=0),typeof u=="number"&&(u=rt.al(u,h,p));var g=l.transformable;if(l.parentNode===null||!l.parentNode.transformable)r.rotateLocal(l,u);else{var m=et();Cn(m,u[0],u[1],u[2]);var x=r.getRotation(l),w=r.getRotation(l.parentNode);or(i,w),_n(i,i),Me(m,i,m),Me(g.localRotation,m,x),ma(g.localRotation,g.localRotation),r.dirtifyLocal(l,g)}}}(),this.rotateLocal=function(){var i=et();return function(l,u,h,p){h===void 0&&(h=0),p===void 0&&(p=0),typeof u=="number"&&(u=rt.al(u,h,p));var g=l.transformable;Cn(i,u[0],u[1],u[2]),li(g.localRotation,g.localRotation,i),r.dirtifyLocal(l,g)}}(),this.setEulerAngles=function(){var i=et();return function(l,u,h,p){h===void 0&&(h=0),p===void 0&&(p=0),typeof u=="number"&&(u=rt.al(u,h,p));var g=l.transformable;if(l.parentNode===null||!l.parentNode.transformable)r.setLocalEulerAngles(l,u);else{Cn(g.localRotation,u[0],u[1],u[2]);var m=r.getRotation(l.parentNode);or(i,_n(et(),m)),li(g.localRotation,g.localRotation,i),r.dirtifyLocal(l,g)}}}(),this.translateLocal=function(){return function(i,l,u,h){u===void 0&&(u=0),h===void 0&&(h=0),typeof l=="number"&&(l=rt.al(l,u,h));var p=i.transformable;rt.fS(l,rt.Ue())||(rt.VC(l,l,p.localRotation),rt.IH(p.localPosition,p.localPosition,l),r.dirtifyLocal(i,p))}}(),this.setPosition=function(){var i=se(),l=rt.Ue();return function(u,h){var p=u.transformable;if(l[0]=h[0],l[1]=h[1],l[2]=h[2]||0,!rt.fS(r.getPosition(u),l)){if(rt.JG(p.position,l),u.parentNode===null||!u.parentNode.transformable)rt.JG(p.localPosition,l);else{var g=u.parentNode.transformable;Kt(i,g.worldTransform),Oe(i,i),rt.fF(p.localPosition,l,i)}r.dirtifyLocal(u,p)}}}(),this.setLocalPosition=function(){var i=rt.Ue();return function(l,u){var h=l.transformable;i[0]=u[0],i[1]=u[1],i[2]=u[2]||0,!rt.fS(h.localPosition,i)&&(rt.JG(h.localPosition,i),r.dirtifyLocal(l,h))}}(),this.translate=function(){var i=rt.Ue(),l=rt.Ue(),u=rt.Ue();return function(h,p,g,m){g===void 0&&(g=0),m===void 0&&(m=0),typeof p=="number"&&(p=rt.t8(l,p,g,m)),!rt.fS(p,i)&&(rt.IH(u,r.getPosition(h),p),r.setPosition(h,u))}}(),this.setRotation=function(){var i=et();return function(l,u,h,p,g){var m=l.transformable;if(typeof u=="number"&&(u=zn(u,h,p,g)),l.parentNode===null||!l.parentNode.transformable)r.setLocalRotation(l,u);else{var x=r.getRotation(l.parentNode);or(i,x),_n(i,i),Me(m.localRotation,i,u),ma(m.localRotation,m.localRotation),r.dirtifyLocal(l,m)}}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var i=se(),l=rt.Ue(),u=zn(0,0,0,1);return function(h){var p=h.localSkew[0]!==0||h.localSkew[1]!==0;if(p){if(ct(h.localTransform,h.localRotation,h.localPosition,rt.al(1,1,1),h.origin),h.localSkew[0]!==0||h.localSkew[1]!==0){var g=Ht(i);g[4]=Math.tan(h.localSkew[0]),g[1]=Math.tan(h.localSkew[1]),le(h.localTransform,h.localTransform,g)}var m=ct(i,u,l,h.localScale,h.origin);le(h.localTransform,h.localTransform,m)}else ct(h.localTransform,h.localRotation,h.localPosition,h.localScale,h.origin)}}()}return t.prototype.matches=function(e,r){return this.runtime.sceneGraphSelector.is(e,r)},t.prototype.querySelector=function(e,r){return this.runtime.sceneGraphSelector.selectOne(e,r)},t.prototype.querySelectorAll=function(e,r){return this.runtime.sceneGraphSelector.selectAll(e,r)},t.prototype.attach=function(e,r,i){var l,u,h=!1;e.parentNode&&(h=e.parentNode!==r,this.detach(e)),e.parentNode=r,nr(i)?e.parentNode.childNodes.push(e):e.parentNode.childNodes.splice(i,0,e);var p=r.sortable;(!((l=p==null?void 0:p.sorted)===null||l===void 0)&&l.length||!((u=e.style)===null||u===void 0)&&u.zIndex)&&(p.dirtyChildren.indexOf(e)===-1&&p.dirtyChildren.push(e),p.dirty=!0,p.dirtyReason=qu.ADDED);var g=e.transformable;g&&this.dirtifyWorld(e,g),g.frozen&&this.unfreezeParentToRoot(e),h&&e.dispatchEvent(xM)},t.prototype.detach=function(e){var r,i;if(e.parentNode){var l=e.transformable,u=e.parentNode.sortable;(!((r=u==null?void 0:u.sorted)===null||r===void 0)&&r.length||!((i=e.style)===null||i===void 0)&&i.zIndex)&&(u.dirtyChildren.indexOf(e)===-1&&u.dirtyChildren.push(e),u.dirty=!0,u.dirtyReason=qu.REMOVED);var h=e.parentNode.childNodes.indexOf(e);h>-1&&e.parentNode.childNodes.splice(h,1),l&&this.dirtifyWorld(e,l),e.parentNode=null}},t.prototype.getOrigin=function(e){return e.transformable.origin},t.prototype.setOrigin=function(e,r,i,l){i===void 0&&(i=0),l===void 0&&(l=0),typeof r=="number"&&(r=[r,i,l]);var u=e.transformable;if(!(r[0]===u.origin[0]&&r[1]===u.origin[1]&&r[2]===u.origin[2])){var h=u.origin;h[0]=r[0],h[1]=r[1],h[2]=r[2]||0,this.dirtifyLocal(e,u)}},t.prototype.setLocalEulerAngles=function(e,r,i,l){i===void 0&&(i=0),l===void 0&&(l=0),typeof r=="number"&&(r=rt.al(r,i,l));var u=e.transformable;Cn(u.localRotation,r[0],r[1],r[2]),this.dirtifyLocal(e,u)},t.prototype.scaleLocal=function(e,r){var i=e.transformable;rt.Jp(i.localScale,i.localScale,rt.al(r[0],r[1],r[2]||1)),this.dirtifyLocal(e,i)},t.prototype.setLocalScale=function(e,r){var i=e.transformable,l=rt.al(r[0],r[1],r[2]||i.localScale[2]);rt.fS(l,i.localScale)||(rt.JG(i.localScale,l),this.dirtifyLocal(e,i))},t.prototype.setLocalRotation=function(e,r,i,l,u){typeof r=="number"&&(r=zn(r,i,l,u));var h=e.transformable;or(h.localRotation,r),this.dirtifyLocal(e,h)},t.prototype.setLocalSkew=function(e,r,i){typeof r=="number"&&(r=Qi.al(r,i));var l=e.transformable;Qi.JG(l.localSkew,r),this.dirtifyLocal(e,l)},t.prototype.dirtifyLocal=function(e,r){r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtifyWorld(e,r))},t.prototype.dirtifyWorld=function(e,r){r.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,r),this.dirtifyToRoot(e,!0)},t.prototype.triggerPendingEvents=function(){var e=this,r=new Set,i=function(l,u){l.isConnected&&!r.has(l.entity)&&(e.boundsChangedEvent.detail=u,e.boundsChangedEvent.target=l,l.isMutationObserved?l.dispatchEvent(e.boundsChangedEvent):l.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),r.add(l.entity))};this.pendingEvents.forEach(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1];p.affectChildren?h.forEach(function(g){i(g,p)}):i(h,p)}),this.clearPendingEvents(),r.clear()},t.prototype.clearPendingEvents=function(){this.pendingEvents=[]},t.prototype.dirtifyToRoot=function(e,r){r===void 0&&(r=!1);var i=e;for(i.renderable&&(i.renderable.dirty=!0);i;)mM(i),i=i.parentNode;r&&e.forEach(function(l){mM(l)}),this.informDependentDisplayObjects(e),this.pendingEvents.push([e,{affectChildren:r}])},t.prototype.updateDisplayObjectDependency=function(e,r,i,l){if(r&&r!==i){var u=this.displayObjectDependencyMap.get(r);if(u&&u[e]){var h=u[e].indexOf(l);u[e].splice(h,1)}}if(i){var p=this.displayObjectDependencyMap.get(i);p||(this.displayObjectDependencyMap.set(i,{}),p=this.displayObjectDependencyMap.get(i)),p[e]||(p[e]=[]),p[e].push(l)}},t.prototype.informDependentDisplayObjects=function(e){var r=this,i=this.displayObjectDependencyMap.get(e);i&&Object.keys(i).forEach(function(l){i[l].forEach(function(u){r.dirtifyToRoot(u,!0),u.dispatchEvent(new Bl($n.ATTR_MODIFIED,u,r,r,l,Bl.MODIFICATION,r,r)),u.isCustomElement&&u.isConnected&&u.attributeChangedCallback&&u.attributeChangedCallback(l,r,r)})})},t.prototype.getPosition=function(e){var r=e.transformable;return ie(r.position,this.getWorldTransform(e,r))},t.prototype.getRotation=function(e){var r=e.transformable;return Je(r.rotation,this.getWorldTransform(e,r))},t.prototype.getScale=function(e){var r=e.transformable;return He(r.scaling,this.getWorldTransform(e,r))},t.prototype.getWorldTransform=function(e,r){return r===void 0&&(r=e.transformable),!r.localDirtyFlag&&!r.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,r)),r.worldTransform},t.prototype.getLocalPosition=function(e){return e.transformable.localPosition},t.prototype.getLocalRotation=function(e){return e.transformable.localRotation},t.prototype.getLocalScale=function(e){return e.transformable.localScale},t.prototype.getLocalSkew=function(e){return e.transformable.localSkew},t.prototype.getLocalTransform=function(e){var r=e.transformable;return r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.localTransform},t.prototype.setLocalTransform=function(e,r){var i=ie(rt.Ue(),r),l=Je(et(),r),u=He(rt.Ue(),r);this.setLocalScale(e,u),this.setLocalPosition(e,i),this.setLocalRotation(e,l)},t.prototype.resetLocalTransform=function(e){this.setLocalScale(e,[1,1,1]),this.setLocalPosition(e,[0,0,0]),this.setLocalEulerAngles(e,[0,0,0]),this.setLocalSkew(e,[0,0])},t.prototype.getTransformedGeometryBounds=function(e,r,i){r===void 0&&(r=!1);var l=this.getGeometryBounds(e,r);if(Bi.isEmpty(l))return null;var u=i||new Bi;return u.setFromTransformedAABB(l,this.getWorldTransform(e)),u},t.prototype.getGeometryBounds=function(e,r){r===void 0&&(r=!1);var i=e.geometry,l=r?i.renderBounds:i.contentBounds||null;return l||new Bi},t.prototype.getBounds=function(e,r){var i=this;r===void 0&&(r=!1);var l=e.renderable;if(!l.boundsDirty&&!r&&l.bounds)return l.bounds;if(!l.renderBoundsDirty&&r&&l.renderBounds)return l.renderBounds;var u=r?l.renderBounds:l.bounds,h=this.getTransformedGeometryBounds(e,r,u),p=e.childNodes;if(p.forEach(function(x){var w=i.getBounds(x,r);w&&(h?h.add(w):(h=u||new Bi,h.update(w.center,w.halfExtents)))}),r){var g=jy(e);if(g){var m=g.parsedStyle.clipPath.getBounds(r);h?m&&(h=m.intersection(h)):h=m}}return h||(h=new Bi),h&&(r?l.renderBounds=h:l.bounds=h),r?l.renderBoundsDirty=!1:l.boundsDirty=!1,h},t.prototype.getLocalBounds=function(e){if(e.parentNode){var r=se();e.parentNode.transformable&&(r=Oe(se(),this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!Bi.isEmpty(i)){var l=new Bi;return l.setFromTransformedAABB(i,r),l}}return this.getBounds(e)},t.prototype.getBoundingClientRect=function(e){var r,i,l,u=this.getGeometryBounds(e);Bi.isEmpty(u)||(l=new Bi,l.setFromTransformedAABB(u,this.getWorldTransform(e)));var h=(i=(r=e.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||i===void 0?void 0:i.getContextService().getBoundingClientRect();if(l){var p=(0,B.CR)(l.getMin(),2),g=p[0],m=p[1],x=(0,B.CR)(l.getMax(),2),w=x[0],M=x[1];return new Js(g+((h==null?void 0:h.left)||0),m+((h==null?void 0:h.top)||0),w-g,M-m)}return new Js((h==null?void 0:h.left)||0,(h==null?void 0:h.top)||0,0,0)},t.prototype.dirtifyWorldInternal=function(e,r){var i=this;if(!r.dirtyFlag){r.dirtyFlag=!0,r.frozen=!1,e.childNodes.forEach(function(u){var h=u.transformable;h.dirtyFlag||i.dirtifyWorldInternal(u,h)});var l=e.renderable;l&&(l.renderBoundsDirty=!0,l.boundsDirty=!0,l.dirty=!0)}},t.prototype.syncHierarchy=function(e){var r=e.transformable;if(!r.frozen){r.frozen=!0,(r.localDirtyFlag||r.dirtyFlag)&&this.sync(e,r);for(var i=e.childNodes,l=0;l<i.length;l++)this.syncHierarchy(i[l])}},t.prototype.sync=function(e,r){if(r.localDirtyFlag&&(this.calcLocalTransform(r),r.localDirtyFlag=!1),r.dirtyFlag){var i=e.parentNode,l=i&&i.transformable;i===null||!l?Kt(r.worldTransform,r.localTransform):le(r.worldTransform,l.worldTransform,r.localTransform),r.dirtyFlag=!1}},t.prototype.unfreezeParentToRoot=function(e){for(var r=e.parentNode;r;){var i=r.transformable;i&&(i.frozen=!1),r=r.parentNode}},t}(),Cs={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},bM=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Xy=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,of=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,wM=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,MM=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,NP=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,SM=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,zP=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,jP=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,GP=new RegExp("".concat(Xy.source,"|").concat(wM.source,"|").concat(NP.source,"|").concat(zP.source)),_M=new RegExp("".concat(of.source,"|").concat(MM.source,"|").concat(SM.source,"|").concat(jP.source)),WP=function(){function t(e){var r=this;this.runtime=e,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(i,l){return r.isBreakingSpace(l)?!1:!!(i&&(_M.exec(l)||GP.exec(i)))},this.trimByKinsokuShorui=function(i){var l=(0,B.ev)([],(0,B.CR)(i),!1),u=l[l.length-2];if(!u)return i;var h=u[u.length-1];return l[l.length-2]=u.slice(0,-1),l[l.length-1]=h+l[l.length-1],l}}return t.prototype.measureFont=function(e,r){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},l=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),u=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});u.font=e;var h=Cs.MetricsString+Cs.BaselineSymbol,p=Math.ceil(u.measureText(h).width),g=Math.ceil(u.measureText(Cs.BaselineSymbol).width),m=Cs.HeightMultiplier*g;g=g*Cs.BaselineMultiplier|0,l.width=p,l.height=m,u.fillStyle="#f00",u.fillRect(0,0,p,m),u.font=e,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(h,0,g);var x=u.getImageData(0,0,p||1,m||1).data,w=x.length,M=p*4,O=0,A=0,E=!1;for(O=0;O<g;++O){for(var P=0;P<M;P+=4)if(x[A+P]!==255){E=!0;break}if(!E)A+=M;else break}for(i.ascent=g-O,A=w-M,E=!1,O=m;O>g;--O){for(var P=0;P<M;P+=4)if(x[A+P]!==255){E=!0;break}if(!E)A-=M;else break}return i.descent=O-g,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i},t.prototype.measureText=function(e,r,i){var l=r.fontSize,u=r.wordWrap,h=r.lineHeight,p=r.lineWidth,g=r.textBaseline,m=r.textAlign,x=r.letterSpacing,w=r.textPath;r.textPathSide,r.textPathStartOffset;var M=r.leading,O=M===void 0?0:M,A=dM(r),E=this.measureFont(A,i);E.fontSize===0&&(E.fontSize=l,E.ascent=l);var P=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);P.font=A,r.isOverflowing=!1;var I=u?this.wordWrap(e,r,i):e,F=I.split(/(?:\r\n|\r|\n)/),N=new Array(F.length),z=0;if(w){w.getTotalLength();for(var G=0;G<F.length;G++)var W=P.measureText(F[G]).width+(F[G].length-1)*x}else{for(var G=0;G<F.length;G++){var Y=P.measureText(F[G]).width+(F[G].length-1)*x;N[G]=Y,z=Math.max(z,Y)}var W=z+p,U=h||E.fontSize+p,X=Math.max(U,E.fontSize+p)+(F.length-1)*(U+O);U+=O;var $=0;return g==="middle"?$=-X/2:g==="bottom"||g==="alphabetic"||g==="ideographic"?$=-X:(g==="top"||g==="hanging")&&($=0),{font:A,width:W,height:X,lines:F,lineWidths:N,lineHeight:U,maxLineWidth:z,fontProperties:E,lineMetrics:N.map(function(ft,ot){var J=0;return m==="center"||m==="middle"?J-=ft/2:(m==="right"||m==="end")&&(J-=ft),new Js(J-p/2,$+ot*U,ft+p,U)})}}},t.prototype.setGraphemeOnPath=function(){},t.prototype.wordWrap=function(e,r,i){var l=this,u=r.wordWrapWidth,h=u===void 0?0:u,p=r.letterSpacing,g=r.maxLines,m=g===void 0?1/0:g,x=r.textOverflow,w=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),M=h+p,O="";x==="ellipsis"?O="...":x&&x!=="clip"&&(O=x);for(var A=[],E=0,P=0,I={},F=function(st){return l.getFromCache(st,p,I,w)},N=Array.from(O).reduce(function(st,gt){return st+F(gt)},0),z=Array.from(e),G=0;G<z.length;G++){var W=z[G],Y=e[G-1],U=e[G+1],X=F(W);if(this.isNewline(W)){if(E++,E>=m){r.isOverflowing=!0;break}P=0,A[E]="";continue}if(P>0&&P+X>M){if(E+1>=m){if(r.isOverflowing=!0,N>0&&N<=M){for(var $=A[E].length,Q=0,ft=$,ot=0;ot<$;ot++){var J=F(A[E][ot]);if(Q+J+N>M){ft=ot;break}Q+=J}A[E]=(A[E]||"").slice(0,ft)+O}break}if(E++,P=0,A[E]="",this.isBreakingSpace(W))continue;this.canBreakInLastChar(W)||(A=this.trimToBreakable(A),P=this.sumTextWidthByCache(A[E]||"",I)),this.shouldBreakByKinsokuShorui(W,U)&&(A=this.trimByKinsokuShorui(A),P+=F(Y||""))}P+=X,A[E]=(A[E]||"")+W}return A.join(`
`)},t.prototype.isBreakingSpace=function(e){return typeof e!="string"?!1:Cs.BreakingSpaces.indexOf(e.charCodeAt(0))>=0},t.prototype.isNewline=function(e){return typeof e!="string"?!1:Cs.Newlines.indexOf(e.charCodeAt(0))>=0},t.prototype.trimToBreakable=function(e){var r=(0,B.ev)([],(0,B.CR)(e),!1),i=r[r.length-2],l=this.findBreakableIndex(i);if(l===-1||!i)return r;var u=i.slice(l,l+1),h=this.isBreakingSpace(u),p=l+1,g=l+(h?0:1);return r[r.length-1]+=i.slice(p,i.length),r[r.length-2]=i.slice(0,g),r},t.prototype.canBreakInLastChar=function(e){return!(e&&bM.test(e))},t.prototype.sumTextWidthByCache=function(e,r){return e.split("").reduce(function(i,l){if(!r[l])throw Error("cannot count the word without cache");return i+r[l]},0)},t.prototype.findBreakableIndex=function(e){for(var r=e.length-1;r>=0;r--)if(!bM.test(e[r]))return r;return-1},t.prototype.getFromCache=function(e,r,i,l){var u=i[e];if(typeof u!="number"){var h=e.length*r;u=l.measureText(e).width+h,i[e]=u}return u},t}(),Ke={},OM=function(){var t,e=new IP,r=new rf;return t={},t[Ye.CIRCLE]=new Os,t[Ye.ELLIPSE]=new LP,t[Ye.RECT]=e,t[Ye.IMAGE]=e,t[Ye.GROUP]=e,t[Ye.LINE]=new Hy,t[Ye.TEXT]=new RP(Ke),t[Ye.POLYLINE]=r,t[Ye.POLYGON]=r,t[Ye.PATH]=new vM,t[Ye.HTML]=null,t[Ye.MESH]=null,t}(),Zy=function(){var t,e=new jw,r=new Dy;return t={},t[Sn.PERCENTAGE]=null,t[Sn.NUMBER]=new AP,t[Sn.ANGLE]=new C6,t[Sn.DEFINED_PATH]=new OP,t[Sn.PAINT]=e,t[Sn.COLOR]=e,t[Sn.FILTER]=new Gw,t[Sn.LENGTH]=r,t[Sn.LENGTH_PERCENTAGE]=r,t[Sn.LENGTH_PERCENTAGE_12]=new Dl,t[Sn.LENGTH_PERCENTAGE_14]=new By,t[Sn.COORDINATE]=new Vw,t[Sn.OFFSET_DISTANCE]=new A6,t[Sn.OPACITY_VALUE]=new Sv,t[Sn.PATH]=new Ny,t[Sn.LIST_OF_POINTS]=new Hw,t[Sn.SHADOW_BLUR]=new Yw,t[Sn.TEXT]=new T6,t[Sn.TEXT_TRANSFORM]=new Uw,t[Sn.TRANSFORM]=new Vy,t[Sn.TRANSFORM_ORIGIN]=new PP,t[Sn.Z_INDEX]=new pM,t[Sn.MARKER]=new CP,t}(),CM=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof kt.g!="undefined"?kt.g:{}};Ke.CameraContribution=Ss,Ke.AnimationTimeline=null,Ke.EasingFunction=null,Ke.offscreenCanvasCreator=new BP,Ke.nativeHTMLMap=new WeakMap,Ke.sceneGraphSelector=new af,Ke.sceneGraphService=new E6(Ke),Ke.textService=new WP(Ke),Ke.geometryUpdaterFactory=OM,Ke.CSSPropertySyntaxFactory=Zy,Ke.styleValueRegistry=new O6(Ke),Ke.layoutRegistry=null,Ke.globalThis=CM(),Ke.enableCSSParsing=!0,Ke.enableDataset=!1,Ke.enableStyleSyntax=!0;var qy=0;function AM(){qy=0}var TM=new Bl($n.INSERTED,null,"","","",0,"",""),EM=new Bl($n.REMOVED,null,"","","",0,"",""),$y=new qr($n.DESTROY),Av=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.entity=qy++,r.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},r.cullable={strategy:My.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},r.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},r.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},r.geometry={contentBounds:void 0,renderBounds:void 0},r.rBushNode={aabb:void 0},r.namespaceURI="g",r.scrollLeft=0,r.scrollTop=0,r.clientTop=0,r.clientLeft=0,r.destroyed=!1,r.style={},r.computedStyle=Ke.enableCSSParsing?{anchor:ni,opacity:ni,fillOpacity:ni,strokeOpacity:ni,fill:ni,stroke:ni,transform:ni,transformOrigin:ni,visibility:ni,pointerEvents:ni,lineWidth:ni,lineCap:ni,lineJoin:ni,increasedLineWidthForHitTesting:ni,fontSize:ni,fontFamily:ni,fontStyle:ni,fontWeight:ni,fontVariant:ni,textAlign:ni,textBaseline:ni,textTransform:ni,zIndex:ni,filter:ni,shadowType:ni}:null,r.parsedStyle={},r.attributes={},r}return Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter(function(r){return r!==""})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(r){throw new Error(Gr)},e.prototype.appendChild=function(r,i){var l;if(r.destroyed)throw new Error(Kk);return Ke.sceneGraphService.attach(r,this,i),!((l=this.ownerDocument)===null||l===void 0)&&l.defaultView&&this.ownerDocument.defaultView.mountChildren(r),TM.relatedNode=this,r.dispatchEvent(TM),r},e.prototype.insertBefore=function(r,i){if(!i)this.appendChild(r);else{var l=this.childNodes.indexOf(i);this.appendChild(r,l-1)}return r},e.prototype.replaceChild=function(r,i){var l=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,l),i},e.prototype.removeChild=function(r){var i;return EM.relatedNode=this,r.dispatchEvent(EM),!((i=r.ownerDocument)===null||i===void 0)&&i.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),Ke.sceneGraphService.detach(r),r},e.prototype.removeChildren=function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}},e.prototype.destroyChildren=function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length&&i.destroyChildren(),i.destroy()}},e.prototype.matches=function(r){return Ke.sceneGraphService.matches(r,this)},e.prototype.getElementById=function(r){return Ke.sceneGraphService.querySelector("#".concat(r),this)},e.prototype.getElementsByName=function(r){return Ke.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)},e.prototype.getElementsByClassName=function(r){return Ke.sceneGraphService.querySelectorAll(".".concat(r),this)},e.prototype.getElementsByTagName=function(r){return Ke.sceneGraphService.querySelectorAll(r,this)},e.prototype.querySelector=function(r){return Ke.sceneGraphService.querySelector(r,this)},e.prototype.querySelectorAll=function(r){return Ke.sceneGraphService.querySelectorAll(r,this)},e.prototype.closest=function(r){var i=this;do{if(Ke.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null},e.prototype.find=function(r){var i=this,l=null;return this.forEach(function(u){return u!==i&&r(u)?(l=u,!0):!1}),l},e.prototype.findAll=function(r){var i=this,l=[];return this.forEach(function(u){u!==i&&r(u)&&l.push(u)}),l},e.prototype.after=function(){for(var r=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(this.parentNode){var u=this.parentNode.childNodes.indexOf(this);i.forEach(function(h,p){var g;return(g=r.parentNode)===null||g===void 0?void 0:g.appendChild(h,u+p+1)})}},e.prototype.before=function(){for(var r,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(this.parentNode){var u=this.parentNode.childNodes.indexOf(this),h=(0,B.CR)(i),p=h[0],g=h.slice(1);this.parentNode.appendChild(p,u),(r=p).after.apply(r,(0,B.ev)([],(0,B.CR)(g),!1))}},e.prototype.replaceWith=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];this.after.apply(this,(0,B.ev)([],(0,B.CR)(r),!1)),this.remove()},e.prototype.append=function(){for(var r=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];i.forEach(function(u){return r.appendChild(u)})},e.prototype.prepend=function(){for(var r=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];i.forEach(function(u,h){return r.appendChild(u,h)})},e.prototype.replaceChildren=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,(0,B.ev)([],(0,B.CR)(r),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent($y),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return Ke.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return Ke.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return Ke.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return Ke.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return Ke.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(r){if(aP(r))return Ke.enableCSSParsing?null:void 0;var i=this.attributes[r];if(i===void 0){var l=ww(r);return i=this.attributes[l],Ke.enableCSSParsing&&nr(i)?null:i}else return i},e.prototype.hasAttribute=function(r){return this.getAttributeNames().includes(r)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(r){this.setAttribute(r,null),delete this.attributes[r]},e.prototype.setAttribute=function(r,i,l){this.attributes[r]=i},e.prototype.getAttributeNS=function(r,i){throw new Error(Gr)},e.prototype.getAttributeNode=function(r){throw new Error(Gr)},e.prototype.getAttributeNodeNS=function(r,i){throw new Error(Gr)},e.prototype.hasAttributeNS=function(r,i){throw new Error(Gr)},e.prototype.removeAttributeNS=function(r,i){throw new Error(Gr)},e.prototype.removeAttributeNode=function(r){throw new Error(Gr)},e.prototype.setAttributeNS=function(r,i,l){throw new Error(Gr)},e.prototype.setAttributeNode=function(r){throw new Error(Gr)},e.prototype.setAttributeNodeNS=function(r){throw new Error(Gr)},e.prototype.toggleAttribute=function(r,i){throw new Error(Gr)},e}(ra);function pr(t){return!!(t!=null&&t.nodeName)}var Nl=new Bl($n.ATTR_MODIFIED,null,null,null,null,Bl.MODIFICATION,null,null),VP={anchor:"",opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},kM={anchor:[0,0],fill:El,stroke:El,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},HP=(0,B.pi)((0,B.pi)({},kM),{opacity:1,fillOpacity:1,strokeOpacity:1,visibility:"visible",pointerEvents:"auto",lineWidth:1,lineCap:"butt",lineJoin:"miter",increasedLineWidthForHitTesting:0,fillRule:"nonzero"}),YP=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],UP=(0,B.ev)((0,B.ev)([],(0,B.CR)(YP),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),$r="data-",_a=function(t){(0,B.ZT)(e,t);function e(r){var i=this,l;i=t.call(this)||this,i.isCustomElement=!1,i.isMutationObserved=!1,i.activeAnimations=[],i.getClip=function(){return this.style.clipPath||null},i.config=r,i.config.interactive=(l=i.config.capture)!==null&&l!==void 0?l:i.config.interactive,i.id=i.config.id||"",i.name=i.config.name||"",(i.config.className||i.config.class)&&(i.className=i.config.className||i.config.class),i.nodeName=i.config.type||Ye.GROUP,i.config.style=i.config.style||i.config.attrs||{},Object.assign(i.config.style,i.config.attrs),i.config.visible!=null&&(i.config.style.visibility=i.config.visible===!1?"hidden":"visible"),i.config.interactive!=null&&(i.config.style.pointerEvents=i.config.interactive===!1?"none":"auto"),Object.assign(i.parsedStyle,Ke.enableCSSParsing?kM:HP,i.config.initialParsedStyle),Ke.enableCSSParsing&&Object.assign(i.attributes,VP),i.initAttributes(i.config.style);var u=Ke.globalThis.Proxy?Ke.globalThis.Proxy:function(){};return Ke.enableDataset&&(i.dataset=new u({},{get:function(h,p){var g="".concat($r).concat(xy(p));return h[g]!==void 0?h[g]:i.getAttribute(g)},set:function(h,p,g){return i.setAttribute("".concat($r).concat(xy(p)),g),!0}})),Ke.enableStyleSyntax&&(i.style=new u({setProperty:function(h,p){i.setAttribute(h,p)},getPropertyValue:function(h){return i.getAttribute(h)},removeProperty:function(h){i.removeAttribute(h)},item:function(){return""}},{get:function(h,p){return h[p]!==void 0?h[p]:i.getAttribute(p)},set:function(h,p,g){return i.setAttribute(p,g),!0}})),i}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach(function(r){r.cancel()})},e.prototype.cloneNode=function(r,i){var l=(0,B.pi)({},this.attributes);for(var u in l){var h=l[u];pr(h)&&u!=="clipPath"&&u!=="offsetPath"&&u!=="textPath"&&(l[u]=h.cloneNode(r)),i&&(l[u]=i(u,h))}var p=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:l});return p.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(g){if(!g.style.isMarker){var m=g.cloneNode(r);p.appendChild(m)}}),p},e.prototype.initAttributes=function(r){r===void 0&&(r={});var i=this.renderable,l={forceUpdateGeometry:!0};Ke.enableCSSParsing&&(l.usedAttributes=UP);var u={};for(var h in r){var p=ww(h);u[p]=r[h]}Ke.styleValueRegistry.processProperties(this,u,l),i.dirty=!0},e.prototype.setAttribute=function(r,i,l){l===void 0&&(l=!1);var u=ww(r);wi(i)||(l||i!==this.attributes[u])&&(this.internalSetAttribute(u,i),t.prototype.setAttribute.call(this,u,i))},e.prototype.internalSetAttribute=function(r,i,l){var u;l===void 0&&(l={});var h=this.renderable,p=this.attributes[r],g=this.parsedStyle[r];Ke.styleValueRegistry.processProperties(this,(u={},u[r]=i,u),l),h.dirty=!0;var m=this.parsedStyle[r];this.isConnected&&(Nl.relatedNode=this,Nl.prevValue=p,Nl.newValue=i,Nl.attrName=r,Nl.prevParsedValue=g,Nl.newParsedValue=m,this.isMutationObserved?this.dispatchEvent(Nl):(Nl.target=this,this.ownerDocument.defaultView.dispatchEvent(Nl,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(r,p,i,g,m)},e.prototype.getBBox=function(){var r=this.getBounds(),i=(0,B.CR)(r.getMin(),2),l=i[0],u=i[1],h=(0,B.CR)(r.getMax(),2),p=h[0],g=h[1];return new Js(l,u,p-l,g-u)},e.prototype.setOrigin=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),Ke.sceneGraphService.setOrigin(this,za(r,i,l)),this},e.prototype.getOrigin=function(){return Ke.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),Ke.sceneGraphService.setPosition(this,za(r,i,l)),this},e.prototype.setLocalPosition=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),Ke.sceneGraphService.setLocalPosition(this,za(r,i,l)),this},e.prototype.translate=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),Ke.sceneGraphService.translate(this,za(r,i,l)),this},e.prototype.translateLocal=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),Ke.sceneGraphService.translateLocal(this,za(r,i,l)),this},e.prototype.getPosition=function(){return Ke.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return Ke.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(r,i,l){return this.scaleLocal(r,i,l)},e.prototype.scaleLocal=function(r,i,l){return typeof r=="number"&&(i=i||r,l=l||r,r=za(r,i,l)),Ke.sceneGraphService.scaleLocal(this,r),this},e.prototype.setLocalScale=function(r,i,l){return typeof r=="number"&&(i=i||r,l=l||r,r=za(r,i,l)),Ke.sceneGraphService.setLocalScale(this,r),this},e.prototype.getLocalScale=function(){return Ke.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return Ke.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){var r=(0,B.CR)(Ph(rt.Ue(),Ke.sceneGraphService.getWorldTransform(this)),3),i=r[2];return Ja(i)},e.prototype.getLocalEulerAngles=function(){var r=(0,B.CR)(Ph(rt.Ue(),Ke.sceneGraphService.getLocalRotation(this)),3),i=r[2];return Ja(i)},e.prototype.setEulerAngles=function(r){return Ke.sceneGraphService.setEulerAngles(this,0,0,r),this},e.prototype.setLocalEulerAngles=function(r){return Ke.sceneGraphService.setLocalEulerAngles(this,0,0,r),this},e.prototype.rotateLocal=function(r,i,l){return nr(i)&&nr(l)?Ke.sceneGraphService.rotateLocal(this,0,0,r):Ke.sceneGraphService.rotateLocal(this,r,i,l),this},e.prototype.rotate=function(r,i,l){return nr(i)&&nr(l)?Ke.sceneGraphService.rotate(this,0,0,r):Ke.sceneGraphService.rotate(this,r,i,l),this},e.prototype.setRotation=function(r,i,l,u){return Ke.sceneGraphService.setRotation(this,r,i,l,u),this},e.prototype.setLocalRotation=function(r,i,l,u){return Ke.sceneGraphService.setLocalRotation(this,r,i,l,u),this},e.prototype.setLocalSkew=function(r,i){return Ke.sceneGraphService.setLocalSkew(this,r,i),this},e.prototype.getRotation=function(){return Ke.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return Ke.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return Ke.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return Ke.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return Ke.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(r){return Ke.sceneGraphService.setLocalTransform(this,r),this},e.prototype.resetLocalTransform=function(){Ke.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(r,i){var l,u=(l=this.ownerDocument)===null||l===void 0?void 0:l.timeline;return u?u.play(this,r,i):null},e.prototype.isVisible=function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)==="visible"},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"},e.prototype.isCulled=function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var r=this,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=(0,B.CR)(i,2),h=u[0],p=u[1];return h?Yp(h)?(Object.keys(h).forEach(function(g){r.setAttribute(g,h[g])}),this):i.length===2?(this.setAttribute(h,p),this):this.attributes[h]:this.attributes},e.prototype.getMatrix=function(r){var i=r||this.getWorldTransform(),l=(0,B.CR)(ie(rt.Ue(),i),2),u=l[0],h=l[1],p=(0,B.CR)(He(rt.Ue(),i),2),g=p[0],m=p[1],x=Je(et(),i),w=(0,B.CR)(Ph(rt.Ue(),x),3),M=w[0],O=w[2];return vy(M||O,u,h,g,m)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(r){var i=(0,B.CR)(gw(r),5),l=i[0],u=i[1],h=i[2],p=i[3],g=i[4];this.setEulerAngles(g).setPosition(l,u).setLocalScale(h,p)},e.prototype.setLocalMatrix=function(r){var i=(0,B.CR)(gw(r),5),l=i[0],u=i[1],h=i[2],p=i[3],g=i[4];this.setLocalEulerAngles(g).setLocalPosition(l,u).setLocalScale(h,p)},e.prototype.show=function(){Ke.enableCSSParsing?this.style.visibility="visible":this.forEach(function(r){r.style.visibility="visible"})},e.prototype.hide=function(){Ke.enableCSSParsing?this.style.visibility="hidden":this.forEach(function(r){r.style.visibility="hidden"})},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(r){return this.children[r]||null},e.prototype.add=function(r,i){return this.appendChild(r,i)},e.prototype.setClip=function(r){this.style.clipPath=r},e.prototype.set=function(r,i){this.config[r]=i},e.prototype.get=function(r){return this.config[r]},e.prototype.moveTo=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),this.setPosition(r,i,l),this},e.prototype.move=function(r,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),this.setPosition(r,i,l),this},e.prototype.setZIndex=function(r){return this.style.zIndex=r,this},e}(Av),XP={number:function(t){return new Zr(t)},percent:function(t){return new Zr(t,"%")},px:function(t){return new Zr(t,"px")},em:function(t){return new Zr(t,"em")},rem:function(t){return new Zr(t,"rem")},deg:function(t){return new Zr(t,"deg")},grad:function(t){return new Zr(t,"grad")},rad:function(t){return new Zr(t,"rad")},turn:function(t){return new Zr(t,"turn")},s:function(t){return new Zr(t,"s")},ms:function(t){return new Zr(t,"ms")},registerProperty:function(t){var e=t.name,r=t.inherits,i=t.interpolable,l=t.initialValue,u=t.syntax;Ke.styleValueRegistry.registerMetadata({n:e,inh:r,int:i,d:l,syntax:u})},registerLayout:function(t,e){Ke.layoutRegistry.registerLayout(t,e)}},zl=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.CIRCLE,style:Ke.enableCSSParsing?(0,B.pi)({cx:"",cy:"",r:""},i):(0,B.pi)({},i),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Ke.enableCSSParsing?null:[cv,cv]}},l))||this}return e}(_a),Ky=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=this,l=r.style,u=(0,B._T)(r,["style"]);return i=t.call(this,(0,B.pi)({style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:""},l):(0,B.pi)({},l)},u))||this,i.isCustomElement=!0,i}return e}(_a),Jy=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.ELLIPSE,style:Ke.enableCSSParsing?(0,B.pi)({cx:"",cy:"",rx:"",ry:""},i):(0,B.pi)({},i),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Ke.enableCSSParsing?null:[cv,cv]}},l))||this}return e}(_a),da=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.GROUP,style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:"",width:"",height:""},i):(0,B.pi)({},i)},l))||this}return e}(_a),no=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=this,l=r.style,u=(0,B._T)(r,["style"]);return i=t.call(this,(0,B.pi)({type:Ye.HTML,style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:"",width:"auto",height:"auto",innerHTML:""},l):(0,B.pi)({},l)},u))||this,i.cullable.enable=!1,i}return e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getBoundingClientRect=function(){if(this.parsedStyle.$el)return this.parsedStyle.$el.getBoundingClientRect();var r=this.parsedStyle,i=r.x,l=r.y,u=r.width,h=r.height;return new Js(i,l,u,h)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getBounds=function(){var r,i,l=this.getBoundingClientRect(),u=(i=(r=this.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||i===void 0?void 0:i.getContextService().getBoundingClientRect(),h=new Bi,p=l.left-((u==null?void 0:u.left)||0),g=l.top-((u==null?void 0:u.top)||0);return h.setMinMax([p,g,0],[p+l.width,g+l.height,0]),h},e.prototype.getLocalBounds=function(){if(this.parentNode){var r=Oe(se(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!Bi.isEmpty(i)){var l=new Bi;return l.setFromTransformedAABB(i,r),l}}return this.getBounds()},e}(_a),Tv=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.IMAGE,style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:"",img:"",width:"",height:""},i):(0,B.pi)({},i)},l))||this}return e}(_a),Vh=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=this,l=r.style,u=(0,B._T)(r,["style"]);i=t.call(this,(0,B.pi)({type:Ye.LINE,style:(0,B.pi)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0,isBillboard:!1},l)},u))||this,i.markerStartAngle=0,i.markerEndAngle=0;var h=i.parsedStyle,p=h.markerStart,g=h.markerEnd;return p&&pr(p)&&(i.markerStartAngle=p.getLocalEulerAngles(),i.appendChild(p)),g&&pr(g)&&(i.markerEndAngle=g.getLocalEulerAngles(),i.appendChild(g)),i.transformMarker(!0),i.transformMarker(!1),i}return e.prototype.attributeChangedCallback=function(r,i,l,u,h){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(u&&pr(u)&&(this.markerStartAngle=0,u.remove()),h&&pr(h)&&(this.markerStartAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!0))):r==="markerEnd"&&(u&&pr(u)&&(this.markerEndAngle=0,u.remove()),h&&pr(h)&&(this.markerEndAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!1)))},e.prototype.transformMarker=function(r){var i=this.parsedStyle,l=i.markerStart,u=i.markerEnd,h=i.markerStartOffset,p=i.markerEndOffset,g=i.x1,m=i.x2,x=i.y1,w=i.y2,M=i.defX,O=i.defY,A=r?l:u;if(!(!A||!pr(A))){var E=0,P,I,F,N,z,G;r?(F=g-M,N=x-O,P=m-g,I=w-x,z=h||0,G=this.markerStartAngle):(F=m-M,N=w-O,P=g-m,I=x-w,z=p||0,G=this.markerEndAngle),E=Math.atan2(I,P),A.setLocalEulerAngles(E*180/Math.PI+G),A.setLocalPosition(F+Math.cos(E)*z,N+Math.sin(E)*z)}},e.prototype.getPoint=function(r,i){i===void 0&&(i=!1);var l=this.parsedStyle,u=l.x1,h=l.y1,p=l.x2,g=l.y2,m=l.defX,x=l.defY,w=xs(u,h,p,g,r),M=w.x,O=w.y,A=rt.fF(rt.Ue(),rt.al(M-m,O-x,0),i?this.getWorldTransform():this.getLocalTransform());return new Ni(A[0],A[1])},e.prototype.getPointAtLength=function(r,i){return i===void 0&&(i=!1),this.getPoint(r/this.getTotalLength(),i)},e.prototype.getTotalLength=function(){var r=this.parsedStyle,i=r.x1,l=r.y1,u=r.x2,h=r.y2;return tw(i,l,u,h)},e}(_a),Va=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=this,l=r.style,u=(0,B._T)(r,["style"]);i=t.call(this,(0,B.pi)({type:Ye.PATH,style:Ke.enableCSSParsing?(0,B.pi)({path:"",miterLimit:""},l):(0,B.pi)({},l),initialParsedStyle:Ke.enableCSSParsing?null:{miterLimit:4,path:(0,B.pi)({},Ow)}},u))||this,i.markerStartAngle=0,i.markerEndAngle=0,i.markerMidList=[];var h=i.parsedStyle,p=h.markerStart,g=h.markerEnd,m=h.markerMid;return p&&pr(p)&&(i.markerStartAngle=p.getLocalEulerAngles(),i.appendChild(p)),m&&pr(m)&&i.placeMarkerMid(m),g&&pr(g)&&(i.markerEndAngle=g.getLocalEulerAngles(),i.appendChild(g)),i.transformMarker(!0),i.transformMarker(!1),i}return e.prototype.attributeChangedCallback=function(r,i,l,u,h){r==="path"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(u&&pr(u)&&(this.markerStartAngle=0,u.remove()),h&&pr(h)&&(this.markerStartAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!0))):r==="markerEnd"?(u&&pr(u)&&(this.markerEndAngle=0,u.remove()),h&&pr(h)&&(this.markerEndAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(h)},e.prototype.transformMarker=function(r){var i=this.parsedStyle,l=i.markerStart,u=i.markerEnd,h=i.markerStartOffset,p=i.markerEndOffset,g=i.defX,m=i.defY,x=r?l:u;if(!(!x||!pr(x))){var w=0,M,O,A,E,P,I;if(r){var F=(0,B.CR)(this.getStartTangent(),2),N=F[0],z=F[1];A=z[0]-g,E=z[1]-m,M=N[0]-z[0],O=N[1]-z[1],P=h||0,I=this.markerStartAngle}else{var G=(0,B.CR)(this.getEndTangent(),2),N=G[0],z=G[1];A=z[0]-g,E=z[1]-m,M=N[0]-z[0],O=N[1]-z[1],P=p||0,I=this.markerEndAngle}w=Math.atan2(O,M),x.setLocalEulerAngles(w*180/Math.PI+I),x.setLocalPosition(A+Math.cos(w)*P,E+Math.sin(w)*P)}},e.prototype.placeMarkerMid=function(r){var i=this.parsedStyle,l=i.path.segments,u=i.defX,h=i.defY;if(this.markerMidList.forEach(function(M){M.remove()}),r&&pr(r))for(var p=1;p<l.length-1;p++){var g=(0,B.CR)(l[p].currentPoint,2),m=g[0],x=g[1],w=p===1?r:r.cloneNode(!0);this.markerMidList.push(w),this.appendChild(w),w.setLocalPosition(m-u,x-h)}},e.prototype.getTotalLength=function(){return pv(this)},e.prototype.getPointAtLength=function(r,i){i===void 0&&(i=!1);var l=this.parsedStyle,u=l.defX,h=l.defY,p=l.path.absolutePath,g=W2(p,r),m=g.x,x=g.y,w=rt.fF(rt.Ue(),rt.al(m-u,x-h,0),i?this.getWorldTransform():this.getLocalTransform());return new Ni(w[0],w[1])},e.prototype.getPoint=function(r,i){return i===void 0&&(i=!1),this.getPointAtLength(r*pv(this),i)},e.prototype.getStartTangent=function(){var r=this.parsedStyle.path.segments,i=[];if(r.length>1){var l=r[0].currentPoint,u=r[1].currentPoint,h=r[1].startTangent;i=[],h?(i.push([l[0]-h[0],l[1]-h[1]]),i.push([l[0],l[1]])):(i.push([u[0],u[1]]),i.push([l[0],l[1]]))}return i},e.prototype.getEndTangent=function(){var r=this.parsedStyle.path.segments,i=r.length,l=[];if(i>1){var u=r[i-2].currentPoint,h=r[i-1].currentPoint,p=r[i-1].endTangent;l=[],p?(l.push([h[0]-p[0],h[1]-p[1]]),l.push([h[0],h[1]])):(l.push([u[0],u[1]]),l.push([h[0],h[1]]))}return l},e}(_a),As=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=this,l=r.style,u=(0,B._T)(r,["style"]);i=t.call(this,(0,B.pi)({type:Ye.POLYGON,style:Ke.enableCSSParsing?(0,B.pi)({points:"",miterLimit:"",isClosed:!0},l):(0,B.pi)({},l),initialParsedStyle:Ke.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},u))||this,i.markerStartAngle=0,i.markerEndAngle=0,i.markerMidList=[];var h=i.parsedStyle,p=h.markerStart,g=h.markerEnd,m=h.markerMid;return p&&pr(p)&&(i.markerStartAngle=p.getLocalEulerAngles(),i.appendChild(p)),m&&pr(m)&&i.placeMarkerMid(m),g&&pr(g)&&(i.markerEndAngle=g.getLocalEulerAngles(),i.appendChild(g)),i.transformMarker(!0),i.transformMarker(!1),i}return e.prototype.attributeChangedCallback=function(r,i,l,u,h){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(u&&pr(u)&&(this.markerStartAngle=0,u.remove()),h&&pr(h)&&(this.markerStartAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!0))):r==="markerEnd"?(u&&pr(u)&&(this.markerEndAngle=0,u.remove()),h&&pr(h)&&(this.markerEndAngle=h.getLocalEulerAngles(),this.appendChild(h),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(h)},e.prototype.transformMarker=function(r){var i=this.parsedStyle,l=i.markerStart,u=i.markerEnd,h=i.markerStartOffset,p=i.markerEndOffset,g=i.points.points,m=i.defX,x=i.defY,w=r?l:u;if(!(!w||!pr(w))){var M=0,O,A,E,P,I,F;if(E=g[0][0]-m,P=g[0][1]-x,r)O=g[1][0]-g[0][0],A=g[1][1]-g[0][1],I=h||0,F=this.markerStartAngle;else{var N=g.length;this.parsedStyle.isClosed?(O=g[N-1][0]-g[0][0],A=g[N-1][1]-g[0][1]):(E=g[N-1][0]-m,P=g[N-1][1]-x,O=g[N-2][0]-g[N-1][0],A=g[N-2][1]-g[N-1][1]),I=p||0,F=this.markerEndAngle}M=Math.atan2(A,O),w.setLocalEulerAngles(M*180/Math.PI+F),w.setLocalPosition(E+Math.cos(M)*I,P+Math.sin(M)*I)}},e.prototype.placeMarkerMid=function(r){var i=this.parsedStyle,l=i.points.points,u=i.defX,h=i.defY;if(this.markerMidList.forEach(function(w){w.remove()}),this.markerMidList=[],r&&pr(r))for(var p=1;p<(this.parsedStyle.isClosed?l.length:l.length-1);p++){var g=l[p][0]-u,m=l[p][1]-h,x=p===1?r:r.cloneNode(!0);this.markerMidList.push(x),this.appendChild(x),x.setLocalPosition(g,m)}},e}(_a),Qy=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.POLYLINE,style:Ke.enableCSSParsing?(0,B.pi)({points:"",miterLimit:"",isClosed:!1},i):(0,B.pi)({},i),initialParsedStyle:Ke.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},l))||this}return e.prototype.getTotalLength=function(){return this.parsedStyle.points.totalLength},e.prototype.getPointAtLength=function(r,i){return i===void 0&&(i=!1),this.getPoint(r/this.getTotalLength(),i)},e.prototype.getPoint=function(r,i){i===void 0&&(i=!1);var l=this.parsedStyle,u=l.defX,h=l.defY,p=l.points,g=p.points,m=p.segments,x=0,w=0;m.forEach(function(P,I){r>=P[0]&&r<=P[1]&&(x=(r-P[0])/(P[1]-P[0]),w=I)});var M=xs(g[w][0],g[w][1],g[w+1][0],g[w+1][1],x),O=M.x,A=M.y,E=rt.fF(rt.Ue(),rt.al(O-u,A-h,0),i?this.getWorldTransform():this.getLocalTransform());return new Ni(E[0],E[1])},e.prototype.getStartTangent=function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i},e.prototype.getEndTangent=function(){var r=this.parsedStyle.points.points,i=r.length-1,l=[];return l.push([r[i-1][0],r[i-1][1]]),l.push([r[i][0],r[i][1]]),l},e}(As),qc=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.RECT,style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:"",width:"",height:"",radius:""},i):(0,B.pi)({},i)},l))||this}return e}(_a),jl=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({type:Ye.TEXT,style:Ke.enableCSSParsing?(0,B.pi)({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},i):(0,B.pi)({fill:"black"},i),initialParsedStyle:Ke.enableCSSParsing?{}:{x:0,y:0,fontSize:16,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",lineHeight:0,letterSpacing:0,textBaseline:"alphabetic",textAlign:"start",wordWrap:!1,wordWrapWidth:0,leading:0,dx:0,dy:0}},l))||this}return e.prototype.getComputedTextLength=function(){var r;return((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var r;return((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]},e.prototype.isOverflowing=function(){return!!this.parsedStyle.isOverflowing},e}(_a),PM=function(){function t(){this.registry={},this.define(Ye.CIRCLE,zl),this.define(Ye.ELLIPSE,Jy),this.define(Ye.RECT,qc),this.define(Ye.IMAGE,Tv),this.define(Ye.LINE,Vh),this.define(Ye.GROUP,da),this.define(Ye.PATH,Va),this.define(Ye.POLYGON,As),this.define(Ye.POLYLINE,Qy),this.define(Ye.TEXT,jl),this.define(Ye.HTML,no)}return t.prototype.define=function(e,r){this.registry[e]=r},t.prototype.get=function(e){return this.registry[e]},t}(),tm=function(t){(0,B.ZT)(e,t);function e(){var r=t.call(this)||this;r.defaultView=null,r.ownerDocument=null,r.nodeName="document";try{r.timeline=new Ke.AnimationTimeline(r)}catch(l){}var i={};return Ry.forEach(function(l){var u=l.n,h=l.inh,p=l.d;h&&p&&(i[u]=Xu(p)?p(Ye.GROUP):p)}),r.documentElement=new da({id:"g-root",style:i}),r.documentElement.ownerDocument=r,r.documentElement.parentNode=r,r.childNodes=[r.documentElement],r}return Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(r,i){if(r==="svg")return this.documentElement;var l=this.defaultView.customElements.get(r);l||(console.warn("Unsupported tagName: ",r),l=r==="tspan"?jl:da);var u=new l(i);return u.ownerDocument=this,u},e.prototype.createElementNS=function(r,i,l){return this.createElement(i,l)},e.prototype.cloneNode=function(r){throw new Error(Gr)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(r){}},e.prototype.elementsFromBBox=function(r,i,l,u){var h=this.defaultView.context.rBushRoot,p=h.search({minX:r,minY:i,maxX:l,maxY:u}),g=[];return p.forEach(function(m){var x=m.displayObject,w=x.parsedStyle.pointerEvents,M=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(w);(!M||M&&x.isVisible())&&!x.isCulled()&&x.isInteractive()&&g.push(x)}),g.sort(function(m,x){return x.sortable.renderOrder-m.sortable.renderOrder}),g},e.prototype.elementFromPointSync=function(r,i){var l=this.defaultView.canvas2Viewport({x:r,y:i}),u=l.x,h=l.y,p=this.defaultView.getConfig(),g=p.width,m=p.height;if(u<0||h<0||u>g||h>m)return null;var x=this.defaultView.viewport2Client({x:u,y:h}),w=x.x,M=x.y,O=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:u,viewportY:h,clientX:w,clientY:M},picked:[]}).picked;return O&&O[0]||this.documentElement},e.prototype.elementFromPoint=function(r,i){return(0,B.mG)(this,void 0,void 0,function(){var l,u,h,p,g,m,x,w,M,O;return(0,B.Jh)(this,function(A){switch(A.label){case 0:return l=this.defaultView.canvas2Viewport({x:r,y:i}),u=l.x,h=l.y,p=this.defaultView.getConfig(),g=p.width,m=p.height,u<0||h<0||u>g||h>m?[2,null]:(x=this.defaultView.viewport2Client({x:u,y:h}),w=x.x,M=x.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:r,y:i,viewportX:u,viewportY:h,clientX:w,clientY:M},picked:[]})]);case 1:return O=A.sent().picked,[2,O&&O[0]||this.documentElement]}})})},e.prototype.elementsFromPointSync=function(r,i){var l=this.defaultView.canvas2Viewport({x:r,y:i}),u=l.x,h=l.y,p=this.defaultView.getConfig(),g=p.width,m=p.height;if(u<0||h<0||u>g||h>m)return[];var x=this.defaultView.viewport2Client({x:u,y:h}),w=x.x,M=x.y,O=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:u,viewportY:h,clientX:w,clientY:M},picked:[]}).picked;return O[O.length-1]!==this.documentElement&&O.push(this.documentElement),O},e.prototype.elementsFromPoint=function(r,i){return(0,B.mG)(this,void 0,void 0,function(){var l,u,h,p,g,m,x,w,M,O;return(0,B.Jh)(this,function(A){switch(A.label){case 0:return l=this.defaultView.canvas2Viewport({x:r,y:i}),u=l.x,h=l.y,p=this.defaultView.getConfig(),g=p.width,m=p.height,u<0||h<0||u>g||h>m?[2,[]]:(x=this.defaultView.viewport2Client({x:u,y:h}),w=x.x,M=x.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:r,y:i,viewportX:u,viewportY:h,clientX:w,clientY:M},picked:[]})]);case 1:return O=A.sent().picked,O[O.length-1]!==this.documentElement&&O.push(this.documentElement),[2,O]}})})},e.prototype.appendChild=function(r,i){throw new Error(Yu)},e.prototype.insertBefore=function(r,i){throw new Error(Yu)},e.prototype.removeChild=function(r,i){throw new Error(Yu)},e.prototype.replaceChild=function(r,i,l){throw new Error(Yu)},e.prototype.append=function(){throw new Error(Yu)},e.prototype.prepend=function(){throw new Error(Yu)},e.prototype.getElementById=function(r){return this.documentElement.getElementById(r)},e.prototype.getElementsByName=function(r){return this.documentElement.getElementsByName(r)},e.prototype.getElementsByTagName=function(r){return this.documentElement.getElementsByTagName(r)},e.prototype.getElementsByClassName=function(r){return this.documentElement.getElementsByClassName(r)},e.prototype.querySelector=function(r){return this.documentElement.querySelector(r)},e.prototype.querySelectorAll=function(r){return this.documentElement.querySelectorAll(r)},e.prototype.find=function(r){return this.documentElement.find(r)},e.prototype.findAll=function(r){return this.documentElement.findAll(r)},e}(ra),ro=function(){function t(e){this.strategies=e}return t.prototype.apply=function(e){var r=e.camera,i=e.renderingService,l=e.renderingContext,u=this.strategies;i.hooks.cull.tap(t.tag,function(h){if(h){var p=h.cullable;return u.length===0?p.visible=l.unculledEntities.indexOf(h.entity)>-1:p.visible=u.every(function(g){return g.isVisible(r,h)}),!h.isCulled()&&h.isVisible()?h:(h.dispatchEvent(new qr($n.CULLED)),null)}return h}),i.hooks.afterRender.tap(t.tag,function(h){h.cullable.visibilityPlaneMask=-1})},t.tag="Culling",t}(),sf=function(){function t(){}return t.prototype.apply=function(e){var r=e.renderingService;r.hooks.dirtycheck.tap(t.tag,function(i){if(i){var l=i.renderable,u=l.dirty||r.disableDirtyRectangleRendering();return u?i:null}return i})},t.tag="DirtyCheck",t}(),ZP=function(){function t(){var e=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Cv(null),this.rootWheelEvent=new Wa(null),this.onPointerMove=function(r){var i,l,u,h,p=(h=(u=e.context.renderingContext.root)===null||u===void 0?void 0:u.ownerDocument)===null||h===void 0?void 0:h.defaultView;if(!(p.supportsTouchEvents&&r.pointerType==="touch")){var g=e.normalizeToPointerEvent(r,p);try{for(var m=(0,B.XA)(g),x=m.next();!x.done;x=m.next()){var w=x.value,M=e.bootstrapEvent(e.rootPointerEvent,w,p,r);e.context.eventService.mapEvent(M)}}catch(O){i={error:O}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(i)throw i.error}}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(r){var i,l,u,h,p=(h=(u=e.context.renderingContext.root)===null||u===void 0?void 0:u.ownerDocument)===null||h===void 0?void 0:h.defaultView,g=e.normalizeToPointerEvent(r,p);try{for(var m=(0,B.XA)(g),x=m.next();!x.done;x=m.next()){var w=x.value,M=e.bootstrapEvent(e.rootPointerEvent,w,p,r);e.context.eventService.mapEvent(M)}}catch(O){i={error:O}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(i)throw i.error}}e.setCursor(e.context.eventService.cursor)}}return t.prototype.apply=function(e){var r=this;this.context=e;var i=e.renderingService,l=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(u){var h=r.context.renderingService.hooks.pickSync.call({position:u,picked:[],topmost:!0}).picked;return h[0]||null}),i.hooks.pointerWheel.tap(t.tag,function(u){var h=r.normalizeWheelEvent(u);r.context.eventService.mapEvent(h)}),i.hooks.pointerDown.tap(t.tag,function(u){var h,p;if(!(l.supportsTouchEvents&&u.pointerType==="touch")){var g=r.normalizeToPointerEvent(u,l);if(r.autoPreventDefault&&g[0].isNormalized){var m=u.cancelable||!("cancelable"in u);m&&u.preventDefault()}try{for(var x=(0,B.XA)(g),w=x.next();!w.done;w=x.next()){var M=w.value,O=r.bootstrapEvent(r.rootPointerEvent,M,l,u);r.context.eventService.mapEvent(O)}}catch(A){h={error:A}}finally{try{w&&!w.done&&(p=x.return)&&p.call(x)}finally{if(h)throw h.error}}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(t.tag,function(u){var h,p;if(!(l.supportsTouchEvents&&u.pointerType==="touch")){var g=r.context.contextService.getDomElement(),m="outside";try{m=g&&u.target&&u.target!==g&&g.contains&&!g.contains(u.target)?"outside":""}catch(E){}var x=r.normalizeToPointerEvent(u,l);try{for(var w=(0,B.XA)(x),M=w.next();!M.done;M=w.next()){var O=M.value,A=r.bootstrapEvent(r.rootPointerEvent,O,l,u);A.type+=m,r.context.eventService.mapEvent(A)}}catch(E){h={error:E}}finally{try{M&&!M.done&&(p=w.return)&&p.call(w)}finally{if(h)throw h.error}}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(t.tag,this.onPointerMove),i.hooks.pointerOver.tap(t.tag,this.onPointerMove),i.hooks.pointerOut.tap(t.tag,this.onPointerMove),i.hooks.click.tap(t.tag,this.onClick),i.hooks.pointerCancel.tap(t.tag,function(u){var h,p,g=r.normalizeToPointerEvent(u,l);try{for(var m=(0,B.XA)(g),x=m.next();!x.done;x=m.next()){var w=x.value,M=r.bootstrapEvent(r.rootPointerEvent,w,l,u);r.context.eventService.mapEvent(M)}}catch(O){h={error:O}}finally{try{x&&!x.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}r.setCursor(r.context.eventService.cursor)})},t.prototype.getViewportXY=function(e){var r,i,l=e.offsetX,u=e.offsetY,h=e.clientX,p=e.clientY;if(this.context.config.supportsCSSTransform&&!nr(l)&&!nr(u))r=l,i=u;else{var g=this.context.eventService.client2Viewport(new Ni(h,p));r=g.x,i=g.y}return{x:r,y:i}},t.prototype.bootstrapEvent=function(e,r,i,l){var u,h;e.view=i,e.originalEvent=null,e.nativeEvent=l,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r);var p=(u=this.getViewportXY(r),u.x),g=u.y;e.viewport.x=p,e.viewport.y=g;var m=(h=this.context.eventService.viewport2Canvas(e.viewport),h.x),x=h.y;return e.canvas.x=m,e.canvas.y=x,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=l.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=nM[e.type]||e.type),e},t.prototype.normalizeWheelEvent=function(e){var r,i,l=this.rootWheelEvent;this.transferMouseData(l,e),l.deltaMode=e.deltaMode,l.deltaX=e.deltaX,l.deltaY=e.deltaY,l.deltaZ=e.deltaZ;var u=(r=this.getViewportXY(e),r.x),h=r.y;l.viewport.x=u,l.viewport.y=h;var p=(i=this.context.eventService.viewport2Canvas(l.viewport),i.x),g=i.y;return l.canvas.x=p,l.canvas.y=g,l.global.copyFrom(l.canvas),l.offset.copyFrom(l.canvas),l.nativeEvent=e,l.type=e.type,l},t.prototype.transferMouseData=function(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=_v.now(),e.type=r.type,e.altKey=r.altKey,e.metaKey=r.metaKey,e.shiftKey=r.shiftKey,e.ctrlKey=r.ctrlKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.screen.x=r.screenX,e.screen.y=r.screenY,e.relatedTarget=null},t.prototype.setCursor=function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")},t.prototype.normalizeToPointerEvent=function(e,r){var i=[];if(r.isTouchEvent(e))for(var l=0;l<e.changedTouches.length;l++){var u=e.changedTouches[l];wi(u.button)&&(u.button=0),wi(u.buttons)&&(u.buttons=1),wi(u.isPrimary)&&(u.isPrimary=e.touches.length===1&&e.type==="touchstart"),wi(u.width)&&(u.width=u.radiusX||1),wi(u.height)&&(u.height=u.radiusY||1),wi(u.tiltX)&&(u.tiltX=0),wi(u.tiltY)&&(u.tiltY=0),wi(u.pointerType)&&(u.pointerType="touch"),wi(u.pointerId)&&(u.pointerId=u.identifier||0),wi(u.pressure)&&(u.pressure=u.force||.5),wi(u.twist)&&(u.twist=0),wi(u.tangentialPressure)&&(u.tangentialPressure=0),u.isNormalized=!0,u.type=e.type,i.push(u)}else if(r.isMouseEvent(e)){var h=e;wi(h.isPrimary)&&(h.isPrimary=!0),wi(h.width)&&(h.width=1),wi(h.height)&&(h.height=1),wi(h.tiltX)&&(h.tiltX=0),wi(h.tiltY)&&(h.tiltY=0),wi(h.pointerType)&&(h.pointerType="mouse"),wi(h.pointerId)&&(h.pointerId=eM),wi(h.pressure)&&(h.pressure=.5),wi(h.twist)&&(h.twist=0),wi(h.tangentialPressure)&&(h.tangentialPressure=0),h.isNormalized=!0,i.push(h)}else i.push(e);return i},t.tag="Event",t}(),LM=[Ye.CIRCLE,Ye.ELLIPSE,Ye.IMAGE,Ye.RECT,Ye.LINE,Ye.POLYLINE,Ye.POLYGON,Ye.TEXT,Ye.PATH,Ye.HTML],qP=function(){function t(){}return t.prototype.isVisible=function(e,r){var i,l,u=r.cullable;if(!u.enable)return!0;var h=r.getRenderBounds();if(Bi.isEmpty(h))return!1;var p=e.getFrustum(),g=(l=(i=r.parentNode)===null||i===void 0?void 0:i.cullable)===null||l===void 0?void 0:l.visibilityPlaneMask;return u.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,h,g||ws.INDETERMINATE,p.planes),u.visible=u.visibilityPlaneMask!==ws.OUTSIDE,u.visible},t.prototype.computeVisibilityWithPlaneMask=function(e,r,i,l){if(i===ws.OUTSIDE||i===ws.INSIDE)return i;for(var u=ws.INSIDE,h=LM.indexOf(e.nodeName)>-1,p=0,g=l.length;p<g;++p){var m=1<<p;if(i&m&&!(h&&(p===4||p===5))){var x=l[p],w=x.normal,M=x.distance;if(rt.AK(w,r.getPositiveFarPoint(l[p]))+M<0)return ws.OUTSIDE;rt.AK(w,r.getNegativeFarPoint(l[p]))+M<0&&(u|=m)}}return u},t}(),IM=function(){function t(){this.toSync=new Set}return t.prototype.apply=function(e){var r=this,i=e.renderingService,l=e.renderingContext,u=e.rBushRoot,h=l.root.ownerDocument.defaultView;this.rBush=u;var p=function(w){var M=w.target;M.renderable.dirty=!0,i.dirtify()},g=function(w){var M=w.detail.affectChildren,O=w.target;M&&O.forEach(function(E){r.toSync.add(E)});for(var A=O;A;)A.renderable&&r.toSync.add(A),A=A.parentElement;i.dirtify()},m=function(w){var M=w.target;Ke.enableCSSParsing&&Ke.styleValueRegistry.recalc(M),Ke.sceneGraphService.dirtifyToRoot(M),i.dirtify()},x=function(w){var M=w.target,O=M.rBushNode;O.aabb&&r.rBush.remove(O.aabb),r.toSync.delete(M),Ke.sceneGraphService.dirtifyToRoot(M),i.dirtify()};i.hooks.init.tap(t.tag,function(){h.addEventListener($n.MOUNTED,m),h.addEventListener($n.UNMOUNTED,x),h.addEventListener($n.ATTR_MODIFIED,p),h.addEventListener($n.BOUNDS_CHANGED,g)}),i.hooks.destroy.tap(t.tag,function(){h.removeEventListener($n.MOUNTED,m),h.removeEventListener($n.UNMOUNTED,x),h.removeEventListener($n.ATTR_MODIFIED,p),h.removeEventListener($n.BOUNDS_CHANGED,g),r.toSync.clear()}),i.hooks.endFrame.tap(t.tag,function(){r.syncRTree()})},t.prototype.syncRTree=function(){var e=this,r=[];Array.from(this.toSync).filter(function(i){return i.isConnected}).forEach(function(i){var l,u,h=i.rBushNode;h&&h.aabb&&e.rBush.remove(h.aabb);var p=i.getRenderBounds();if(p){var g=(l=(0,B.CR)(p.getMin(),2),l[0]),m=l[1],x=(u=(0,B.CR)(p.getMax(),2),u[0]),w=u[1];h.aabb||(h.aabb={}),h.aabb.displayObject=i,h.aabb.minX=g,h.aabb.minY=m,h.aabb.maxX=x,h.aabb.maxY=w}h.aabb&&!isNaN(h.aabb.maxX)&&!isNaN(h.aabb.maxX)&&!isNaN(h.aabb.minX)&&!isNaN(h.aabb.minY)&&r.push(h.aabb)}),this.rBush.load(r),r.length=0,this.toSync.clear()},t.tag="Prepare",t}();function Hh(t){return!!t.document}var io;(function(t){t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged"})(io||(io={}));var Ev=500,$P=.1,em=1e3,kv=new qr($n.MOUNTED),Pv=new qr($n.UNMOUNTED),RM=new qr(io.BEFORE_RENDER),lf=new qr(io.RERENDER),FM=new qr(io.AFTER_RENDER),Oa=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this)||this;i.Element=_a,i.inited=!1,i.context={},i.document=new tm,i.document.defaultView=i,i.customElements=new PM;var l=r.container,u=r.canvas,h=r.offscreenCanvas,p=r.width,g=r.height,m=r.devicePixelRatio,x=r.renderer,w=r.background,M=r.cursor,O=r.document,A=r.requestAnimationFrame,E=r.cancelAnimationFrame,P=r.createImage,I=r.supportsPointerEvents,F=r.supportsTouchEvents,N=r.supportsCSSTransform,z=r.supportsMutipleCanvasesInOneContainer,G=r.useNativeClickEvent,W=r.alwaysTriggerPointerEventOnCanvas,Y=r.isTouchEvent,U=r.isMouseEvent;z||zy(l,i);var X=p,$=g,Q=m;return u&&(Q=m||jh&&window.devicePixelRatio||1,Q=Q>=1?Math.ceil(Q):1,X=p||EP(u)||u.width/Q,$=g||tM(u)||u.height/Q),h&&(Ke.offscreenCanvas=h),i.devicePixelRatio=Q,i.requestAnimationFrame=A!=null?A:Ui.bind(Ke.globalThis),i.cancelAnimationFrame=E!=null?E:cM.bind(Ke.globalThis),i.supportsTouchEvents=F!=null?F:"ontouchstart"in Ke.globalThis,i.supportsPointerEvents=I!=null?I:!!Ke.globalThis.PointerEvent,i.isTouchEvent=Y!=null?Y:function(ft){return i.supportsTouchEvents&&ft instanceof Ke.globalThis.TouchEvent},i.isMouseEvent=U!=null?U:function(ft){return!Ke.globalThis.MouseEvent||ft instanceof Ke.globalThis.MouseEvent&&(!i.supportsPointerEvents||!(ft instanceof Ke.globalThis.PointerEvent))},i.initRenderingContext({container:l,canvas:u,width:X,height:$,renderer:x,offscreenCanvas:h,devicePixelRatio:Q,cursor:M||"default",background:w||"transparent",createImage:P,document:O,supportsCSSTransform:N,useNativeClickEvent:G,alwaysTriggerPointerEventOnCanvas:W}),i.initDefaultCamera(X,$,x.clipSpaceNearZ),i.initRenderer(x,!0),i}return e.prototype.initRenderingContext=function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(r,i,l){var u=this,h=new Ke.CameraContribution;h.clipSpaceNearZ=l,h.setType(Nr.EXPLORING,Uu.DEFAULT).setPosition(r/2,i/2,Ev).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,$P,em),h.canvas=this,h.eventEmitter.on(xw.UPDATED,function(){u.context.renderingContext.renderReasons.add(Zc.CAMERA_CHANGED)}),this.context.camera=h},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!1),i||this.dispatchEvent(new qr(io.BEFORE_DESTROY)),this.frameId){var l=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;l(this.frameId)}var u=this.getRoot();this.unmountChildren(u),r&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),r&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),i||this.dispatchEvent(new qr(io.AFTER_DESTROY))},e.prototype.changeSize=function(r,i){this.resize(r,i)},e.prototype.resize=function(r,i){var l=this.context.config;l.width=r,l.height=i,this.getContextService().resize(r,i);var u=this.context.camera,h=u.getProjectionMode();u.setPosition(r/2,i/2,Ev).setFocalPoint(r/2,i/2,0),h===Qa.ORTHOGRAPHIC?u.setOrthographic(r/-2,r/2,i/2,i/-2,u.getNear(),u.getFar()):u.setAspect(r/i),this.dispatchEvent(new qr(io.RESIZE,{width:r,height:i}))},e.prototype.appendChild=function(r,i){return this.document.documentElement.appendChild(r,i)},e.prototype.insertBefore=function(r,i){return this.document.documentElement.insertBefore(r,i)},e.prototype.removeChild=function(r){return this.document.documentElement.removeChild(r)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(){var r=this;this.dispatchEvent(RM);var i=this.getRenderingService();i.render(this.getConfig(),function(){r.dispatchEvent(lf)}),this.dispatchEvent(FM)},e.prototype.run=function(){var r=this,i=function(){r.render(),r.frameId=r.requestAnimationFrame(i)};i()},e.prototype.initRenderer=function(r,i){var l=this;if(i===void 0&&(i=!1),!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new Gk,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new ZP,new IM,new sf,new ro([new qP])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService((0,B.pi)((0,B.pi)({},Ke),this.context)),this.context.renderingService=new yM(Ke,this.context),this.context.eventService=new DP(Ke,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,i,!0)):this.context.contextService.initAsync().then(function(){l.initRenderingService(r,i)})},e.prototype.initRenderingService=function(r,i,l){var u=this;i===void 0&&(i=!1),l===void 0&&(l=!1),this.context.renderingService.init(function(){u.inited=!0,i?(l?u.requestAnimationFrame(function(){u.dispatchEvent(new qr(io.READY))}):u.dispatchEvent(new qr(io.READY)),u.readyPromise&&u.resolveReadyPromise()):u.dispatchEvent(new qr(io.RENDERER_CHANGED)),i||u.getRoot().forEach(function(h){var p=h.renderable;p&&(p.renderBoundsDirty=!0,p.boundsDirty=!0,p.dirty=!0)}),u.mountChildren(u.getRoot()),r.getConfig().enableAutoRendering&&u.run()})},e.prototype.loadRendererContainerModule=function(r){var i=this,l=r.getPlugins();l.forEach(function(u){u.context=i.context,u.init(Ke)})},e.prototype.setRenderer=function(r){var i=this.getConfig();if(i.renderer!==r){var l=i.renderer;i.renderer=r,this.destroy(!1,!0),(0,B.ev)([],(0,B.CR)(l==null?void 0:l.getPlugins()),!1).reverse().forEach(function(u){u.destroy(Ke)}),this.initRenderer(r)}},e.prototype.setCursor=function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)},e.prototype.unmountChildren=function(r){var i=this;r.childNodes.forEach(function(l){i.unmountChildren(l)}),this.inited&&(r.isMutationObserved?r.dispatchEvent(Pv):(Pv.target=r,this.dispatchEvent(Pv,!0)),r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1),r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()},e.prototype.mountChildren=function(r){var i=this;this.inited?r.isConnected||(r.ownerDocument=this.document,r.isConnected=!0,r.isMutationObserved?r.dispatchEvent(kv):(kv.target=r,this.dispatchEvent(kv,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName),r.childNodes.forEach(function(l){i.mountChildren(l)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()},e.prototype.client2Viewport=function(r){return this.getEventService().client2Viewport(r)},e.prototype.viewport2Client=function(r){return this.getEventService().viewport2Client(r)},e.prototype.viewport2Canvas=function(r){return this.getEventService().viewport2Canvas(r)},e.prototype.canvas2Viewport=function(r){return this.getEventService().canvas2Viewport(r)},e.prototype.getPointByClient=function(r,i){return this.client2Viewport({x:r,y:i})},e.prototype.getClientByPoint=function(r,i){return this.viewport2Client({x:r,y:i})},e}(Uy),KP={}.toString,JP=function(t,e){return KP.call(t)==="[object "+e+"]"},Lv=JP,el=function(t){return Lv(t,"String")},Or=function(t){return Lv(t,"Number")},nm=Or,QP=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.landmarks=[],r}return e.prototype.rotate=function(r,i,l){if(this.relElevation=Hu(i),this.relAzimuth=Hu(r),this.relRoll=Hu(l),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Nr.EXPLORING){var u=Pt(et(),[1,0,0],pi((this.rotateWorld?1:-1)*this.relElevation)),h=Pt(et(),[0,1,0],pi((this.rotateWorld?1:-1)*this.relAzimuth)),p=Pt(et(),[0,0,1],pi(this.relRoll)),g=Me(et(),h,u);g=Me(et(),g,p);var m=Ot(se(),g);Ce(this.matrix,this.matrix,[0,0,-this.distance]),le(this.matrix,this.matrix,m),Ce(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Nr.ORBITING||this.type===Nr.EXPLORING?this._getPosition():this.type===Nr.TRACKING&&this._getFocalPoint(),this._update(),this},e.prototype.pan=function(r,i){var l=za(r,i,0),u=rt.d9(this.position);return rt.IH(u,u,rt.bA(rt.Ue(),this.right,l[0])),rt.IH(u,u,rt.bA(rt.Ue(),this.up,l[1])),this._setPosition(u),this.triggerUpdate(),this},e.prototype.dolly=function(r){var i=this.forward,l=rt.d9(this.position),u=r*this.dollyingStep,h=this.distance+r*this.dollyingStep;return u=Math.max(Math.min(h,this.maxDistance),this.minDistance)-this.distance,l[0]+=u*i[0],l[1]+=u*i[1],l[2]+=u*i[2],this._setPosition(l),this.type===Nr.ORBITING||this.type===Nr.EXPLORING?this._getDistance():this.type===Nr.TRACKING&&rt.IH(this.focalPoint,l,this.distanceVector),this.triggerUpdate(),this},e.prototype.cancelLandmarkAnimation=function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},e.prototype.createLandmark=function(r,i){var l,u,h,p;i===void 0&&(i={});var g=i.position,m=g===void 0?this.position:g,x=i.focalPoint,w=x===void 0?this.focalPoint:x,M=i.roll,O=i.zoom,A=new Ke.CameraContribution;A.setType(this.type,void 0),A.setPosition(m[0],(l=m[1])!==null&&l!==void 0?l:this.position[1],(u=m[2])!==null&&u!==void 0?u:this.position[2]),A.setFocalPoint(w[0],(h=w[1])!==null&&h!==void 0?h:this.focalPoint[1],(p=w[2])!==null&&p!==void 0?p:this.focalPoint[2]),A.setRoll(M!=null?M:this.roll),A.setZoom(O!=null?O:this.zoom);var E={name:r,matrix:de(A.getWorldTransform()),right:rt.d9(A.right),up:rt.d9(A.up),forward:rt.d9(A.forward),position:rt.d9(A.getPosition()),focalPoint:rt.d9(A.getFocalPoint()),distanceVector:rt.d9(A.getDistanceVector()),distance:A.getDistance(),dollyingStep:A.getDollyingStep(),azimuth:A.getAzimuth(),elevation:A.getElevation(),roll:A.getRoll(),relAzimuth:A.relAzimuth,relElevation:A.relElevation,relRoll:A.relRoll,zoom:A.getZoom()};return this.landmarks.push(E),E},e.prototype.gotoLandmark=function(r,i){var l=this;i===void 0&&(i={});var u=el(r)?this.landmarks.find(function(U){return U.name===r}):r;if(u){var h=nm(i)?{duration:i}:i,p=h.easing,g=p===void 0?"linear":p,m=h.duration,x=m===void 0?100:m,w=h.easingFunction,M=w===void 0?void 0:w,O=h.onfinish,A=O===void 0?void 0:O,E=.01;if(x===0){this.syncFromLandmark(u),A&&A();return}this.cancelLandmarkAnimation();var P=u.position,I=u.focalPoint,F=u.zoom,N=u.roll,z=M||Ke.EasingFunction(g),G,W=function(){l.setFocalPoint(I),l.setPosition(P),l.setRoll(N),l.setZoom(F),l.computeMatrix(),l.triggerUpdate(),A&&A()},Y=function(U){G===void 0&&(G=U);var X=U-G;if(X>x){W();return}var $=z(X/x),Q=rt.Ue(),ft=rt.Ue(),ot=1,J=0;rt.t7(Q,l.focalPoint,I,$),rt.t7(ft,l.position,P,$),J=l.roll*(1-$)+N*$,ot=l.zoom*(1-$)+F*$,l.setFocalPoint(Q),l.setPosition(ft),l.setRoll(J),l.setZoom(ot);var st=rt.TK(Q,I)+rt.TK(ft,P);if(st<=E&&F==null&&N==null){W();return}l.computeMatrix(),l.triggerUpdate(),X<x&&(l.landmarkAnimationID=l.canvas.requestAnimationFrame(Y))};this.canvas.requestAnimationFrame(Y)}},e.prototype.syncFromLandmark=function(r){this.matrix=Kt(this.matrix,r.matrix),this.right=rt.JG(this.right,r.right),this.up=rt.JG(this.up,r.up),this.forward=rt.JG(this.forward,r.forward),this.position=rt.JG(this.position,r.position),this.focalPoint=rt.JG(this.focalPoint,r.focalPoint),this.distanceVector=rt.JG(this.distanceVector,r.distanceVector),this.azimuth=r.azimuth,this.elevation=r.elevation,this.roll=r.roll,this.relAzimuth=r.relAzimuth,this.relElevation=r.relElevation,this.relRoll=r.relRoll,this.dollyingStep=r.dollyingStep,this.distance=r.distance,this.zoom=r.zoom},e}(Ss);Ke.CameraContribution=QP;var rm=function(){function t(e,r){this.type=e,this.target=r,this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[]}return t.copy=function(e){var r=new t(e.type,e.target);return r.addedNodes=e.addedNodes.slice(),r.removedNodes=e.removedNodes.slice(),r.previousSibling=e.previousSibling,r.nextSibling=e.nextSibling,r.attributeName=e.attributeName,r.attributeNamespace=e.attributeNamespace,r.oldValue=e.oldValue,r},t}(),Yh=0,$c=new WeakMap,tL=function(){function t(e,r,i){this.observer=e,this.target=r,this.options=i,this.transientObservedNodes=[]}return t.prototype.enqueue=function(e){var r=this.observer.records,i=r.length;if(r.length>0){var l=r[i-1],u=Wl(l,e);if(u){r[i-1]=u;return}}else nL(this.observer);r[i]=e},t.prototype.addListeners=function(){this.addListeners_(this.target)},t.prototype.addListeners_=function(e){var r=this.options;r.attributes&&e.addEventListener($n.ATTR_MODIFIED,this,!0),r.childList&&e.addEventListener($n.INSERTED,this,!0),(r.childList||r.subtree)&&e.addEventListener($n.REMOVED,this,!0)},t.prototype.removeListeners=function(){this.removeListeners_(this.target)},t.prototype.removeListeners_=function(e){var r=this.options;r.attributes&&e.removeEventListener($n.ATTR_MODIFIED,this,!0),r.childList&&e.removeEventListener($n.INSERTED,this,!0),(r.childList||r.subtree)&&e.removeEventListener($n.REMOVED,this,!0)},t.prototype.removeTransientObservers=function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(r){this.removeListeners_(r);for(var i=$c.get(r),l=0;l<i.length;l++)if(i[l]===this){i.splice(l,1);break}},this)},t.prototype.handleEvent=function(e){e.stopImmediatePropagation();var r,i;switch(e.type){case $n.ATTR_MODIFIED:var l=e.attrName,u=e.relatedNode.namespaceURI;i=e.target,r=DM("attributes",i),r.attributeName=l,r.attributeNamespace=u;var h=e.attrChange===Bl.ADDITION?null:e.prevValue;NM(i,function(M){if(M.attributes&&!(M.attributeFilter&&M.attributeFilter.length&&M.attributeFilter.indexOf(l)===-1&&M.attributeFilter.indexOf(u)===-1))return M.attributeOldValue?im(h):r});break;case $n.REMOVED:case $n.INSERTED:i=e.relatedNode;var p=e.target,g=void 0,m=void 0;e.type===$n.INSERTED?(g=[p],m=[]):(g=[],m=[p]);var x=p.previousSibling,w=p.nextSibling;r=DM("childList",i),r.addedNodes=g,r.removedNodes=m,r.previousSibling=x,r.nextSibling=w,NM(i,function(M){if(M.childList)return r})}k6()},t}(),Gl=function(){function t(e){this.callback=e,this.nodes=[],this.records=[],this.uid=Yh++}return t.prototype.observe=function(e,r){if(!r.childList&&!r.attributes&&!r.characterData||r.attributeOldValue&&!r.attributes||r.attributeFilter&&r.attributeFilter.length&&!r.attributes||r.characterDataOldValue&&!r.characterData)throw new SyntaxError;var i=$c.get(e);i||$c.set(e,i=[]);for(var l,u=0;u<i.length;u++)if(i[u].observer===this){l=i[u],l.removeListeners(),l.options=r;break}l||(l=new tL(this,e,r),i.push(l),this.nodes.push(e)),l.addListeners()},t.prototype.disconnect=function(){var e=this;this.nodes.forEach(function(r){for(var i=$c.get(r),l=0;l<i.length;l++){var u=i[l];if(u.observer===e){u.removeListeners(),i.splice(l,1);break}}},this),this.records=[]},t.prototype.takeRecords=function(){var e=this.records;return this.records=[],e},t}(),Kc,wo;function DM(t,e){return Kc=new rm(t,e)}function im(t){return wo||(wo=rm.copy(Kc),wo.oldValue=t,wo)}function k6(){Kc=wo=void 0}function eL(t){return t===wo||t===Kc}function Wl(t,e){return t===e?t:wo&&eL(t)?wo:null}function BM(t){t.nodes.forEach(function(e){var r=$c.get(e);r&&r.forEach(function(i){i.observer===t&&i.removeTransientObservers()})})}function NM(t,e){for(var r=t;r;r=r.parentNode){var i=$c.get(r);if(i)for(var l=0;l<i.length;l++){var u=i[l],h=u.options;if(!(r!==t&&!h.subtree)){var p=e(h);p&&u.enqueue(p)}}}}var am=!1,Iv=[];function nL(t){Iv.push(t),am||(am=!0,typeof Ke.globalThis!="undefined"?Ke.globalThis.setTimeout(om):om())}function om(){am=!1;var t=Iv;Iv=[],t.sort(function(r,i){return r.uid-i.uid});var e=!1;t.forEach(function(r){var i=r.takeRecords();BM(r),i.length&&(r.callback(i,r),e=!0)}),e&&om()}var zM=function(t,e,r){return t<e?e:t>r?r:t},Jc=zM,Uh={}.toString,sm=function(t,e){return Uh.call(t)==="[object "+e+"]"},Qc=sm,rL=function(t){return Qc(t,"Number")},iL=rL,aL=function(t){return t==null},Rv=aL,Xh=function(t){(0,B.ZT)(e,t);function e(r,i,l,u){var h=t.call(this,r)||this;return h.currentTime=l,h.timelineTime=u,h.target=i,h.type="finish",h.bubbles=!1,h.currentTarget=i,h.defaultPrevented=!1,h.eventPhase=h.AT_TARGET,h.timeStamp=Date.now(),h.currentTime=l,h.timelineTime=u,h}return e}(Wh),jM=0,oL=function(){function t(e,r){var i;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=r,this.id="".concat(jM++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((i=this.effect)===null||i===void 0?void 0:i.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(t.prototype,"pending",{get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){var e=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){e.resolveReadyPromise=function(){r(e)},e.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){var e=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){e.resolveFinishedPromise=function(){r(e)},e.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){var r;e=Number(e),!isNaN(e)&&(this.timeline.restart(),!this._paused&&this._startTime!==null&&(this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-e/this.playbackRate),this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(e){if(e!==null){if(this.updatePromises(),e=Number(e),isNaN(e)||this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=e,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_needsTick",{get:function(){return this.pending||this.playState==="running"||!this._finishedFlag},enumerable:!1,configurable:!0}),t.prototype.updatePromises=function(){var e=this.oldPlayState,r=this.pending?"pending":this.playState;return this.readyPromise&&r!==e&&(r==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):e==="pending"?this.resolveReadyPromise():r==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&r!==e&&(r==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):r==="finished"?this.resolveFinishedPromise():e==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=r,this.readyPromise||this.finishedPromise},t.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()},t.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()},t.prototype.finish=function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},t.prototype.cancel=function(){var e=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new Xh(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(r)})}},t.prototype.reverse=function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),e!==null&&(this.currentTime=e),this.updatePromises()},t.prototype.updatePlaybackRate=function(e){this.playbackRate=e},t.prototype.targetAnimations=function(){var e,r=(e=this.effect)===null||e===void 0?void 0:e.target;return r.getAnimations()},t.prototype.markTarget=function(){var e=this.targetAnimations();e.indexOf(this)===-1&&e.push(this)},t.prototype.unmarkTarget=function(){var e=this.targetAnimations(),r=e.indexOf(this);r!==-1&&e.splice(r,1)},t.prototype.tick=function(e,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(e))},t.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")},t.prototype.persist=function(){throw new Error(Gr)},t.prototype.addEventListener=function(e,r,i){throw new Error(Gr)},t.prototype.removeEventListener=function(e,r,i){throw new Error(Gr)},t.prototype.dispatchEvent=function(e){throw new Error(Gr)},t.prototype.commitStyles=function(){throw new Error(Gr)},t.prototype.ensureAlive=function(){var e,r;this.playbackRate<0&&this.currentTime===0?this._inEffect=!!(!((e=this.effect)===null||e===void 0)&&e.update(-1)):this._inEffect=!!(!((r=this.effect)===null||r===void 0)&&r.update(this.currentTime)),!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))},t.prototype.tickCurrentTime=function(e,r){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},t.prototype.fireEvents=function(e){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new Xh(null,this,this.currentTime,e);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var l=new Xh(null,this,this.currentTime,e);this.onframe(l)}this._finishedFlag=!1}},t}(),GM=4,lm=.001,WM=1e-7,Fv=10,cf=11,Zh=1/(cf-1),Mi=typeof Float32Array=="function",cm=function(t,e){return 1-3*e+3*t},Dv=function(t,e){return 3*e-6*t},VM=function(t){return 3*t},qh=function(t,e,r){return((cm(e,r)*t+Dv(e,r))*t+VM(e))*t},HM=function(t,e,r){return 3*cm(e,r)*t*t+2*Dv(e,r)*t+VM(e)},um=function(t,e,r,i,l){var u,h,p=0;do h=e+(r-e)/2,u=qh(h,i,l)-t,u>0?r=h:e=h;while(Math.abs(u)>WM&&++p<Fv);return h},sL=function(t,e,r,i){for(var l=0;l<GM;++l){var u=HM(e,r,i);if(u===0)return e;var h=qh(e,r,i)-t;e-=h/u}return e},Bv=function(t,e,r,i){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&r===i)return function(p){return p};for(var l=Mi?new Float32Array(cf):new Array(cf),u=0;u<cf;++u)l[u]=qh(u*Zh,t,r);var h=function(p){for(var g=0,m=1,x=cf-1;m!==x&&l[m]<=p;++m)g+=Zh;--m;var w=(p-l[m])/(l[m+1]-l[m]),M=g+w*Zh,O=HM(M,t,r);return O>=lm?sL(p,M,t,r):O===0?M:um(p,g,g+Zh,t,r)};return function(p){return p===0||p===1?p:qh(h(p),e,i)}},P6=function(t){return t=t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}),t.charAt(0)==="-"?t.substring(1):t},fm=function(t){return Math.pow(t,2)},Nv=function(t){return Math.pow(t,3)},ia=function(t){return Math.pow(t,4)},is=function(t){return Math.pow(t,5)},Er=function(t){return Math.pow(t,6)},ao=function(t){return 1-Math.cos(t*Math.PI/2)},zv=function(t){return 1-Math.sqrt(1-t*t)},jv=function(t){return t*t*(3*t-2)},Gv=function(t){for(var e,r=4;t<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((e*3-2)/22-t,2)},Wv=function(t,e){e===void 0&&(e=[]);var r=(0,B.CR)(e,2),i=r[0],l=i===void 0?1:i,u=r[1],h=u===void 0?.5:u,p=Jc(Number(l),1,10),g=Jc(Number(h),.1,2);return t===0||t===1?t:-p*Math.pow(2,10*(t-1))*Math.sin((t-1-g/(Math.PI*2)*Math.asin(1/p))*(Math.PI*2)/g)},$h=function(t,e,r){e===void 0&&(e=[]);var i=(0,B.CR)(e,4),l=i[0],u=l===void 0?1:l,h=i[1],p=h===void 0?100:h,g=i[2],m=g===void 0?10:g,x=i[3],w=x===void 0?0:x;u=Jc(u,.1,1e3),p=Jc(p,.1,1e3),m=Jc(m,.1,1e3),w=Jc(w,.1,1e3);var M=Math.sqrt(p/u),O=m/(2*Math.sqrt(p*u)),A=O<1?M*Math.sqrt(1-O*O):0,E=1,P=O<1?(O*M+-w)/A:-w+M,I=r?r*t/1e3:t;return O<1?I=Math.exp(-I*O*M)*(E*Math.cos(A*I)+P*Math.sin(A*I)):I=(E+P*I)*Math.exp(-I*M),t===0||t===1?t:1-I},Vv=function(t,e){e===void 0&&(e=[]);var r=(0,B.CR)(e,2),i=r[0],l=i===void 0?10:i,u=r[1],h=u=="start"?Math.ceil:Math.floor;return h(Jc(t,0,1)*l)/l},Vl=function(t,e){e===void 0&&(e=[]);var r=(0,B.CR)(e,4),i=r[0],l=r[1],u=r[2],h=r[3];return Bv(i,l,u,h)(t)},Hl=Bv(.42,0,1,1),No=function(t){return function(e,r,i){return r===void 0&&(r=[]),1-t(1-e,r,i)}},Mo=function(t){return function(e,r,i){return r===void 0&&(r=[]),e<.5?t(e*2,r,i)/2:1-t(e*-2+2,r,i)/2}},zo=function(t){return function(e,r,i){return r===void 0&&(r=[]),e<.5?(1-t(1-e*2,r,i))/2:(t(e*2-1,r,i)+1)/2}},YM={steps:Vv,"step-start":function(t){return Vv(t,[1,"start"])},"step-end":function(t){return Vv(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":Vl,ease:function(t){return Vl(t,[.25,.1,.25,1])},in:Hl,out:No(Hl),"in-out":Mo(Hl),"out-in":zo(Hl),"in-quad":fm,"out-quad":No(fm),"in-out-quad":Mo(fm),"out-in-quad":zo(fm),"in-cubic":Nv,"out-cubic":No(Nv),"in-out-cubic":Mo(Nv),"out-in-cubic":zo(Nv),"in-quart":ia,"out-quart":No(ia),"in-out-quart":Mo(ia),"out-in-quart":zo(ia),"in-quint":is,"out-quint":No(is),"in-out-quint":Mo(is),"out-in-quint":zo(is),"in-expo":Er,"out-expo":No(Er),"in-out-expo":Mo(Er),"out-in-expo":zo(Er),"in-sine":ao,"out-sine":No(ao),"in-out-sine":Mo(ao),"out-in-sine":zo(ao),"in-circ":zv,"out-circ":No(zv),"in-out-circ":Mo(zv),"out-in-circ":zo(zv),"in-back":jv,"out-back":No(jv),"in-out-back":Mo(jv),"out-in-back":zo(jv),"in-bounce":Gv,"out-bounce":No(Gv),"in-out-bounce":Mo(Gv),"out-in-bounce":zo(Gv),"in-elastic":Wv,"out-elastic":No(Wv),"in-out-elastic":Mo(Wv),"out-in-elastic":zo(Wv),spring:$h,"spring-in":$h,"spring-out":No($h),"spring-in-out":Mo($h),"spring-out-in":zo($h)},lL=function(t){return P6(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},UM=function(t){return YM[lL(t)]||YM.linear},XM=function(t){return t},cL=1,uL=.5,ZM=0;function qM(t,e){return function(r){if(r>=1)return 1;var i=1/t;return r+=e*i,r-r%i}}var Hv="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",Yv=new RegExp("cubic-bezier\\("+Hv+","+Hv+","+Hv+","+Hv+"\\)"),hm=/steps\(\s*(\d+)\s*\)/,$M=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function uf(t){var e=Yv.exec(t);if(e)return Bv.apply(void 0,(0,B.ev)([],(0,B.CR)(e.slice(1).map(Number)),!1));var r=hm.exec(t);if(r)return qM(Number(r[1]),ZM);var i=$M.exec(t);return i?qM(Number(i[1]),{start:cL,middle:uL,end:ZM}[i[2]]):UM(t)}function Uv(t){return Math.abs(Xv(t)/(t.playbackRate||1))}function Xv(t){var e;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((e=t.iterations)!==null&&e!==void 0?e:1)}var Zv=0,ff=1,Kh=2,dm=3;function tu(t,e,r){if(e===null)return Zv;var i=r.endTime;return e<Math.min(r.delay,i)?ff:e>=Math.min(r.delay+t+r.endDelay,i)?Kh:dm}function pm(t,e,r,i,l){switch(i){case ff:return e==="backwards"||e==="both"?0:null;case dm:return r-l;case Kh:return e==="forwards"||e==="both"?t:null;case Zv:return null}}function vm(t,e,r,i,l){var u=l;return t===0?e!==ff&&(u+=r):u+=i/t,u}function KM(t,e,r,i,l,u){var h=t===1/0?e%1:t%1;return h===0&&r===Kh&&i!==0&&(l!==0||u===0)&&(h=1),h}function hf(t,e,r,i){return t===Kh&&e===1/0?1/0:r===1?Math.floor(i)-1:Math.floor(i)}function gm(t,e,r){var i=t;if(t!=="normal"&&t!=="reverse"){var l=e;t==="alternate-reverse"&&(l+=1),i="normal",l!==1/0&&l%2!==0&&(i="reverse")}return i==="normal"?r:1-r}function fL(t,e,r){var i=tu(t,e,r),l=pm(t,r.fill,e,i,r.delay);if(l===null)return null;var u=r.duration==="auto"?0:r.duration,h=vm(u,i,r.iterations,l,r.iterationStart),p=KM(h,r.iterationStart,i,r.iterations,l,u),g=hf(i,r.iterations,p,h),m=gm(r.direction,g,p);return r.currentIteration=g,r.progress=m,r.easingFunction(m)}function ym(t,e,r){var i=xm(t,e),l=hL(i,r);return function(u,h){if(h!==null)l.filter(function(g){return h>=g.applyFrom&&h<g.applyTo}).forEach(function(g){var m=h-g.startOffset,x=g.endOffset-g.startOffset,w=x===0?0:g.easingFunction(m/x);u.setAttribute(g.property,g.interpolation(w))});else for(var p in i)mm(p)&&u.setAttribute(p,null)}}function mm(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function xm(t,e){for(var r={},i=0;i<t.length;i++)for(var l in t[i])if(mm(l)){var u={offset:t[i].offset,computedOffset:t[i].computedOffset,easing:t[i].easing,easingFunction:uf(t[i].easing)||e.easingFunction,value:t[i][l]};r[l]=r[l]||[],r[l].push(u)}return r}function hL(t,e){var r=[];for(var i in t)for(var l=t[i],u=0;u<l.length-1;u++){var h=u,p=u+1,g=l[h].computedOffset,m=l[p].computedOffset,x=g,w=m;u===0&&(x=-1/0,m===0&&(p=h)),u===l.length-2&&(w=1/0,g===1&&(h=p)),r.push({applyFrom:x,applyTo:w,startOffset:l[h].computedOffset,endOffset:l[p].computedOffset,easingFunction:l[h].easingFunction,property:i,interpolation:JM(i,l[h].value,l[p].value,e)})}return r.sort(function(M,O){return M.startOffset-O.startOffset}),r}var bm=function(t,e,r){return function(i){var l=QM(t,e,i);return!Ke.enableCSSParsing&&iL(l)?l:r(l)}};function JM(t,e,r,i){var l=Fl[t];if(l&&l.syntax&&l.int){var u=Ke.styleValueRegistry.getPropertySyntax(l.syntax);if(u){var h=void 0,p=void 0;if(Ke.enableCSSParsing){var g=Ke.styleValueRegistry.parseProperty(t,e,i),m=Ke.styleValueRegistry.parseProperty(t,r,i);h=Ke.styleValueRegistry.computeProperty(t,g,i),p=Ke.styleValueRegistry.computeProperty(t,m,i)}else{var x=u.parserWithCSSDisabled;h=x?x(e,i):e,p=x?x(r,i):r}var w=u.mixer(h,p,i);if(w){var M=bm.apply(void 0,(0,B.ev)([],(0,B.CR)(w),!1));return function(O){return O===0?e:O===1?r:M(O)}}}}return bm(!1,!0,function(O){return O?r:e})}function QM(t,e,r){if(typeof t=="number"&&typeof e=="number")return t*(1-r)+e*r;if(typeof t=="boolean"&&typeof e=="boolean"||typeof t=="string"&&typeof e=="string")return r<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var i=t.length,l=e.length,u=Math.max(i,l),h=[],p=0;p<u;p++)h.push(QM(t[p<i?p:i-1],e[p<l?p:l-1],r));return h}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var dL=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=XM,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},set:function(e){this.easingFunction=uf(e),this._easing=e},enumerable:!1,configurable:!0}),t}();function pL(t){var e=[];for(var r in t)if(!(r in["easing","offset","composite"])){var i=t[r];Array.isArray(i)||(i=[i]);for(var l=i.length,u=0;u<l;u++){if(!e[u]){var h={};"offset"in t&&(h.offset=Number(t.offset)),"easing"in t&&(h.easing=t.easing),"composite"in t&&(h.composite=t.composite),e[u]=h}i[u]!==void 0&&i[u]!==null&&(e[u][r]=i[u])}}return e.sort(function(p,g){return(p.computedOffset||0)-(g.computedOffset||0)}),e}function tS(t,e){if(t===null)return[];Array.isArray(t)||(t=pL(t));for(var r=t.map(function(g){var m={};e!=null&&e.composite&&(m.composite="auto");for(var x in g){var w=g[x];if(x==="offset"){if(w!==null){if(w=Number(w),!isFinite(w))throw new Error("Keyframe offsets must be numbers.");if(w<0||w>1)throw new Error("Keyframe offsets must be between 0 and 1.");m.computedOffset=w}}else if(x==="composite"&&["replace","add","accumulate","auto"].indexOf(w)===-1)throw new Error("".concat(w," compositing is not supported"));m[x]=w}return m.offset===void 0&&(m.offset=null),m.easing===void 0&&(m.easing=(e==null?void 0:e.easing)||"linear"),m.composite===void 0&&(m.composite="auto"),m}),i=!0,l=-1/0,u=0;u<r.length;u++){var h=r[u].offset;if(Rv(h))i=!1;else{if(h<l)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");l=h}}r=r.filter(function(g){return Number(g.offset)>=0&&Number(g.offset)<=1});function p(){var g,m,x=r.length;r[x-1].computedOffset=Number((g=r[x-1].offset)!==null&&g!==void 0?g:1),x>1&&(r[0].computedOffset=Number((m=r[0].offset)!==null&&m!==void 0?m:0));for(var w=0,M=Number(r[0].computedOffset),O=1;O<x;O++){var A=r[O].computedOffset;if(!Rv(A)&&!Rv(M)){for(var E=1;E<O-w;E++)r[w+E].computedOffset=M+(Number(A)-M)*E/(O-w);w=O,M=Number(A)}}}return i||p(),r}var wm="backwards|forwards|both|none".split("|"),vL="reverse|alternate|alternate-reverse".split("|");function as(t,e){var r=new dL;return e&&(r.fill="both",r.duration="auto"),typeof t=="number"&&!isNaN(t)?r.duration=t:t!==void 0&&Object.keys(t).forEach(function(i){if(t[i]!==void 0&&t[i]!==null&&t[i]!=="auto"){if((typeof r[i]=="number"||i==="duration")&&(typeof t[i]!="number"||isNaN(t[i]))||i==="fill"&&wm.indexOf(t[i])===-1||i==="direction"&&vL.indexOf(t[i])===-1)return;r[i]=t[i]}}),r}function gL(t,e){return t=yL(t!=null?t:{duration:"auto"}),as(t,e)}function yL(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var qv=function(){function t(e,r,i){var l=this;this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=gL(i,!1),this.timing.effect=this,this.timing.activeDuration=Uv(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=tS(r,this.timing),this.interpolations=ym(this.normalizedKeyframes,this.timing,this.target);var u=Ke.globalThis.Proxy;this.computedTiming=u?new u(this.timing,{get:function(h,p){return p==="duration"?h.duration==="auto"?0:h.duration:p==="fill"?h.fill==="auto"?"none":h.fill:p==="localTime"?l.animation&&l.animation.currentTime||null:p==="currentIteration"?!l.animation||l.animation.playState!=="running"?null:h.currentIteration||0:p==="progress"?!l.animation||l.animation.playState!=="running"?null:h.progress||0:h[p]},set:function(){return!0}}):this.timing}return t.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},t.prototype.update=function(e){return e===null?!1:(this.timeFraction=fL(this.timing.activeDuration,e,this.timing),this.timeFraction!==null)},t.prototype.getKeyframes=function(){return this.normalizedKeyframes},t.prototype.setKeyframes=function(e){this.normalizedKeyframes=tS(e)},t.prototype.getComputedTiming=function(){return this.computedTiming},t.prototype.getTiming=function(){return this.timing},t.prototype.updateTiming=function(e){var r=this;Object.keys(e||{}).forEach(function(i){r.timing[i]=e[i]})},t}();function eS(t,e){return Number(t.id)-Number(e.id)}var mL=function(){function t(e){var r=this;this.document=e,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(i){r.currentTime=i,r.discardAnimations(),r.animations.length===0?r.timelineTicking=!1:r.requestAnimationFrame(r.webAnimationsNextTick)},this.processRafCallbacks=function(i){var l=r.rafCallbacks;r.rafCallbacks=[],i<Number(r.currentTime)&&(i=Number(r.currentTime)),r.animations.sort(eS),r.animations=r.tick(i,!0,r.animations)[0],l.forEach(function(u){u[1](i)}),r.applyPendingEffects()}}return t.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},t.prototype.isTicking=function(){return this.inTick},t.prototype.play=function(e,r,i){var l=new qv(e,r,i),u=new oL(l,this);return this.animations.push(u),this.restartWebAnimationsNextTick(),u.updatePromises(),u.play(),u.updatePromises(),u},t.prototype.applyDirtiedAnimation=function(e){var r=this;if(!this.inTick){e.markTarget();var i=e.targetAnimations();i.sort(eS);var l=this.tick(Number(this.currentTime),!1,i.slice())[1];l.forEach(function(u){var h=r.animations.indexOf(u);h!==-1&&r.animations.splice(h,1)}),this.applyPendingEffects()}},t.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},t.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},t.prototype.applyPendingEffects=function(){this.pendingEffects.forEach(function(e){e==null||e.applyInterpolations()}),this.pendingEffects=[]},t.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})},t.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return e.playState!=="finished"&&e.playState!=="idle"})},t.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},t.prototype.rAF=function(e){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,e]),r},t.prototype.requestAnimationFrame=function(e){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),e(i),r.updateAnimationsPromises()})},t.prototype.tick=function(e,r,i){var l,u,h=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var p=[],g=[],m=[],x=[];return i.forEach(function(w){w.tick(e,r),w._inEffect?(g.push(w.effect),w.markTarget()):(p.push(w.effect),w.unmarkTarget()),w._needsTick&&(h.ticking=!0);var M=w._inEffect||w._needsTick;w._inTimeline=M,M?m.push(w):x.push(w)}),(l=this.pendingEffects).push.apply(l,(0,B.ev)([],(0,B.CR)(p),!1)),(u=this.pendingEffects).push.apply(u,(0,B.ev)([],(0,B.CR)(g),!1)),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[m,x]},t}();Ke.EasingFunction=uf,Ke.AnimationTimeline=mL;function nS(t,e){class r extends t{constructor(l){super(Object.assign(Object.assign({},l),{lib:e}))}}return r}const rS=()=>[["cartesian"]];rS.props={};const iS=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},ji=t=>{const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:l}=iS(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,r,i,l]]};ji.props={};const df=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];df.props={transform:!0};const $v=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},xL=t=>{const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:l}=$v(t);return[...df(),...ji({startAngle:e,endAngle:r,innerRadius:i,outerRadius:l})]};xL.props={};const pf=()=>[["parallel",0,1,0,1]];pf.props={};const Ha=({focusX:t=0,focusY:e=0,distortionX:r=2,distortionY:i=2,visual:l=!1})=>[["fisheye",t,e,r,i,l]];Ha.props={transform:!0};const aS=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Kv=t=>{const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:l}=aS(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...ji({startAngle:e,endAngle:r,innerRadius:i,outerRadius:l})]};Kv.props={};const oS=t=>{const{startAngle:e=-Math.PI/2,endAngle:r=Math.PI*3/2,innerRadius:i=0,outerRadius:l=1}=t;return[...pf(),...ji({startAngle:e,endAngle:r,innerRadius:i,outerRadius:l})]};oS.props={};const nl=({value:t})=>e=>e.map(()=>t);nl.props={};const Mm=({value:t})=>e=>e.map(r=>r[t]);Mm.props={};const Sm=({value:t})=>e=>e.map(t);Sm.props={};const _m=({value:t})=>()=>t;_m.props={};var Om={}.toString,bL=function(t,e){return Om.call(t)==="[object "+e+"]"},os=bL,Jh=function(t){return Array.isArray?Array.isArray(t):os(t,"Array")},Cm=function(t){return typeof t=="object"&&t!==null},Jv=Cm,Am=function(t){if(!Jv(t)||!os(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Yl=Am,sS=5;function wL(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function lS(t,e,r,i){r=r||0,i=i||sS;for(var l in e)if(wL(e,l)){var u=e[l];u!==null&&Yl(u)?(Yl(t[l])||(t[l]={}),r<i?lS(t[l],u,r+1,i):t[l]=e[l]):Jh(u)?(t[l]=[],t[l]=t[l].concat(u)):u!==void 0&&(t[l]=u)}}var ML=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)lS(t,e[i]);return t},sn=ML;function ki(t,e){if(t!==null)return{type:"column",value:t,field:e}}function Qh(t,e){const r=ki(t,e);return Object.assign(Object.assign({},r),{inferred:!0})}function td(t,e){if(t!==null)return{type:"column",value:t,field:e,visual:!0}}function SL(t,e){const r=ki(t,e);return Object.assign(Object.assign({},r),{constant:!1})}function rl(t,e){const r=[];for(const i of t)r[i]=e;return r}function Cr(t,e){const r=t[e];if(!r)return[null,null];const{value:i,field:l=null}=r;return[i,l]}function Qv(t,...e){for(const r of e)if(typeof r=="string"){const[i,l]=Cr(t,r);if(i!==null)return[i,l]}else return[r,null];return[null,null]}function t0(t){return t instanceof Date?!1:typeof t=="object"}const vf=()=>(t,e)=>{const{encode:r}=e,{y1:i}=r;return i!==void 0?[t,e]:[t,sn({},e,{encode:{y1:Qh(rl(t,0))}})]};vf.props={};const Ul=()=>(t,e)=>{const{encode:r}=e,{x:i}=r;return i!==void 0?[t,e]:[t,sn({},e,{encode:{x:Qh(rl(t,0))},scale:{x:{guide:null}}})]};Ul.props={};function ii(t){return function(){return t}}const Tm=Math.abs,pa=Math.atan2,Ts=Math.cos,L6=Math.max,Es=Math.min,ks=Math.sin,gf=Math.sqrt,Ca=1e-12,ed=Math.PI,e0=ed/2,_L=2*ed;function OL(t){return t>1?0:t<-1?ed:Math.acos(t)}function cS(t){return t>=1?e0:t<=-1?-e0:Math.asin(t)}const uS=Math.PI,eu=2*uS,nu=1e-6,CL=eu-nu;function fS(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function AL(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fS;const r=Fr(10,e);return function(i){this._+=i[0];for(let l=1,u=i.length;l<u;++l)this._+=Math.round(arguments[l]*r)/r+i[l]}}class nd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fS:AL(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,l){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(e,r,i,l,u,h){this._append`C${+e},${+r},${+i},${+l},${this._x1=+u},${this._y1=+h}`}arcTo(e,r,i,l,u){if(e=+e,r=+r,i=+i,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,p=this._y1,g=i-e,m=l-r,x=h-e,w=p-r,M=x*x+w*w;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(M>nu)if(!(Math.abs(w*g-m*x)>nu)||!u)this._append`L${this._x1=e},${this._y1=r}`;else{let O=i-h,A=l-p,E=g*g+m*m,P=O*O+A*A,I=Math.sqrt(E),F=Math.sqrt(M),N=u*Math.tan((uS-Math.acos((E+M-P)/(2*I*F)))/2),z=N/F,G=N/I;Math.abs(z-1)>nu&&this._append`L${e+z*x},${r+z*w}`,this._append`A${u},${u},0,0,${+(w*O>x*A)},${this._x1=e+G*g},${this._y1=r+G*m}`}}arc(e,r,i,l,u,h){if(e=+e,r=+r,i=+i,h=!!h,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(l),g=i*Math.sin(l),m=e+p,x=r+g,w=1^h,M=h?l-u:u-l;this._x1===null?this._append`M${m},${x}`:(Math.abs(this._x1-m)>nu||Math.abs(this._y1-x)>nu)&&this._append`L${m},${x}`,i&&(M<0&&(M=M%eu+eu),M>CL?this._append`A${i},${i},0,1,${w},${e-p},${r-g}A${i},${i},0,1,${w},${this._x1=m},${this._y1=x}`:M>nu&&this._append`A${i},${i},0,${+(M>=uS)},${w},${this._x1=e+i*Math.cos(u)},${this._y1=r+i*Math.sin(u)}`)}rect(e,r,i,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}}function So(){return new nd}So.prototype=nd.prototype;function n0(t=3){return new nd(+t)}function rd(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new nd(e)}function TL(t){return t.innerRadius}function hS(t){return t.outerRadius}function EL(t){return t.startAngle}function kL(t){return t.endAngle}function I6(t){return t&&t.padAngle}function R6(t,e,r,i,l,u,h,p){var g=r-t,m=i-e,x=h-l,w=p-u,M=w*g-x*m;if(!(M*M<Ca))return M=(x*(e-u)-w*(t-l))/M,[t+M*g,e+M*m]}function Em(t,e,r,i,l,u,h){var p=t-r,g=e-i,m=(h?u:-u)/gf(p*p+g*g),x=m*g,w=-m*p,M=t+x,O=e+w,A=r+x,E=i+w,P=(M+A)/2,I=(O+E)/2,F=A-M,N=E-O,z=F*F+N*N,G=l-u,W=M*E-A*O,Y=(N<0?-1:1)*gf(L6(0,G*G*z-W*W)),U=(W*N-F*Y)/z,X=(-W*F-N*Y)/z,$=(W*N+F*Y)/z,Q=(-W*F+N*Y)/z,ft=U-P,ot=X-I,J=$-P,st=Q-I;return ft*ft+ot*ot>J*J+st*st&&(U=$,X=Q),{cx:U,cy:X,x01:-x,y01:-w,x11:U*(l/G-1),y11:X*(l/G-1)}}function km(){var t=TL,e=hS,r=ii(0),i=null,l=EL,u=kL,h=I6,p=null,g=rd(m);function m(){var x,w,M=+t.apply(this,arguments),O=+e.apply(this,arguments),A=l.apply(this,arguments)-e0,E=u.apply(this,arguments)-e0,P=Tm(E-A),I=E>A;if(p||(p=x=g()),O<M&&(w=O,O=M,M=w),!(O>Ca))p.moveTo(0,0);else if(P>_L-Ca)p.moveTo(O*Ts(A),O*ks(A)),p.arc(0,0,O,A,E,!I),M>Ca&&(p.moveTo(M*Ts(E),M*ks(E)),p.arc(0,0,M,E,A,I));else{var F=A,N=E,z=A,G=E,W=P,Y=P,U=h.apply(this,arguments)/2,X=U>Ca&&(i?+i.apply(this,arguments):gf(M*M+O*O)),$=Es(Tm(O-M)/2,+r.apply(this,arguments)),Q=$,ft=$,ot,J;if(X>Ca){var st=cS(X/M*ks(U)),gt=cS(X/O*ks(U));(W-=st*2)>Ca?(st*=I?1:-1,z+=st,G-=st):(W=0,z=G=(A+E)/2),(Y-=gt*2)>Ca?(gt*=I?1:-1,F+=gt,N-=gt):(Y=0,F=N=(A+E)/2)}var Mt=O*Ts(F),At=O*ks(F),St=M*Ts(G),Ut=M*ks(G);if($>Ca){var ce=O*Ts(N),be=O*ks(N),Le=M*Ts(z),nn=M*ks(z),De;if(P<ed)if(De=R6(Mt,At,Le,nn,ce,be,St,Ut)){var en=Mt-De[0],cn=At-De[1],an=ce-De[0],Rn=be-De[1],Tn=1/ks(OL((en*an+cn*Rn)/(gf(en*en+cn*cn)*gf(an*an+Rn*Rn)))/2),Vn=gf(De[0]*De[0]+De[1]*De[1]);Q=Es($,(M-Vn)/(Tn-1)),ft=Es($,(O-Vn)/(Tn+1))}else Q=ft=0}Y>Ca?ft>Ca?(ot=Em(Le,nn,Mt,At,O,ft,I),J=Em(ce,be,St,Ut,O,ft,I),p.moveTo(ot.cx+ot.x01,ot.cy+ot.y01),ft<$?p.arc(ot.cx,ot.cy,ft,pa(ot.y01,ot.x01),pa(J.y01,J.x01),!I):(p.arc(ot.cx,ot.cy,ft,pa(ot.y01,ot.x01),pa(ot.y11,ot.x11),!I),p.arc(0,0,O,pa(ot.cy+ot.y11,ot.cx+ot.x11),pa(J.cy+J.y11,J.cx+J.x11),!I),p.arc(J.cx,J.cy,ft,pa(J.y11,J.x11),pa(J.y01,J.x01),!I))):(p.moveTo(Mt,At),p.arc(0,0,O,F,N,!I)):p.moveTo(Mt,At),!(M>Ca)||!(W>Ca)?p.lineTo(St,Ut):Q>Ca?(ot=Em(St,Ut,ce,be,M,-Q,I),J=Em(Mt,At,Le,nn,M,-Q,I),p.lineTo(ot.cx+ot.x01,ot.cy+ot.y01),Q<$?p.arc(ot.cx,ot.cy,Q,pa(ot.y01,ot.x01),pa(J.y01,J.x01),!I):(p.arc(ot.cx,ot.cy,Q,pa(ot.y01,ot.x01),pa(ot.y11,ot.x11),!I),p.arc(0,0,M,pa(ot.cy+ot.y11,ot.cx+ot.x11),pa(J.cy+J.y11,J.cx+J.x11),I),p.arc(J.cx,J.cy,Q,pa(J.y11,J.x11),pa(J.y01,J.x01),!I))):p.arc(0,0,M,G,z,I)}if(p.closePath(),x)return p=null,x+""||null}return m.centroid=function(){var x=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,w=(+l.apply(this,arguments)+ +u.apply(this,arguments))/2-ed/2;return[Ts(w)*x,ks(w)*x]},m.innerRadius=function(x){return arguments.length?(t=typeof x=="function"?x:ii(+x),m):t},m.outerRadius=function(x){return arguments.length?(e=typeof x=="function"?x:ii(+x),m):e},m.cornerRadius=function(x){return arguments.length?(r=typeof x=="function"?x:ii(+x),m):r},m.padRadius=function(x){return arguments.length?(i=x==null?null:typeof x=="function"?x:ii(+x),m):i},m.startAngle=function(x){return arguments.length?(l=typeof x=="function"?x:ii(+x),m):l},m.endAngle=function(x){return arguments.length?(u=typeof x=="function"?x:ii(+x),m):u},m.padAngle=function(x){return arguments.length?(h=typeof x=="function"?x:ii(+x),m):h},m.context=function(x){return arguments.length?(p=x==null?null:x,m):p},m}function gi(t){const{transformations:e}=t.getOptions();return e.map(([i])=>i).filter(i=>i==="transpose").length%2!==0}function ai(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="polar")}function id(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="reflect")&&e.some(([r])=>r.startsWith("transpose"))}function dS(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="helix")}function jo(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="parallel")}function r0(t){const{transformations:e}=t.getOptions();return e.some(([r])=>r==="fisheye")}function PL(t){return jo(t)&&ai(t)}function ru(t){return dS(t)||ai(t)}function Pm(t){return ai(t)&&gi(t)}function F6(t){return ai(t)||jo(t)||id(t)||Pm(t)}function LL(t){if(ru(t)){const[e,r]=t.getSize(),i=t.getOptions().transformations.find(l=>l[0]==="polar");if(i)return Math.max(e,r)/2*i[4]}return 0}function Lm(t){const{transformations:e}=t.getOptions(),[,,,r,i]=e.find(l=>l[0]==="polar");return[+r,+i]}function yf(t,e=!0){const{transformations:r}=t.getOptions(),[,i,l]=r.find(u=>u[0]==="polar");return e?[+i*180/Math.PI,+l*180/Math.PI]:[i,l]}function Im(t,e){const{transformations:r}=t.getOptions(),[,...i]=r.find(l=>l[0]===e);return i}class pS extends Map{constructor(e,r=Dm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,l]of e)this.set(i,l)}get(e){return super.get(Rm(this,e))}has(e){return super.has(Rm(this,e))}set(e,r){return super.set(Fm(this,e),r)}delete(e){return super.delete(gS(this,e))}}class vS extends Set{constructor(e,r=Dm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(Rm(this,e))}add(e){return super.add(Fm(this,e))}delete(e){return super.delete(gS(this,e))}}function Rm({_intern:t,_key:e},r){const i=e(r);return t.has(i)?t.get(i):r}function Fm({_intern:t,_key:e},r){const i=e(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function gS({_intern:t,_key:e},r){const i=e(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function Dm(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ad(t){return t}function oi(t,...e){return iu(t,ad,ad,e)}function i0(t,...e){return iu(t,Array.from,ad,e)}function IL(t,e){for(let r=1,i=e.length;r<i;++r)t=t.flatMap(l=>l.pop().map(([u,h])=>[...l,u,h]));return t}function D6(t,...e){return IL(i0(t,...e),e)}function B6(t,e,...r){return IL(a0(t,e,...r),r)}function Bm(t,e,...r){return iu(t,ad,e,r)}function a0(t,e,...r){return iu(t,Array.from,e,r)}function N6(t,...e){return iu(t,identity,mS,e)}function yS(t,...e){return iu(t,Array.from,mS,e)}function mS(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function iu(t,e,r,i){return function l(u,h){if(h>=i.length)return r(u);const p=new pS,g=i[h++];let m=-1;for(const x of u){const w=g(x,++m,u),M=p.get(w);M?M.push(x):p.set(w,[x])}for(const[x,w]of p)p.set(x,l(w,h));return e(p)}(t,0)}var od=function(t){return t==null},RL=od,xS=function(t){return RL(t)?"":t.toString()},FL=function(t){var e=xS(t);return e.charAt(0).toLowerCase()+e.substring(1)},bS=FL,o0=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})};function Xl(t){return t}function Nm(t){return t.reduce((e,r)=>(i,...l)=>r(e(i,...l),...l),Xl)}function zm(t){return t.reduce((e,r)=>i=>o0(this,void 0,void 0,function*(){const l=yield e(i);return r(l)}),Xl)}function sd(t){return t.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function s0(t=""){throw new Error(t)}function jm(t,e){const{attributes:r}=e,i=new Set(["id","className"]);for(const[l,u]of Object.entries(r))i.has(l)||t.attr(l,u)}function yi(t){return t!=null&&!Number.isNaN(t)}function z6(t,e){return t+(e-t)*Math.random()}function DL(t){const e=new Map;return r=>{if(e.has(r))return e.get(r);const i=t(r);return e.set(r,i),i}}function BL(t,e){const{transform:r}=t.style,l=(u=>u==="none"||u===void 0)(r)?"":r;t.style.transform=`${l} ${e}`.trimStart()}function kn(t,e){return wS(t,e)||{}}function wS(t,e){const r=Object.entries(t||{}).filter(([i])=>i.startsWith(e)).map(([i,l])=>[bS(i.replace(e,"").trim()),l]).filter(([i])=>!!i);return r.length===0?null:Object.fromEntries(r)}function j6(t,e){return Object.fromEntries(Object.entries(t).map(([r,i])=>[`${e}${upperFirst(r)}`,i]))}function NL(t,e){return Object.fromEntries(Object.entries(t).filter(([r])=>e.find(i=>r.startsWith(i))))}function Gm(t,...e){return Object.fromEntries(Object.entries(t).filter(([r])=>e.every(i=>!r.startsWith(i))))}function Wm(t,e){if(t===void 0)return null;if(typeof t=="number")return t;const r=+t.replace("%","");return Number.isNaN(r)?null:r/100*e}function mf(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function Ps(t){return t===null||t===!1}function MS(t,e,r=5,i=0){if(!(i>=r)){for(const l of Object.keys(e)){const u=e[l];!Yl(u)||!Yl(t[l])?t[l]=u:MS(t[l],u,r,i+1)}return t}}function Jn(t){return new Ii([t],null,t,t.ownerDocument)}class Ii{constructor(e=null,r=null,i=null,l=null,u=[null,null,null,null,null],h=[],p=[]){this._elements=Array.from(e),this._data=r,this._parent=i,this._document=l,this._enter=u[0],this._update=u[1],this._exit=u[2],this._merge=u[3],this._split=u[4],this._transitions=h,this._facetElements=p}selectAll(e){const r=typeof e=="string"?this._parent.querySelectorAll(e):e;return new Ii(r,null,this._elements[0],this._document)}selectFacetAll(e){const r=typeof e=="string"?this._parent.querySelectorAll(e):e;return new Ii(this._elements,null,this._parent,this._document,void 0,void 0,r)}select(e){const r=typeof e=="string"?this._parent.querySelectorAll(e)[0]||null:e;return new Ii([r],null,r,this._document)}append(e){const r=typeof e=="function"?e:()=>this.createElement(e),i=[];if(this._data!==null){for(let l=0;l<this._data.length;l++){const u=this._data[l],[h,p]=Array.isArray(u)?u:[u,null],g=r(h,l);g.__data__=h,p!==null&&(g.__fromElements__=p),this._parent.appendChild(g),i.push(g)}return new Ii(i,null,this._parent,this._document)}else{for(let l=0;l<this._elements.length;l++){const u=this._elements[l],h=u.__data__,p=r(h,l);u.appendChild(p),i.push(p)}return new Ii(i,null,i[0],this._document)}}maybeAppend(e,r,i){const l=this._elements[0],u=l.getElementById(e);if(u)return new Ii([u],null,this._parent,this._document);const h=typeof r=="string"?this.createElement(r):r();return h.id=e,i&&(h.className=i),l.appendChild(h),new Ii([h],null,this._parent,this._document)}data(e,r=l=>l,i=()=>null){const l=[],u=[],h=new Set(this._elements),p=[],g=new Set,m=new Map(this._elements.map((O,A)=>[r(O.__data__,A),O])),x=new Map(this._facetElements.map((O,A)=>[r(O.__data__,A),O])),w=oi(this._elements,O=>i(O.__data__));for(let O=0;O<e.length;O++){const A=e[O],E=r(A,O),P=i(A,O);if(m.has(E)){const I=m.get(E);I.__data__=A,I.__facet__=!1,u.push(I),h.delete(I),m.delete(E)}else if(x.has(E)){const I=x.get(E);I.__data__=A,I.__facet__=!0,u.push(I),x.delete(E)}else if(w.has(E)){const I=w.get(E);p.push([A,I]);for(const F of I)h.delete(F);w.delete(E)}else if(m.has(P)){const I=m.get(P);I.__toData__?I.__toData__.push(A):I.__toData__=[A],g.add(I),h.delete(I)}else l.push(A)}const M=[new Ii([],l,this._parent,this._document),new Ii(u,null,this._parent,this._document),new Ii(h,null,this._parent,this._document),new Ii([],p,this._parent,this._document),new Ii(g,null,this._parent,this._document)];return new Ii(this._elements,null,this._parent,this._document,M)}merge(e){const r=[...this._elements,...e._elements],i=[...this._transitions,...e._transitions];return new Ii(r,null,this._parent,this._document,void 0,i)}createElement(e){if(this._document)return this._document.createElement(e,{});const r=Ii.registry[e];return r?new r:s0(`Unknown node type: ${e}`)}join(e=h=>h,r=h=>h,i=h=>h.remove(),l=h=>h,u=h=>h.remove()){const h=e(this._enter),p=r(this._update),g=i(this._exit),m=l(this._merge),x=u(this._split);return p.merge(h).merge(g).merge(m).merge(x)}remove(){for(let e=0;e<this._elements.length;e++){const r=this._transitions[e];if(r){const i=Array.isArray(r)?r:[r];Promise.all(i.map(l=>l.finished)).then(()=>{this._elements[e].remove()})}else this._elements[e].remove()}return new Ii([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let r=0;r<this._elements.length;r++){const i=this._elements[r],l=i.__data__;e(l,r,i)}return this}attr(e,r){const i=typeof r!="function"?()=>r:r;return this.each(function(l,u,h){r!==void 0&&(h[e]=i(l,u,h))})}style(e,r){const i=typeof r!="function"?()=>r:r;return this.each(function(l,u,h){r!==void 0&&(h.style[e]=i(l,u,h))})}transition(e){const r=typeof e!="function"?()=>e:e,{_transitions:i}=this;return this.each(function(l,u,h){i[u]=r(l,u,h)})}on(e,r){return this.each(function(i,l,u){u.addEventListener(e,r)}),this}call(e,...r){return e(this,...r),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}Ii.registry={g:da,rect:qc,circle:zl,path:Va,text:jl,ellipse:Jy,image:Tv,line:Vh,polygon:As,polyline:Qy,html:no};function ui([t,e],[r,i]){return[t-r,e-i]}function gr([t,e],[r,i]){return[t+r,e+i]}function mi([t,e],[r,i]){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-i,2))}function Si([t,e]){return Math.atan2(e,t)}function au([t,e]){return Si([t,e])+Math.PI/2}function Vm(t,e){const r=Si(t),i=Si(e);return r<i?i-r:Math.PI*2-(r-i)}function Hm(t){let e=1/0,r=-1/0,i=1/0,l=-1/0;for(const[p,g]of t)e=Math.min(p,e),r=Math.max(p,r),i=Math.min(g,i),l=Math.max(g,l);const u=r-e,h=l-i;return[e,i,u,h]}function SS([t,e],[r,i]){return[(t+r)/2,(e+i)/2]}function xf(t,e,r){return Math.max(e,Math.min(t,r))}function Go(t,...e){return e.reduce((r,i)=>l=>r(i(l)),t)}function ou(t,e){return e-t?r=>(r-t)/(e-t):r=>.5}function _S(t,e){const r=e<t?e:t,i=t>e?t:e;return l=>Math.min(Math.max(r,l),i)}function Ym(t,e,r,i,l){let u=r||0,h=i||t.length;const p=l||(g=>g);for(;u<h;){const g=Math.floor((u+h)/2);p(t[g])>e?h=g:u=g+1}return u}const ld=Math.sqrt(50),Um=Math.sqrt(10),oo=Math.sqrt(2);function l0(t,e,r){const i=(e-t)/Math.max(0,r),l=Math.floor(Math.log(i)/Math.LN10),u=i/Fr(10,l);return l>=0?(u>=ld?10:u>=Um?5:u>=oo?2:1)*Fr(10,l):-Fr(10,-l)/(u>=ld?10:u>=Um?5:u>=oo?2:1)}function OS(t,e,r){const i=Math.abs(e-t)/Math.max(0,r);let l=Fr(10,Math.floor(Math.log(i)/Math.LN10));const u=i/l;return u>=ld?l*=10:u>=Um?l*=5:u>=oo&&(l*=2),e<t?-l:l}const CS=(t,e,r=5)=>{const i=[t,e];let l=0,u=i.length-1,h=i[l],p=i[u],g;return p<h&&([h,p]=[p,h],[l,u]=[u,l]),g=l0(h,p,r),g>0?(h=Math.floor(h/g)*g,p=Math.ceil(p/g)*g,g=l0(h,p,r)):g<0&&(h=Math.ceil(h*g)/g,p=Math.floor(p*g)/g,g=l0(h,p,r)),g>0?(i[l]=Math.floor(h/g)*g,i[u]=Math.ceil(p/g)*g):g<0&&(i[l]=Math.ceil(h*g)/g,i[u]=Math.floor(p*g)/g),i},cd=1e3,ud=cd*60,fd=ud*60,su=fd*24,bf=su*7,va=su*30,hd=su*365;function Xi(t,e,r,i){const l=(m,x)=>{const w=O=>i(O)%x===0;let M=x;for(;M&&!w(m);)r(m,-1),M-=1;return m},u=(m,x)=>{x&&l(m,x),e(m)},h=(m,x)=>{const w=new Date(+m);return u(w,x),w},p=(m,x)=>{const w=new Date(+m-1);return u(w,x),r(w,x),u(w),w};return{ceil:p,floor:h,range:(m,x,w,M)=>{const O=[],A=Math.floor(w),E=M?p(m,w):p(m);for(let P=E;+P<+x;r(P,A),u(P))O.push(new Date(+P));return O},duration:t}}const G6=Xi(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),c0=Xi(cd,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+cd*e)},t=>t.getSeconds()),_o=Xi(ud,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+ud*e)},t=>t.getMinutes()),zL=Xi(fd,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+fd*e)},t=>t.getHours()),AS=Xi(su,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+su*e)},t=>t.getDate()-1),TS=Xi(va,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getMonth();t.setMonth(r+e)},t=>t.getMonth()),Zl=Xi(bf,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+bf*e)},t=>{const e=TS.floor(t),r=new Date(+t);return Math.floor((+r-+e)/bf)}),ES=Xi(hd,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getFullYear();t.setFullYear(r+e)},t=>t.getFullYear()),Xm={millisecond:G6,second:c0,minute:_o,hour:zL,day:AS,week:Zl,month:TS,year:ES},kS=Xi(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),Zm=Xi(cd,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+cd*e)},t=>t.getUTCSeconds()),W6=Xi(ud,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+ud*e)},t=>t.getUTCMinutes()),ql=Xi(fd,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+fd*e)},t=>t.getUTCHours()),PS=Xi(su,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+su*e)},t=>t.getUTCDate()-1),u0=Xi(va,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCMonth();t.setUTCMonth(r+e)},t=>t.getUTCMonth()),LS=Xi(bf,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+bf*e)},t=>{const e=u0.floor(t),r=new Date(+t);return Math.floor((+r-+e)/bf)}),qm=Xi(hd,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCFullYear();t.setUTCFullYear(r+e)},t=>t.getUTCFullYear()),jL={millisecond:kS,second:Zm,minute:W6,hour:ql,day:PS,week:LS,month:u0,year:qm};function IS(t){const e=t?jL:Xm,{year:r,month:i,week:l,day:u,hour:h,minute:p,second:g,millisecond:m}=e;return{tickIntervals:[[g,1],[g,5],[g,15],[g,30],[p,1],[p,5],[p,15],[p,30],[h,1],[h,3],[h,6],[h,12],[u,1],[u,2],[l,1],[i,1],[i,3],[r,1]],year:r,millisecond:m}}function RS(t,e,r,i,l){const u=+t,h=+e,{tickIntervals:p,year:g,millisecond:m}=IS(l),x=([P,I])=>P.duration*I,w=i?(h-u)/i:r||5,M=i||(h-u)/w,O=p.length,A=Ym(p,M,0,O,x);let E;if(A===O){const P=OS(u/g.duration,h/g.duration,w);E=[g,P]}else if(A){const P=M/x(p[A-1])<x(p[A])/M,[I,F]=P?p[A-1]:p[A],N=i?Math.ceil(i/I.duration):F;E=[I,N]}else{const P=Math.max(OS(u,h,w),1);E=[m,P]}return E}const GL=(t,e,r,i,l)=>{const u=t>e,h=u?e:t,p=u?t:e,[g,m]=RS(h,p,r,i,l),x=[g.floor(h,m),g.ceil(p,m)];return u?x.reverse():x};var WL={}.toString,VL=function(t,e){return WL.call(t)==="[object "+e+"]"},dd=VL,f0=function(t){return dd(t,"Function")},$m=function(t){return Array.isArray?Array.isArray(t):dd(t,"Array")},HL=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function FS(t,e){if(t){var r;if($m(t))for(var i=0,l=t.length;i<l&&(r=e(t[i],i),r!==!1);i++);else if(HL(t)){for(var u in t)if(t.hasOwnProperty(u)&&(r=e(t[u],u),r===!1))break}}}var Km=FS,mV=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Km(t,function(r,i){f0(t)&&i==="prototype"||e.push(i)}),e},YL=null;function UL(t,e){var r=keys(e),i=r.length;if(isNil(t))return!i;for(var l=0;l<i;l+=1){var u=r[l];if(e[u]!==t[u]||!(u in t))return!1}return!0}var XL=null,DS=function(t){return typeof t=="object"&&t!==null},BS=DS,NS=function(t){if(!BS(t)||!dd(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},pd=NS;function xV(t,e){if(!isArray(t))return null;var r;if(isFunction(e)&&(r=e),isPlainObject(e)&&(r=function(l){return isMatch(l,e)}),r){for(var i=0;i<t.length;i+=1)if(r(t[i]))return t[i]}return null}var V6=null,H6=function(t,e){for(var r=null,i=0;i<t.length;i++){var l=t[i],u=l[e];if(!isNil(u)){isArray(u)?r=u[0]:r=u;break}}return r},Jm=null,ZL=function(t){if(!isArray(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e},Y6=null,qL=function(t,e){if(e===void 0&&(e=[]),!isArray(t))e.push(t);else for(var r=0;r<t.length;r+=1)qL(t[r],e);return e},U6=null,X6=function(t){if(isArray(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},Z6=function(t){if(isArray(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},q6=function(t){var e=t.filter(function(h){return!isNaN(h)});if(!e.length)return{min:0,max:0};if(isArray(t[0])){for(var r=[],i=0;i<t.length;i++)r=r.concat(t[i]);e=r}var l=getMax(e),u=getMin(e);return{min:u,max:l}},$6=null,zS=Array.prototype,$L=zS.splice,KL=zS.indexOf,K6=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i++)for(var l=e[i],u=-1;(u=KL.call(t,l))>-1;)$L.call(t,u,1);return t},bV=null,JL=Array.prototype.splice,J6=function(e,r){if(!isArrayLike(e))return[];for(var i=e?r.length:0,l=i-1;i--;){var u=void 0,h=r[i];(i===l||h!==u)&&(u=h,JL.call(e,h,1))}return e},Q6=null,QL=function(t,e,r){if(!isArray(t)&&!isPlainObject(t))return t;var i=r;return each(t,function(l,u){i=e(i,l,u)}),i},t4=null,e4=function(t,e){var r=[];if(!isArrayLike(t))return r;for(var i=-1,l=[],u=t.length;++i<u;){var h=t[i];e(h,i,t)&&(r.push(h),l.push(i))}return pullAt(t,l),r},n4=null,tI=function(t){return dd(t,"String")};function r4(t,e){var r;if(isFunction(e))r=function(l,u){return e(l)-e(u)};else{var i=[];isString(e)?i.push(e):isArray(e)&&(i=e),r=function(l,u){for(var h=0;h<i.length;h+=1){var p=i[h];if(l[p]>u[p])return 1;if(l[p]<u[p])return-1}return 0}}return t.sort(r),t}var i4=null,a4=function(t,e){for(var r=[],i={},l=0;l<t.length;l++){var u=t[l],h=u[e];if(!isNil(h)){isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var g=h[p];i[g]||(r.push(g),i[g]=!0)}}}return r};function o4(t,e){return isArray(t)||isString(t)?t[0]===e:!1}var eI=null;function s4(t,e){return isArray(t)||isString(t)?t[t.length-1]===e:!1}var l4=null,nI=Object.prototype.hasOwnProperty;function c4(t,e){if(!e||!isArray(t))return{};for(var r={},i=isFunction(e)?e:function(p){return p[e]},l,u=0;u<t.length;u++){var h=t[u];l=i(h),nI.call(r,l)?r[l].push(h):r[l]=[h]}return r}var u4=null;function f4(t,e){if(!e)return{0:t};if(!isFunction(e)){var r=isArray(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var l="_",u=0,h=r.length;u<h;u++)l+=i[r[u]]&&i[r[u]].toString();return l}}return groupBy(t,e)}var h4=function(t,e){if(!e)return[t];var r=groupToMap(t,e),i=[];for(var l in r)i.push(r[l]);return i},jS={};function d4(t){var e=jS[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;e="#"+r,jS[t]=e}return e}var rI=null;function p4(t){var e=0,r=0,i=0,l=0;return isArray(t)?t.length===1?e=r=i=l=t[0]:t.length===2?(e=i=t[0],r=l=t[1]):t.length===3?(e=t[0],r=l=t[1],i=t[2]):(e=t[0],r=t[1],i=t[2],l=t[3]):e=r=i=l=t,{r1:e,r2:r,r3:i,r4:l}}var v4=null,iI=function(t){return dd(t,"Number")},wf=iI,g4=function(t){return isNumber(t)&&t%1!==0},y4=null,m4=function(t){return isNumber(t)&&t%2===0},x4=null,b4=Number.isInteger?Number.isInteger:function(t){return wf(t)&&t%1===0},w4=null,M4=function(t){return isNumber(t)&&t<0},GS=null,S4=function(t){return isNumber(t)&&t%2!==0},Qm=null,aI=function(t){return isNumber(t)&&t>0},wV=null,MV=function(t,e){if(isArray(t)){for(var r,i=-1/0,l=0;l<t.length;l++){var u=t[l],h=isFunction(e)?e(u):u[e];h>i&&(r=u,i=h)}return r}},_4=function(t,e){if(isArray(t)){for(var r,i=1/0,l=0;l<t.length;l++){var u=t[l],h=isFunction(e)?e(u):u[e];h<i&&(r=u,i=h)}return r}},oI=180/Math.PI,SV=function(t){return oI*t},_V=null,O4=parseInt,sI=Math.PI/180,C4=function(t){return sI*t},A4=null,WS=null,t1=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Km(t,function(r,i){f0(t)&&i==="prototype"||e.push(r)}),e},VS=t1,lI=function(t,e){return contains(values(t),e)},cI={}.toString,uI=function(t){return cI.call(t).replace(/^\[object /,"").replace(/]$/,"")},h0=null,T4=function(t){return isType(t,"Arguments")},OV=null,CV=function(t){return isType(t,"Boolean")},E4=null,k4=function(t){return isType(t,"Date")},HS=null,P4=function(t){return isType(t,"Error")},L4=null;function I4(t){return isNumber(t)&&isFinite(t)}var fI=function(t){return t===null},YS=fI,hI=Object.prototype,US=function(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||hI;return t===r},AV=null,TV=function(t){return isType(t,"RegExp")},R4=null,dI=function(t){return t===void 0},pI=dI,EV=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],i=1;i<t.length;i++){var l=t[i];isFunction(l)&&(l=l.prototype),mix(r.prototype,l)}},kV=null,XS=function(t){if(typeof t!="object"||t===null)return t;var e;if(isArray(t)){e=[];for(var r=0,i=t.length;r<i;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=XS(t[r]):e[r]=t[r]}else{e={};for(var l in t)typeof t[l]=="object"&&t[l]!=null?e[l]=XS(t[l]):e[l]=t[l]}return e},F4=null,D4=function(t,e){if(!f0(t))throw new TypeError("Expected a function");var r=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=e?e.apply(this,i):i[0],h=r.cache;if(h.has(u))return h.get(u);var p=t.apply(this,i);return h.set(u,p),p};return r.cache=new Map,r},B4=5;function ZS(t,e,r,i){r=r||0,i=i||B4;for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];u!==null&&pd(u)?(pd(t[l])||(t[l]={}),r<i?ZS(t[l],u,r+1,i):t[l]=e[l]):$m(u)?(t[l]=[],t[l]=t[l].concat(u)):u!==void 0&&(t[l]=u)}}var vI=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)ZS(t,e[i]);return t},qS=vI,PV=function(t,e,r,i){isFunction(e)||(r=e,e=t,t=function(){});var l=Object.create?function(h,p){return Object.create(h,{constructor:{value:p}})}:function(h,p){function g(){}g.prototype=h;var m=new g;return m.constructor=p,m},u=l(e.prototype,t);return t.prototype=mix(u,t.prototype),t.superclass=l(e.prototype,e),mix(u,r),mix(t,i),t},LV=null,gI=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},$S=gI,e1=function(t,e){if(!$S(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var i=-1,l=0;l<t.length;l++)if(t[l]===e){i=l;break}return i},d0=e1,yI=Object.prototype.hasOwnProperty;function N4(t){if(isNil(t))return!0;if(isArrayLike(t))return!t.length;var e=getType(t);if(e==="Map"||e==="Set")return!t.size;if(isPrototype(t))return!Object.keys(t).length;for(var r in t)if(yI.call(t,r))return!1;return!0}var z4=null,vd=function(t,e){if(t===e)return!0;if(!t||!e||isString(t)||isString(e))return!1;if(isArrayLike(t)||isArrayLike(e)){if(t.length!==e.length)return!1;for(var r=!0,i=0;i<t.length&&(r=vd(t[i],e[i]),!!r);i++);return r}if(isObjectLike(t)||isObjectLike(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(var r=!0,i=0;i<l.length&&(r=vd(t[l[i]],e[l[i]]),!!r);i++);return r}return!1},j4=null,G4=function(t,e,r){return isFunction(r)?!!r(t,e):isEqual(t,e)},W4=function(t,e,r){for(var i=0,l=isString(e)?e.split("."):e;t&&i<l.length;)t=t[l[i++]];return t===void 0||i<l.length?r:t},V4=function(t,e,r){var i=t,l=isString(e)?e.split("."):e;return l.forEach(function(u,h){h<l.length-1?(isObject(i[u])||(i[u]=isNumber(l[h+1])?[]:{}),i=i[u]):i[u]=r}),t},mI=Object.prototype.hasOwnProperty,H4=function(t,e){if(t===null||!isPlainObject(t))return{};var r={};return each(e,function(i){mI.call(t,i)&&(r[i]=t[i])}),r},Y4=function(t,e){return reduce(t,function(r,i,l){return e.includes(l)||(r[l]=i),r},{})},p0={},xI=function(t){return t=t||"g",p0[t]?p0[t]+=1:p0[t]=1,t+p0[t]},il=function(t){return t},bI=function(t){return t==null},wI=bI;function n1(t){return wI(t)?0:$S(t)?t.length:Object.keys(t).length}var v0,U4=D4(function(t,e){e===void 0&&(e={});var r=e.fontSize,i=e.fontFamily,l=e.fontWeight,u=e.fontStyle,h=e.fontVariant;return v0||(v0=document.createElement("canvas").getContext("2d")),v0.font=[u,h,l,r+"px",i].join(" "),v0.measureText(tI(t)?t:"").width},function(t,e){return e===void 0&&(e={}),(0,B.pr)([t],VS(e)).join("")}),X4=function(t,e,r,i){i===void 0&&(i="...");var l=16,u=measureTextWidth(i,r),h=isString(t)?t:toString(t),p=e,g=[],m,x;if(measureTextWidth(t,r)<=e)return t;for(;m=h.substr(0,l),x=measureTextWidth(m,r),!(x+u>p&&x>p);)if(g.push(m),p-=x,h=h.substr(l),!h)return g.join("");for(;m=h.substr(0,1),x=measureTextWidth(m,r),!(x+u>p);)if(g.push(m),p-=x,h=h.substr(1),!h)return g.join("");return""+g.join("")+i},Z4=function(){function t(){this.map={}}return t.prototype.has=function(e){return this.map[e]!==void 0},t.prototype.get=function(e,r){var i=this.map[e];return i===void 0?r:i},t.prototype.set=function(e,r){this.map[e]=r},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(e){delete this.map[e]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),r1=null;function g0(t){return!pI(t)&&!YS(t)&&!Number.isNaN(t)}const i1=t=>e=>-t(-e),a1=(t,e)=>{const r=Math.log(t),i=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:l=>Math.log(l)/r;return e?i1(i):i},o1=(t,e)=>{const r=t===Math.E?Math.exp:i=>Fr(t,i);return e?i1(r):r},KS=t=>e=>{const r=t(e);return wf(r)?Math.round(r):r};function JS(t,e){return r=>{r.prototype.rescale=function(){this.initRange(),this.nice();const[i]=this.chooseTransforms();this.composeOutput(i,this.chooseClamp(i))},r.prototype.initRange=function(){const{interpolator:i}=this.options;this.options.range=t(i)},r.prototype.composeOutput=function(i,l){const{domain:u,interpolator:h,round:p}=this.getOptions(),g=e(u.map(i)),m=p?KS(h):h;this.output=Go(m,g,l,i)},r.prototype.invert=void 0}}var MI=kt(19818),s1=kt.n(MI);function y0(t,e,r){let i=r;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function SI(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100,l=t[3];if(r===0)return[i*255,i*255,i*255,l];const u=i<.5?i*(1+r):i+r-i*r,h=2*i-u,p=y0(h,u,e+1/3),g=y0(h,u,e),m=y0(h,u,e-1/3);return[p*255,g*255,m*255,l]}function QS(t){const e=s1().get(t);if(!e)return null;const{model:r,value:i}=e;return r==="rgb"?i:r==="hsl"?SI(i):null}const Ls=(t,e)=>r=>t*(1-r)+e*r,_I=(t,e)=>{const r=QS(t),i=QS(e);return r===null||i===null?r?()=>t:()=>e:l=>{const u=new Array(4);for(let x=0;x<4;x+=1){const w=r[x],M=i[x];u[x]=w*(1-l)+M*l}const[h,p,g,m]=u;return`rgba(${Math.round(h)}, ${Math.round(p)}, ${Math.round(g)}, ${m})`}},Mf=(t,e)=>typeof t=="number"&&typeof e=="number"?Ls(t,e):typeof t=="string"&&typeof e=="string"?_I(t,e):()=>t,OI=(t,e)=>{const r=Ls(t,e);return i=>Math.round(r(i))};function CI(t,e){const{second:r,minute:i,hour:l,day:u,week:h,month:p,year:g}=e;return r.floor(t)<t?".SSS":i.floor(t)<t?":ss":l.floor(t)<t?"hh:mm":u.floor(t)<t?"hh A":p.floor(t)<t?h.floor(t)<t?"MMM DD":"ddd DD":g.floor(t)<t?"MMMM":"YYYY"}function t_({map:t,initKey:e},r){const i=e(r);return t.has(i)?t.get(i):r}function AI({map:t,initKey:e},r){const i=e(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function TI({map:t,initKey:e},r){const i=e(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function e_(t){return typeof t=="object"?t.valueOf():t}class n_ extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=e_,e!==null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(t_({map:this.map,initKey:this.initKey},e))}has(e){return super.has(t_({map:this.map,initKey:this.initKey},e))}set(e,r){return super.set(AI({map:this.map,initKey:this.initKey},e),r)}delete(e){return super.delete(TI({map:this.map,initKey:this.initKey},e))}}class gd{constructor(e){this.options=qS({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=qS({},this.options,e),this.rescale(e)}rescale(e){}}const m0=Symbol("defaultUnknown");function r_(t,e,r){for(let i=0;i<e.length;i+=1)t.has(e[i])||t.set(r(e[i]),i)}function i_(t){const{value:e,from:r,to:i,mapper:l,notFoundReturn:u}=t;let h=l.get(e);if(h===void 0){if(u!==m0)return u;h=r.push(e)-1,l.set(e,h)}return i[h%i.length]}function l1(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class lu extends gd{getDefaultOptions(){return{domain:[],range:[],unknown:m0}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&r_(this.domainIndexMap,this.getDomain(),this.domainKey),i_({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&r_(this.rangeIndexMap,this.getRange(),this.rangeKey),i_({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[r]=this.options.domain,[i]=this.options.range;if(this.domainKey=l1(r),this.rangeKey=l1(i),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new lu(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:r}=this.options;return this.sortedDomain=r?[...e].sort(r):e,this.sortedDomain}}function a_(t){const e=Math.min(...t);return t.map(r=>r/e)}function o_(t,e){const r=t.length,i=e-r;return i>0?[...t,...new Array(i).fill(1)]:i<0?t.slice(0,e):t}function EI(t){return Math.round(t*1e12)/1e12}function kI(t){const{domain:e,range:r,paddingOuter:i,paddingInner:l,flex:u,round:h,align:p}=t,g=e.length,m=o_(u,g),[x,w]=r,M=w-x,O=2/g*i+1-1/g*l,A=M/O,E=A*l/g,P=A-g*E,I=a_(m),F=I.reduce((ft,ot)=>ft+ot),N=P/F,z=new n_(e.map((ft,ot)=>{const J=I[ot]*N;return[ft,h?Math.floor(J):J]})),G=new n_(e.map((ft,ot)=>{const st=I[ot]*N+E;return[ft,h?Math.floor(st):st]})),W=Array.from(G.values()).reduce((ft,ot)=>ft+ot),U=(M-(W-W/g*l))*p,X=x+U;let $=h?Math.round(X):X;const Q=new Array(g);for(let ft=0;ft<g;ft+=1){Q[ft]=EI($);const ot=e[ft];$+=G.get(ot)}return{valueBandWidth:z,valueStep:G,adjustedRange:Q}}function s_(t){var e;const{domain:r}=t,i=r.length;if(i===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return kI(t);const{range:u,paddingOuter:h,paddingInner:p,round:g,align:m}=t;let x,w,M=u[0];const A=u[1]-M,E=h*2,P=i-p;x=A/Math.max(1,E+P),g&&(x=Math.floor(x)),M+=(A-x*(i-p))*m,w=x*(1-p),g&&(M=Math.round(M),w=Math.round(w));const I=new Array(i).fill(0).map((F,N)=>M+N*x);return{valueStep:x,valueBandWidth:w,adjustedRange:I}}class yd extends lu{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:m0,flex:[]}}constructor(e){super(e)}clone(){return new yd(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:r}=this.options;return e>0?e:r}getPaddingOuter(){const{padding:e,paddingOuter:r}=this.options;return e>0?e:r}rescale(){super.rescale();const{align:e,domain:r,range:i,round:l,flex:u}=this.options,{adjustedRange:h,valueBandWidth:p,valueStep:g}=s_({align:e,range:i,round:l,flex:u,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=g,this.valueBandWidth=p,this.adjustedRange=h}}const $l=(t,e,r)=>{let i,l,u=t,h=e;if(u===h&&r>0)return[u];let p=l0(u,h,r);if(p===0||!Number.isFinite(p))return[];if(p>0){u=Math.ceil(u/p),h=Math.floor(h/p),l=new Array(i=Math.ceil(h-u+1));for(let g=0;g<i;g+=1)l[g]=(u+g)*p}else{p=-p,u=Math.ceil(u*p),h=Math.floor(h*p),l=new Array(i=Math.ceil(h-u+1));for(let g=0;g<i;g+=1)l[g]=(u+g)/p}return l};class md extends gd{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:$l}}map(e){const[r]=this.options.range;return r!==void 0?r:this.options.unknown}invert(e){const[r]=this.options.range;return e===r&&r!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:r,tickCount:i}=this.options,[l,u]=r;return!wf(l)||!wf(u)?[]:e(l,u,i)}clone(){return new md(this.options)}}function xd(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}const PI=[1,5,2,2.5,4,3],q4=null,x0=Number.EPSILON*100;function c1(t,e){return(t%e+e)%e}function l_(t){return Math.round(t*1e12)/1e12}function LI(t,e,r,i,l,u){const h=n1(e),p=d0(e,t);let g=0;const m=c1(i,u);return(m<x0||u-m<x0)&&i<=0&&l>=0&&(g=1),1-p/(h-1)-r+g}function c_(t,e,r){const i=n1(e),l=d0(e,t),u=1;return 1-l/(i-1)-r+u}function II(t,e,r,i,l,u){const h=(t-1)/(u-l),p=(e-1)/(Math.max(u,i)-Math.min(r,l));return 2-Math.max(h/p,p/h)}function RI(t,e){return t>=e?2-(t-1)/(e-1):1}function FI(t,e,r,i){const l=e-t;return 1-.5*(Fr(e-i,2)+Fr(t-r,2))/Fr(.1*l,2)}function DI(t,e,r){const i=e-t;if(r>i){const l=(r-i)/2;return 1-Fr(l,2)/Fr(.1*i,2)}return 1}function BI(){return 1}const u1=(t,e,r=5,i=!0,l=PI,u=[.25,.2,.5,.05])=>{const h=r<0?0:Math.round(r);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!h)return[];if(e-t<1e-15||h===1)return[t];const p={score:-2,lmin:0,lmax:0,lstep:0};let g=1;for(;g<1/0;){for(let A=0;A<l.length;A+=1){const E=l[A],P=c_(E,l,g);if(u[0]*P+u[1]+u[2]+u[3]<p.score){g=1/0;break}let I=2;for(;I<1/0;){const F=RI(I,h);if(u[0]*P+u[1]+u[2]*F+u[3]<p.score)break;const N=(e-t)/(I+1)/g/E;let z=Math.ceil(Math.log10(N));for(;z<1/0;){const G=g*E*Fr(10,z),W=DI(t,e,G*(I-1));if(u[0]*P+u[1]*W+u[2]*F+u[3]<p.score)break;const Y=Math.floor(e/G)*g-(I-1)*g,U=Math.ceil(t/G)*g;if(Y<=U){const X=U-Y;for(let $=0;$<=X;$+=1){const ft=(Y+$)*(G/g),ot=ft+G*(I-1),J=G,st=LI(E,l,g,ft,ot,J),gt=FI(t,e,ft,ot),Mt=II(I,h,t,e,ft,ot),At=BI(),St=u[0]*st+u[1]*gt+u[2]*Mt+u[3]*At;St>p.score&&(!i||ft<=t&&ot>=e)&&(p.lmin=ft,p.lmax=ot,p.lstep=J,p.score=St)}}z+=1}I+=1}}g+=1}const m=xd(p.lmax),x=xd(p.lmin),w=xd(p.lstep),M=Math.floor(l_((m-x)/w))+1,O=new Array(M);O[0]=xd(x);for(let A=1;A<M;A+=1)O[A]=xd(O[A-1]+w);return O};class bd extends gd{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:u1}}map(e){return g0(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new bd(this.options)}getTicks(){const{domain:e,tickCount:r,tickMethod:i}=this.options,[l,u]=e;return!wf(l)||!wf(u)?[]:i(l,u,r)}}const NI=(t,e,r)=>{const[i,l]=t,[u,h]=e;let p,g;return i<l?(p=ou(i,l),g=r(u,h)):(p=ou(l,i),g=r(h,u)),Go(g,p)},zI=(t,e,r)=>{const i=Math.min(t.length,e.length)-1,l=new Array(i),u=new Array(i),h=t[0]>t[i],p=h?[...t].reverse():t,g=h?[...e].reverse():e;for(let m=0;m<i;m+=1)l[m]=ou(p[m],p[m+1]),u[m]=r(g[m],g[m+1]);return m=>{const x=Ym(t,m,1,i)-1,w=l[x],M=u[x];return Go(M,w)(m)}},f1=(t,e,r,i)=>(Math.min(t.length,e.length)>2?zI:NI)(t,e,i?OI:r);class b0 extends gd{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ls,tickCount:5}}map(e){return g0(e)?this.output(e):this.options.unknown}invert(e){return g0(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,r,i,...l]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,r,i,...l)}getTicks(){const{tickMethod:e}=this.options,[r,i,l,...u]=this.getTickMethodOptions();return e(r,i,l,...u)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,i=e[0],l=e[e.length-1];return[i,l,r]}chooseNice(){return CS}rescale(){this.nice();const[e,r]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,r,this.chooseClamp(r))}chooseClamp(e){const{clamp:r,range:i}=this.options,l=this.options.domain.map(e),u=Math.min(l.length,i.length);return r?_S(l[0],l[u-1]):il}composeOutput(e,r){const{domain:i,range:l,round:u,interpolate:h}=this.options,p=f1(i.map(e),l,h,u);this.output=Go(p,r,e)}composeInput(e,r,i){const{domain:l,range:u}=this.options,h=f1(u,l.map(e),Ls);this.input=Go(r,i,h)}}class Oo extends b0{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Mf,tickMethod:$l,tickCount:5}}chooseTransforms(){return[il,il]}clone(){return new Oo(this.options)}}class h1 extends yd{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:m0,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new h1(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}const jI=t=>e=>e<0?-Fr(-e,t):Fr(e,t),u_=t=>e=>e<0?-Fr(-e,1/t):Fr(e,1/t),GI=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class wd extends b0{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Mf,tickMethod:$l,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[il,il];const r=e===.5?GI:jI(e),i=u_(e);return[r,i]}clone(){return new wd(this.options)}}class d1 extends wd{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Mf,tickMethod:$l,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new d1(this.options)}}class Kl extends gd{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!g0(e))return this.options.unknown;const r=Ym(this.thresholds,e,0,this.n);return this.options.range[r]}invert(e){const{range:r}=this.options,i=r.indexOf(e),l=this.thresholds;return[l[i-1],l[i]]}clone(){return new Kl(this.options)}rescale(){const{domain:e,range:r}=this.options;this.n=Math.min(e.length,r.length-1),this.thresholds=e}}const WI=(t,e,r,i=10)=>{const l=t<0,u=o1(i,l),h=a1(i,l),p=e<t,g=p?e:t,m=p?t:e;let x=h(g),w=h(m),M=[];if(!(i%1)&&w-x<r){if(x=Math.floor(x),w=Math.ceil(w),l)for(;x<=w;x+=1){const O=u(x);for(let A=i-1;A>=1;A-=1){const E=O*A;if(E>m)break;E>=g&&M.push(E)}}else for(;x<=w;x+=1){const O=u(x);for(let A=1;A<i;A+=1){const E=O*A;if(E>m)break;E>=g&&M.push(E)}}M.length*2<r&&(M=$l(g,m,r))}else{const O=r===-1?w-x:Math.min(w-x,r);M=$l(x,w,O).map(u)}return p?M.reverse():M},w0=(t,e,r,i)=>{const l=t<0,u=a1(i,l),h=o1(i,l),p=t>e,g=p?e:t,m=p?t:e,x=[h(Math.floor(u(g))),h(Math.ceil(u(m)))];return p?x.reverse():x};class p1 extends b0{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Mf,tickMethod:WI,tickCount:5}}chooseNice(){return w0}getTickMethodOptions(){const{domain:e,tickCount:r,base:i}=this.options,l=e[0],u=e[e.length-1];return[l,u,r,i]}chooseTransforms(){const{base:e,domain:r}=this.options,i=r[0]<0;return[a1(e,i),o1(e,i)]}clone(){return new p1(this.options)}}class M0 extends Kl{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:u1}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[r,i,l]=this.getTickMethodOptions();this.options.domain=CS(r,i,l)}}getTicks(){const{tickMethod:e}=this.options,[r,i,l]=this.getTickMethodOptions();return e(r,i,l)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,i=e[0],l=e[e.length-1];return[i,l,r]}rescale(){this.nice();const{range:e,domain:r}=this.options,[i,l]=r;this.n=e.length-1,this.thresholds=new Array(this.n);for(let u=0;u<this.n;u+=1)this.thresholds[u]=((u+1)*l-(u-this.n)*i)/(this.n+1)}invert(e){const[r,i]=super.invert(e),[l,u]=this.options.domain;return r===void 0&&i===void 0?[r,i]:[r||l,i||u]}getThresholds(){return this.thresholds}clone(){return new M0(this.options)}}function VI(t,e){const r=t.length;if(!r)return;if(r<2)return t[r-1];const i=(r-1)*e,l=Math.floor(i),u=t[l],h=t[l+1];return u+(h-u)*(i-l)}function HI(t,e,r=!1){const i=t;r||i.sort((u,h)=>u-h);const l=[];for(let u=1;u<e;u+=1)l.push(VI(i,u/e));return l}class S0 extends Kl{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:u1}}constructor(e){super(e)}rescale(){const{domain:e,range:r}=this.options;this.n=r.length-1,this.thresholds=HI(e,this.n+1,!1)}invert(e){const[r,i]=super.invert(e),{domain:l}=this.options,u=l[0],h=l[l.length-1];return r===void 0&&i===void 0?[r,i]:[r||u,i||h]}getThresholds(){return this.thresholds}clone(){return new S0(this.options)}getTicks(){const{tickCount:e,domain:r,tickMethod:i}=this.options,l=r.length-1,u=r[0],h=r[l];return i(u,h,e)}}var v1=kt(19432);const YI=(t,e,r,i,l)=>{const u=t>e,h=u?e:t,p=u?t:e,[g,m]=RS(h,p,r,i,l),x=g.range(h,new Date(+p+1),m,!0);return u?x.reverse():x};function UI(t){const e=t.getTimezoneOffset(),r=new Date(t);return r.setMinutes(r.getMinutes()+e,r.getSeconds(),r.getMilliseconds()),r}class g1 extends b0{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:YI,interpolate:Ls,mask:void 0,utc:!1}}chooseTransforms(){return[i=>+i,i=>new Date(i)]}chooseNice(){return GL}getTickMethodOptions(){const{domain:e,tickCount:r,tickInterval:i,utc:l}=this.options,u=e[0],h=e[e.length-1];return[u,h,r,i,l]}getFormatter(){const{mask:e,utc:r}=this.options,i=r?jL:Xm,l=r?UI:il;return u=>(0,v1.format)(l(u),e||CI(u,i))}clone(){return new g1(this.options)}}var XI=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u},y1;function ZI(t){return[t(0),t(1)]}const qI=t=>{const[e,r]=t;return Go(Ls(0,1),ou(e,r))};let _0=y1=class extends Oo{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:il,tickMethod:$l,tickCount:5}}constructor(e){super(e)}clone(){return new y1(this.options)}};_0=y1=XI([JS(ZI,qI)],_0);var f_=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u},O0;function $I(t){return[t(0),t(.5),t(1)]}const KI=t=>{const[e,r,i]=t,l=Go(Ls(0,.5),ou(e,r)),u=Go(Ls(.5,1),ou(r,i));return h=>e>i?h<r?u(h):l(h):h<r?l(h):u(h)};let C0=O0=class extends Oo{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:il,tickMethod:$l,tickCount:5}}constructor(e){super(e)}clone(){return new O0(this.options)}};C0=O0=f_([JS($I,KI)],C0);function al(t,e){let r,i;if(e===void 0)for(const l of t)l!=null&&(r===void 0?l>=l&&(r=i=l):(r>l&&(r=l),i<l&&(i=l)));else{let l=-1;for(let u of t)(u=e(u,++l,t))!=null&&(r===void 0?u>=u&&(r=i=u):(r>u&&(r=u),i<u&&(i=u)))}return[r,i]}function Jl(t,e){return Object.entries(t).reduce((r,[i,l])=>(r[i]=e(l,i,t),r),{})}function Ya(t){return t.map((e,r)=>r)}function h_(t){const e=t.length,r=t[0].length,i=new Array(r).fill(0).map(()=>new Array(e));for(let l=0;l<r;l++)for(let u=0;u<e;u++)i[l][u]=t[u][l];return i}function JI(t){return t[0]}function d_(t){return t[t.length-1]}function $4(t){return!t.some(Array.isArray)}function QI(t){return Array.from(new Set(t))}function p_(t,e){const r=[[],[]];return t.forEach(i=>{r[e(i)?0:1].push(i)}),r}function v_(t,e=t.length){if(e===1)return t.map(i=>[i]);const r=[];for(let i=0;i<t.length;i++){const l=t.slice(i+1);v_(l,e-1).forEach(h=>{r.push([t[i],...h])})}return r}function tR(t){if(t.length===1)return[t];const e=[];for(let r=1;r<=t.length;r++)e.push(...v_(t,r));return e}function jn(t,e){for(const[r,i]of Object.entries(e))t.style(r,i)}function eR(t,e){return e.forEach((r,i)=>i===0?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])),t.closePath(),t}function nR(t,e,r){const{arrowSize:i}=r,l=typeof i=="string"?+parseFloat(i)/100*mi(t,e):i,u=Math.PI/6,h=Math.atan2(e[1]-t[1],e[0]-t[0]),p=Math.PI/2-h-u,g=[e[0]-l*Math.sin(p),e[1]-l*Math.cos(p)],m=h-u,x=[e[0]-l*Math.cos(m),e[1]-l*Math.sin(m)];return[g,x]}function Md(t,e,r,i,l){const u=Si(ui(i,e))+Math.PI,h=Si(ui(i,r))+Math.PI;return t.arc(i[0],i[1],l,u,h,h-u<0),t}function g_(t,e,r,i="y",l="between"){const u=i==="y"||i===!0?r:e,h=i==="y"||i===!0?90:0,p=Ya(u),[g,m]=al(p,A=>u[A]),x=new Oo({domain:[g,m],range:[0,100]}),w=A=>x.map(u[A]),M={between:A=>`${t[A]} ${w(A)}%`,start:A=>A===0?`${t[A]} ${w(A)}%`:`${t[A-1]} ${w(A)}%, ${t[A]} ${w(A)}%`,end:A=>A===t.length-1?`${t[A]} ${w(A)}%`:`${t[A]} ${w(A)}%, ${t[A+1]} ${w(A)}%`},O=p.sort((A,E)=>w(A)-w(E)).map(M[l]||M.between).join(",");return`linear-gradient(${h}deg, ${O})`}function Sd(t){const[e,r,i,l]=t;return[l,e,r,i]}function Sf(t,e,r){const[i,l,,u]=gi(t)?Sd(e):e,[h,p]=r,g=t.getCenter(),m=au(ui(i,g)),x=au(ui(l,g)),w=x===m&&h!==p?x+Math.PI*2:x;return{startAngle:m,endAngle:w-m>=0?w:Math.PI*2+w,innerRadius:mi(u,g),outerRadius:mi(i,g)}}function m1(t){const e="connect";return Object.fromEntries(Object.entries(t).filter(([r])=>r.startsWith(e)).map(([r,i])=>[lowerFirst(r.replace(e,"").trim()),i]).filter(([r])=>r!==void 0))}function _d(t){const{colorAttribute:e,opacityAttribute:r=e}=t;return`${r}Opacity`}function y_(t,e){if(!ai(t))return"";const r=t.getCenter(),{transform:i}=e;return`translate(${r[0]}, ${r[1]}) ${i||""}`}function m_(t){if(t.length===1)return t[0];const[[e,r,i=0],[l,u,h=0]]=t;return[(e+l)/2,(r+u)/2,(i+h)/2]}var Od=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Cd(t,e,r,i,l={}){const{inset:u=0,radius:h=0,insetLeft:p=u,insetTop:g=u,insetRight:m=u,insetBottom:x=u,radiusBottomLeft:w=h,radiusBottomRight:M=h,radiusTopLeft:O=h,radiusTopRight:A=h,minWidth:E=-1/0,maxWidth:P=1/0}=l,I=Od(l,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth"]);if(!ai(i)&&!dS(i)){const Y=!!gi(i),[U,,X]=Y?Sd(e):e,[$,Q]=U,[ft,ot]=ui(X,U),J=ft>0?$:$+ft,st=ot>0?Q:Q+ot,gt=Math.abs(ft),Mt=Math.abs(ot),At=J+p,St=st+g,Ut=gt-(p+m),ce=Mt-(g+x),be=Y?Ut:xf(Ut,E,P),Le=Y?xf(ce,E,P):ce,nn=At-(be-Ut)/2,De=St-(Le-ce)/2;return Jn(t.createElement("rect",{})).style("x",nn).style("y",De).style("width",be).style("height",Le).style("radius",[O,A,M,w]).call(jn,I).node()}const{y:F,y1:N}=r,z=i.getCenter(),G=Sf(i,e,[F,N]),W=km().cornerRadius(h).padAngle(u*Math.PI/180);return Jn(t.createElement("path",{})).style("path",W(G)).style("transform",`translate(${z[0]}, ${z[1]})`).style("radius",h).style("inset",u).call(jn,I).node()}const cu=(t,e)=>{const{colorAttribute:r,opacityAttribute:i="fill",first:l=!0,last:u=!0}=t,h=Od(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:p,document:g}=e;return(m,x,w)=>{const{color:M,radius:O=0}=w,A=Od(w,["color","radius"]),E=A.lineWidth||1,{stroke:P,radius:I=O,radiusTopLeft:F=I,radiusTopRight:N=I,radiusBottomRight:z=I,radiusBottomLeft:G=I,innerRadius:W=0,innerRadiusTopLeft:Y=W,innerRadiusTopRight:U=W,innerRadiusBottomRight:X=W,innerRadiusBottomLeft:$=W,lineWidth:Q=r==="stroke"||P?E:0,inset:ft=0,insetLeft:ot=ft,insetRight:J=ft,insetBottom:st=ft,insetTop:gt=ft,minWidth:Mt,maxWidth:At}=h,St=Od(h,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth"]),{color:Ut=M,opacity:ce}=x,be=[l?F:Y,l?N:U,u?z:X,u?G:$],Le=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];gi(p)&&Le.push(Le.shift());const nn=Object.assign(Object.assign({radius:I},Object.fromEntries(Le.map((De,en)=>[De,be[en]]))),{inset:ft,insetLeft:ot,insetRight:J,insetBottom:st,insetTop:gt,minWidth:Mt,maxWidth:At});return Jn(Cd(g,m,x,p,nn)).call(jn,A).style("fill","transparent").style(r,Ut).style(_d(t),ce).style("lineWidth",Q).style("stroke",P===void 0?Ut:P).call(jn,St).node()}};cu.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Ql=(t,e)=>cu(Object.assign({colorAttribute:"fill"},t),e);Ql.props=Object.assign(Object.assign({},cu.props),{defaultMarker:"square"});const ss=(t,e)=>cu(Object.assign({colorAttribute:"stroke"},t),e);ss.props=Object.assign(Object.assign({},cu.props),{defaultMarker:"hollowSquare"});var rR=Array.prototype.slice;function x_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b_(t){this._context=t}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wo(t){return new b_(t)}function w_(t){return t[0]}function x1(t){return t[1]}function ol(t,e){var r=ii(!0),i=null,l=Wo,u=null,h=rd(p);t=typeof t=="function"?t:t===void 0?w_:ii(t),e=typeof e=="function"?e:e===void 0?x1:ii(e);function p(g){var m,x=(g=x_(g)).length,w,M=!1,O;for(i==null&&(u=l(O=h())),m=0;m<=x;++m)!(m<x&&r(w=g[m],m,g))===M&&((M=!M)?u.lineStart():u.lineEnd()),M&&u.point(+t(w,m,g),+e(w,m,g));if(O)return u=null,O+""||null}return p.x=function(g){return arguments.length?(t=typeof g=="function"?g:ii(+g),p):t},p.y=function(g){return arguments.length?(e=typeof g=="function"?g:ii(+g),p):e},p.defined=function(g){return arguments.length?(r=typeof g=="function"?g:ii(!!g),p):r},p.curve=function(g){return arguments.length?(l=g,i!=null&&(u=l(i)),p):l},p.context=function(g){return arguments.length?(g==null?i=u=null:u=l(i=g),p):i},p}function _f(){}function M_(t){this._context=t}M_.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function S_(t){return new M_(t)}var b1=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function A0(t,e,r){const[i,l,u,h]=t;if(gi(r)){const m=[e?e[0][0]:l[0],l[1]],x=[e?e[3][0]:u[0],u[1]];return[i,m,x,h]}const p=[l[0],e?e[0][1]:l[1]],g=[u[0],e?e[3][1]:u[1]];return[i,p,g,h]}const w1=(t,e)=>{const{adjustPoints:r=A0}=t,i=b1(t,["adjustPoints"]),{coordinate:l,document:u}=e;return(h,p,g,m)=>{const{index:x}=p,{color:w}=g,M=b1(g,["color"]),O=m[x+1],A=r(h,O,l),E=!!gi(l),[P,I,F,N]=E?Sd(A):A,{color:z=w,opacity:G}=p,W=ol().curve(S_)([P,I,F,N]);return Jn(u.createElement("path",{})).call(jn,M).style("path",W).style("fill",z).style("fillOpacity",G).call(jn,i).node()}};w1.props={defaultMarker:"square"};function iR(t,e,r){const[i,l,u,h]=t;if(gi(r)){const m=[e?e[0][0]:(l[0]+u[0])/2,l[1]],x=[e?e[3][0]:(l[0]+u[0])/2,u[1]];return[i,m,x,h]}const p=[l[0],e?e[0][1]:(l[1]+u[1])/2],g=[u[0],e?e[3][1]:(l[1]+u[1])/2];return[i,p,g,h]}const __=(t,e)=>w1(Object.assign({adjustPoints:iR},t),e);__.props={defaultMarker:"square"};var M1=kt(96695);function uu(t){return t==null?null:S1(t)}function S1(t){if(typeof t!="function")throw new Error;return t}var aR=kt(9783);function oR(t){var e=0,r=t.children,i=r&&r.length;if(!i)e=1;else for(;--i>=0;)e+=r[i].value;t.value=e}function sR(){return this.eachAfter(oR)}function lR(t,e){var r=-1,i=M1(this),l;try{for(i.s();!(l=i.n()).done;){var u=l.value;t.call(e,u,++r,this)}}catch(h){i.e(h)}finally{i.f()}return this}function cR(t,e){for(var r=this,i=[r],l,u,h=-1;r=i.pop();)if(t.call(e,r,++h,this),l=r.children)for(u=l.length-1;u>=0;--u)i.push(l[u]);return this}function uR(t,e){for(var r=this,i=[r],l=[],u,h,p,g=-1;r=i.pop();)if(l.push(r),u=r.children)for(h=0,p=u.length;h<p;++h)i.push(u[h]);for(;r=l.pop();)t.call(e,r,++g,this);return this}function fR(t,e){var r=-1,i=M1(this),l;try{for(i.s();!(l=i.n()).done;){var u=l.value;if(t.call(e,u,++r,this))return u}}catch(h){i.e(h)}finally{i.f()}}function hR(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,i=e.children,l=i&&i.length;--l>=0;)r+=i[l].value;e.value=r})}function dR(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function O_(t){for(var e=this,r=pR(e,t),i=[e];e!==r;)e=e.parent,i.push(e);for(var l=i.length;t!==r;)i.splice(l,0,t),t=t.parent;return i}function pR(t,e){if(t===e)return t;var r=t.ancestors(),i=e.ancestors(),l=null;for(t=r.pop(),e=i.pop();t===e;)l=t,t=r.pop(),e=i.pop();return l}function vR(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function gR(){return Array.from(this)}function yR(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mR(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}var T0=kt(15009),C_=T0().mark(A_);function A_(){var t,e,r,i,l,u;return T0().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:t=this,r=[t];case 1:e=r.reverse(),r=[];case 2:if(!(t=e.pop())){p.next=8;break}return p.next=5,t;case 5:if(i=t.children)for(l=0,u=i.length;l<u;++l)r.push(i[l]);p.next=2;break;case 8:if(r.length){p.next=1;break}case 9:case"end":return p.stop()}},C_,this)}function fu(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=wR)):e===void 0&&(e=bR);for(var r=new tc(t),i,l=[r],u,h,p,g;i=l.pop();)if((h=e(i.data))&&(g=(h=Array.from(h)).length))for(i.children=h,p=g-1;p>=0;--p)l.push(u=h[p]=new tc(h[p])),u.parent=i,u.depth=i.depth+1;return r.eachBefore(T_)}function xR(){return fu(this).eachBefore(MR)}function bR(t){return t.children}function wR(t){return Array.isArray(t)?t[1]:null}function MR(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function T_(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function tc(t){this.data=t,this.depth=this.height=0,this.parent=null}tc.prototype=fu.prototype=aR({constructor:tc,count:sR,each:lR,eachAfter:uR,eachBefore:cR,find:fR,sum:hR,sort:dR,path:O_,ancestors:vR,descendants:gR,leaves:yR,links:mR,copy:xR},Symbol.iterator,A_);var SR={depth:-1},E_={},_1={};function O1(t){return t.id}function _R(t){return t.parentId}function C1(){var t=O1,e=_R,r;function i(l){var u=Array.from(l),h=t,p=e,g,m,x,w,M,O,A,E,P=new Map;if(r!=null){var I=u.map(function(U,X){return Ad(r(U,X,l))}),F=I.map(Of),N=new Set(I).add(""),z=M1(F),G;try{for(z.s();!(G=z.n()).done;){var W=G.value;N.has(W)||(N.add(W),I.push(W),F.push(Of(W)),u.push(_1))}}catch(U){z.e(U)}finally{z.f()}h=function(X,$){return I[$]},p=function(X,$){return F[$]}}for(x=0,g=u.length;x<g;++x)m=u[x],O=u[x]=new tc(m),(A=h(m,x,l))!=null&&(A+="")&&(E=O.id=A,P.set(E,P.has(E)?E_:O)),(A=p(m,x,l))!=null&&(A+="")&&(O.parent=A);for(x=0;x<g;++x)if(O=u[x],A=O.parent){if(M=P.get(A),!M)throw new Error("missing: "+A);if(M===E_)throw new Error("ambiguous: "+A);M.children?M.children.push(O):M.children=[O],O.parent=M}else{if(w)throw new Error("multiple roots");w=O}if(!w)throw new Error("no root");if(r!=null){for(;w.data===_1&&w.children.length===1;)w=w.children[0],--g;for(var Y=u.length-1;Y>=0&&(O=u[Y],O.data===_1);--Y)O.data=null}if(w.parent=SR,w.eachBefore(function(U){U.depth=U.parent.depth+1,--g}).eachBefore(T_),w.parent=null,g>0)throw new Error("cycle");return w}return i.id=function(l){return arguments.length?(t=uu(l),i):t},i.parentId=function(l){return arguments.length?(e=uu(l),i):e},i.path=function(l){return arguments.length?(r=uu(l),i):r},i}function Ad(t){t="".concat(t);var e=t.length;return Td(t,e-1)&&!Td(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:"/".concat(t)}function Of(t){var e=t.length;if(e<2)return"";for(;--e>1&&!Td(t,e););return t.slice(0,e)}function Td(t,e){if(t[e]==="/"){for(var r=0;e>0&&t[--e]==="\\";)++r;if(!(r&1))return!0}return!1}const Ed=(t={})=>{const{channel:e="x"}=t;return(r,i)=>{const{encode:l}=i,{tooltip:u}=i;if(Ps(u))return[r,i];const{title:h}=u;if(h!==void 0)return[r,i];const p=Object.keys(l).filter(m=>m.startsWith(e)).filter(m=>!l[m].inferred).map(m=>Cr(l,m)).filter(([m])=>m).map(m=>m[0]);if(p.length===0)return[r,i];const g=[];for(const m of r)g[m]={value:p.map(x=>x[m]).join(", ")};return[r,sn({},i,{tooltip:{title:g}})]}};Ed.props={};const Is=t=>{const{channel:e}=t;return(r,i)=>{const{encode:l,tooltip:u}=i;if(Ps(u))return[r,i];const{items:h=[]}=u;if(!h||h.length>0)return[r,i];const g=(Array.isArray(e)?e:[e]).flatMap(m=>Object.keys(l).filter(x=>x.startsWith(m)).map(x=>{const{field:w,value:M,inferred:O=!1,aggregate:A}=l[x];return O?null:A&&M?{channel:x}:w?{field:w}:M?{channel:x}:null}).filter(x=>x!==null));return[r,sn({},i,{tooltip:{items:g}})]}};Is.props={};var sl=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const k_=()=>(t,e)=>{const{encode:r}=e,{key:i}=r,l=sl(r,["key"]);if(i!==void 0)return[t,e];const u=Object.values(l).map(({value:p})=>p),h=t.map(p=>u.filter(Array.isArray).map(g=>g[p]).join("-"));return[t,sn({},e,{encode:{key:ki(h)}})]};k_.props={};function E0(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Ua(t={}){return[...E0(t),{name:"title",scale:"identity"}]}function K4(){return[{type:MaybeTitle,channel:"color"},{type:MaybeTooltip,channel:["x","y","z"]}]}function ec(){return[{type:Ed,channel:"color"},{type:Is,channel:["x","y"]}]}function Cf(){return[{type:Ed,channel:"x"},{type:Is,channel:["y"]}]}function ls(){return[{type:Ed,channel:"color"},{type:Is,channel:["position"]}]}function Af(t={}){return E0(t)}function _i(){return[{type:k_}]}function Ri(){return[]}function A1(t,e){return t.getBandWidth(t.invert(e))}function hu(t,e,r={}){const{x:i,y:l,series:u}=e,{x:h,y:p,series:g}=t,{style:{bandOffset:m=g?0:.5,bandOffsetX:x=m,bandOffsetY:w=m}={}}=r,M=!!(h!=null&&h.getBandWidth),O=!!(p!=null&&p.getBandWidth),A=!!(g!=null&&g.getBandWidth);return!M&&!O?E=>E:(E,P)=>{const I=M?A1(h,i[P]):0,F=O?A1(p,l[P]):0,z=A&&u?(()=>(A1(g,u[P])/2+ +u[P])*I)():0,[G,W]=E;return[G+x*I+z,W+w*F]}}function k0(t){return parseFloat(t)/100}function T1(t,e,r,i){const{x:l,y:u}=r,{innerWidth:h,innerHeight:p}=i.getOptions(),g=Array.from(t,m=>{const x=l[m],w=u[m],M=typeof x=="string"?k0(x)*h:+x,O=typeof w=="string"?k0(w)*p:+w;return[[M,O]]});return[t,g]}function ll(t){return typeof t=="function"?t:e=>e[t]}function E1(t,e){return Array.from(t,ll(e))}function P_(t,e){const{source:r=x=>x.source,target:i=x=>x.target,value:l=x=>x.value}=e,{links:u,nodes:h}=t,p=E1(u,r),g=E1(u,i),m=E1(u,l);return{links:u.map((x,w)=>({target:g[w],source:p[w],value:m[w]})),nodes:h||Array.from(new Set([...p,...g]),x=>({key:x}))}}function OR(t,e){return Array.isArray(t)?typeof e=="function"?C1().path(e)(t):C1()(t):fu(t)}function nc(t,e){return t.getBandWidth(t.invert(e))}const L_={rect:Ql,hollow:ss,funnel:w1,pyramid:__},I_=()=>(t,e,r,i)=>{const{x:l,y:u,y1:h,series:p,size:g}=r,m=e.x,x=e.series,[w]=i.getSize(),M=g?g.map(E=>+E/w):null,O=g?(E,P,I)=>{const F=E+P/2,N=M[I];return[F-N/2,F+N/2]}:(E,P,I)=>[E,E+P],A=Array.from(t,E=>{const P=nc(m,l[E]),I=x?nc(x,p==null?void 0:p[E]):1,F=P*I,N=(+(p==null?void 0:p[E])||0)*P,z=+l[E]+N,[G,W]=O(z,F,E),Y=+u[E],U=+h[E];return[[G,Y],[W,Y],[W,U],[G,U]].map(ot=>i.map(ot))});return[t,A]};I_.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:L_,channels:[...Ua({shapes:Object.keys(L_)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[..._i(),{type:vf},{type:Ul}],postInference:[...Ri(),...Cf()],interaction:{shareTooltip:!0}};const k1={rect:Ql,hollow:ss},P1=()=>(t,e,r,i)=>{const{x:l,x1:u,y:h,y1:p}=r,g=Array.from(t,m=>{const x=[+l[m],+h[m]],w=[+u[m],+h[m]],M=[+u[m],+p[m]],O=[+l[m],+p[m]];return[x,w,M,O].map(A=>i.map(A))});return[t,g]};P1.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:k1,channels:[...Ua({shapes:Object.keys(k1)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i(),{type:vf}],postInference:[...Ri(),...Cf()],interaction:{shareTooltip:!0}};var R_=cl(Wo);function Tf(t){this._curve=t}Tf.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function cl(t){function e(r){return new Tf(t(r))}return e._curve=t,e}function kd(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?e(cl(r)):e()._curve},t}function L1(){return kd(ol().curve(R_))}function Ef(t){const e=typeof t=="function"?t:t.render;return class extends Ky{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}var F_=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const CR=Ef(t=>{const{d1:e,d2:r,style1:i,style2:l}=t.attributes,u=t.ownerDocument;Jn(t).maybeAppend("line",()=>u.createElement("path",{})).style("d",e).call(jn,i),Jn(t).maybeAppend("line1",()=>u.createElement("path",{})).style("d",r).call(jn,l)});function AR(t,e){const r=[],i=[];let l=!1,u=null;for(const h of t)!e(h[0])||!e(h[1])?l=!0:(r.push(h),l&&(l=!1,i.push([u,h])),u=h);return[r,i]}const ga=(t,e)=>{const{curve:r,gradient:i=!1,gradientColor:l="between",defined:u=x=>!Number.isNaN(x)&&x!==void 0&&x!==null,connect:h=!1}=t,p=F_(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:g,document:m}=e;return(x,w,M)=>{const{color:O,lineWidth:A}=M,E=F_(M,["color","lineWidth"]),{color:P=O,size:I=A,seriesColor:F,seriesX:N,seriesY:z}=w,G=i&&F?g_(F,N,z,i,l):P,W=y_(g,w),Y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),G&&{stroke:G}),I&&{lineWidth:I}),W&&{transform:W}),p);let U;if(ai(g)){const J=g.getCenter();U=st=>L1().angle((gt,Mt)=>au(ui(st[Mt],J))).radius((gt,Mt)=>mi(st[Mt],J)).defined(([gt,Mt])=>u(gt)&&u(Mt)).curve(r)(st)}else U=ol().x(J=>J[0]).y(J=>J[1]).defined(([J,st])=>u(J)&&u(st)).curve(r);const[X,$]=AR(x,u),Q=kn(Y,"connect"),ft=!!$.length;if(!ft||h&&!Object.keys(Q).length)return Jn(m.createElement("path",{})).style("d",U(X)||[]).call(jn,Y).node();if(ft&&!h)return Jn(m.createElement("path",{})).style("d",U(x)).call(jn,Y).node();const ot=J=>J.map(U).join(",");return Jn(new CR).style("style1",Object.assign(Object.assign({},Y),Q)).style("style2",Y).style("d1",ot($)).style("d2",U(x)).node()}};ga.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Pd=(t,e)=>{const{coordinate:r}=e;return(...i)=>{const l=ai(r)?S_:Wo;return ga(Object.assign({curve:l},t),e)(...i)}};Pd.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"line"});function I1(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function R1(t,e){this._context=t,this._k=(1-e)/6}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:I1(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:I1(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ld=function t(e){function r(i){return new R1(i,e)}return r.tension=function(i){return t(+i)},r}(0);function F1(t,e){this._context=t,this._k=(1-e)/6}F1.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:I1(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var J4=function t(e){function r(i){return new F1(i,e)}return r.tension=function(i){return t(+i)},r}(0);function D1(t,e,r){var i=t._x1,l=t._y1,u=t._x2,h=t._y2;if(t._l01_a>Ca){var p=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,g=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*p-t._x0*t._l12_2a+t._x2*t._l01_2a)/g,l=(l*p-t._y0*t._l12_2a+t._y2*t._l01_2a)/g}if(t._l23_a>Ca){var m=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,x=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*m+t._x1*t._l23_2a-e*t._l12_2a)/x,h=(h*m+t._y1*t._l23_2a-r*t._l12_2a)/x}t._context.bezierCurveTo(i,l,u,h,t._x2,t._y2)}function P0(t,e){this._context=t,this._alpha=e}P0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:D1(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var D_=function t(e){function r(i){return e?new P0(i,e):new R1(i,0)}return r.alpha=function(i){return t(+i)},r}(.5);function B_(t,e){this._context=t,this._alpha=e}B_.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:D1(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var N_=function t(e){function r(i){return e?new B_(i,e):new F1(i,0)}return r.alpha=function(i){return t(+i)},r}(.5),B1=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const N1=(t,e)=>{const{alpha:r=.5}=t,i=B1(t,["alpha"]),{coordinate:l}=e;return(...u)=>{const h=ai(l)?N_:D_;return ga(Object.assign({curve:h.alpha(r)},i),e)(...u)}};N1.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"smooth"});function L0(t,e){this._context=t,this._t=e}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function z_(t){return new L0(t,.5)}function z1(t){return new L0(t,0)}function j1(t){return new L0(t,1)}const j_=(t,e)=>ga(Object.assign({curve:j1},t),e);j_.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"hv"});const G1=(t,e)=>ga(Object.assign({curve:z1},t),e);G1.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"vh"});const W1=(t,e)=>ga(Object.assign({curve:z_},t),e);W1.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"hvh"});var G_=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function TR(t,e,r,i,l){const u=ui(r,e),h=Si(u),p=h+Math.PI/2,g=[i/2*Math.cos(p),i/2*Math.sin(p)],m=[l/2*Math.cos(p),l/2*Math.sin(p)],x=[l/2*Math.cos(h),l/2*Math.sin(h)],w=[i/2*Math.cos(h),i/2*Math.sin(h)],M=gr(e,g),O=gr(r,m),A=gr(O,x),E=gr(r,x),P=ui(E,m),I=ui(r,m),F=ui(e,g),N=ui(F,w),z=ui(e,w),G=ui(M,w);t.moveTo(...M),t.lineTo(...O),t.arcTo(...A,...E,l/2),t.arcTo(...P,...I,l/2),t.lineTo(...F),t.arcTo(...N,...z,i/2),t.arcTo(...G,...M,i/2),t.closePath()}const V1=(t,e)=>{const{document:r}=e;return(i,l,u)=>{const{seriesSize:h,color:p}=l,{color:g}=u,m=G_(u,["color"]),x=So();for(let w=0;w<i.length-1;w++){const M=i[w],O=i[w+1],A=h[w],E=h[w+1];[...M,...O].every(yi)&&TR(x,M,O,A,E)}return Jn(r.createElement("path",{})).call(jn,m).style("fill",p||g).style("d",x.toString()).call(jn,t).node()}};V1.props=Object.assign(Object.assign({},ga.props),{defaultMarker:"line"});const I0=()=>(t,e)=>{const{style:r={},encode:i}=e,{series:l}=i,{gradient:u}=r;return!u||l?[t,e]:[t,sn({},e,{encode:{series:td(rl(t,void 0))}})]};I0.props={};const R0=()=>(t,e)=>{const{encode:r}=e,{series:i,color:l}=r;if(i!==void 0||l===void 0)return[t,e];const[u,h]=Cr(r,"color");return[t,sn({},e,{encode:{series:ki(u,h)}})]};R0.props={};const W_={line:Pd,smooth:N1,hv:j_,vh:G1,hvh:W1,trail:V1},V_=(t,e,r,i)=>{var l,u;const{series:h,x:p,y:g}=r,{x:m,y:x}=e;if(p===void 0||g===void 0)throw new Error("Missing encode for x or y channel.");const w=h?Array.from(oi(t,P=>h[P]).values()):[t],M=w.map(P=>P[0]).filter(P=>P!==void 0),O=(((l=m==null?void 0:m.getBandWidth)===null||l===void 0?void 0:l.call(m))||0)/2,A=(((u=x==null?void 0:x.getBandWidth)===null||u===void 0?void 0:u.call(x))||0)/2,E=Array.from(w,P=>P.map(I=>i.map([+p[I]+O,+g[I]+A])));return[M,E,w]},H1=(t,e,r,i)=>{const l=Object.entries(r).filter(([h])=>h.startsWith("position")).map(([,h])=>h);if(l.length===0)throw new Error("Missing encode for position channel.");const u=Array.from(t,h=>{const p=l.map(x=>+x[h]),g=i.map(p),m=[];for(let x=0;x<g.length;x+=2)m.push([g[x],g[x+1]]);return m});return[t,u]},Y1=()=>(t,e,r,i)=>(jo(i)?H1:V_)(t,e,r,i);Y1.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:W_,channels:[...Ua({shapes:Object.keys(W_)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[..._i(),{type:I0},{type:R0}],postInference:[...Ri(),...Cf(),...ls()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};var ER=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const U1=(t,e,r)=>[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"]];U1.style=["fill"];const H_=U1.bind(void 0);H_.style=["stroke","lineWidth"];const kf=(t,e,r)=>[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]];kf.style=["fill"];const Y_=kf.bind(void 0);Y_.style=["fill"];const X1=kf.bind(void 0);X1.style=["stroke","lineWidth"];const Z1=(t,e,r)=>{const i=r*.618;return[["M",t-i,e],["L",t,e-r],["L",t+i,e],["L",t,e+r],["Z"]]};Z1.style=["fill"];const q1=Z1.bind(void 0);q1.style=["stroke","lineWidth"];const $1=(t,e,r)=>{const i=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+i],["L",t,e-i],["L",t+r,e+i],["Z"]]};$1.style=["fill"];const U_=$1.bind(void 0);U_.style=["stroke","lineWidth"];const K1=(t,e,r)=>{const i=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+i],["Z"]]};K1.style=["fill"];const J1=K1.bind(void 0);J1.style=["stroke","lineWidth"];const Q1=(t,e,r)=>{const i=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+i,e-r/2],["L",t+i,e+r/2],["L",t,e+r],["L",t-i,e+r/2],["L",t-i,e-r/2],["Z"]]};Q1.style=["fill"];const X_=Q1.bind(void 0);X_.style=["stroke","lineWidth"];const tx=(t,e,r)=>{const i=r-1.5;return[["M",t-r,e-i],["L",t+r,e+i],["L",t+r,e-i],["L",t-r,e+i],["Z"]]};tx.style=["fill"];const Z_=tx.bind(void 0);Z_.style=["stroke","lineWidth"];const q_=(t,e,r)=>[["M",t,e+r],["L",t,e-r]];q_.style=["stroke","lineWidth"];const $_=(t,e,r)=>[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]];$_.style=["stroke","lineWidth"];const ex=(t,e,r)=>[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]];ex.style=["stroke","lineWidth"];const Aa=(t,e,r)=>[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]];Aa.style=["stroke","lineWidth"];const K_=(t,e,r)=>[["M",t-r,e],["L",t+r,e]];K_.style=["stroke","lineWidth"];const Pf=(t,e,r)=>[["M",t-r,e],["L",t+r,e]];Pf.style=["stroke","lineWidth"];const J_=Pf.bind(void 0);J_.style=["stroke","lineWidth"];const F0=(t,e,r)=>[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]];F0.style=["stroke","lineWidth"];const Q_=(t,e,r)=>[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]];Q_.style=["stroke","lineWidth"];const tO=(t,e,r)=>[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]];tO.style=["stroke","lineWidth"];const eO=(t,e,r)=>[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]];eO.style=["stroke","lineWidth"];const nx=(t,e,r)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];nx.style=["stroke","lineWidth"];const Lf=new Map([["bowtie",tx],["cross",$_],["dash",J_],["diamond",Z1],["dot",Pf],["hexagon",Q1],["hollowBowtie",Z_],["hollowDiamond",q1],["hollowHexagon",X_],["hollowPoint",H_],["hollowSquare",X1],["hollowTriangle",U_],["hollowTriangleDown",J1],["hv",Q_],["hvh",eO],["hyphen",K_],["line",q_],["plus",Aa],["point",U1],["rect",Y_],["smooth",F0],["square",kf],["tick",ex],["triangleDown",K1],["triangle",$1],["vh",tO],["vhv",nx]]);function kR(t,e){var{d:r,fill:i,strokeWidth:l,path:u,stroke:h,lineWidth:p,color:g}=e,m=ER(e,["d","fill","strokeWidth","path","stroke","lineWidth","color"]);const x=Lf.get(t)||Lf.get("point");return(...w)=>new Va({style:Object.assign(Object.assign({},m),{path:x(...w),stroke:x.style.includes("stroke")?g||h:"",fill:x.style.includes("fill")?g||i:"",lineWidth:x.style.includes("lineWidth")?p||p||2:0})})}function Q4(t,e){Lf.set(t,e)}function t8(t){Lf.delete(t)}var PR=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function LR(t,e,r,i){if(e.length===1)return;const{size:l}=r;if(t==="fixed")return l;if(t==="normal"||r0(i)){const[[u,h],[p,g]]=e,m=Math.abs((p-u)/2),x=Math.abs((g-h)/2);return Math.max(0,(m+x)/2)}return l}const yr=(t,e)=>{const{colorAttribute:r,symbol:i,mode:l="auto"}=t,u=PR(t,["colorAttribute","symbol","mode"]),h=Lf.get(i)||Lf.get("point"),{coordinate:p,document:g}=e;return(m,x,w)=>{const{lineWidth:M,color:O}=w,A=u.stroke?M||1:M,{color:E=O,transform:P,opacity:I}=x,[F,N]=m_(m),G=LR(l,m,x,p)||u.r||w.r;return Jn(g.createElement("path",{})).call(jn,w).style("fill","transparent").style("d",h(F,N,G)).style("lineWidth",A).style("transform",P).style("stroke",E).style(_d(t),I).style(r,E).call(jn,u).node()}};yr.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const nO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);nO.props=Object.assign({defaultMarker:"hollowPoint"},yr.props);const rO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);rO.props=Object.assign({defaultMarker:"hollowDiamond"},yr.props);const iO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);iO.props=Object.assign({defaultMarker:"hollowHexagon"},yr.props);const rx=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);rx.props=Object.assign({defaultMarker:"hollowSquare"},yr.props);const ix=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);ix.props=Object.assign({defaultMarker:"hollowTriangleDown"},yr.props);const aO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);aO.props=Object.assign({defaultMarker:"hollowTriangle"},yr.props);const ax=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);ax.props=Object.assign({defaultMarker:"hollowBowtie"},yr.props);const oO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);oO.props=Object.assign({defaultMarker:"point"},yr.props);const sO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);sO.props=Object.assign({defaultMarker:"plus"},yr.props);const lO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);lO.props=Object.assign({defaultMarker:"diamond"},yr.props);const cO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);cO.props=Object.assign({defaultMarker:"square"},yr.props);const uO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);uO.props=Object.assign({defaultMarker:"triangle"},yr.props);const fO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);fO.props=Object.assign({defaultMarker:"hexagon"},yr.props);const hO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);hO.props=Object.assign({defaultMarker:"cross"},yr.props);const dO=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);dO.props=Object.assign({defaultMarker:"bowtie"},yr.props);const pO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);pO.props=Object.assign({defaultMarker:"hyphen"},yr.props);const vO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);vO.props=Object.assign({defaultMarker:"line"},yr.props);const gO=(t,e)=>yr(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);gO.props=Object.assign({defaultMarker:"tick"},yr.props);const Rs=(t,e)=>yr(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);Rs.props=Object.assign({defaultMarker:"triangleDown"},yr.props);const Id=()=>(t,e)=>{const{encode:r}=e,{y:i}=r;return i!==void 0?[t,e]:[t,sn({},e,{encode:{y:Qh(rl(t,0))},scale:{y:{guide:null}}})]};Id.props={};const Xa=()=>(t,e)=>{const{encode:r}=e,{size:i}=r;return i!==void 0?[t,e]:[t,sn({},e,{encode:{size:td(rl(t,3))}})]};Xa.props={};const Vo={hollow:nO,hollowDiamond:rO,hollowHexagon:iO,hollowSquare:rx,hollowTriangleDown:ix,hollowTriangle:aO,hollowBowtie:ax,point:oO,plus:sO,diamond:lO,square:cO,triangle:uO,hexagon:fO,cross:hO,bowtie:dO,hyphen:pO,line:vO,tick:gO,triangleDown:Rs},ox=t=>(e,r,i,l)=>{const{x:u,y:h,x1:p,y1:g,size:m,dx:x,dy:w}=i,[M,O]=l.getSize(),A=hu(r,i,t),E=I=>{const F=+((x==null?void 0:x[I])||0),N=+((w==null?void 0:w[I])||0),z=p?(+u[I]+ +p[I])/2:+u[I],G=g?(+h[I]+ +g[I])/2:+h[I],W=z+F,Y=G+N;return[W,Y]},P=m?Array.from(e,I=>{const[F,N]=E(I),z=+m[I],G=z/M,W=z/O,Y=[F-G,N-W],U=[F+G,N+W];return[l.map(A(Y,I)),l.map(A(U,I))]}):Array.from(e,I=>[l.map(A(E(I),I))]);return[e,P]};ox.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:Vo,channels:[...Ua({shapes:Object.keys(Vo)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[..._i(),{type:Ul},{type:Id}],postInference:[...Ri(),{type:Xa},...ec()]};var yO=function(t){return os(t,"Number")},e8=yO,Gi=function(t){return typeof t=="function"};function kr(t,e){e(t),t.children&&t.children.forEach(function(r){r&&kr(r,e)})}function If(t){ul(t,!0)}function rc(t){ul(t,!1)}function ul(t,e){var r=e?"visible":"hidden";kr(t,function(i){i.attr("visibility",r)})}var IR=function(t){return typeof t=="object"&&t!==null},sx=IR,mO={}.toString,RR=function(t,e){return mO.call(t)==="[object "+e+"]"},D0=RR,xO=function(t){if(!sx(t)||!D0(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Rd=xO,Re=function(t){return Array.isArray?Array.isArray(t):D0(t,"Array")},lx=5,Un=function(t,e,r,i){r===void 0&&(r=0),i===void 0&&(i=lx),Object.entries(e).forEach(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1],g=t;Object.prototype.hasOwnProperty.call(e,h)&&(p?Rd(p)?(Rd(t[h])||(g[h]={}),r<i?Un(t[h],p,r+1,i):g[h]=e[h]):Re(p)?(g[h]=[],g[h]=g[h].concat(p)):g[h]=p:g[h]=p)})},fi=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)Un(t,e[i]);return t},B0=function(t){(0,B.ZT)(e,t);function e(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var l=t.apply(this,(0,B.ev)([],(0,B.CR)(r),!1))||this;return l.addEventListener($n.INSERTED,function(){rc(l)}),l}return e}(da);function Rf(t){var e=t.appendChild(new B0({class:"offscreen"}));return rc(e),e}function FR(t){for(var e=t;e;){if(e.className==="offscreen")return!0;e=e.parent}return!1}function Zi(){ul(this,this.attributes.visibility!=="hidden")}var Wi=function(t){(0,B.ZT)(e,t);function e(r,i){i===void 0&&(i={});var l=t.call(this,fi({},{style:i},r))||this;return l.initialized=!1,l._defaultOptions=i,l}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Rf(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},e.prototype.attributeChangedCallback=function(r){r==="visibility"&&Zi.call(this)},e.prototype.update=function(r,i){var l;return r===void 0&&(r={}),this.attr(fi({},this.attributes,r)),(l=this.render)===null||l===void 0?void 0:l.call(this,this.attributes,this,i)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(r,i){},e}(Ky);function so(t,e,r,i,l){return i===void 0&&(i=!0),l===void 0&&(l=function(u){u.node().removeChildren()}),t?r(e):(i&&l(e),null)}var bO=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=r.style,l=(0,B._T)(r,["style"]);return t.call(this,(0,B.pi)({style:(0,B.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},i)},l))||this}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Rf(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var r;(r=this._offscreen)===null||r===void 0||r.destroy()},e}(jl);function du(t){throw new Error(t)}var DR=function(){function t(i,l,u,h,p,g,m){i===void 0&&(i=null),l===void 0&&(l=null),u===void 0&&(u=null),h===void 0&&(h=null),p===void 0&&(p=[null,null,null,null,null]),g===void 0&&(g=[]),m===void 0&&(m=[]),e.add(this),this._elements=Array.from(i),this._data=l,this._parent=u,this._document=h,this._enter=p[0],this._update=p[1],this._exit=p[2],this._merge=p[3],this._split=p[4],this._transitions=g,this._facetElements=m}t.prototype.selectAll=function(i){var l=typeof i=="string"?this._parent.querySelectorAll(i):i;return new t(l,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(i){var l=typeof i=="string"?this._parent.querySelectorAll(i):i;return new t(this._elements,null,this._parent,this._document,void 0,void 0,l)},t.prototype.select=function(i){var l=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new t([l],null,l,this._document)},t.prototype.append=function(i){var l=this,u=typeof i=="function"?i:function(){return l.createElement(i)},h=[];if(this._data!==null){for(var p=0;p<this._data.length;p++){var g=this._data[p],m=(0,B.CR)(Array.isArray(g)?g:[g,null],2),x=m[0],w=m[1],M=u(x,p);M.__data__=x,w!==null&&(M.__fromElements__=w),this._parent.appendChild(M),h.push(M)}return new t(h,null,this._parent,this._document)}for(var p=0;p<this._elements.length;p++){var O=this._elements[p],x=O.__data__,M=u(x,p);O.appendChild(M),h.push(M)}return new t(h,null,h[0],this._document)},t.prototype.maybeAppend=function(i,l){var u=(0,B.Q_)(this,e,"m",r).call(this,i[0]==="#"?i:"#".concat(i),l);return u.attr("id",i),u},t.prototype.maybeAppendByClassName=function(i,l){var u=i.toString(),h=(0,B.Q_)(this,e,"m",r).call(this,u[0]==="."?u:".".concat(u),l);return h.attr("className",u),h},t.prototype.maybeAppendByName=function(i,l){var u=(0,B.Q_)(this,e,"m",r).call(this,'[name="'.concat(i,'"]'),l);return u.attr("name",i),u},t.prototype.data=function(i,l,u){var h,p;l===void 0&&(l=function(X){return X}),u===void 0&&(u=function(){return null});for(var g=[],m=[],x=new Set(this._elements),w=[],M=new Set,O=new Map(this._elements.map(function(X,$){return[l(X.__data__,$),X]})),A=new Map(this._facetElements.map(function(X,$){return[l(X.__data__,$),X]})),E=oi(this._elements,function(X){return u(X.__data__)}),P=0;P<i.length;P++){var I=i[P],F=l(I,P),N=u(I,P);if(O.has(F)){var z=O.get(F);z.__data__=I,z.__facet__=!1,m.push(z),x.delete(z),O.delete(F)}else if(A.has(F)){var z=A.get(F);z.__data__=I,z.__facet__=!0,m.push(z),A.delete(F)}else if(E.has(F)){var G=E.get(F);w.push([I,G]);try{for(var W=(h=void 0,(0,B.XA)(G)),Y=W.next();!Y.done;Y=W.next()){var z=Y.value;x.delete(z)}}catch(X){h={error:X}}finally{try{Y&&!Y.done&&(p=W.return)&&p.call(W)}finally{if(h)throw h.error}}E.delete(F)}else if(O.has(N)){var z=O.get(N);z.__toData__?z.__toData__.push(I):z.__toData__=[I],M.add(z),x.delete(z)}else g.push(I)}var U=[new t([],g,this._parent,this._document),new t(m,null,this._parent,this._document),new t(x,null,this._parent,this._document),new t([],w,this._parent,this._document),new t(M,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,U)},t.prototype.merge=function(i){var l=(0,B.ev)((0,B.ev)([],(0,B.CR)(this._elements),!1),(0,B.CR)(i._elements),!1),u=(0,B.ev)((0,B.ev)([],(0,B.CR)(this._transitions),!1),(0,B.CR)(i._transitions),!1);return new t(l,null,this._parent,this._document,void 0,u)},t.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var l=t.registry[i];return l?new l:du("Unknown node type: ".concat(i))},t.prototype.join=function(i,l,u,h,p){i===void 0&&(i=function(O){return O}),l===void 0&&(l=function(O){return O}),u===void 0&&(u=function(O){return O.remove()}),h===void 0&&(h=function(O){return O}),p===void 0&&(p=function(O){return O.remove()});var g=i(this._enter),m=l(this._update),x=u(this._exit),w=h(this._merge),M=p(this._split);return m.merge(g).merge(x).merge(w).merge(M)},t.prototype.remove=function(){for(var i=function(h){var p=l._elements[h],g=l._transitions[h];g?g.then(function(){return p.remove()}):p.remove()},l=this,u=0;u<this._elements.length;u++)i(u);return new t([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(i){for(var l=0;l<this._elements.length;l++){var u=this._elements[l],h=u.__data__;i.call(u,h,l)}return this},t.prototype.attr=function(i,l){var u=typeof l!="function"?function(){return l}:l;return this.each(function(h,p){l!==void 0&&(this[i]=u.call(this,h,p))})},t.prototype.style=function(i,l,u){u===void 0&&(u=!0);var h=typeof l!="function"||!u?function(){return l}:l;return this.each(function(p,g){l!==void 0&&(this.style[i]=h.call(this,p,g))})},t.prototype.styles=function(i,l){return i===void 0&&(i={}),l===void 0&&(l=!0),this.each(function(u,h){var p=this;Object.entries(i).forEach(function(g){var m=(0,B.CR)(g,2),x=m[0],w=m[1],M=typeof w!="function"||!l?function(){return w}:w;w!==void 0&&p.attr(x,M.call(p,u,h))})})},t.prototype.update=function(i,l){l===void 0&&(l=!0);var u=typeof i!="function"||!l?function(){return i}:i;return this.each(function(h,p){i&&this.update&&this.update(u.call(this,h,p))})},t.prototype.maybeUpdate=function(i,l){l===void 0&&(l=!0);var u=typeof i!="function"||!l?function(){return i}:i;return this.each(function(h,p){i&&this.update&&this.update(u.call(this,h,p))})},t.prototype.transition=function(i){var l=this._transitions;return this.each(function(u,h){l[h]=i.call(this,u,h)})},t.prototype.on=function(i,l){return this.each(function(){this.addEventListener(i,l)}),this},t.prototype.call=function(i){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return i.call.apply(i,(0,B.ev)([this._parent,this],(0,B.CR)(l),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},t.prototype.parent=function(){return this._parent};var e,r;return e=new WeakSet,r=function(l,u){var h=this._elements[0],p=h.querySelector(l);if(p)return new t([p],null,this._parent,this._document);var g=typeof u=="string"?this.createElement(u):u();return h.appendChild(g),new t([g],null,this._parent,this._document)},t.registry={g:da,rect:qc,circle:zl,path:Va,text:bO,ellipse:Jy,image:Tv,line:Vh,polygon:As,polyline:Qy,html:no},t}();function Qn(t){return new DR([t],null,t,t.ownerDocument)}function Fd(t,e,r){return t.querySelector(e)?Qn(t).select(e):Qn(t).append(r)}var N0=function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"]]},BR=N0,NR=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},zR=function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},jR=function(t,e,r){var i=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+i],["L",t,e-i],["L",t+r,e+i],["Z"]]},wO=function(t,e,r){var i=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+i],["Z"]]},MO=function(t,e,r){var i=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+i,e-r/2],["L",t+i,e+r/2],["L",t,e+r],["L",t-i,e+r/2],["L",t-i,e-r/2],["Z"]]},SO=function(t,e,r){var i=r-1.5;return[["M",t-r,e-i],["L",t+r,e+i],["L",t+r,e-i],["L",t-r,e+i],["Z"]]},Dd=function(t,e,r){return[["M",t,e+r],["L",t,e-r]]},GR=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]]},_O=function(t,e,r){return[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]]},ar=function(t,e,r){return[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]]},Bd=function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},cx=function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},Nd=cx,z0=function(t,e,r){return[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]]},ux=function(t,e,r){return[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]]},fx=function(t,e,r){return[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]]},OO=function(t,e,r){return[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]]};function CO(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var hx=function(t,e,r){return[["M",t-r,e-r],["L",t+r,e],["L",t-r,e+r],["Z"]]},AO=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"},ic=function(t){return D0(t,"String")};function WR(t){var e="default";if(AO(t)&&t instanceof Image)e="image";else if(Gi(t))e="symbol";else if(ic(t)){var r=new RegExp("data:(image|text)");t.match(r)?e="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?e="url":e="symbol"}return e}function VR(t){var e=WR(t);return["base64","url","image"].includes(e)?"image":t&&e==="symbol"?"path":null}var Hr=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i){var l=r.symbol,u=r.size,h=u===void 0?16:u,p=(0,B._T)(r,["symbol","size"]),g=VR(l);so(!!g,Qn(i),function(m){m.maybeAppendByClassName("marker",g).attr("className","marker ".concat(g,"-marker")).call(function(x){if(g==="image"){var w=h*2;x.styles({img:l,width:w,height:w,x:-h,y:-h})}else{var w=h/2,M=Gi(l)?l:e.getSymbol(l);x.styles((0,B.pi)({path:M==null?void 0:M(0,0,w)},p))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(r,i){e.MARKER_SYMBOL_MAP.set(r,i)},e.getSymbol=function(r){return e.MARKER_SYMBOL_MAP.get(r)},e}(Wi);Hr.registerSymbol("cross",GR),Hr.registerSymbol("hyphen",Bd),Hr.registerSymbol("line",Dd),Hr.registerSymbol("plus",ar),Hr.registerSymbol("tick",_O),Hr.registerSymbol("circle",N0),Hr.registerSymbol("point",BR),Hr.registerSymbol("bowtie",SO),Hr.registerSymbol("hexagon",MO),Hr.registerSymbol("square",NR),Hr.registerSymbol("diamond",zR),Hr.registerSymbol("triangle",jR),Hr.registerSymbol("triangle-down",wO),Hr.registerSymbol("line",Dd),Hr.registerSymbol("dot",cx),Hr.registerSymbol("dash",Nd),Hr.registerSymbol("smooth",z0),Hr.registerSymbol("hv",ux),Hr.registerSymbol("vh",fx),Hr.registerSymbol("hvh",OO),Hr.registerSymbol("vhv",CO);var dx=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function HR(t){const{min:[e,r],max:[i,l]}=t.getLocalBounds();let u=0,h=0;return e>0&&(u=e),i<0&&(u=i),r>0&&(h=r),l<0&&(h=l),[u,h]}function YR(t,e=[]){const[r=0,i=0,l=r,u=i]=e,h=t.parentNode,p=h.getEulerAngles();h.setEulerAngles(0);const{min:g,halfExtents:m}=t.getLocalBounds(),[x,w]=g,[M,O]=m;return h.setEulerAngles(p),{x:x-u,y:w-r,width:M*2+u+i,height:O*2+r+l}}const UR=(t,e,r)=>{const i=mi(t,e),l=mi(e,r),u=mi(r,t);return(Math.pow(i,2)+Math.pow(l,2)-Math.pow(u,2))/(2*i*l)};function XR(t,e,r,i){const[[l,u],[h,p]]=e,[g,m]=HR(t);if(l===h&&u===p)return ol()([[0,0],[g,m]]);const x=[[l-h,u-p]].concat(r.length?r:[[0,0]]),w=[i[0]-h,i[1]-p],[M,O]=x;if(UR(w,M,O)>0){const A=(()=>{const{min:E,max:P}=t.getLocalBounds(),I=M[0]+(M[1]-w[1])*(M[1]-0)/(M[0]-w[0]);return P[0]<w[0]?Math.min(P[0],I):Math.max(E[0],I)})();x.splice(1,1,[A,0])}return ol()(x)}const lo=Ef(t=>{const e=t.attributes,{className:r,class:i,transform:l,rotate:u,labelTransform:h,labelTransformOrigin:p,x:g,y:m,x0:x=g,y0:w=m,text:M,background:O,connector:A,startMarker:E,endMarker:P,coordCenter:I,innerHTML:F}=e,N=dx(e,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if([g,m,x,w].some(gt=>!e8(gt))){t.children.forEach(gt=>gt.remove());return}const z=kn(N,"background"),{padding:G}=z,W=dx(z,["padding"]),Y=kn(N,"connector"),{points:U=[]}=Y,X=dx(Y,["points"]),$=[[+x,+w],[+g,+m]];let Q;F?Q=Jn(t).maybeAppend("html","html",r).style("zIndex",0).style("innerHTML",F).call(jn,Object.assign({transform:h,transformOrigin:p},N)).node():Q=Jn(t).maybeAppend("text","text").style("zIndex",0).style("text",M).call(jn,Object.assign({textBaseline:"middle",transform:h,transformOrigin:p},N)).node();const ft=Jn(t).maybeAppend("background","rect").style("zIndex",-1).call(jn,YR(Q,G)).call(jn,O?W:{}).node(),ot=XR(ft,$,U,I),J=E&&new Hr({id:"startMarker",style:Object.assign({x:0,y:0},kn(N,"startMarker"))}),st=P&&new Hr({id:"endMarker",style:Object.assign({x:0,y:0},kn(N,"endMarker"))});Jn(t).maybeAppend("connector","path").style("zIndex",0).style("path",ot).style("markerStart",J).style("markerEnd",st).call(jn,A?X:{})}),ac=(t,e)=>{const{coordinate:r}=e;return(i,l,u)=>{const{color:h,text:p="",fontSize:g,rotate:m=0,transform:x=""}=l,w={text:String(p),stroke:h,fill:h,fontSize:g},[[M,O]]=i;return Jn(new lo).style("x",M).style("y",O).call(jn,u).style("transform",`${x}rotate(${+m})`).style("coordCenter",r.getCenter()).call(jn,w).call(jn,t).node()}};ac.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Oi=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Kr(t){const e=t/Math.sqrt(2),r=t*Math.sqrt(2),[i,l]=[-e,e-r],[u,h]=[0,0],[p,g]=[e,e-r];return[["M",i,l],["A",t,t,0,1,1,p,g],["L",u,h],["Z"]]}function Lr(t){const{min:e,max:r}=t.getLocalBounds();return[(e[0]+r[0])*.5,(e[1]+r[1])*.5]}const mr=Ef(t=>{const e=t.attributes,{class:r,x:i,y:l}=e,u=Oi(e,["class","x","y"]),h=kn(u,"marker"),{size:p=24}=h,g=()=>Kr(p/2),m=Jn(t).maybeAppend("marker",()=>new Hr({})).call(M=>M.node().update(Object.assign({symbol:g},h))).node(),[x,w]=Lr(m);Jn(t).maybeAppend("text","text").style("x",x).style("y",w).call(jn,u)}),fl=(t,e)=>{const r=Oi(t,[]);return(i,l,u)=>{const{color:h}=u,p=Oi(u,["color"]),{color:g=h,text:m=""}=l,x={text:String(m),stroke:g,fill:g},[[w,M]]=i;return Jn(new mr).call(jn,p).style("x",w).style("y",M).call(jn,x).call(jn,r).node()}};fl.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const oc=()=>(t,e)=>{const{data:r}=e;if(!Array.isArray(r)||r.some(t0))return[t,e];const i=Array.isArray(r[0])?r:[r],l=i.map(h=>h[0]),u=i.map(h=>h[1]);return[t,sn({},e,{encode:{x:ki(l),y:ki(u)}})]};oc.props={};var j0=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Jr=()=>(t,e)=>{const{data:r,style:i={}}=e,l=j0(e,["data","style"]),{x:u,y:h}=i,p=j0(i,["x","y"]);if(u==null||h==null)return[t,e];const g=u||0,m=h||0;return[[0],sn({},l,{data:[0],cartesian:!0,encode:{x:ki([g]),y:ki([m])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:p})]};Jr.props={};const Qr={text:ac,badge:fl},sc=t=>{const{cartesian:e=!1}=t;return e?T1:(r,i,l,u)=>{const{x:h,y:p}=l,g=hu(i,l,t),m=Array.from(r,x=>{const w=[+h[x],+p[x]];return[u.map(g(w,x))]});return[r,m]}};sc.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:Qr,channels:[...Ua({shapes:Object.keys(Qr)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize"},{name:"rotate"}],preInference:[..._i(),{type:oc},{type:Jr}],postInference:[...Ri(),...ec()]};const G0=()=>(t,e)=>[t,sn({scale:{x:{padding:0},y:{padding:0}}},e)];G0.props={};const px={cell:Ql,hollow:ss},ZR=()=>(t,e,r,i)=>{const{x:l,y:u}=r,h=e.x,p=e.y,g=Array.from(t,m=>{const x=h.getBandWidth(h.invert(+l[m])),w=p.getBandWidth(p.invert(+u[m])),M=+l[m],O=+u[m],A=[M,O],E=[M+x,O],P=[M+x,O+w],I=[M,O+w];return[A,E,P,I].map(F=>i.map(F))});return[t,g]};ZR.props={defaultShape:"cell",defaultLabelShape:"label",shape:px,composite:!1,channels:[...Ua({shapes:Object.keys(px)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[..._i(),{type:Ul},{type:Id},{type:G0}],postInference:[...Ri(),...ec()]};function Ff(t,e,r){var i=null,l=ii(!0),u=null,h=Wo,p=null,g=rd(m);t=typeof t=="function"?t:t===void 0?w_:ii(+t),e=typeof e=="function"?e:ii(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?x1:ii(+r);function m(w){var M,O,A,E=(w=x_(w)).length,P,I=!1,F,N=new Array(E),z=new Array(E);for(u==null&&(p=h(F=g())),M=0;M<=E;++M){if(!(M<E&&l(P=w[M],M,w))===I)if(I=!I)O=M,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),A=M-1;A>=O;--A)p.point(N[A],z[A]);p.lineEnd(),p.areaEnd()}I&&(N[M]=+t(P,M,w),z[M]=+e(P,M,w),p.point(i?+i(P,M,w):N[M],r?+r(P,M,w):z[M]))}if(F)return p=null,F+""||null}function x(){return ol().defined(l).curve(h).context(u)}return m.x=function(w){return arguments.length?(t=typeof w=="function"?w:ii(+w),i=null,m):t},m.x0=function(w){return arguments.length?(t=typeof w=="function"?w:ii(+w),m):t},m.x1=function(w){return arguments.length?(i=w==null?null:typeof w=="function"?w:ii(+w),m):i},m.y=function(w){return arguments.length?(e=typeof w=="function"?w:ii(+w),r=null,m):e},m.y0=function(w){return arguments.length?(e=typeof w=="function"?w:ii(+w),m):e},m.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:ii(+w),m):r},m.lineX0=m.lineY0=function(){return x().x(t).y(e)},m.lineY1=function(){return x().x(t).y(r)},m.lineX1=function(){return x().x(i).y(e)},m.defined=function(w){return arguments.length?(l=typeof w=="function"?w:ii(!!w),m):l},m.curve=function(w){return arguments.length?(h=w,u!=null&&(p=h(u)),m):h},m.context=function(w){return arguments.length?(w==null?u=p=null:p=h(u=w),m):u},m}function TO(){var t=Ff().curve(R_),e=t.curve,r=t.lineX0,i=t.lineX1,l=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return kd(r())},delete t.lineX0,t.lineEndAngle=function(){return kd(i())},delete t.lineX1,t.lineInnerRadius=function(){return kd(l())},delete t.lineY0,t.lineOuterRadius=function(){return kd(u())},delete t.lineY1,t.curve=function(h){return arguments.length?e(cl(h)):e()._curve},t}var W0=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function qR(t,e){const r=[],i=[],l=[];let u=!1,h=null;const p=t.length/2;for(let g=0;g<p;g++){const m=t[g],x=t[g+p];if([...m,...x].some(w=>!e(w)))u=!0;else{if(r.push(m),i.push(x),u&&h){u=!1;const[w,M]=h;l.push([w,m,M,x])}h=[m,x]}}return[r.concat(i),l]}const EO=Ef(t=>{const{areaPath:e,connectPath:r,areaStyle:i,connectStyle:l}=t.attributes,u=t.ownerDocument;Jn(t).maybeAppend("connect-path",()=>u.createElement("path",{})).style("d",r).call(jn,l),Jn(t).maybeAppend("area-path",()=>u.createElement("path",{})).style("d",e).call(jn,i)}),Pi=(t,e)=>{const{curve:r,gradient:i=!1,defined:l=m=>!Number.isNaN(m)&&m!==void 0&&m!==null,connect:u=!1}=t,h=W0(t,["curve","gradient","defined","connect"]),{coordinate:p,document:g}=e;return(m,x,w)=>{const{color:M}=w,{color:O=M,seriesColor:A,seriesX:E,seriesY:P}=x,I=y_(p,x),F=i&&A?g_(A,E,P,i):O,N=Object.assign(Object.assign(Object.assign(Object.assign({},w),{stroke:F,fill:F}),I&&{transform:I}),h),[z,G]=qR(m,l),W=kn(N,"connect"),Y=!!G.length,U=X=>Jn(g.createElement("path",{})).style("d",X||"").call(jn,N).node();if(ai(p)){const X=$=>{const Q=p.getCenter(),ft=$.slice(0,$.length/2),ot=$.slice($.length/2);return TO().angle((J,st)=>au(ui(ft[st],Q))).outerRadius((J,st)=>mi(ft[st],Q)).innerRadius((J,st)=>mi(ot[st],Q)).defined((J,st)=>[...ft[st],...ot[st]].every(l)).curve(r)(ot)};return!Y||u&&!Object.keys(W).length?U(X(z)):Y&&!u?U(X(m)):Jn(new EO).style("areaStyle",N).style("connectStyle",Object.assign(Object.assign({},W),h)).style("areaPath",X(m)).style("connectPath",G.map(X).join("")).node()}else{const X=$=>{const Q=$.slice(0,$.length/2),ft=$.slice($.length/2);return gi(p)?Ff().y((ot,J)=>Q[J][1]).x1((ot,J)=>Q[J][0]).x0((ot,J)=>ft[J][0]).defined((ot,J)=>[...Q[J],...ft[J]].every(l)).curve(r)(Q):Ff().x((ot,J)=>Q[J][0]).y1((ot,J)=>Q[J][1]).y0((ot,J)=>ft[J][1]).defined((ot,J)=>[...Q[J],...ft[J]].every(l)).curve(r)(Q)};return!Y||u&&!Object.keys(W).length?U(X(z)):Y&&!u?U(X(m)):Jn(new EO).style("areaStyle",N).style("connectStyle",Object.assign(Object.assign({},W),h)).style("areaPath",X(m)).style("connectPath",G.map(X).join("")).node()}}};Pi.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const zd=(t,e)=>{const{coordinate:r}=e;return(...i)=>{const l=ai(r)?S_:Wo;return Pi(Object.assign({curve:l},t),e)(...i)}};zd.props=Object.assign(Object.assign({},Pi.props),{defaultMarker:"square"});var Df=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Za=(t,e)=>{const{alpha:r=.5}=t,i=Df(t,["alpha"]),{coordinate:l}=e;return(...u)=>{const h=ai(l)?N_:D_;return Pi(Object.assign({curve:h.alpha(r)},i),e)(...u)}};Za.props=Object.assign(Object.assign({},Pi.props),{defaultMarker:"smooth"});const jd=(t,e)=>(...r)=>Pi(Object.assign({curve:z_},t),e)(...r);jd.props=Object.assign(Object.assign({},Pi.props),{defaultMarker:"hvh"});const vx=(t,e)=>(...r)=>Pi(Object.assign({curve:z1},t),e)(...r);vx.props=Object.assign(Object.assign({},Pi.props),{defaultMarker:"vh"});const kO=(t,e)=>(...r)=>Pi(Object.assign({curve:j1},t),e)(...r);kO.props=Object.assign(Object.assign({},Pi.props),{defaultMarker:"hv"});const aa={area:zd,smooth:Za,hvh:jd,vh:vx,hv:kO},pu=()=>(t,e,r,i)=>{var l,u;const{x:h,y:p,y1:g,series:m}=r,{x,y:w}=e,M=m?Array.from(oi(t,I=>m[I]).values()):[t],O=M.map(I=>I[0]).filter(I=>I!==void 0),A=(((l=x==null?void 0:x.getBandWidth)===null||l===void 0?void 0:l.call(x))||0)/2,E=(((u=w==null?void 0:w.getBandWidth)===null||u===void 0?void 0:u.call(w))||0)/2,P=Array.from(M,I=>{const F=I.length,N=new Array(F*2);for(let z=0;z<I.length;z++){const G=I[z];N[z]=i.map([+h[G]+A,+p[G]+E]),N[F+z]=i.map([+h[G]+A,+g[G]+E])}return N});return[O,P,M]};pu.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:aa,channels:[...Ua({shapes:Object.keys(aa)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[..._i(),{type:R0},{type:vf},{type:G0}],postInference:[...Ri(),...Cf()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const co=()=>(t,e)=>{const{encode:r}=e,{y1:i}=r;if(i)return[t,e];const[l]=Cr(r,"y");return[t,sn({},e,{encode:{y1:ki([...l])}})]};co.props={};const Gd=()=>(t,e)=>{const{encode:r}=e,{x1:i}=r;if(i)return[t,e];const[l]=Cr(r,"x");return[t,sn({},e,{encode:{x1:ki([...l])}})]};Gd.props={};var V0=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const gx=(t,e)=>{const{arrow:r=!0,arrowSize:i="40%"}=t,l=V0(t,["arrow","arrowSize"]),{document:u}=e;return(h,p,g)=>{const{defaultColor:m}=g,x=V0(g,["defaultColor"]),{color:w=m,transform:M}=p,[O,A]=h,E=So();if(E.moveTo(...O),E.lineTo(...A),r){const[P,I]=nR(O,A,{arrowSize:i});E.moveTo(...A),E.lineTo(...P),E.moveTo(...A),E.lineTo(...I)}return Jn(u.createElement("path",{})).call(jn,x).style("d",E.toString()).style("stroke",w).style("transform",M).call(jn,l).node()}};gx.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const PO=(t,e)=>{const{arrow:r=!1}=t;return(...i)=>gx(Object.assign(Object.assign({},t),{arrow:r}),e)(...i)};PO.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var yx=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const mx=(t,e)=>{const r=yx(t,[]),{coordinate:i,document:l}=e;return(u,h,p)=>{const{color:g}=p,m=yx(p,["color"]),{color:x=g,transform:w}=h,[M,O]=u,A=So();if(A.moveTo(M[0],M[1]),ai(i)){const E=i.getCenter();A.quadraticCurveTo(E[0],E[1],O[0],O[1])}else{const E=SS(M,O),P=mi(M,O)/2;Md(A,M,O,E,P)}return Jn(l.createElement("path",{})).call(jn,m).style("d",A.toString()).style("stroke",x).style("transform",w).call(jn,r).node()}};mx.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Kn=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const xx=(t,e)=>{const r=Kn(t,[]),{document:i}=e;return(l,u,h)=>{const{color:p}=h,g=Kn(h,["color"]),{color:m=p,transform:x}=u,[w,M]=l,O=So();return O.moveTo(w[0],w[1]),O.bezierCurveTo(w[0]/2+M[0]/2,w[1],w[0]/2+M[0]/2,M[1],M[0],M[1]),Jn(i.createElement("path",{})).call(jn,g).style("d",O.toString()).style("stroke",m).style("transform",x).call(jn,r).node()}};xx.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var LO=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Wd(t,e,r,i){const l=So();if(ai(r)){const u=r.getCenter(),h=mi(t,u),g=(mi(e,u)-h)*i+h;return l.moveTo(t[0],t[1]),Md(l,t,e,u,g),l.lineTo(e[0],e[1]),l}return gi(r)?(l.moveTo(t[0],t[1]),l.lineTo(t[0]+(e[0]-t[0])*i,t[1]),l.lineTo(t[0]+(e[0]-t[0])*i,e[1]),l.lineTo(e[0],e[1]),l):(l.moveTo(t[0],t[1]),l.lineTo(t[0],t[1]+(e[1]-t[1])*i),l.lineTo(e[0],t[1]+(e[1]-t[1])*i),l.lineTo(e[0],e[1]),l)}const IO=(t,e)=>{const{cornerRatio:r=1/3}=t,i=LO(t,["cornerRatio"]),{coordinate:l,document:u}=e;return(h,p,g)=>{const{defaultColor:m}=g,x=LO(g,["defaultColor"]),{color:w=m,transform:M}=p,[O,A]=h,E=Wd(O,A,l,r);return Jn(u.createElement("path",{})).call(jn,x).style("d",E.toString()).style("stroke",w).style("transform",M).call(jn,i).node()}};IO.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Vd={link:PO,arc:mx,smooth:xx,vhv:IO},bx=t=>(e,r,i,l)=>{const{x:u,y:h,x1:p=u,y1:g=h}=i,m=hu(r,i,t),x=e.map(w=>[l.map(m([+u[w],+h[w]],w)),l.map(m([+p[w],+g[w]],w))]);return[e,x]};bx.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:Vd,channels:[...Ua({shapes:Object.keys(Vd)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i(),{type:co},{type:Gd}],postInference:[...Ri(),...ec()]};var RO=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const wx=(t,e)=>{const{coordinate:r,document:i}=e;return(l,u,h)=>{const{color:p}=h,g=RO(h,["color"]),{color:m=p,src:x="",size:w=32,transform:M=""}=u;let{width:O=w,height:A=w}=t;const[[E,P]]=l,[I,F]=r.getSize();O=typeof O=="string"?k0(O)*I:O,A=typeof A=="string"?k0(A)*F:A;const N=E-Number(O)/2,z=P-Number(A)/2;return Jn(i.createElement("image",{})).call(jn,g).style("x",N).style("y",z).style("img",x).style("stroke",m).style("transform",M).call(jn,t).style("width",O).style("height",A).node()}};wx.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const FO={image:wx},DO=t=>{const{cartesian:e}=t;return e?T1:(r,i,l,u)=>{const{x:h,y:p}=l,g=hu(i,l,t),m=Array.from(r,x=>{const w=[+h[x],+p[x]];return[u.map(g(w,x))]});return[r,m]}};DO.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:FO,channels:[...Ua({shapes:Object.keys(FO)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[..._i(),{type:oc},{type:Jr}],postInference:[...Ri(),...ec()]};var BO=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function $R(t,e){const r=So();if(ai(e)){const i=e.getCenter(),l=[...t,t[0]],u=l.map(h=>mi(h,i));return l.forEach((h,p)=>{if(p===0){r.moveTo(h[0],h[1]);return}const g=u[p],m=t[p-1],x=u[p-1];x!==void 0&&Math.abs(g-x)<1e-10?Md(r,m,h,i,g):r.lineTo(h[0],h[1])}),r.closePath(),r}return eR(r,t)}const NO=(t,e)=>{const{coordinate:r,document:i}=e;return(l,u,h)=>{const{color:p}=h,g=BO(h,["color"]),{color:m=p,transform:x}=u,w=$R(l,r);return Jn(i.createElement("path",{})).call(jn,g).style("d",w.toString()).style("stroke",m).style("fill",m).style("transform",x).call(jn,t).node()}};NO.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var zO=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function jO(t,e){const[r,i,l,u]=t,h=So();if(ai(e)){const p=e.getCenter(),g=mi(p,r);return h.moveTo(r[0],r[1]),h.quadraticCurveTo(p[0],p[1],l[0],l[1]),Md(h,l,u,p,g),h.quadraticCurveTo(p[0],p[1],i[0],i[1]),Md(h,i,r,p,g),h.closePath(),h}return h.moveTo(r[0],r[1]),h.bezierCurveTo(r[0]/2+l[0]/2,r[1],r[0]/2+l[0]/2,l[1],l[0],l[1]),h.lineTo(u[0],u[1]),h.bezierCurveTo(u[0]/2+i[0]/2,u[1],u[0]/2+i[0]/2,i[1],i[0],i[1]),h.lineTo(r[0],r[1]),h.closePath(),h}const GO=(t,e)=>{const r=zO(t,[]),{coordinate:i,document:l}=e;return(u,h,p)=>{const{color:g}=p,m=zO(p,["color"]),{color:x=g,transform:w}=h,M=jO(u,i);return Jn(l.createElement("path",{})).call(jn,m).style("d",M.toString()).style("fill",x||g).style("stroke",x||g).style("transform",w).call(jn,r).node()}};GO.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const WO={polygon:NO,ribbon:GO},VO=()=>(t,e,r,i)=>{const l=Object.entries(r).filter(([p])=>p.startsWith("x")).map(([,p])=>p),u=Object.entries(r).filter(([p])=>p.startsWith("y")).map(([,p])=>p),h=t.map(p=>{const g=[];for(let m=0;m<l.length;m++){const x=l[m][p];if(x===void 0)break;const w=u[m][p];g.push(i.map([+x,+w]))}return g});return[t,h]};VO.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:WO,channels:[...Ua({shapes:Object.keys(WO)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i()],postInference:[...Ri(),...ec()]};var KR=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function JR(t,e){const r=So();if(!ai(e))r.moveTo(...t[0]),r.lineTo(...t[1]),r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(...t[4]),r.lineTo(...t[5]),r.lineTo(...t[6]),r.lineTo(...t[7]),r.closePath(),r.moveTo(...t[8]),r.lineTo(...t[9]),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(...t[12]),r.lineTo(...t[13]);else{const i=e.getCenter(),[l,u]=i,h=Si(ui(t[0],i)),p=Si(ui(t[1],i)),g=mi(i,t[2]),m=mi(i,t[3]),x=mi(i,t[8]),w=mi(i,t[10]),M=mi(i,t[11]);r.moveTo(...t[0]),r.arc(l,u,g,h,p),r.arc(l,u,g,p,h,!0),r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(...t[4]),r.arc(l,u,m,h,p),r.lineTo(...t[6]),r.arc(l,u,w,p,h,!0),r.closePath(),r.moveTo(...t[8]),r.arc(l,u,x,h,p),r.arc(l,u,x,p,h,!0),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(...t[12]),r.arc(l,u,M,h,p),r.arc(l,u,M,p,h,!0)}return r}const HO=(t,e)=>{const{coordinate:r,document:i}=e;return(l,u,h)=>{const{color:p,transform:g}=u,{color:m,fill:x=m,stroke:w=m}=h,M=KR(h,["color","fill","stroke"]),O=JR(l,r);return Jn(i.createElement("path",{})).call(jn,M).style("d",O.toString()).style("stroke",w).style("fill",p||x).style("transform",g).call(jn,t).node()}};HO.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var hl=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function vu(t,e,r=4){const i=So();if(!ai(e))return i.moveTo(...t[2]),i.lineTo(...t[3]),i.lineTo(t[3][0]-r,t[3][1]),i.lineTo(t[10][0]-r,t[10][1]),i.lineTo(t[10][0]+r,t[10][1]),i.lineTo(t[3][0]+r,t[3][1]),i.lineTo(...t[3]),i.closePath(),i.moveTo(...t[10]),i.lineTo(...t[11]),i.moveTo(t[3][0]+r/2,t[8][1]),i.arc(t[3][0],t[8][1],r/2,0,Math.PI*2),i.closePath(),i;const l=e.getCenter(),[u,h]=l,p=mi(l,t[3]),g=mi(l,t[8]),m=mi(l,t[10]),x=Si(ui(t[2],l)),w=Math.asin(r/g),M=x-w,O=x+w;i.moveTo(...t[2]),i.lineTo(...t[3]),i.moveTo(Math.cos(M)*p+u,Math.sin(M)*p+h),i.arc(u,h,p,M,O),i.lineTo(Math.cos(O)*m+u,Math.sin(O)*m+h),i.arc(u,h,m,O,M,!0),i.lineTo(Math.cos(M)*p+u,Math.sin(M)*p+h),i.closePath(),i.moveTo(...t[10]),i.lineTo(...t[11]);const A=(M+O)/2;return i.moveTo(Math.cos(A)*(g+r/2)+u,Math.sin(A)*(g+r/2)+h),i.arc(Math.cos(A)*g+u,Math.sin(A)*g+h,r/2,A,Math.PI*2+A),i.closePath(),i}const Mx=(t,e)=>{const{coordinate:r,document:i}=e;return(l,u,h)=>{const{color:p,transform:g}=u,m=4,{color:x,fill:w=x,stroke:M=x}=h,O=hl(h,["color","fill","stroke"]),A=vu(l,r,m);return Jn(i.createElement("path",{})).call(jn,O).style("d",A.toString()).style("stroke",M).style("fill",p||w).style("transform",g).call(jn,t).node()}};Mx.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Sx={box:HO,violin:Mx},lc=()=>(t,e,r,i)=>{const{x:l,y:u,y1:h,y2:p,y3:g,y4:m,series:x}=r,w=e.x,M=e.series,O=Array.from(t,A=>{const E=w.getBandWidth(w.invert(+l[A])),P=M?M.getBandWidth(M.invert(+(x==null?void 0:x[A]))):1,I=E*P,F=(+(x==null?void 0:x[A])||0)*E,N=+l[A]+F+I/2,[z,G,W,Y,U]=[+u[A],+h[A],+p[A],+g[A],+m[A]];return[[N-I/2,U],[N+I/2,U],[N,U],[N,Y],[N-I/2,Y],[N+I/2,Y],[N+I/2,G],[N-I/2,G],[N-I/2,W],[N+I/2,W],[N,G],[N,z],[N-I/2,z],[N+I/2,z]].map($=>i.map($))});return[t,O]};lc.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:Sx,channels:[...Ua({shapes:Object.keys(Sx)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[..._i(),{type:Ul}],postInference:[...Ri(),...Cf()],interaction:{shareTooltip:!0}};const H0={vector:gx},YO=()=>(t,e,r,i)=>{const{x:l,y:u,size:h,rotate:p}=r,[g,m]=i.getSize(),x=t.map(w=>{const M=+p[w]/180*Math.PI,O=+h[w],A=O/g,E=O/m,P=A*Math.cos(M),I=-E*Math.sin(M);return[i.map([+l[w]-P/2,+u[w]-I/2]),i.map([+l[w]+P/2,+u[w]+I/2])]});return[t,x]};YO.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:H0,channels:[...Ua({shapes:Object.keys(H0)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[..._i()],postInference:[...Ri(),...ec()]};var _x=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function QR(t,e,r){return t.createElement("path",{style:Object.assign({path:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,anchor:"0.5 0.5",transformOrigin:"center"},r)})}function Y0(t,e){if(!ai(e))return ol().x(i=>i[0]).y(i=>i[1])(t);const r=e.getCenter();return km()({startAngle:0,endAngle:Math.PI*2,outerRadius:mi(t[0],r),innerRadius:mi(t[1],r)})}function tF(t,e){if(!ai(t))return e;const[r,i]=t.getCenter();return`translate(${r}, ${i}) ${e||""}`}const Ox=(t,e)=>{const{arrow:r,arrowSize:i=4}=t,l=_x(t,["arrow","arrowSize"]),{coordinate:u,document:h}=e;return(p,g,m)=>{const{color:x,lineWidth:w}=m,M=_x(m,["color","lineWidth"]),{color:O=x,size:A=w}=g,E=r?QR(h,i,Object.assign({fill:l.stroke||O,stroke:l.stroke||O},kn(l,"arrow"))):null,P=Y0(p,u),I=tF(u,g.transform);return Jn(h.createElement("path",{})).call(jn,M).style("d",P).style("stroke",O).style("lineWidth",A).style("transform",I).style("markerEnd",E).call(jn,l).node()}};Ox.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const UO=()=>(t,e)=>{const{data:r}=e;return!Array.isArray(r)||r.some(t0)?[t,e]:[t,sn({},e,{encode:{x:ki(r)}})]};UO.props={};const XO={line:Ox},ZO=t=>(e,r,i,l)=>{const{x:u}=i,h=hu(r,i,sn({style:{bandOffset:0}},t)),p=Array.from(e,g=>{const m=[u[g],1],x=[u[g],0];return[m,x].map(w=>l.map(h(w,g)))});return[e,p]};ZO.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:XO,channels:[...Af({shapes:Object.keys(XO)}),{name:"x",required:!0}],preInference:[..._i(),{type:UO}],postInference:[...Ri()]};const qO=()=>(t,e)=>{const{data:r}=e;return!Array.isArray(r)||r.some(t0)?[t,e]:[t,sn({},e,{encode:{y:ki(r)}})]};qO.props={};const U0={line:Ox},$O=t=>(e,r,i,l)=>{const{y:u}=i,h=hu(r,i,sn({style:{bandOffset:0}},t)),p=Array.from(e,g=>{const m=[0,u[g]],x=[1,u[g]];return[m,x].map(w=>l.map(h(w,g)))});return[e,p]};$O.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:U0,channels:[...Af({shapes:Object.keys(U0)}),{name:"y",required:!0}],preInference:[..._i(),{type:qO}],postInference:[...Ri()]};var KO=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function eF(t,e,r){return[["M",t,e],["L",t+2*r,e-r],["L",t+2*r,e+r],["Z"]]}function nF(t){return ol().x(e=>e[0]).y(e=>e[1])(t)}function X0(t,e,r,i,l=0){const[[u,h],[p,g]]=e;if(gi(t)){const M=u+r,O=p+i,A=M+l;return[[M,h],[A,h],[A,g],[O,g]]}const m=h-r,x=g-i,w=m-l;return[[u,m],[u,w],[p,w],[p,x]]}const JO=(t,e)=>{const{offset:r=0,offset1:i=r,offset2:l=r,connectLength1:u,endMarker:h=!0}=t,p=KO(t,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:g}=e;return(m,x,w)=>{const{color:M,connectLength1:O}=w,A=KO(w,["color","connectLength1"]),{color:E,transform:P}=x,I=X0(g,m,i,l,u||O),F=kn(Object.assign(Object.assign({},p),w),"endMarker");return Jn(new Va).call(jn,A).style("path",nF(I)).style("stroke",E||M).style("transform",P).style("markerEnd",h?new Hr({className:"marker",style:Object.assign(Object.assign({},F),{symbol:eF})}):null).call(jn,p).node()}};JO.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const QO={connector:JO},tC=(...t)=>bx(...t);tC.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:QO,channels:[...Af({shapes:Object.keys(QO)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i()],postInference:[...Ri()]};function eC(t,e,r,i){if(e)return()=>[0,1];const{[t]:l,[`${t}1`]:u}=r;return h=>{var p;const g=((p=i.getBandWidth)===null||p===void 0?void 0:p.call(i,i.invert(+u[h])))||0;return[l[h],u[h]+g]}}function Cx(t={}){const{extendX:e=!1,extendY:r=!1}=t;return(i,l,u,h)=>{const p=eC("x",e,u,l.x),g=eC("y",r,u,l.y),m=Array.from(i,x=>{const[w,M]=p(x),[O,A]=g(x);return[[w,O],[M,O],[M,A],[w,A]].map(N=>h.map(N))});return[i,m]}}const Ax={range:Ql},nC=()=>Cx();nC.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Ax,channels:[...Af({shapes:Object.keys(Ax)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i()],postInference:[...Ri()]};const rC={range:Ql},iC=()=>Cx({extendY:!0});iC.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:rC,channels:[...Af({shapes:Object.keys(rC)}),{name:"x",required:!0}],preInference:[..._i()],postInference:[...Ri()]};const aC={range:Ql},Z0=()=>Cx({extendX:!0});Z0.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:aC,channels:[...Af({shapes:Object.keys(aC)}),{name:"y",required:!0}],preInference:[..._i()],postInference:[...Ri()]};var dl=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Fs=(t,e)=>{const{arrow:r,colorAttribute:i}=t,l=dl(t,["arrow","colorAttribute"]),{coordinate:u,document:h}=e;return(p,g,m)=>{const{color:x,stroke:w}=m,M=dl(m,["color","stroke"]),{d:O,color:A=x}=g,[E,P]=u.getSize();return Jn(h.createElement("path",{})).call(jn,M).style("d",typeof O=="function"?O({width:E,height:P}):O).style(i,A).call(jn,l).node()}};Fs.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Ds=(t,e)=>Fs(Object.assign({colorAttribute:"fill"},t),e);Ds.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const q0=(t,e)=>Fs(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);q0.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Bf={path:Ds,hollow:q0},Nf=t=>(e,r,i,l)=>[e,e.map(()=>[[0,0]])];Nf.props={defaultShape:"path",defaultLabelShape:"label",shape:Bf,composite:!1,channels:[...Ua({shapes:Object.keys(Bf)}),{name:"d",scale:"identity"}],preInference:[..._i()],postInference:[...Ri()]};var rF=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Tx=(t,e)=>{const{render:r}=t,i=rF(t,["render"]);return l=>{const[[u,h]]=l;return r(Object.assign(Object.assign({},i),{x:u,y:h}),e)}};Tx.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const $0=()=>(t,e)=>{const{style:r={}}=e;return[t,sn({},e,{style:Object.assign(Object.assign({},r),Object.fromEntries(Object.entries(r).filter(([,i])=>typeof i=="function").map(([i,l])=>[i,()=>l])))})]};$0.props={};const Ex={shape:Tx},oC=t=>{const{cartesian:e}=t;return e?T1:(r,i,l,u)=>{const{x:h,y:p}=l,g=hu(i,l,t),m=Array.from(r,x=>{const w=[+h[x],+p[x]];return[u.map(g(w,x))]});return[r,m]}};oC.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:Ex,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[..._i(),{type:oc},{type:Jr},{type:$0}]};var iF=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const sC=(t,e)=>{const{document:r}=e;return(i,l,u)=>{const{transform:h}=l,{color:p}=u,g=iF(u,["color"]),{color:m=p}=l,[x,...w]=i,M=So();return M.moveTo(...x),w.forEach(([O,A])=>{M.lineTo(O,A)}),M.closePath(),Jn(r.createElement("path",{})).call(jn,g).style("d",M.toString()).style("stroke",m||p).style("fill",m||p).style("fillOpacity",.4).style("transform",h).call(jn,t).node()}};sC.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const kx={density:sC},Px=()=>(t,e,r,i)=>{const{x:l,series:u}=r,h=Object.entries(r).filter(([w])=>w.startsWith("y")).map(([,w])=>w),p=Object.entries(r).filter(([w])=>w.startsWith("size")).map(([,w])=>w);if(l===void 0||h===void 0||p===void 0)throw new Error("Missing encode for x or y or size channel.");const g=e.x,m=e.series,x=Array.from(t,w=>{const M=g.getBandWidth(g.invert(+l[w])),O=m?m.getBandWidth(m.invert(+(u==null?void 0:u[w]))):1,A=M*O,E=(+(u==null?void 0:u[w])||0)*M,P=+l[w]+E+A/2;return[...h.map((F,N)=>[P+ +p[N][w]/t.length,+h[N][w]]),...h.map((F,N)=>[P-+p[N][w]/t.length,+h[N][w]]).reverse()].map(F=>i.map(F))});return[t,x]};Px.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:kx,channels:[...Ua({shapes:Object.keys(kx)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[..._i(),{type:vf},{type:Ul}],postInference:[...Ri(),...Cf()],interaction:{shareTooltip:!0}};function Co(t,e){let r;if(e===void 0)for(const i of t)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let l of t)(l=e(l,++i,t))!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}return r}function zr(t,e){let r;if(e===void 0)for(const i of t)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let l of t)(l=e(l,++i,t))!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}return r}function Lx(t){var e,r,i,l=t||1;function u(p,g){++e>l&&(i=r,h(1),++e),r[p]=g}function h(p){e=0,r=Object.create(null),p||(i=Object.create(null))}return h(),{clear:h,has:function(p){return r[p]!==void 0||i[p]!==void 0},get:function(p){var g=r[p];if(g!==void 0)return g;if((g=i[p])!==void 0)return u(p,g),g},set:function(p,g){r[p]!==void 0?r[p]=g:u(p,g)}}}const n8=Lx(3);function aF(t,e=(...i)=>`${i[0]}`,r=16){const i=Lx(r);return(...l)=>{const u=e(...l);let h=i.get(u);return i.has(u)?i.get(u):(h=t(...l),i.set(u,h),h)}}function oF(t){return typeof t=="string"?t.split(" ").map(e=>{const[r,i]=e.split(":");return[+r,i]}):t}function K0(t,e,r){const i=t?t():document.createElement("canvas");return i.width=e,i.height=r,i}const sF=aF((t,e,r)=>{const i=K0(r,t*2,t*2),l=i.getContext("2d"),u=t,h=t;if(e===1)l.beginPath(),l.arc(u,h,t,0,2*Math.PI,!1),l.fillStyle="rgba(0,0,0,1)",l.fill();else{const p=l.createRadialGradient(u,h,t*e,u,h,t);p.addColorStop(0,"rgba(0,0,0,1)"),p.addColorStop(1,"rgba(0,0,0,0)"),l.fillStyle=p,l.fillRect(0,0,2*t,2*t)}return i},t=>`${t}`);function lF(t,e){const i=K0(e,256,1).getContext("2d"),l=i.createLinearGradient(0,0,256,1);return oF(t).forEach(([u,h])=>{l.addColorStop(u,h)}),i.fillStyle=l,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data}function cF(t,e,r,i,l,u){const{blur:h}=l;let p=i.length;for(;p--;){const{x:g,y:m,value:x,radius:w}=i[p],M=Math.min(x,r),O=g-w,A=m-w,E=sF(w,1-h,u),P=(M-e)/(r-e);t.globalAlpha=Math.max(P,.001),t.drawImage(E,O,A)}return t}function uF(t,e,r,i,l){const{minOpacity:u,opacity:h,maxOpacity:p,useGradientOpacity:g}=l,m=0,x=0,w=e,M=r,O=t.getImageData(m,x,w,M),A=O.data,E=A.length;for(let P=3;P<E;P+=4){const I=A[P],F=I*4;if(!F)continue;const N=h||Math.max(0,Math.min(p,Math.max(u,I)));A[P-3]=i[F],A[P-2]=i[F+1],A[P-1]=i[F+2],A[P]=g?i[F+3]:N}return O}function fF(t,e,r,i,l,u,h){const p=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},u);p.minOpacity*=255,p.opacity*=255,p.maxOpacity*=255;const m=K0(h,t,e).getContext("2d"),x=lF(p.gradient,h);m.clearRect(0,0,t,e),cF(m,r,i,l,p,h);const w=uF(m,t,e,x,p),O=K0(h,t,e).getContext("2d");return O.putImageData(w,0,0),O}var hF=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function dF(t,e){return Object.keys(t).reduce((r,i)=>{const l=t[i];return e(l,i)||(r[i]=l),r},{})}const Ix=(t,e)=>{const{gradient:r,opacity:i,maxOpacity:l,minOpacity:u,blur:h,useGradientOpacity:p}=t,g=hF(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:m,createCanvas:x,document:w}=e;return(M,O,A)=>{const{transform:E}=O,[P,I]=m.getSize(),F=M.map(Y=>({x:Y[0],y:Y[1],value:Y[2],radius:Y[3]})),N=Co(M,Y=>Y[2]),z=zr(M,Y=>Y[2]),W=P&&I?fF(P,I,N,z,F,dF({gradient:r,opacity:i,minOpacity:u,maxOpacity:l,blur:h,useGradientOpacity:p},Y=>Y===void 0),x):{canvas:null};return Jn(w.createElement("image",{})).call(jn,A).style("x",0).style("y",0).style("width",P).style("height",I).style("src",W.canvas).style("transform",E).call(jn,g).node()}};Ix.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const J0={heatmap:Ix},Rx=t=>(e,r,i,l)=>{const{x:u,y:h,size:p,color:g}=i,m=Array.from(e,x=>{const w=p?+p[x]:40;return[...l.map([+u[x],+h[x]]),g[x],w]});return[[0],[m]]};Rx.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:J0,channels:[...Ua({shapes:Object.keys(J0)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[..._i(),{type:Ul},{type:Id}],postInference:[...Ri(),...ec()]};const lC=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];lC.props={};const cC=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];cC.props={};const uC=t=>new Oo(t);uC.props={};const fC=t=>new lu(t);fC.props={};const hC=t=>new yd(t);hC.props={};const dC=t=>new bd(t);dC.props={};const Fx=t=>new h1(t);Fx.props={};const pC=t=>new g1(t);pC.props={};const Hd=t=>new p1(t);Hd.props={};const Q0=t=>new wd(t);Q0.props={};const Dx=t=>new d1(t);Dx.props={};const Bs=t=>new Kl(t);Bs.props={};const vC=t=>new S0(t);vC.props={};const Bx=t=>new M0(t);Bx.props={};const Nx=t=>new _0(t);Nx.props={};const gC=t=>new md(t);gC.props={};const Mr={BLACK:"#1D2129",WHITE:"#fff",STROKE:"#416180",DEFAULT:"#5B8FF9",BACKGROUND:"transparent"},zf={1:8,2:12,3:20},Ao={90:.9,65:.65,45:.45,25:.25,10:.1},yC=t=>{const e={padding:"auto",margin:16,color:Mr.DEFAULT,size:1,category10:"category10",category20:"category20",enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:Mr.BACKGROUND,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:Mr.BLACK,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:Mr.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:Mr.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:Mr.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:Mr.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:Mr.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:Mr.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:Mr.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:Mr.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:Mr.STROKE,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:Mr.BLACK,gridStrokeOpacity:Ao[10],labelAlign:"horizontal",labelFill:Mr.BLACK,labelOpacity:Ao[45],labelFontSize:12,labelFontWeight:"normal",labelSpacing:zf[1],line:!1,lineLineWidth:.5,lineStroke:Mr.BLACK,lineStrokeOpacity:Ao[45],tickLength:4,tickLineWidth:1,tickStroke:Mr.BLACK,tickOpacity:Ao[45],titleFill:Mr.BLACK,titleOpacity:Ao[90],titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelAutoRotate:!0,tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"positive",labelAutoRotate:!1,labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",labelAutoRotate:!1,titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:Mr.BLACK,itemLabelFillOpacity:Ao[90],itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[zf[1],zf[1]],itemValueFill:Mr.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:Mr.BLACK,navButtonFillOpacity:.65,navPageNumFill:Mr.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:Mr.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:Mr.BLACK,tickStrokeOpacity:.25,rowPadding:zf[1],colPadding:zf[2],maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:Mr.BLACK,handleLabelFillOpacity:Ao[45],handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:Mr.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:Mr.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:Mr.BLACK,labelFillOpacity:Ao[45],labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:6.666666666666666,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:Ao[90],tickStroke:Mr.BLACK,tickStrokeOpacity:Ao[45]},label:{fill:Mr.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:Mr.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:Mr.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:Mr.BLACK,fontWeight:"normal"},slider:{trackSize:16,trackFill:Mr.STROKE,trackFillOpacity:1,selectionFill:Mr.DEFAULT,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:Mr.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:Mr.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:Mr.BLACK,titleFillOpacity:Ao[90],titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:Mr.BLACK,subtitleFillOpacity:Ao[65],subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},e,t)};yC.props={};const Ar={BLACK:"#fff",WHITE:"#000",STROKE:"#416180"},mC="#141414",xC="#5B8FF9",bC=t=>{const e={color:xC,category10:"category10",category20:"category20",size:1,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:mC,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:Ar.BLACK,lineWidth:1}},text:{text:{fill:Ar.BLACK,fillOpacity:.65,fontSize:12,strokeWidth:0,connectorStroke:Ar.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:Ar.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:Ar.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:Ar.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:Ar.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:Ar.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:Ar.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:Ar.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:Ar.STROKE,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:.5,gridStroke:Ar.BLACK,gridStrokeOpacity:.05,labelAlign:"horizontal",labelFill:Ar.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,lineLineWidth:.5,lineStroke:Ar.BLACK,lineStrokeOpacity:.45,tickLength:4,tickLineWidth:1,tickStroke:Ar.BLACK,tickStrokeOpacity:.25,titleFill:Ar.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:10,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"positive",labelAutoRotate:!1,labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:10,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:Ar.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"lighter",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemValueFill:Ar.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"lighter",navButtonFill:Ar.BLACK,navButtonFillOpacity:.45,navPageNumFill:Ar.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!0,titleFill:Ar.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:Ar.BLACK,tickStrokeOpacity:.25,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:Ar.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:Ar.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:Ar.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:Ar.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:6.666666666666666,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:.65,tickStroke:Ar.BLACK,tickStrokeOpacity:.25},label:{fill:Ar.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:Ar.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:Ar.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:Ar.BLACK,fontWeight:"normal"},slider:{trackSize:16,trackFill:Ar.STROKE,trackFillOpacity:1,selectionFill:xC,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:Ar.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:Ar.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:Ar.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:Ar.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},e,t)};bC.props={};const Br={BLACK:"#000",WHITE:"#fff",STROKE:"#888"},pF="transparent",zx="#4e79a7",wC=t=>{const e={color:zx,size:1,category10:"tableau10",category20:"tableau10",enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:pF,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,connectStroke:"#aaa"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0,connectFill:Br.BLACK,connectFillOpacity:.1}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:"#1D2129",lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:10,strokeWidth:0,connectorStroke:Br.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:Br.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:Br.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:Br.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:Br.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:Br.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:Br.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:Br.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:Br.STROKE,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelAlign:"horizontal",labelAutoRotate:!1,labelFill:Br.BLACK,labelFillOpacity:1,labelFontSize:10,labelFontWeight:"normal",labelSpacing:4,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickLineWidth:1,tickStroke:Br.STROKE,tickStrokeOpacity:1,titleFill:Br.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelSpacing:4},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:4,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:4,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:Br.BLACK,itemLabelFillOpacity:1,itemLabelFontSize:10,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,4],itemValueFill:Br.BLACK,itemValueFillOpacity:1,itemValueFontSize:10,itemValueFontWeight:"normal",navButtonFill:Br.BLACK,navButtonFillOpacity:.45,navButtonSize:6,navPageNumFill:Br.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:10,padding:8,title:!0,titleFill:Br.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:4,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:Br.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal",handleMarkerFill:Br.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:Br.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:Br.BLACK,labelFillOpacity:.45,labelFontSize:10,labelFontWeight:"normal",title:!0,titleSpacing:4,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:6.666666666666666,indicator:!1,titleFontWeight:"bold"},label:{fill:Br.BLACK,fillOpacity:.65,fontSize:10,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:Br.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:Br.WHITE,fontSize:10,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:Br.BLACK,fontWeight:"normal"},slider:{trackSize:16,trackFill:Br.STROKE,trackFillOpacity:.05,selectionFill:zx,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:Br.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:Br.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:Br.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:Br.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},e,t)};wC.props={};const xr={BLACK:"#1D2129",WHITE:"#fff",STROKE:"#416180",DEFAULT:"#1783FF",BACKGROUND:"transparent"},cc={1:8,2:12,3:20},Ta={90:.9,65:.65,45:.45,25:.25,10:.1},MC=t=>{const e={padding:"auto",margin:16,color:xr.DEFAULT,size:1,category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:xr.BACKGROUND,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:xr.BLACK,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:xr.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:xr.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:xr.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:xr.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:xr.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:xr.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:xr.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:xr.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:xr.STROKE,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:xr.BLACK,gridStrokeOpacity:Ta[10],labelAlign:"horizontal",labelFill:xr.BLACK,labelOpacity:Ta[45],labelFontSize:12,labelFontWeight:"normal",labelSpacing:cc[1],line:!1,lineLineWidth:.5,lineStroke:xr.BLACK,lineStrokeOpacity:Ta[45],tickLength:4,tickLineWidth:1,tickStroke:xr.BLACK,tickOpacity:Ta[45],titleFill:xr.BLACK,titleOpacity:Ta[90],titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelAutoRotate:!0,tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"positive",labelAutoRotate:!1,labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",labelAutoRotate:!1,titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:xr.BLACK,itemLabelFillOpacity:Ta[90],itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[cc[1],cc[1]],itemValueFill:xr.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:xr.BLACK,navButtonFillOpacity:.65,navPageNumFill:xr.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:xr.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:xr.BLACK,tickStrokeOpacity:.25,rowPadding:cc[1],colPadding:cc[2],maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:xr.BLACK,handleLabelFillOpacity:Ta[45],handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:xr.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:xr.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:xr.BLACK,labelFillOpacity:Ta[45],labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:6.666666666666666,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:Ta[90],tickStroke:xr.BLACK,tickStrokeOpacity:Ta[45]},label:{fill:xr.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:xr.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:xr.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:xr.BLACK,fontWeight:"normal"},slider:{trackSize:16,trackFill:xr.STROKE,trackFillOpacity:1,selectionFill:xr.DEFAULT,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:xr.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:xr.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:xr.BLACK,titleFillOpacity:Ta[90],titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:xr.BLACK,subtitleFillOpacity:Ta[65],subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},e,t)};MC.props={};var vF=function(t){return t==null},jx=vF;function gF(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function SC(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],r=Object.fromEntries(Object.entries(t).filter(function(i){var l=(0,B.CR)(i,1),u=l[0];return!e.includes(u)}));return Object.fromEntries(e.map(function(i){return gF(t)?t[i]===!1?[i,!1]:[i,(0,B.pi)((0,B.pi)({},t[i]),r)]:[i,r]}))}function gu(t,e){t?t.finished.then(e):e()}function yF(t,e){t.length===0?e():Promise.all(t.map(function(r){return r==null?void 0:r.finished})).then(e)}function _C(t,e){"update"in t?t.update(e):t.attr(e)}function OC(t,e,r){if(e.length===0)return null;if(!r){var i=e.slice(-1)[0];return _C(t,{style:i}),null}return t.animate(e,r)}function mF(t,e){return!(t.nodeName!=="text"||e.nodeName!=="text"||t.attributes.text!==e.attributes.text)}function CC(t,e,r,i){if(i===void 0&&(i="destroy"),mF(t,e))return t.remove(),[null];var l=function(){i==="destroy"?t.destroy():i==="hide"&&rc(t),e.isVisible()&&If(e)};if(!r)return l(),[null];var u=r.duration,h=u===void 0?0:u,p=r.delay,g=p===void 0?0:p,m=Math.ceil(+h/2),x=+h/4,w=function(Q){if(Q.nodeName==="circle"){var ft=(0,B.CR)(Q.getLocalPosition(),2),ot=ft[0],J=ft[1],st=Q.attr("r");return[ot-st,J-st]}return Q.getLocalPosition()},M=(0,B.CR)(w(t),2),O=M[0],A=M[1],E=(0,B.CR)(w(e),2),P=E[0],I=E[1],F=(0,B.CR)([(O+P)/2-O,(A+I)/2-A],2),N=F[0],z=F[1],G=t.style.opacity,W=G===void 0?1:G,Y=e.style.opacity,U=Y===void 0?1:Y,X=t.animate([{opacity:W,transform:"translate(0, 0)"},{opacity:0,transform:"translate(".concat(N,", ").concat(z,")")}],(0,B.pi)((0,B.pi)({fill:"both"},r),{duration:g+m+x})),$=e.animate([{opacity:0,transform:"translate(".concat(-N,", ").concat(-z,")"),offset:.01},{opacity:U,transform:"translate(0, 0)"}],(0,B.pi)((0,B.pi)({fill:"both"},r),{duration:m+x,delay:g+m-x}));return gu($,l),[X,$]}function cs(t,e,r){var i={},l={};return Object.entries(e).forEach(function(u){var h=(0,B.CR)(u,2),p=h[0],g=h[1];if(!jx(g)){var m=t.style[p]||t.parsedStyle[p]||0;m!==g&&(i[p]=m,l[p]=g)}}),r?OC(t,[i,l],(0,B.pi)({fill:"both"},r)):(_C(t,l),null)}function Gx(t,e){if(t.length<=e)return t;for(var r=Math.floor(t.length/e),i=[],l=0;l<t.length;l+=r)i.push(t[l]);return i}var xF=5;function bF(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function AC(t,e,r,i){r=r||0,i=i||xF;for(var l in e)if(bF(e,l)){var u=e[l];u!==null&&Rd(u)?(Rd(t[l])||(t[l]={}),r<i?AC(t[l],u,r+1,i):t[l]=e[l]):Re(u)?(t[l]=[],t[l]=t[l].concat(u)):u!==void 0&&(t[l]=u)}}var TC=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)AC(t,e[i]);return t},tg=TC,Ho=function(t,e){var r=function(l){return"".concat(e,"-").concat(l)},i=Object.fromEntries(Object.entries(t).map(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1],g=r(p);return[h,{name:g,class:".".concat(g),id:"#".concat(g),toString:function(){return g}}]}));return Object.assign(i,{prefix:r}),i},jf={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Va({style:{path:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},r8=tg({},jf,{style:{type:"arc"}}),i8=tg({},jf,{style:{}}),Wr=Ho({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis");function pl(t,e){return[t[0]*e,t[1]*e]}function Gf(t,e){return[t[0]+e[0],t[1]+e[1]]}function eg(t,e){return[t[0]-e[0],t[1]-e[1]]}function yu(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function mu(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function Wf(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function EC(t){if(t[0]===0&&t[1]===0)return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function wF(t,e,r){var i=__read(t,2),l=i[0],u=i[1],h=__read(e,2),p=h[0],g=h[1],m=l-p,x=u-g,w=Math.sin(r),M=Math.cos(r);return[m*M-x*w+p,m*w+x*M+g]}function MF(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function uc(t){return t*Math.PI/180}function Wx(t){return Number((t*180/Math.PI).toPrecision(5))}function Vx(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function kC(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function SF(t,e){return"".concat(e).concat(Vx(t))}function PC(t,e,r){var i;r===void 0&&(r=!0);var l=e||((i=t.match(/^([a-z][a-z0-9]+)/))===null||i===void 0?void 0:i[0])||"",u=t.replace(new RegExp("^(".concat(l,")")),"");return r?kC(u):u}function LC(t,e){Object.entries(e).forEach(function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1];(0,B.ev)([t],(0,B.CR)(t.querySelectorAll(l)),!1).filter(function(h){return h.matches(l)}).forEach(function(h){if(h){var p=h;p.style.cssText+=Object.entries(u).reduce(function(g,m){return"".concat(g).concat(m.join(":"),";")},"")}})})}var Yd=function(t,e){if(!(t!=null&&t.startsWith(e)))return!1;var r=t[e.length];return r>="A"&&r<="Z"};function vr(t,e,r){r===void 0&&(r=!1);var i={};return Object.entries(t).forEach(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1];if(!(h==="className"||h==="class")){if(Yd(h,"show")&&Yd(PC(h,"show"),e)!==r)h===SF(e,"show")?i[h]=p:i[h.replace(new RegExp(Vx(e)),"")]=p;else if(!Yd(h,"show")&&Yd(h,e)!==r){var g=PC(h,e);g==="filter"&&typeof p=="function"||(i[g]=p)}}}),i}function Ns(t,e){return Object.entries(t).reduce(function(r,i){var l=(0,B.CR)(i,2),u=l[0],h=l[1];return u.startsWith("show")?r["show".concat(e).concat(u.slice(4))]=h:r["".concat(e).concat(Vx(u))]=h,r},{})}function qa(t,e){e===void 0&&(e=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],i={},l={};return Object.entries(t).forEach(function(u){var h=(0,B.CR)(u,2),p=h[0],g=h[1];e.includes(p)||(r.indexOf(p)!==-1?l[p]=g:i[p]=g)}),[i,l]}function Yo(t,e){return Gi(t)?t.apply(void 0,(0,B.ev)([],(0,B.CR)(e),!1)):t}function ng(t,e){return t.style.opacity||(t.style.opacity=1),cs(t,{opacity:0},e)}var _F=["$el","anchor","cx","cy","d","defX","defY","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function OF(t){return _F.includes(t)}function IC(t){var e={};for(var r in t)OF(r)&&(e[r]=t[r]);return e}var Vf=Ho({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Hx(t){return t.reduce(function(e,r,i){return e.push((0,B.ev)([i===0?"M":"L"],(0,B.CR)(r),!1)),e},[])}function CF(t,e,r){var i=e.connect,l=i===void 0?"line":i,u=e.center;if(l==="line")return Hx(t);if(!u)return[];var h=Wf(t[0],u),p=r?0:1;return t.reduce(function(g,m,x){return x===0?g.push((0,B.ev)(["M"],(0,B.CR)(m),!1)):g.push((0,B.ev)(["A",h,h,0,0,p],(0,B.CR)(m),!1)),g},[])}function Hf(t,e,r){return e.type==="surround"?CF(t,e,r):Hx(t)}function AF(t,e,r){var i=r.type,l=r.connect,u=r.center,h=r.closed,p=h?[["Z"]]:[],g=(0,B.CR)([Hf(t,r),Hf(e.slice().reverse(),r,!0)],2),m=g[0],x=g[1],w=(0,B.CR)([t[0],e.slice(-1)[0]],2),M=w[0],O=w[1],A=function(F,N){return[m,F,x,N,p].flat()};if(l==="line"||i==="surround")return A([(0,B.ev)(["L"],(0,B.CR)(O),!1)],[(0,B.ev)(["L"],(0,B.CR)(M),!1)]);if(!u)throw new Error("Arc grid need to specified center");var E=(0,B.CR)([Wf(O,u),Wf(M,u)],2),P=E[0],I=E[1];return A([(0,B.ev)(["A",P,P,0,0,1],(0,B.CR)(O),!1),(0,B.ev)(["L"],(0,B.CR)(O),!1)],[(0,B.ev)(["A",I,I,0,0,0],(0,B.CR)(M),!1),(0,B.ev)(["L"],(0,B.CR)(M),!1)])}function TF(t,e,r,i){var l=r.animate,u=r.isBillboard,h=e.map(function(p,g){return{id:p.id||"grid-line-".concat(g),path:Hf(p.points,r)}});return t.selectAll(Vf.line.class).data(h,function(p){return p.id}).join(function(p){return p.append("path").each(function(g,m){var x=Yo(IC((0,B.pi)({path:g.path},i)),[g,m,h]);this.attr((0,B.pi)({class:Vf.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:u},x))})},function(p){return p.transition(function(g,m){var x=Yo(IC((0,B.pi)({path:g.path},i)),[g,m,h]);return cs(this,x,l.update)})},function(p){return p.transition(function(){var g=this,m=ng(this,l.exit);return gu(m,function(){return g.remove()}),m})}).transitions()}function EF(t,e,r){var i=r.animate,l=r.connect,u=r.areaFill;if(e.length<2||!u||!l)return[];for(var h=Array.isArray(u)?u:[u,"transparent"],p=function(A){return h[A%h.length]},g=[],m=0;m<e.length-1;m++){var x=(0,B.CR)([e[m].points,e[m+1].points],2),w=x[0],M=x[1],O=AF(w,M,r);g.push({path:O,fill:p(m)})}return t.selectAll(Vf.region.class).data(g,function(A,E){return E}).join(function(A){return A.append("path").each(function(E,P){var I=Yo(E,[E,P,g]);this.attr(I)}).attr("className",Vf.region.name)},function(A){return A.transition(function(E,P){var I=Yo(E,[E,P,g]);return cs(this,I,i.update)})},function(A){return A.transition(function(){var E=this,P=ng(this,i.exit);return gu(P,function(){return E.remove()}),P})}).transitions()}function kF(t){var e=t.data,r=e===void 0?[]:e,i=t.closed;return i?r.map(function(l){var u=l.points,h=(0,B.CR)(u,1),p=h[0];return(0,B.pi)((0,B.pi)({},l),{points:(0,B.ev)((0,B.ev)([],(0,B.CR)(u),!1),[p],!1)})}):r}var PF=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i){var l=r.type,u=r.center,h=r.areaFill,p=r.closed,g=(0,B._T)(r,["type","center","areaFill","closed"]),m=kF(r),x=Qn(i).maybeAppendByClassName(Vf.lineGroup,"g"),w=Qn(i).maybeAppendByClassName(Vf.regionGroup,"g"),M=TF(x,m,r,g),O=EF(w,m,r);return(0,B.ev)((0,B.ev)([],(0,B.CR)(M),!1),(0,B.CR)(O),!1)},e}(Wi),fc=function(t,e){if(!Gi(t))throw new TypeError("Expected a function");var r=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=e?e.apply(this,i):i[0],h=r.cache;if(h.has(u))return h.get(u);var p=t.apply(this,i);return h.set(u,p),p};return r.cache=new Map,r},Yx=function(t,e,r){for(var i=0,l=ic(e)?e.split("."):e;t&&i<l.length;)t=t[l[i++]];return t===void 0||i<l.length?r:t},LF=function(t,e){return function(r){return t*(1-r)+e*r}};function IF(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0;return function(l){var u=new Array(i),h=new Array(r),p=0;for(p=0;p<i;++p)u[p]=Yf(t[p],e[p]);for(;p<r;++p)h[p]=e[p];for(p=0;p<i;++p)h[p]=u[p](l);return h}}function Ud(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={},i={};return Object.entries(e).forEach(function(l){var u=(0,B.CR)(l,2),h=u[0],p=u[1];h in t?r[h]=Yf(t[h],p):i[h]=p}),function(l){return Object.entries(r).forEach(function(u){var h=(0,B.CR)(u,2),p=h[0],g=h[1];return i[p]=g(l)}),i}}function Yf(t,e){return typeof t=="number"&&typeof e=="number"?LF(t,e):Array.isArray(t)&&Array.isArray(e)?IF(t,e):typeof t=="object"&&typeof e=="object"?Ud(t,e):function(r){return t}}function RC(t,e,r,i){if(!i)return t.attr("__keyframe_data__",r),null;var l=i.duration,u=l===void 0?0:l,h=Yf(e,r),p=Math.ceil(+u/16),g=new Array(p).fill(0).map(function(m,x,w){return{__keyframe_data__:h(x/(w.length-1))}});return t.animate(g,(0,B.pi)({fill:"both"},i))}var FC=function(t){return D0(t,"Number")},rg=FC;function xu(t){return typeof t=="function"?t():ic(t)||rg(t)?new bO({style:{text:String(t)}}):t}function ig(t,e,r){r===void 0&&(r=!1);var i=t.getBBox(),l=i.width,u=i.height,h=e/Math.max(l,u);return r&&t.scale(h),h}function DC(t,e){var r={},i=Array.isArray(e)?e:[e];for(var l in t)i.includes(l)||(r[l]=t[l]);return r}function BC(t,e){return Object.fromEntries(Object.entries(t).map(function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1];return[l,Yo(u,e)]}))}function RF(t){if(t.type==="linear"){var e=t.startPos,r=t.endPos;return(0,B.ev)((0,B.ev)([],(0,B.CR)(e),!1),(0,B.CR)(r),!1)}var i=t.startAngle,l=t.endAngle,u=t.center,h=t.radius;return(0,B.ev)((0,B.ev)([i,l],(0,B.CR)(u),!1),[h],!1)}function Ux(t,e){return e&&Gi(e)?t.filter(e):t}var NC=fc(function(t,e){var r=e.startAngle,i=e.endAngle;return(i-r)*t+r},function(t,e){return[t,e.startAngle,e.endAngle].join()}),Xd=fc(function(t,e){if(e.type==="linear"){var r=(0,B.CR)(e.startPos,2),i=r[0],l=r[1],u=(0,B.CR)(e.endPos,2),h=u[0],p=u[1],g=(0,B.CR)([h-i,p-l],2),m=g[0],x=g[1];return EC([m,x])}var w=uc(NC(t,e));return[-Math.sin(w),Math.cos(w)]},function(t,e){var r=RF(e);return e.type==="arc"&&r.push(t),r.join()});function Xx(t,e,r){var i=Xd(t,r);return MF(i,e!=="positive")}function us(t,e){return Xx(t,e.labelDirection,e)}var Zd=fc(function(t,e){var r=(0,B.CR)(e.startPos,2),i=r[0],l=r[1],u=(0,B.CR)(e.endPos,2),h=u[0],p=u[1],g=(0,B.CR)([h-i,p-l],2),m=g[0],x=g[1];return[i+m*t,l+x*t]},function(t,e){return(0,B.ev)((0,B.ev)([t],(0,B.CR)(e.startPos),!1),(0,B.CR)(e.endPos),!1).join()}),Uf=fc(function(t,e){var r=e.radius,i=(0,B.CR)(e.center,2),l=i[0],u=i[1],h=uc(NC(t,e));return[l+r*Math.cos(h),u+r*Math.sin(h)]},function(t,e){var r=e.startAngle,i=e.endAngle,l=e.radius,u=e.center;return(0,B.ev)([t,r,i,l],(0,B.CR)(u),!1).join()});function qd(t,e){return e.type==="linear"?Zd(t,e):Uf(t,e)}function zC(t){return Xd(0,t)[1]===0}function jC(t){return Xd(0,t)[0]===0}function bu(t,e){return e-t===360}function Zx(t,e,r,i,l){var u=e-t,h=(0,B.CR)([l,l],2),p=h[0],g=h[1],m=(0,B.CR)([uc(t),uc(e)],2),x=m[0],w=m[1],M=function($){return[r+l*Math.cos($),i+l*Math.sin($)]},O=(0,B.CR)(M(x),2),A=O[0],E=O[1],P=(0,B.CR)(M(w),2),I=P[0],F=P[1];if(bu(t,e)){var N=(w+x)/2,z=(0,B.CR)(M(N),2),G=z[0],W=z[1];return[["M",A,E],["A",p,g,0,1,0,G,W],["A",p,g,0,1,0,I,F]]}var Y=u>180?1:0,U=t>e?0:1,X=!1;return X?"M".concat(r,",").concat(i,",L").concat(A,",").concat(E,",A").concat(p,",").concat(g,",0,").concat(Y,",").concat(U,",").concat(I,",").concat(F,",L").concat(r,",").concat(i):"M".concat(A,",").concat(E,",A").concat(p,",").concat(g,",0,").concat(Y,",").concat(U,",").concat(I,",").concat(F)}function FF(t){var e=t.attributes,r=e.startAngle,i=e.endAngle,l=e.center,u=e.radius;return(0,B.ev)((0,B.ev)([r,i],(0,B.CR)(l),!1),[u],!1)}function DF(t,e,r,i){var l=e.startAngle,u=e.endAngle,h=e.center,p=e.radius;return t.selectAll(Wr.line.class).data([{path:Zx.apply(void 0,(0,B.ev)((0,B.ev)([l,u],(0,B.CR)(h),!1),[p],!1))}],function(g,m){return m}).join(function(g){return g.append("path").attr("className",Wr.line.name).styles(e).styles({path:function(m){return m.path}})},function(g){return g.transition(function(){var m=this,x=RC(this,FF(this),(0,B.ev)((0,B.ev)([l,u],(0,B.CR)(h),!1),[p],!1),i.update);if(x){var w=function(){var M=Yx(m.attributes,"__keyframe_data__");m.style.path=Zx.apply(void 0,(0,B.ev)([],(0,B.CR)(M),!1))};x.onframe=w,x.onfinish=w}return x}).styles(e)},function(g){return g.remove()}).styles(r).transitions()}function BF(t,e){var r=e.truncRange,i=e.truncShape,l=e.lineExtension}function GC(t,e,r){r===void 0&&(r=[0,0]);var i=(0,B.CR)([t,e,r],3),l=(0,B.CR)(i[0],2),u=l[0],h=l[1],p=(0,B.CR)(i[1],2),g=p[0],m=p[1],x=(0,B.CR)(i[2],2),w=x[0],M=x[1],O=(0,B.CR)([g-u,m-h],2),A=O[0],E=O[1],P=Math.sqrt(Math.pow(A,2)+Math.pow(E,2)),I=(0,B.CR)([-w/P,M/P],2),F=I[0],N=I[1];return[F*A,F*E,N*A,N*E]}function WC(t){var e=(0,B.CR)(t,2),r=(0,B.CR)(e[0],2),i=r[0],l=r[1],u=(0,B.CR)(e[1],2),h=u[0],p=u[1];return{x1:i,y1:l,x2:h,y2:p}}function NF(t,e,r,i){var l=e.showTrunc,u=e.startPos,h=e.endPos,p=e.truncRange,g=e.lineExtension,m=(0,B.CR)([u,h],2),x=(0,B.CR)(m[0],2),w=x[0],M=x[1],O=(0,B.CR)(m[1],2),A=O[0],E=O[1],P=(0,B.CR)(g?GC(u,h,g):new Array(4).fill(0),4),I=P[0],F=P[1],N=P[2],z=P[3],G=function(At){return t.selectAll(Wr.line.class).data(At,function(St,Ut){return Ut}).join(function(St){return St.append("line").attr("className",function(Ut){return"".concat(Wr.line.name," ").concat(Ut.className)}).styles(r).transition(function(Ut){return cs(this,WC(Ut.line),!1)})},function(St){return St.styles(r).transition(function(Ut){var ce=Ut.line;return cs(this,WC(ce),i.update)})},function(St){return St.remove()}).transitions()};if(!l||!p)return G([{line:[[w+I,M+F],[A+N,E+z]],className:Wr.line.name}]);var W=(0,B.CR)(p,2),Y=W[0],U=W[1],X=A-w,$=E-M,Q=(0,B.CR)([w+X*Y,M+$*Y],2),ft=Q[0],ot=Q[1],J=(0,B.CR)([w+X*U,M+$*U],2),st=J[0],gt=J[1],Mt=G([{line:[[w+I,M+F],[ft,ot]],className:Wr.lineFirst.name},{line:[[st,gt],[A+N,E+z]],className:Wr.lineSecond.name}]);return BF(t,e),Mt}function zF(t,e,r,i){var l=r.showArrow,u=r.showTrunc,h=r.lineArrow,p=r.lineArrowOffset,g=r.lineArrowSize,m;if(e==="arc"?m=t.select(Wr.line.class):u?m=t.select(Wr.lineSecond.class):m=t.select(Wr.line.class),!l||!h||r.type==="arc"&&bu(r.startAngle,r.endAngle)){var x=m.node();x&&(x.style.markerEnd=void 0);return}var w=xu(h);w.attr(i),ig(w,g,!0),m.style("markerEnd",w).style("markerEndOffset",-p)}function jF(t,e,r){var i=e.type,l,u=vr(e,"line");return i==="linear"?l=NF(t,e,DC(u,"arrow"),r):l=DF(t,e,DC(u,"arrow"),r),zF(t,i,e,u),l}function VC(t,e){return Xx(t,e.gridDirection,e)}function HC(t){var e=t.type,r=t.gridCenter;return e==="linear"?r:r||t.center}function GF(t,e){var r=e.gridLength;return t.map(function(i,l){var u=i.value,h=(0,B.CR)(qd(u,e),2),p=h[0],g=h[1],m=(0,B.CR)(pl(VC(u,e),r),2),x=m[0],w=m[1];return{id:l,points:[[p,g],[p+x,g+w]]}})}function WF(t,e){var r=e.gridControlAngles,i=HC(e);if(!i)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!r||r.length===0)throw new Error("Invalid gridControlAngles");var l=(0,B.CR)(i,2),u=l[0],h=l[1];return t.map(function(p,g){var m=p.value,x=(0,B.CR)(qd(m,e),2),w=x[0],M=x[1],O=(0,B.CR)([w-u,M-h],2),A=O[0],E=O[1],P=[];return r.forEach(function(I){var F=uc(I),N=(0,B.CR)([Math.cos(F),Math.sin(F)],2),z=N[0],G=N[1],W=A*z-E*G+u,Y=A*G+E*z+h;P.push([W,Y])}),{points:P,id:g}})}function VF(t,e,r,i){var l=vr(r,"grid"),u=l.type,h=l.areaFill,p=HC(r),g=Ux(e,r.gridFilter),m=u==="segment"?GF(g,r):WF(g,r),x=(0,B.pi)((0,B.pi)({},l),{center:p,areaFill:Gi(h)?g.map(function(w,M){return Yo(h,[w,M,g])}):h,animate:i,data:m});return t.selectAll(Wr.grid.class).data([1]).join(function(w){return w.append(function(){return new PF({style:x})}).attr("className",Wr.grid.name)},function(w){return w.transition(function(){return this.update(x)})},function(w){return w.remove()}).transitions()}function qi(t,e,r,i,l){return i===void 0&&(i=!0),i&&t===e||l&&t===r?!0:t>e&&t<r}var ag,HF=fc(function(t,e){var r=ic(t)?t:t.style.text.toString(),i=e||qx(t),l=i.fontSize,u=i.fontFamily,h=i.fontWeight,p=i.fontStyle,g=i.fontVariant;return ag||(ag=document.createElement("canvas").getContext("2d")),ag.font=[p,g,h,"".concat(l,"px"),u].join(" "),ag.measureText(r).width},function(t,e){return[ic(t)?t:t.style.text.toString(),Object.values(e||qx(t)).join()].join("")}),qx=function(t){var e=t.style.fontFamily||"sans-serif",r=t.style.fontWeight||"normal",i=t.style.fontStyle||"normal",l=t.style.fontVariant,u=t.style.fontSize;return u=typeof u=="object"?u.value:u,{fontSize:u,fontFamily:e,fontWeight:r,fontStyle:i,fontVariant:l}};function YC(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function UC(t,e){var r=YC(t);r&&r.attr(e)}function $x(t,e,r){r===void 0&&(r="..."),UC(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:r})}function YF(t,e,r,i){r===void 0&&(r=2),i===void 0&&(i="top"),UC(t,{wordWrap:!0,wordWrapWidth:e,maxLines:r,textBaseline:i})}function XC(t,e,r){var i=t.getBBox(),l=i.width,u=i.height,h=(0,B.CR)([e,r].map(function(m,x){var w;return m.includes("%")?parseFloat(((w=m.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||w===void 0?void 0:w[0])||"0")/100*(x===0?l:u):m}),2),p=h[0],g=h[1];return[p,g]}function vl(t,e){if(e)try{var r=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,i=e.replace(r,function(l,u,h){return"translate(".concat(XC(t,u,h),")")});t.attr("transform",i)}catch(l){}}var ZC=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)};function Ea(t){if(rg(t))return[t,t,t,t];if(Re(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}var Uo=function(){function t(e,r,i,l){this.set(e,r,i,l)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(e,r,i){var l=this,u=l.x1,h=l.y1,p=l.x2,g=l.y2,m=Math.cos(e),x=Math.sin(e),w=r-r*m+i*x,M=i-r*x-i*m,O=[[m*u-x*g+w,x*u+m*g+M],[m*p-x*g+w,x*p+m*g+M],[m*u-x*h+w,x*u+m*h+M],[m*p-x*h+w,x*p+m*h+M]];return O},t.prototype.set=function(e,r,i,l){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),l<r?(this.y2=r,this.y1=l):(this.y1=r,this.y2=l),this},t.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},t}();function To(t,e){var r=t.getEulerAngles()||0;t.setEulerAngles(0);var i=t.getLocalBounds(),l=(0,B.CR)(i.min,2),u=l[0],h=l[1],p=(0,B.CR)(i.max,2),g=p[0],m=p[1],x=gl(t),w=x.width,M=x.height,O=M,A=0,E=0,P=u,I=h,F=YC(t);if(F){O-=1.5;var N=F.style.textAlign,z=F.style.textBaseline;N==="center"?P=(u+g)/2:(N==="right"||N==="end")&&(P=g),z==="middle"?I=(h+m)/2:z==="bottom"&&(I=m)}var G=(0,B.CR)(Ea(e),4),W=G[0],Y=W===void 0?0:W,U=G[1],X=U===void 0?0:U,$=G[2],Q=$===void 0?Y:$,ft=G[3],ot=ft===void 0?X:ft,J=new Uo((A+=u)-ot,(E+=h)-Y,A+w+X,E+O+Q);return t.setEulerAngles(r),J.rotatedPoints(uc(r),P,I)}function gl(t){return t.__bbox__?t.__bbox__:t.getBBox()}function Xf(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function Eo(t,e,r){var i=(e[1]-t[1])*(r[0]-e[0])-(e[0]-t[0])*(r[1]-e[1]);return i===0?0:i<0?2:1}function UF(t,e){var r=Eo(t[0],t[1],e[0]),i=Eo(t[0],t[1],e[1]),l=Eo(e[0],e[1],t[0]),u=Eo(e[0],e[1],t[1]);return!!(r!==i&&l!==u||r===0&&Xf(t,e[0])||i===0&&Xf(t,e[1])||l===0&&Xf(e,t[0])||u===0&&Xf(e,t[1]))}function XF(t,e){var r=t.length;if(r<3)return!1;var i=[e,[9999,e[1]]],l=0,u=0;do{var h=[t[u],t[(u+1)%r]];if(UF(h,i)){if(Eo(h[0],e,h[1])===0)return Xf(h,e);l++}u=(u+1)%r}while(u!==0);return!!(l&1)}function ZF(t,e){return e.every(function(r){return XF(t,r)})}function qF(t,e,r){var i=t.x1,l=t.x2,u=t.y1,h=t.y2,p=[[i,u],[l,u],[l,h],[i,h]],g=To(e,r);return ZF(p,g)}function qC(t,e){var r=(0,B.CR)(t,4),i=r[0],l=r[1],u=r[2],h=r[3],p=(0,B.CR)(e,4),g=p[0],m=p[1],x=p[2],w=p[3],M=u-i,O=h-l,A=x-g,E=w-m,P=M*E-A*O;if(P===0)return!1;var I=P>0,F=i-g,N=l-m,z=M*N-O*F;if(z<0===I)return!1;var G=A*N-E*F;return!(G<0===I||z>P===I||G>P===I)}function $C(t,e){var r=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return r.some(function(i){return qC(e,i)})}var a8={lineToLine:qC,intersectBoxLine:$C,getBounds:To};function $F(t,e,r){var i,l,u=To(t,r).flat(1),h=To(e,r).flat(1),p=[[u[0],u[1],u[2],u[3]],[u[0],u[1],u[4],u[5]],[u[4],u[5],u[6],u[7]],[u[2],u[3],u[6],u[7]]];try{for(var g=(0,B.XA)(p),m=g.next();!m.done;m=g.next()){var x=m.value;if($C(h,x))return!0}}catch(w){i={error:w}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(i)throw i.error}}return!1}function KF(t,e){var r=t.type,i=t.labelDirection,l=t.crossSize;if(!l)return!1;if(r==="arc"){var u=t.center,h=t.radius,p=(0,B.CR)(u,2),g=p[0],m=p[1],x=i==="negative"?0:l,w=-h-x,M=h+x,O=(0,B.CR)(Ea(e),4),A=O[0],E=O[1],P=O[2],I=O[3];return new Uo(g+w-I,m+w-A,g+M+E,m+M+P)}var F=(0,B.CR)(t.startPos,2),N=F[0],z=F[1],G=(0,B.CR)(t.endPos,2),W=G[0],Y=G[1],U=(0,B.CR)(jC(t)?[-e,0,e,0]:[0,e,0,-e],4),X=U[0],$=U[1],Q=U[2],ft=U[3],ot=us(0,t),J=pl(ot,l),st=new Uo(N,z,W,Y);return st.x1+=ft,st.y1+=X,st.x2+=$+J[0],st.y2+=Q+J[1],st}function og(t,e,r){var i,l,u=e.crossPadding,h=new Set,p=null,g=KF(e,u),m=function(A){return g?qF(g,A):!0},x=function(A,E){return A?!$F(A,E,Ea(r)):!0};try{for(var w=(0,B.XA)(t),M=w.next();!M.done;M=w.next()){var O=M.value;m(O)?!p||x(p,O)?p=O:(h.add(p),h.add(O)):h.add(O)}}catch(A){i={error:A}}finally{try{M&&!M.done&&(l=w.return)&&l.call(w)}finally{if(i)throw i.error}}return Array.from(h)}function KC(t,e){return e===void 0&&(e={}),jx(t)?0:typeof t=="number"?t:Math.floor(HF(t,e))}function Kx(t,e,r,i){if(!(t.length<=1)){var l=e.suffix,u=l===void 0?"...":l,h=e.minLength,p=e.maxLength,g=p===void 0?1/0:p,m=e.step,x=m===void 0?" ":m,w=e.margin,M=w===void 0?[0,0,0,0]:w,O=qx(i.getTextShape(t[0])),A=KC(x,O),E=h?KC(h,O):A,P=KC(g,O);(jx(P)||P===1/0)&&(P=Math.max.apply(null,t.map(function(J){return gl(J).width})));for(var I=t.slice(),F=(0,B.CR)(M,4),N=F[0],z=N===void 0?0:N,G=F[1],W=G===void 0?0:G,Y=F[2],U=Y===void 0?z:Y,X=F[3],$=X===void 0?W:X,Q=function(J){if(I.forEach(function(st){i.ellipsis(i.getTextShape(st),J,u)}),I=og(t,r,M),I.length<1)return{value:void 0}},ft=P;ft>E+A;ft-=A){var ot=Q(ft);if(typeof ot=="object")return ot.value}}}function $d(t){var e=t&&t.getRenderBounds();if(!e)return{width:0,height:0};var r=e.getMax(),i=e.getMin();return{width:r[0]-i[0],height:r[1]-i[1]}}function JC(t){var e=t.getLocalBounds(),r=e.min,i=e.max,l=(0,B.CR)([r,i],2),u=(0,B.CR)(l[0],2),h=u[0],p=u[1],g=(0,B.CR)(l[1],2),m=g[0],x=g[1];return{x:h,y:p,width:m-h,height:x-p,left:h,bottom:x,top:p,right:m}}function o8(t,e){var r=select(t).append("text").node();return r.attr(__assign(__assign({},e),{visibility:"hidden"})),r}function QC(t,e){var r=(0,B.CR)(t,2),i=r[0],l=r[1],u=(0,B.CR)(e,2),h=u[0],p=u[1];return i!==h&&l===p}function s8(t,e){var r=__read(t,2),i=r[0],l=r[1],u=__read(e,2),h=u[0],p=u[1];return i===h&&l!==p}function tA(t,e){var r,i,l=e.attributes;try{for(var u=(0,B.XA)(Object.entries(l)),h=u.next();!h.done;h=u.next()){var p=(0,B.CR)(h.value,2),g=p[0],m=p[1];g!=="id"&&g!=="className"&&t.attr(g,m)}}catch(x){r={error:x}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}var JF={parity:function(t,e){var r=e.seq,i=r===void 0?2:r;return t.filter(function(l,u){return u%i?(rc(l),!1):!0})}},QF=function(t){return t.filter(ZC)};function t5(t,e,r,i){var l=t.length,u=e.keepHeader,h=e.keepTail;if(!(l<=1||l===2&&u&&h)){var p=JF.parity,g=function(N){return N.forEach(i.show),N},m=2,x=t.slice(),w=t.slice(),M=Math.min.apply(Math,(0,B.ev)([1],(0,B.CR)(t.map(function(N){return gl(N).width})),!1));if(r.type==="linear"&&(zC(r)||jC(r))){var O=JC(t[0]).left,A=JC(t[l-1]).right,E=Math.abs(A-O)||1;m=Math.max(Math.floor(l*M/E),m)}var P,I;for(u&&(P=x.splice(0,1)[0]),h&&(I=x.splice(-1,1)[0],x.reverse()),g(x);m<t.length&&og(QF(I?(0,B.ev)((0,B.ev)([I],(0,B.CR)(w),!1),[P],!1):(0,B.ev)([P],(0,B.CR)(w),!1)),r,e==null?void 0:e.margin).length;){if(I&&!P&&m%2===0){var F=x.splice(0,1);F.forEach(i.hide)}else if(I&&P){var F=x.splice(0,1);F.forEach(i.hide)}w=p(g(x),{seq:m}),m++}}}function e5(t,e,r,i){var l,u,h=e.optionalAngles,p=h===void 0?[0,45,90]:h,g=e.margin,m=e.recoverWhenFailed,x=m===void 0?!0:m,w=t.map(function(I){return I.getLocalEulerAngles()}),M=function(){return og(t,r,g).length<1},O=function(I){return t.forEach(function(F,N){var z=Array.isArray(I)?I[N]:I;i.rotate(F,+z)})};try{for(var A=(0,B.XA)(p),E=A.next();!E.done;E=A.next()){var P=E.value;if(O(P),M())return}}catch(I){l={error:I}}finally{try{E&&!E.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}x&&O(w)}function n5(t){var e=t.type,r=t.labelDirection;return e==="linear"&&zC(t)?r==="negative"?"bottom":"top":"middle"}function r5(t,e,r,i){var l=e.wordWrapWidth,u=l===void 0?50:l,h=e.maxLines,p=h===void 0?3:h,g=e.recoverWhenFailed,m=g===void 0?!0:g,x=e.margin,w=x===void 0?[0,0,0,0]:x,M=t.map(function(F){return F.attr("maxLines")||1}),O=Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(M),!1)),A=function(){return og(t,r,w).length<1},E=n5(r),P=function(F){return t.forEach(function(N,z){var G=Array.isArray(F)?F[z]:F;i.wrap(N,u,G,E)})};if(!(O>p)){for(var I=O;I<=p;I++)if(P(I),A())return;m&&P(M)}}var l8=new Map([["hide",t5],["rotate",e5],["ellipsis",Kx],["wrap",r5]]);function eA(t,e,r){return e.labelOverlap.length<1?!1:r==="hide"?!FR(t[0]):r==="rotate"?!t.some(function(i){var l;return!!(!((l=i.attr("transform"))===null||l===void 0)&&l.includes("rotate"))}):r==="ellipsis"||r==="wrap"?t.filter(function(i){return i.querySelector("text")}).length>1:!0}function nA(t,e,r){var i=e.labelOverlap,l=i===void 0?[]:i;l.length&&l.forEach(function(u){var h=u.type,p=l8.get(h);eA(t,e,h)&&(p==null||p(t,u,e,r))})}function i5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(i){return i==="positive"?-1:1};return t.reduce(function(i,l){return i*r(l)},1)}var Jx=function(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)},Qx=fc(function(t,e){var r=(0,B.CR)(t,2),i=r[0],l=r[1],u=(0,B.CR)(e,2),h=u[0],p=u[1],g=(0,B.CR)([i*h+l*p,i*p-l*h],2),m=g[0],x=g[1];return Math.atan2(x,m)},function(t,e){return(0,B.ev)((0,B.ev)([],(0,B.CR)(t),!1),(0,B.CR)(e),!1).join()});function a5(t){var e=(t+360)%180;return qi(e,-90,90)||(e+=180),e}function o5(t,e,r){var i,l=r.labelAlign,u=(i=e.style.transform)===null||i===void 0?void 0:i.includes("rotate");if(u)return e.getLocalEulerAngles();var h=0,p=us(t.value,r),g=Xd(t.value,r);return l==="horizontal"?0:(l==="perpendicular"?h=Qx([1,0],p):h=Qx([g[0]<0?-1:1,0],g),a5(Wx(h)))}function rA(t,e,r){var i=r.type,l=r.labelAlign,u=us(t,r),h=Jx(e),p=Jx(Wx(Qx([1,0],u))),g="center",m="middle";return i==="linear"?[90,270].includes(p)&&h===0?(g="center",m=u[1]===1?"top":"bottom"):!(p%180)&&[90,270].includes(h)?g="center":p===0?(qi(h,0,90,!1,!0)||qi(h,0,90)||qi(h,270,360))&&(g="start"):p===90?qi(h,0,90,!1,!0)?g="start":(qi(h,90,180)||qi(h,270,360))&&(g="end"):p===270?qi(h,0,90,!1,!0)?g="end":(qi(h,90,180)||qi(h,270,360))&&(g="start"):p===180&&(h===90?g="start":(qi(h,0,90)||qi(h,270,360))&&(g="end")):l==="parallel"?qi(p,0,180,!0)?m="top":m="bottom":l==="horizontal"?qi(p,90,270,!1)?g="end":(qi(p,270,360,!1)||qi(p,0,90))&&(g="start"):l==="perpendicular"&&(qi(p,90,270)?g="end":g="start"),{textAlign:g,textBaseline:m}}function s5(t,e,r){e.setLocalEulerAngles(t);var i=e.__data__.value,l=rA(i,t,r),u=e.querySelector(Wr.labelItem.class);u&&iA(u,l)}function l5(t,e,r){var i=r.showTick,l=r.tickLength,u=r.tickDirection,h=r.labelDirection,p=r.labelSpacing,g=e.indexOf(t),m=Yo(p,[t,g,e]),x=(0,B.CR)([us(t.value,r),i5(h,u)],2),w=x[0],M=x[1],O=M===1?Yo(i?l:0,[t,g,e]):0,A=(0,B.CR)(Gf(pl(w,m+O),qd(t.value,r)),2),E=A[0],P=A[1];return{x:E,y:P}}function c5(t,e,r,i){var l=i.labelFormatter,u=Gi(l)?function(){return xu(Yo(l,[t,e,r,us(t.value,i)]))}:function(){return xu(t.label||"")};return u}function iA(t,e){t.nodeName==="text"&&t.attr(e)}function aA(t){nA(this.node().childNodes,t,{hide:rc,show:If,rotate:function(e,r){s5(+r,e,t)},ellipsis:function(e,r,i){r===void 0&&(r=1/0),e&&$x(e,r,i)},wrap:function(e,r,i){e&&YF(e,r,i)},getTextShape:function(e){return e.querySelector("text")}})}function oA(t,e,r,i,l){var u=r.indexOf(e),h=Qn(t).append(c5(e,u,r,l)).attr("className",Wr.labelItem.name).node(),p=(0,B.CR)(qa(BC(i,[e,u,r])),2),g=p[0],m=p[1],x=m.transform,w=(0,B._T)(m,["transform"]);vl(t,x);var M=o5(e,t,l);return t.setLocalEulerAngles(+M),iA(h,(0,B.pi)((0,B.pi)({},rA(e.value,M,l)),g)),vl(t,x),t.attr(w),h}function u5(t,e,r,i){var l=Ux(e,r.labelFilter),u=vr(r,"label");return t.selectAll(Wr.label.class).data(l,function(h,p){return p}).join(function(h){return h.append("g").attr("className",Wr.label.name).transition(function(p){return oA(this,p,e,u,r),this.attr(l5(p,e,r)),this.__bbox__=p.bbox,null}).call(function(){return aA.call(t,r)})},function(h){return h.transition(function(p){var g=this.querySelector(Wr.labelItem.class),m=oA(this,p,e,u,r),x=CC(g,m,i.update),w=cs(this,l5(p,e,r),i.update);return this.__bbox__=p.bbox,(0,B.ev)((0,B.ev)([],(0,B.CR)(x),!1),[w],!1)}).call(function(p){var g=Yx(p,"_transitions").flat().filter(ZC);yF(g,function(){return aA.call(t,r)})})},function(h){return h.transition(function(){var p=this,g=ng(this.childNodes[0],i.exit);return gu(g,function(){return Qn(p).remove()}),g})}).transitions()}function sA(t,e){return Xx(t,e.tickDirection,e)}var f5=fc(function(t,e){var r=(0,B.CR)(t,2),i=r[0],l=r[1];return[[0,0],[i*e,l*e]]},function(t,e){return(0,B.ev)((0,B.ev)([],(0,B.CR)(t),!1),[e],!1).join()});function lA(t,e,r,i,l){var u=l.tickLength,h=(0,B.CR)(f5(i,Yo(u,[t,e,r])),2),p=(0,B.CR)(h[0],2),g=p[0],m=p[1],x=(0,B.CR)(h[1],2),w=x[0],M=x[1];return{x1:g,x2:w,y1:m,y2:M}}function cA(t,e,r,i,l){var u=l.tickFormatter,h=sA(e.value,l),p="line";return Gi(u)&&(p=function(){return Yo(u,[e,r,i,h])}),t.append(p).attr("className",Wr.tickItem.name)}function uA(t,e,r,i,l,u,h){var p=sA(t.value,u),g=lA(t,e,r,p,u),m=g.x1,x=g.x2,w=g.y1,M=g.y2,O=(0,B.CR)(qa(BC(h,[t,e,r,p])),2),A=O[0],E=O[1];i.node().nodeName==="line"&&i.styles((0,B.pi)({x1:m,x2:x,y1:w,y2:M},A)),l.attr(E),i.styles(A)}function tb(t,e,r,i,l,u){var h=cA(Qn(this),t,e,r,i);uA(t,e,r,h,this,i,l);var p=(0,B.CR)(qd(t.value,i),2),g=p[0],m=p[1];return cs(this,{x:g,y:m},u)}function h5(t,e,r,i){var l=Ux(e,r.tickFilter),u=vr(r,"tick");return t.selectAll(Wr.tick.class).data(l,function(h){return h.id||h.label}).join(function(h){return h.append("g").attr("className",Wr.tick.name).transition(function(p,g){return tb.call(this,p,g,l,r,u,!1)})},function(h){return h.transition(function(p,g){return this.removeChildren(),tb.call(this,p,g,l,r,u,i.update)})},function(h){return h.transition(function(){var p=this,g=ng(this.childNodes[0],i.exit);return gu(g,function(){return p.remove()}),g})}).transitions()}var xi=function(){function t(e,r,i,l){e===void 0&&(e=0),r===void 0&&(r=0),i===void 0&&(i=0),l===void 0&&(l=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=r,this.width=i,this.height=l}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t}();function c8(t){var e=t.getRenderBounds(),r=__read(e.min,2),i=r[0],l=r[1],u=__read(e.max,2),h=u[0],p=u[1],g=h-i,m=p-l;return new xi(i,l,g,m)}var fA=Ho({text:"text"},"title");function sg(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(e){return e[0]}):t.length>2?[t[0]]:t.split("")}function d5(t,e){var r=t.attributes,i=r.position,l=r.spacing,u=r.inset,h=r.text,p=t.getBBox(),g=e.getBBox(),m=sg(i),x=(0,B.CR)(Ea(h?l:0),4),w=x[0],M=x[1],O=x[2],A=x[3],E=(0,B.CR)(Ea(u),4),P=E[0],I=E[1],F=E[2],N=E[3],z=(0,B.CR)([A+M,w+O],2),G=z[0],W=z[1],Y=(0,B.CR)([N+I,P+F],2),U=Y[0],X=Y[1];if(m[0]==="l")return new xi(p.x,p.y,g.width+p.width+G+U,Math.max(g.height+X,p.height));if(m[0]==="t")return new xi(p.x,p.y,Math.max(g.width+U,p.width),g.height+p.height+W+X);var $=(0,B.CR)([e.attributes.width||g.width,e.attributes.height||g.height],2),Q=$[0],ft=$[1];return new xi(g.x,g.y,Q+p.width+G+U,ft+p.height+W+X)}function p5(t,e){var r=Object.entries(e).reduce(function(i,l){var u=(0,B.CR)(l,2),h=u[0],p=u[1],g=t.node().attr(h);return g||(i[h]=p),i},{});t.styles(r)}function v5(t){var e,r,i,l,u=t,h=u.width,p=u.height,g=u.position,m=(0,B.CR)([+h/2,+p/2],2),x=m[0],w=m[1],M=(0,B.CR)([+x,+w,"center","middle"],4),O=M[0],A=M[1],E=M[2],P=M[3],I=sg(g);return I.includes("l")&&(e=(0,B.CR)([0,"start"],2),O=e[0],E=e[1]),I.includes("r")&&(r=(0,B.CR)([+h,"end"],2),O=r[0],E=r[1]),I.includes("t")&&(i=(0,B.CR)([0,"top"],2),A=i[0],P=i[1]),I.includes("b")&&(l=(0,B.CR)([+p,"bottom"],2),A=l[0],P=l[1]),{x:O,y:A,textAlign:E,textBaseline:P}}var hA=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return e.prototype.getAvailableSpace=function(){var r=this,i=this.attributes,l=i.width,u=i.height,h=i.position,p=i.spacing,g=i.inset,m=r.querySelector(fA.text.class);if(!m)return new xi(0,0,+l,+u);var x=m.getBBox(),w=x.width,M=x.height,O=(0,B.CR)(Ea(p),4),A=O[0],E=O[1],P=O[2],I=O[3],F=(0,B.CR)([0,0,+l,+u],4),N=F[0],z=F[1],G=F[2],W=F[3],Y=sg(h);if(Y.includes("i"))return new xi(N,z,G,W);Y.forEach(function(gt,Mt){var At,St,Ut,ce;gt==="t"&&(At=(0,B.CR)(Mt===0?[M+P,+u-M-P]:[0,+u],2),z=At[0],W=At[1]),gt==="r"&&(St=(0,B.CR)([+l-w-I],1),G=St[0]),gt==="b"&&(Ut=(0,B.CR)([+u-M-A],1),W=Ut[0]),gt==="l"&&(ce=(0,B.CR)(Mt===0?[w+E,+l-w-E]:[0,+l],2),N=ce[0],G=ce[1])});var U=(0,B.CR)(Ea(g),4),X=U[0],$=U[1],Q=U[2],ft=U[3],ot=(0,B.CR)([ft+$,X+Q],2),J=ot[0],st=ot[1];return new xi(N+ft,z+X,G-J,W-st)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new xi(0,0,0,0)},e.prototype.render=function(r,i){var l=this,u=r.width,h=r.height,p=r.position,g=r.spacing,m=(0,B._T)(r,["width","height","position","spacing"]),x=(0,B.CR)(qa(m),1),w=x[0],M=v5(r),O=M.x,A=M.y,E=M.textAlign,P=M.textBaseline;so(!!m.text,Qn(i),function(I){l.title=I.maybeAppendByClassName(fA.text,"text").styles(w).call(p5,{x:O,y:A,textAlign:E,textBaseline:P}).node()})},e}(Wi);function g5(t,e,r){var i=r.titlePosition,l=i===void 0?"lb":i,u=r.titleSpacing,h=sg(l),p=t.node().getLocalBounds(),g=(0,B.CR)(p.min,2),m=g[0],x=g[1],w=(0,B.CR)(p.halfExtents,2),M=w[0],O=w[1],A=(0,B.CR)(e.node().getLocalBounds().halfExtents,2),E=A[0],P=A[1],I=(0,B.CR)([m+M,x+O],2),F=I[0],N=I[1],z=(0,B.CR)(Ea(u),4),G=z[0],W=z[1],Y=z[2],U=z[3];if(["start","end"].includes(l)&&r.type==="linear"){var X=r.startPos,$=r.endPos,Q=(0,B.CR)(l==="start"?[X,$]:[$,X],2),ft=Q[0],ot=Q[1],J=EC([-ot[0]+ft[0],-ot[1]+ft[1]]),st=(0,B.CR)(pl(J,G),2),gt=st[0],Mt=st[1];return{x:ft[0]+gt,y:ft[1]+Mt}}return h.includes("t")&&(N-=O+P+G),h.includes("r")&&(F+=M+E+W),h.includes("l")&&(F-=M+E*2+U),h.includes("b")&&(N+=O+P*2+Y),{x:F,y:N}}function y5(t,e,r){var i=t.cloneNode(!0);i.style.transform="scale(1, 1)",i.style.transform="none";var l=i.getBBox().height;if(e==="vertical"){if(r==="left")return"rotate(-90) translate(0, ".concat(l/2,")");if(r==="right")return"rotate(-90) translate(0, -".concat(l/2,")")}return""}function m5(t,e,r,i,l){var u=vr(i,"title"),h=(0,B.CR)(qa(u),2),p=h[0],g=h[1],m=g.transform,x=(0,B._T)(g,["transform"]);t.styles(p),e.styles(x);var w=m||y5(t.node(),p.direction,p.position);vl(t.node(),w);var M=g5(Qn(r._offscreen||r.querySelector(Wr.mainGroup.class)),e,i),O=M.x,A=M.y,E=cs(e.node(),{x:O,y:A},l);return vl(t.node(),w),E}function x5(t,e,r,i){var l=r.titleText;return t.selectAll(Wr.title.class).data([{title:l}].filter(function(u){return!!u.title}),function(u,h){return u.title}).join(function(u){return u.append(function(){return xu(l)}).attr("className",Wr.title.name).transition(function(){return m5(Qn(this),t,e,r,i.enter)})},function(u){return u.transition(function(){return m5(Qn(this),t,e,r,i.update)})},function(u){return u.remove()}).transitions()}function dA(t,e,r,i){var l=t.showLine,u=t.showTick,h=t.showLabel,p=e.maybeAppendByClassName(Wr.lineGroup,"g"),g=so(l,p,function(O){return jF(O,t,i)})||[],m=e.maybeAppendByClassName(Wr.tickGroup,"g"),x=so(u,m,function(O){return h5(O,r,t,i)})||[],w=e.maybeAppendByClassName(Wr.labelGroup,"g"),M=so(h,w,function(O){return u5(O,r,t,i)})||[];return(0,B.ev)((0,B.ev)((0,B.ev)([],(0,B.CR)(g),!1),(0,B.CR)(x),!1),(0,B.CR)(M),!1).filter(function(O){return!!O})}var lg=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,jf)||this}return e.prototype.render=function(r,i,l){var u=this,h=r.titleText,p=r.data,g=r.animate,m=r.showTitle,x=r.showGrid,w=r.dataThreshold,M=r.truncRange,O=Gx(p,w).filter(function(G){var W=G.value;return!(M&&W>M[0]&&W<M[1])}),A=SC(l===void 0?g:l),E=Qn(i).maybeAppendByClassName(Wr.gridGroup,"g"),P=so(x,E,function(G){return VF(G,O,r,A)})||[],I=Qn(i).maybeAppendByClassName(Wr.mainGroup,"g");h&&(!this.initialized&&A.enter||this.initialized&&A.update)&&dA(r,Qn(this.offscreenGroup),O,SC(!1));var F=dA(r,Qn(I.node()),O,A),N=Qn(i).maybeAppendByClassName(Wr.titleGroup,"g"),z=so(m,N,function(G){return x5(G,u,r,A)})||[];return(0,B.ev)((0,B.ev)((0,B.ev)([],(0,B.CR)(P),!1),(0,B.CR)(F),!1),(0,B.CR)(z),!1).flat().filter(function(G){return!!G})},e}(Wi),b5=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function pA(t,e){if(t){var r;if(Jh(t))for(var i=0,l=t.length;i<l&&(r=e(t[i],i),r!==!1);i++);else if(b5(t)){for(var u in t)if(t.hasOwnProperty(u)&&(r=e(t[u],u),r===!1))break}}}var vA=pA,w5=function(t,e,r){if(!Jh(t)&&!Yl(t))return t;var i=r;return vA(t,function(l,u){i=e(i,l,u)}),i},Kd=w5,gA=function(t,e){return Kd(t,function(r,i,l){return e.includes(l)||(r[l]=i),r},{})},M5=function(t){var e=xS(t);return e.charAt(0).toUpperCase()+e.substring(1)},hc=M5;function yA(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function ug(t){return t=cg(Math.abs(t)),t?t[1]:NaN}function mA(t,e){return function(r,i){for(var l=r.length,u=[],h=0,p=t[0],g=0;l>0&&p>0&&(g+p+1>i&&(p=Math.max(1,i-g)),u.push(r.substring(l-=p,l+p)),!((g+=p+1)>i));)p=t[h=(h+1)%t.length];return u.reverse().join(e)}}function eb(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var S5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nb(t){if(!(e=S5.exec(t)))throw new Error("invalid format: "+t);var e;return new wu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nb.prototype=wu.prototype;function wu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xA(t){t:for(var e=t.length,r=1,i=-1,l;r<e;++r)switch(t[r]){case".":i=l=r;break;case"0":i===0&&(i=r),l=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(l+1):t}var rb;function bA(t,e){var r=cg(t,e);if(!r)return t+"";var i=r[0],l=r[1],u=l-(rb=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,h=i.length;return u===h?i:u>h?i+new Array(u-h+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+cg(t,Math.max(0,e+u-1))[0]}function ib(t,e){var r=cg(t,e);if(!r)return t+"";var i=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+i:i.length>l+1?i.slice(0,l+1)+"."+i.slice(l+1):i+new Array(l-i.length+2).join("0")}var Jd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yA,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ib(t*100,e),r:ib,s:bA,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ab(t){return t}var wA=Array.prototype.map,MA=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function fg(t){var e=t.grouping===void 0||t.thousands===void 0?ab:mA(wA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?ab:eb(wA.call(t.numerals,String)),h=t.percent===void 0?"%":t.percent+"",p=t.minus===void 0?"\u2212":t.minus+"",g=t.nan===void 0?"NaN":t.nan+"";function m(w){w=nb(w);var M=w.fill,O=w.align,A=w.sign,E=w.symbol,P=w.zero,I=w.width,F=w.comma,N=w.precision,z=w.trim,G=w.type;G==="n"?(F=!0,G="g"):Jd[G]||(N===void 0&&(N=12),z=!0,G="g"),(P||M==="0"&&O==="=")&&(P=!0,M="0",O="=");var W=E==="$"?r:E==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",Y=E==="$"?i:/[%p]/.test(G)?h:"",U=Jd[G],X=/[defgprs%]/.test(G);N=N===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(Q){var ft=W,ot=Y,J,st,gt;if(G==="c")ot=U(Q)+ot,Q="";else{Q=+Q;var Mt=Q<0||1/Q<0;if(Q=isNaN(Q)?g:U(Math.abs(Q),N),z&&(Q=xA(Q)),Mt&&+Q==0&&A!=="+"&&(Mt=!1),ft=(Mt?A==="("?A:p:A==="-"||A==="("?"":A)+ft,ot=(G==="s"?MA[8+rb/3]:"")+ot+(Mt&&A==="("?")":""),X){for(J=-1,st=Q.length;++J<st;)if(gt=Q.charCodeAt(J),48>gt||gt>57){ot=(gt===46?l+Q.slice(J+1):Q.slice(J))+ot,Q=Q.slice(0,J);break}}}F&&!P&&(Q=e(Q,1/0));var At=ft.length+Q.length+ot.length,St=At<I?new Array(I-At+1).join(M):"";switch(F&&P&&(Q=e(St+Q,St.length?I-ot.length:1/0),St=""),O){case"<":Q=ft+Q+ot+St;break;case"=":Q=ft+St+Q+ot;break;case"^":Q=St.slice(0,At=St.length>>1)+ft+Q+ot+St.slice(At);break;default:Q=St+ft+Q+ot;break}return u(Q)}return $.toString=function(){return w+""},$}function x(w,M){var O=m((w=nb(w),w.type="f",w)),A=Math.max(-8,Math.min(8,Math.floor(ug(M)/3)))*3,E=Math.pow(10,-A),P=MA[8+A/3];return function(I){return O(E*I)+P}}return{format:m,formatPrefix:x}}var zs,ko,_5;SA({thousands:",",grouping:[3],currency:["$",""]});function SA(t){return zs=fg(t),ko=zs.format,_5=zs.formatPrefix,zs}function ob(t){for(var e=1/0,r=1/0,i=-1/0,l=-1/0,u=0;u<t.length;u++){var h=t[u],p=h.x,g=h.y,m=h.width,x=h.height,w=(0,B.CR)([p+m,g+x],2),M=w[0],O=w[1];p<e&&(e=p),g<r&&(r=g),M>i&&(i=M),O>l&&(l=O)}return new xi(e,r,i-e,l-r)}var sb=function(t,e,r){var i=t.width,l=t.height,u=r.flexDirection,h=u===void 0?"row":u,p=r.flexWrap,g=p===void 0?"nowrap":p,m=r.justifyContent,x=m===void 0?"flex-start":m,w=r.alignContent,M=w===void 0?"flex-start":w,O=r.alignItems,A=O===void 0?"flex-start":O,E=h==="row",P=h==="row"||h==="column",I=E?P?[1,0]:[-1,0]:P?[0,1]:[0,-1],F=(0,B.CR)([0,0],2),N=F[0],z=F[1],G=e.map(function(ot){var J,st=ot.width,gt=ot.height,Mt=(0,B.CR)([N,z],2),At=Mt[0],St=Mt[1];return J=(0,B.CR)([N+st*I[0],z+gt*I[1]],2),N=J[0],z=J[1],new xi(At,St,st,gt)}),W=ob(G),Y={"flex-start":0,"flex-end":E?i-W.width:l-W.height,center:E?(i-W.width)/2:(l-W.height)/2},U=G.map(function(ot){var J=ot.x,st=ot.y,gt=xi.fromRect(ot);return gt.x=E?J+Y[x]:J,gt.y=E?st:st+Y[x],gt}),X=ob(U),$=function(ot){var J=(0,B.CR)(E?["height",l]:["width",i],2),st=J[0],gt=J[1];switch(A){case"flex-start":return 0;case"flex-end":return gt-ot[st];case"center":return gt/2-ot[st]/2;default:return 0}},Q=U.map(function(ot){var J=ot.x,st=ot.y,gt=xi.fromRect(ot);return gt.x=E?J:J+$(gt),gt.y=E?st+$(gt):st,gt}),ft=Q.map(function(ot){var J,st,gt=xi.fromRect(ot);return gt.x+=(J=t.x)!==null&&J!==void 0?J:0,gt.y+=(st=t.y)!==null&&st!==void 0?st:0,gt});return ft},_A=function(t,e,r){return[]},O5=function(t,e,r){if(e.length===0)return[];var i={flex:sb,grid:_A},l=r.display in i?i[r.display]:null;return(l==null?void 0:l.call(null,t,e,r))||[]},C5=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r)||this;i.layoutEvents=[$n.BOUNDS_CHANGED,$n.INSERTED,$n.REMOVED],i.$margin=Ea(0),i.$padding=Ea(0);var l=r.style||{},u=l.margin,h=u===void 0?0:u,p=l.padding,g=p===void 0?0:p;return i.margin=h,i.padding=g,i.isMutationObserved=!0,i.bindEvents(),i}return Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(r){this.$margin=Ea(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(r){this.$padding=Ea(r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=this.attributes,i=r.x,l=i===void 0?0:i,u=r.y,h=u===void 0?0:u,p=r.width,g=r.height,m=(0,B.CR)(this.$margin,4),x=m[0],w=m[1],M=m[2],O=m[3];return new xi(l-O,h-x,p+O+w,g+x+M)},e.prototype.appendChild=function(r,i){return r.isMutationObserved=!0,t.prototype.appendChild.call(this,r,i),r},e.prototype.getAvailableSpace=function(){var r=this.attributes,i=r.width,l=r.height,u=(0,B.CR)(this.$padding,4),h=u[0],p=u[1],g=u[2],m=u[3],x=(0,B.CR)(this.$margin,4),w=x[0],M=x[3];return new xi(m+M,h+w,i-m-p,l-h-g)},e.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(i){return!i.isConnected}))try{var r=O5(this.getAvailableSpace(),this.children.map(function(i){return i.getBBox()}),this.attributes);this.children.forEach(function(i,l){var u=r[l],h=u.x,p=u.y;i.attr({x:h,y:p})})}catch(i){}},e.prototype.bindEvents=function(){var r=this;this.layoutEvents.forEach(function(i){r.addEventListener(i,function(l){l.target.isMutationObserved=!0,r.layout()})})},e.prototype.attributeChangedCallback=function(r,i,l){r==="margin"?this.margin=l:r==="padding"&&(this.padding=l),this.layout()},e}(da),A5=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function T5(t){return class extends Ky{constructor(e){super(e),this.descriptor=t}connectedCallback(){var e,r;(r=(e=this.descriptor).render)===null||r===void 0||r.call(e,this.attributes,this)}update(e={}){var r,i;this.attr(sn({},this.attributes,e)),(i=(r=this.descriptor).render)===null||i===void 0||i.call(r,this.attributes,this)}}}function OA(t,e,r){return t.querySelector(e)?Jn(t).select(e):Jn(t).append(r)}function Qd(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function CA(t,e){const r={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:i,justifyContent:l,alignItems:u}=r;const h={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","center","center"],right:["column","center","center"],center:["column","center","center"]};return t in h&&([i,l,u]=h[t]),Object.assign({display:"flex",flexDirection:i,justifyContent:l,alignItems:u},e)}class AA extends C5{get child(){var e;return(e=this.children)===null||e===void 0?void 0:e[0]}update(e){var r;this.attr(e);const{subOptions:i}=e;(r=this.child)===null||r===void 0||r.update(i)}}class E5 extends AA{update(e){var r;const{subOptions:i}=e;this.attr(e),(r=this.child)===null||r===void 0||r.update(i)}}function js(t,e){var r;return(r=t.filter(i=>i.getOptions().name===e))===null||r===void 0?void 0:r[0]}function k5(t){return t==="horizontal"||t===0}function P5(t){return t==="vertical"||t===-Math.PI/2}function TA(t,e,r){const{bbox:i}=t,{position:l="top",size:u,length:h}=e,p=["top","bottom","center"].includes(l),[g,m]=p?[i.height,i.width]:[i.width,i.height],{defaultSize:x,defaultLength:w}=r.props,M=u||x||g,O=h||w||m,A=p?"horizontal":"vertical",[E,P]=p?[O,M]:[M,O];return{orientation:A,width:E,height:P,size:M,length:O}}function L5(t){return t.find(e=>e.getOptions().domain.length>0).getOptions().domain}function hg(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:r}=t,i=A5(t,["style"]),l={};return Object.entries(i).forEach(([u,h])=>{e.includes(u)?l[`show${hc(u)}`]=h:l[u]=h}),Object.assign(Object.assign({},l),r)}var EA=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function kA(t,e){const{eulerAngles:r,origin:i}=e;i&&t.setOrigin(i),r&&t.rotate(r[0],r[1],r[2])}function PA(t){const{innerWidth:e,innerHeight:r,depth:i}=t.getOptions();return[e,r,i]}function I5(t,e){const{width:r,height:i}=e.getOptions();return l=>{if(!r0(e))return l;const u=t==="bottom"?[l,1]:[0,l],h=e.map(u);if(t==="bottom"){const p=h[0];return new Oo({domain:[0,r],range:[0,1]}).map(p)}else if(t==="left"){const p=h[1];return new Oo({domain:[0,i],range:[0,1]}).map(p)}return l}}function LA(t,e,r){if(t.getTicks)return t.getTicks();if(!r)return e;const[i,l]=al(e,h=>+h),{tickCount:u}=t.getOptions();return r(i,l,u)}function IA(t){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function RA(t,e){if(ai(e))return O=>O;const r=e.getOptions(),{innerWidth:i,innerHeight:l,insetTop:u,insetBottom:h,insetLeft:p,insetRight:g}=r,[m,x,w]=t==="left"||t==="right"?[u,h,l]:[p,g,i],M=new Oo({domain:[0,1],range:[m/w,1-x/w]});return O=>M.map(O)}function Mu(t,e,r,i,l,u,h,p){var g;(r!==void 0||u!==void 0)&&t.update(Object.assign(Object.assign({},r&&{tickCount:r}),u&&{tickMethod:u}));const m=LA(t,e,u),x=l?m.filter(l):m,w=I=>I instanceof Date?String(I):typeof I=="object"&&I?I:String(I),M=i||((g=t.getFormatter)===null||g===void 0?void 0:g.call(t))||w,O=RA(h,p),A=I5(h,p),E=I=>["top","bottom","center","outer"].includes(I),P=I=>["left","right"].includes(I);return ai(p)||gi(p)?x.map((I,F,N)=>{var z,G;const W=((z=t.getBandWidth)===null||z===void 0?void 0:z.call(t,I))/2||0,Y=O(t.map(I)+W);return{value:id(p)&&h==="center"||gi(p)&&((G=t.getTicks)===null||G===void 0?void 0:G.call(t))&&E(h)||gi(p)&&P(h)?1-Y:Y,label:w(M(IA(I),F,N)),id:String(F)}}):x.map((I,F,N)=>{var z;const G=((z=t.getBandWidth)===null||z===void 0?void 0:z.call(t,I))/2||0,W=A(O(t.map(I)+G));return{value:P(h)?1-W:W,label:w(M(IA(I),F,N)),id:String(F)}})}function R5(t,e,r="xy"){const[i,l,u]=PA(e);return r==="xy"?t.includes("bottom")||t.includes("top")?l:i:r==="xz"?t.includes("bottom")||t.includes("top")?u:i:t.includes("bottom")||t.includes("top")?l:u}function F5(t=[],e){if(t.length>0)return t;const{labelAutoRotate:r,labelAutoHide:i,labelAutoEllipsis:l,labelAutoWrap:u}=e,h=[],p=(g,m)=>{m&&h.push(g)};return p({type:"rotate",optionalAngles:[0,15,30,45,60,90]},r),p({type:"ellipsis",minLength:20},l),p({type:"hide"},i),p({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},u),h}function D5(t,e,r,i,l){const{x:u,y:h,width:p,height:g}=e,m=[u+p/2,h+g/2],x=Math.min(p,g)/2,[w,M]=yf(l),[O,A]=PA(l),E=Math.min(O,A)/2,P={center:m,radius:x,startAngle:w,endAngle:M,gridLength:(i-r)*E};if(t==="inner"){const{insetLeft:I,insetTop:F}=l.getOptions();return Object.assign(Object.assign({},P),{center:[m[0]-I,m[1]-F],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},P),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function B5(t,e,r){return Pm(e)||jo(e)?!1:t===void 0?!!r.getTicks:t}function FA(t){const{depth:e}=t.getOptions();return e?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function Zf(t,e,r,i){const{x:l,y:u,width:h,height:p}=r;if(t==="bottom")return{startPos:[l,u],endPos:[l+h,u]};if(t==="left")return{startPos:[l+h,u+p],endPos:[l+h,u]};if(t==="right")return{startPos:[l,u+p],endPos:[l,u]};if(t==="top")return{startPos:[l,u+p],endPos:[l+h,u+p]};if(t==="center"){if(e==="vertical")return{startPos:[l,u],endPos:[l,u+p]};if(e==="horizontal")return{startPos:[l,u],endPos:[l+h,u]};if(typeof e=="number"){const[g,m]=i.getCenter(),[x,w]=Lm(i),[M,O]=yf(i),A=Math.min(h,p)/2,{insetLeft:E,insetTop:P}=i.getOptions(),I=x*A,F=w*A,[N,z]=[g+l-E,m+u-P],[G,W]=[Math.cos(e),Math.sin(e)],Y=[N+F*G,z+F*W],U=[N+I*G,z+I*W];return{startPos:Y,endPos:U,gridClosed:O-M===360,gridCenter:[N,z],gridControlAngles:new Array(3).fill(0).map((X,$,Q)=>(O-M)/(Q.length-1)*$)}}}return{}}const DA=t=>{const{order:e,size:r,position:i,orientation:l,labelFormatter:u,tickFilter:h,tickCount:p,tickMethod:g,important:m={},style:x={},indexBBox:w,title:M,grid:O=!1}=t,A=EA(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[E],value:P,coordinate:I,theme:F})=>{const{bbox:N}=P,{domain:z}=E.getOptions(),G=Mu(E,z,p,u,h,g,i,I),W=w?G.map((ot,J)=>{const st=w.get(J);return!st||st[0]!==ot.label?ot:Object.assign(Object.assign({},ot),{bbox:st[1]})}):G,[Y,U]=Lm(I),X=D5(i,N,Y,U,I),{axis:$,axisArc:Q={}}=F,ft=hg(sn({},$,Q,X,Object.assign(Object.assign({type:"arc",data:W,titleText:Qd(M),grid:O},A),m)));return new lg({style:gA(ft,["transform"])})}};function BA(t,e,r,i,l,u){const h=r.axis,p=["top","right","bottom","left"].includes(l)?r[`axis${sd(l)}`]:r.axisLinear,g=t.getOptions().name,m=r[`axis${hc(g)}`]||{};return Object.assign({},h,p,m)}function lb(t,e,r,i,l,u){const h=BA(t,e,r,i,l,u);return l==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},h),{labelDirection:i==="right"?"negative":"positive"}),i==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:i==="right"?"negative":"positive",labelSpacing:i==="center"?0:4,titleSpacing:P5(u)?10:0,tick:i==="center"?!1:void 0}):h}const cb=t=>{const{direction:e="left",important:r={},labelFormatter:i,order:l,orientation:u,actualPosition:h,position:p,size:g,style:m={},title:x,tickCount:w,tickFilter:M,tickMethod:O,transform:A,indexBBox:E}=t,P=EA(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:[I],value:F,coordinate:N,theme:z})=>{const{bbox:G}=F,{domain:W}=I.getOptions(),Y=lb(I,N,z,e,p,u),U=Object.assign(Object.assign(Object.assign({},Y),m),P),X=R5(h||p,N,t.plane),$=Zf(p,u,G,N),Q=FA(N),ft=Mu(I,W,w,i,M,O,p,N),ot=E?ft.map((gt,Mt)=>{const At=E.get(Mt);return!At||At[0]!==gt.label?gt:Object.assign(Object.assign({},gt),{bbox:At[1]})}):ft,J=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},U),{type:"linear",data:ot,crossSize:g,titleText:Qd(x),labelOverlap:F5(A,U),grid:B5(U.grid,N,I),gridLength:X,line:!0,indexBBox:E}),U.line?null:{lineOpacity:0}),$),Q),r);return J.labelOverlap.find(gt=>gt.type==="hide")&&(J.crossSize=!1),new lg({className:"axis",style:hg(J)})}},dg=t=>e=>{const{labelFormatter:r,labelFilter:i=()=>!0}=e;return l=>{var u;const{scales:[h]}=l,p=((u=h.getTicks)===null||u===void 0?void 0:u.call(h))||h.getOptions().domain,g=typeof r=="string"?ko(r):r,m=(w,M,O)=>i(p[M],M,p),x=Object.assign(Object.assign({},e),{labelFormatter:g,labelFilter:m,scale:h});return t(x)(l)}},Gs=dg(cb),NA=dg(DA);Gs.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},NA.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const zA=t=>(...e)=>{const r=Gs(Object.assign({},{crossPadding:50},t))(...e);return kA(r,t),r};zA.props=Object.assign(Object.assign({},Gs.props),{defaultPosition:"bottom"});function N5(){}const ub=t=>(...e)=>{const r=Gs(Object.assign({},{crossPadding:10},t))(...e);return kA(r,t),r};ub.props=Object.assign(Object.assign({},Gs.props),{defaultPosition:"left"});var fb=function(){},z5=function(t,e,r){var i=t,l=ic(e)?e.split("."):e;return l.forEach(function(u,h){h<l.length-1?(AO(i[u])||(i[u]=rg(l[h+1])?[]:{}),i=i[u]):i[u]=r}),t};function j5(t,e){return t.reduce(function(r,i){return(r[i[e]]=r[i[e]]||[]).push(i),r},{})}var G5=function(t,e,r){return t<e?e:t>r?r:t},dc=G5;function W5(t,e,r){var i;return function(){var l=this,u=arguments,h=function(){i=null,r||t.apply(l,u)},p=r&&!i;clearTimeout(i),i=setTimeout(h,e),p&&t.apply(l,u)}}var V5=W5;function H5(t){var e;return((e=t[0])===null||e===void 0?void 0:e.map(function(r,i){return t.map(function(l){return l[i]})}))||[]}var Xo=Ho({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),jA=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,{animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonPath:hx(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(l,u){return"".concat(l,"/").concat(u)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return i.playState="idle",i.contentGroup=i.appendChild(new da({class:Xo.contentGroup.name})),i.playWindow=i.contentGroup.appendChild(new da({class:Xo.playWindow.name})),i.innerCurrPage=i.defaultPage,i}return Object.defineProperty(e.prototype,"defaultPage",{get:function(){var r=this.attributes.defaultPage;return dc(r,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var r=this.pageViews,i=(0,B.CR)(H5(r.map(function(w){var M=w.getBBox(),O=M.width,A=M.height;return[O,A]})).map(function(w){return Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(w),!1))}),2),l=i[0],u=i[1],h=this.attributes,p=h.pageWidth,g=p===void 0?l:p,m=h.pageHeight,x=m===void 0?u:m;return{pageWidth:g,pageHeight:x}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=t.prototype.getBBox.call(this),i=r.x,l=r.y,u=this.controllerShape,h=this.pageShape,p=h.pageWidth,g=h.pageHeight;return new xi(i,l,p+u.width,g)},e.prototype.goTo=function(r){var i=this,l=this.attributes.animate,u=this,h=u.currPage,p=u.playState,g=u.playWindow,m=u.pageViews;if(p!=="idle"||r<0||m.length<=0||r>=m.length)return null;m[h].setLocalPosition(0,0),this.prepareFollowingPage(r);var x=(0,B.CR)(this.getFollowingPageDiff(r),2),w=x[0],M=x[1];this.playState="running";var O=OC(g,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-w,", ").concat(-M,")")}],l);return gu(O,function(){i.innerCurrPage=r,i.playState="idle",i.setVisiblePages([r]),i.updatePageInfo()}),O},e.prototype.prev=function(){var r=this.attributes.loop,i=this.pageViews.length,l=this.currPage;if(!r&&l<=0)return null;var u=r?(l-1+i)%i:dc(l-1,0,i);return this.goTo(u)},e.prototype.next=function(){var r=this.attributes.loop,i=this.pageViews.length,l=this.currPage;if(!r&&l>=i-1)return null;var u=r?(l+1)%i:dc(l+1,0,i);return this.goTo(u)},e.prototype.renderClipPath=function(r){var i=this.pageShape,l=i.pageWidth,u=i.pageHeight;if(!l||!u){this.contentGroup.style.clipPath=void 0;return}this.clipPath=r.maybeAppendByClassName(Xo.clipPath,"rect").styles({width:l,height:u}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(r){this.playWindow.children.forEach(function(i,l){r.includes(l)?If(i):rc(i)})},e.prototype.adjustControllerLayout=function(){var r=this,i=r.prevBtnGroup,l=r.nextBtnGroup,u=r.pageInfoGroup,h=this.attributes,p=h.orientation,g=h.controllerPadding,m=u.getBBox(),x=m.width,w=m.height,M=(0,B.CR)(p==="horizontal"?[-180,0]:[-90,90],2),O=M[0],A=M[1];i.setLocalEulerAngles(O),l.setLocalEulerAngles(A);var E=i.getBBox(),P=E.width,I=E.height,F=l.getBBox(),N=F.width,z=F.height,G=Math.max(P,x,N),W=p==="horizontal"?{offset:[[0,0],[P/2+g,0],[P+x+g*2,0]],textAlign:"start"}:{offset:[[G/2,-I-g],[G/2,0],[G/2,z+g]],textAlign:"center"},Y=(0,B.CR)(W.offset,3),U=(0,B.CR)(Y[0],2),X=U[0],$=U[1],Q=(0,B.CR)(Y[1],2),ft=Q[0],ot=Q[1],J=(0,B.CR)(Y[2],2),st=J[0],gt=J[1],Mt=W.textAlign,At=u.querySelector("text");At&&(At.style.textAlign=Mt),i.setLocalPosition(X,$),u.setLocalPosition(ft,ot),l.setLocalPosition(st,gt)},e.prototype.updatePageInfo=function(){var r,i=this,l=i.currPage,u=i.pageViews,h=i.attributes.formatter;u.length<2||((r=this.pageInfoGroup.querySelector(Xo.pageInfo.class))===null||r===void 0||r.attr("text",h(l+1,u.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(r){var i=this.currPage;if(i===r)return[0,0];var l=this.attributes.orientation,u=this.pageShape,h=u.pageWidth,p=u.pageHeight,g=r<i?-1:1;return l==="horizontal"?[g*h,0]:[0,g*p]},e.prototype.prepareFollowingPage=function(r){var i=this,l=i.currPage,u=i.pageViews;if(this.setVisiblePages([r,l]),r!==l){var h=(0,B.CR)(this.getFollowingPageDiff(r),2),p=h[0],g=h[1];u[r].setLocalPosition(p,g)}},e.prototype.renderController=function(r){var i=this,l=this.attributes.controllerSpacing,u=this.pageShape,h=u.pageWidth,p=u.pageHeight,g=this.pageViews.length>=2,m=r.maybeAppendByClassName(Xo.controller,"g");if(ul(m.node(),g),!!g){var x=vr(this.attributes,"button"),w=vr(this.attributes,"pageNum"),M=(0,B.CR)(qa(x),2),O=M[0],A=M[1],E=O.size,P=(0,B._T)(O,["size"]),I=!m.select(Xo.prevBtnGroup.class).node(),F=m.maybeAppendByClassName(Xo.prevBtnGroup,"g").styles(A);this.prevBtnGroup=F.node();var N=F.maybeAppendByClassName(Xo.prevBtn,"path"),z=m.maybeAppendByClassName(Xo.nextBtnGroup,"g").styles(A);this.nextBtnGroup=z.node();var G=z.maybeAppendByClassName(Xo.nextBtn,"path");[N,G].forEach(function(Y){Y.styles((0,B.pi)((0,B.pi)({},P),{transformOrigin:"center"})),ig(Y.node(),E,!0)});var W=m.maybeAppendByClassName(Xo.pageInfoGroup,"g");this.pageInfoGroup=W.node(),W.maybeAppendByClassName(Xo.pageInfo,"text").styles(w),this.updatePageInfo(),m.node().setLocalPosition(h+l,p/2),I&&(this.prevBtnGroup.addEventListener("click",function(){i.prev()}),this.nextBtnGroup.addEventListener("click",function(){i.next()}))}},e.prototype.render=function(r,i){var l=Qn(i);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var r=this,i=V5(function(){return r.render(r.attributes,r)},50);this.playWindow.addEventListener($n.INSERTED,i),this.playWindow.addEventListener($n.REMOVED,i)},e}(Wi);function GA(t,e,r){var i=Math.round((t-r)/e);return r+i*e}function u8(t,e,r){var i=1.4,l=i*r;return[["M",t-r,e-l],["L",t+r,e-l],["L",t+r,e+l],["L",t-r,e+l],["Z"]]}var uo=1.4,fo=.4;function WA(t,e,r){var i=r,l=i*uo,u=i/2,h=i/6,p=t+l*fo;return[["M",t,e],["L",p,e+u],["L",t+l,e+u],["L",t+l,e-u],["L",p,e-u],["Z"],["M",p,e+h],["L",t+l-2,e+h],["M",p,e-h],["L",t+l-2,e-h]]}function Y5(t,e,r){var i=r,l=i*uo,u=i/2,h=i/6,p=e+l*fo;return[["M",t,e],["L",t-u,p],["L",t-u,e+l],["L",t+u,e+l],["L",t+u,p],["Z"],["M",t-h,p],["L",t-h,e+l-2],["M",t+h,p],["L",t+h,e+l-2]]}Hr.registerSymbol("hiddenHandle",u8),Hr.registerSymbol("verticalHandle",WA),Hr.registerSymbol("horizontalHandle",Y5);var f8=function(t,e,r){return t===void 0&&(t="horizontal"),t==="horizontal"?e:r};function qf(t,e,r,i){var l;i===void 0&&(i=4);var u=(0,B.CR)(t,2),h=u[0],p=u[1],g=(0,B.CR)(e,2),m=g[0],x=g[1],w=(0,B.CR)(r,2),M=w[0],O=w[1],A=(0,B.CR)([m,x],2),E=A[0],P=A[1],I=P-E;return E>P&&(l=(0,B.CR)([P,E],2),E=l[0],P=l[1]),I>p-h?[h,p]:E<h?M===h&&O===P?[h,P]:[h,I+h]:P>p?O===p&&M===E?[E,p]:[p-I,p]:[E,P]}function ka(t,e,r){return t===void 0&&(t="horizontal"),t==="horizontal"?e:r}var $a=Ho({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function hb(t){var e=t.querySelector($a.marker.class);return e?e.style:{}}var VA=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,{span:[1,1],marker:function(){return new zl({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(e.prototype,"showValue",{get:function(){var r=this.attributes.valueText;return r?typeof r=="string"||typeof r=="number"?r!=="":typeof r=="function"?!0:r.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var r=this.labelGroup,i=this.valueGroup,l=this.attributes.markerSize,u=r.node().getBBox(),h=u.width,p=u.height,g=i.node().getBBox(),m=g.width,x=g.height;return{markerWidth:l,labelWidth:h,valueWidth:m,height:Math.max(l,p,x)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var r=this.attributes.span;if(!r)return[1,1];var i=(0,B.CR)(Ea(r),2),l=i[0],u=i[1],h=this.showValue?u:0,p=l+h;return[l/p,h/p]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var r,i=this.attributes,l=i.markerSize,u=i.width,h=this.actualSpace,p=h.markerWidth,g=h.height,m=this.actualSpace,x=m.labelWidth,w=m.valueWidth,M=(0,B.CR)(this.spacing,2),O=M[0],A=M[1];if(u){var E=u-l-O-A,P=(0,B.CR)(this.span,2),I=P[0],F=P[1];r=(0,B.CR)([I*E,F*E],2),x=r[0],w=r[1]}var N=p+x+w+O+A;return{width:N,height:g,markerWidth:p,labelWidth:x,valueWidth:w}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var r=this.attributes.spacing;if(!r)return[0,0];var i=(0,B.CR)(Ea(r),2),l=i[0],u=i[1];return this.showValue?[l,u]:[l,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var r=this.shape,i=r.markerWidth,l=r.labelWidth,u=r.valueWidth,h=r.width,p=r.height,g=(0,B.CR)(this.spacing,2),m=g[0],x=g[1];return{height:p,width:h,markerWidth:i,labelWidth:l,valueWidth:u,position:[i/2,i+m,i+l+m+x]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var r=hb(this.markerGroup.node()),i=this.attributes,l=i.markerSize,u=i.markerStrokeWidth,h=u===void 0?r.strokeWidth:u,p=i.markerLineWidth,g=p===void 0?r.lineWidth:p,m=i.markerStroke,x=m===void 0?r.stroke:m,w=+(h||g||(x?1:0))*Math.sqrt(2),M=this.markerGroup.node().getBBox(),O=M.width,A=M.height;return(1-w/Math.max(O,A))*l},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(r){var i=this,l=this.attributes.marker,u=vr(this.attributes,"marker");this.markerGroup=r.maybeAppendByClassName($a.markerGroup,"g").style("zIndex",0),so(!!l,this.markerGroup,function(){var h=i.markerGroup.node(),p=h.getElementsByClassName($a.marker.name)[0],g=l();p?g.nodeName===p.nodeName?(tA(p,g),Qn(p).styles(u)):(p.remove(),Qn(g).attr("className",$a.marker.name).styles(u),h.appendChild(g)):(Qn(g).attr("className",$a.marker.name).styles(u),h.appendChild(g)),i.markerGroup.node().scale(1/i.markerGroup.node().getScale()[0]),ig(i.markerGroup.node(),i.scaleSize,!0)})},e.prototype.renderLabel=function(r){var i=vr(this.attributes,"label"),l=i.text,u=(0,B._T)(i,["text"]);this.labelGroup=r.maybeAppendByClassName($a.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName($a.label,function(){return xu(l)}).styles(u)},e.prototype.renderValue=function(r){var i=this,l=vr(this.attributes,"value"),u=l.text,h=(0,B._T)(l,["text"]);this.valueGroup=r.maybeAppendByClassName($a.valueGroup,"g").style("zIndex",0),so(this.showValue,this.valueGroup,function(){i.valueGroup.maybeAppendByClassName($a.value,function(){return xu(u)}).styles(h)})},e.prototype.renderBackground=function(r){var i=this.shape,l=i.width,u=i.height,h=vr(this.attributes,"background");this.background=r.maybeAppendByClassName($a.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName($a.background,"rect").styles((0,B.pi)({width:l,height:u},h))},e.prototype.adjustLayout=function(){var r=this.layout,i=r.labelWidth,l=r.valueWidth,u=r.height,h=(0,B.CR)(r.position,3),p=h[0],g=h[1],m=h[2],x=u/2;this.markerGroup.styles({x:p,y:x}),this.labelGroup.styles({x:g,y:x}),$x(this.labelGroup.select($a.label.class).node(),Math.ceil(i)),this.showValue&&(this.valueGroup.styles({x:m,y:x}),$x(this.valueGroup.select($a.value.class).node(),Math.ceil(l)))},e.prototype.render=function(r,i){var l=Qn(i);this.renderMarker(l),this.renderLabel(l),this.renderValue(l),this.renderBackground(l),this.adjustLayout()},e}(Wi),pc=Ho({page:"item-page",navigator:"navigator",item:"item"},"items"),db=function(t,e,r){return r===void 0&&(r=!0),t?e(t):r},U5=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:fb,mouseenter:fb,mouseleave:fb})||this;return i.navigatorShape=[0,0],i}return Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var r=this.attributes,i=r.gridRow,l=r.gridCol,u=r.data;if(!i&&!l)throw new Error("gridRow and gridCol can not be set null at the same time");return i&&l?[i,l]:i?[i,u.length]:[u.length,l]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var r=this.attributes,i=r.data,l=r.layout,u=vr(this.attributes,"item"),h=i.map(function(p,g){var m=p.id,x=m===void 0?g:m,w=p.label,M=p.value;return{id:"".concat(x),index:g,style:(0,B.pi)({layout:l,labelText:w,valueText:M},Object.fromEntries(Object.entries(u).map(function(O){var A=(0,B.CR)(O,2),E=A[0],P=A[1];return[E,Yo(P,[p,g,i])]})))}});return h},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var r=this,i=this.attributes,l=i.orientation,u=i.width,h=i.rowPadding,p=i.colPadding,g=(0,B.CR)(this.navigatorShape,1),m=g[0],x=(0,B.CR)(this.grid,2),w=x[0],M=x[1],O=M*w,A=0;return this.pageViews.children.map(function(E,P){var I,F,N=Math.floor(P/O),z=P%O,G=r.ifHorizontal(M,w),W=[Math.floor(z/G),z%G];l==="vertical"&&W.reverse();var Y=(0,B.CR)(W,2),U=Y[0],X=Y[1],$=(u-m-(M-1)*p)/M,Q=E.getBBox().height,ft=(0,B.CR)([0,0],2),ot=ft[0],J=ft[1];return l==="horizontal"?(I=(0,B.CR)([A,U*(Q+h)],2),ot=I[0],J=I[1],A=X===M-1?0:A+$+p):(F=(0,B.CR)([X*($+p),A],2),ot=F[0],J=F[1],A=U===w-1?0:A+Q+h),{page:N,index:P,row:U,col:X,pageIndex:z,width:$,height:Q,x:ot,y:J}})},e.prototype.getFlexLayout=function(){var r=this.attributes,i=r.width,l=r.height,u=r.rowPadding,h=r.colPadding,p=(0,B.CR)(this.navigatorShape,1),g=p[0],m=(0,B.CR)(this.grid,2),x=m[0],w=m[1],M=(0,B.CR)([i-g,l],2),O=M[0],A=M[1],E=(0,B.CR)([0,0,0,0,0,0,0,0],8),P=E[0],I=E[1],F=E[2],N=E[3],z=E[4],G=E[5],W=E[6],Y=E[7];return this.pageViews.children.map(function(U,X){var $,Q,ft,ot,J=U.getBBox(),st=J.width,gt=J.height,Mt=W===0?0:h,At=W+Mt+st;if(At<=O&&db(z,function(Ut){return Ut<w}))return $=(0,B.CR)([W+Mt,Y,At],3),P=$[0],I=$[1],W=$[2],{width:st,height:gt,x:P,y:I,page:F,index:X,pageIndex:N++,row:G,col:z++};Q=(0,B.CR)([G+1,0,0,Y+gt+u],4),G=Q[0],z=Q[1],W=Q[2],Y=Q[3];var St=Y+gt;return St<=A&&db(G,function(Ut){return Ut<x})?(ft=(0,B.CR)([W,Y,st],3),P=ft[0],I=ft[1],W=ft[2],{width:st,height:gt,x:P,y:I,page:F,index:X,pageIndex:N++,row:G,col:z++}):(ot=(0,B.CR)([0,0,st,0,F+1,0,0,0],8),P=ot[0],I=ot[1],W=ot[2],Y=ot[3],F=ot[4],N=ot[5],G=ot[6],z=ot[7],{width:st,height:gt,x:P,y:I,page:F,index:X,pageIndex:N++,row:G,col:z++})})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var r=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,i=r.call(this);return i.slice(-1)[0].page>0?(this.navigatorShape=[55,0],r.call(this)):i},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(r,i){var l=this.attributes.orientation;return ka(l,r,i)},e.prototype.flattenPage=function(r){r.querySelectorAll(pc.item.class).forEach(function(i){r.appendChild(i)}),r.querySelectorAll(pc.page.class).forEach(function(i){var l=r.removeChild(i);l.destroy()})},e.prototype.renderItems=function(r){var i=this.attributes,l=i.click,u=i.mouseenter,h=i.mouseleave;this.flattenPage(r);var p=this.dispatchCustomEvent.bind(this);Qn(r).selectAll(pc.item.class).data(this.renderData,function(g){return g.id}).join(function(g){return g.append(function(m){var x=m.style;return new VA({style:x})}).attr("className",pc.item.name).on("click",function(){l==null||l(this),p("itemClick",{item:this})}).on("pointerenter",function(){u==null||u(this),p("itemMouseenter",{item:this})}).on("pointerleave",function(){h==null||h(this),p("itemMouseleave",{item:this})})},function(g){return g.each(function(m){var x=m.style;this.update(x)})},function(g){return g.remove()})},e.prototype.relayoutNavigator=function(){var r,i=this.attributes,l=i.layout,u=i.width,h=((r=this.pageViews.children[0])===null||r===void 0?void 0:r.getBBox().height)||0,p=(0,B.CR)(this.navigatorShape,2),g=p[0],m=p[1];this.navigator.update(l==="grid"?{pageWidth:u-g,pageHeight:h-m}:{})},e.prototype.adjustLayout=function(){var r=this,i=Object.entries(j5(this.itemsLayout,"page")).map(function(u){var h=(0,B.CR)(u,2),p=h[0],g=h[1];return{page:p,layouts:g}}),l=(0,B.ev)([],(0,B.CR)(this.navigator.getContainer().children),!1);i.forEach(function(u){var h=u.layouts,p=r.pageViews.appendChild(new da({className:pc.page.name}));h.forEach(function(g){var m=g.x,x=g.y,w=g.index,M=g.width,O=g.height,A=l[w];p.appendChild(A),z5(A,"__layout__",g),A.update({x:m,y:x,width:M,height:O})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(r){var i=this.attributes.orientation,l=vr(this.attributes,"nav"),u=fi({orientation:i},l),h=this;return r.selectAll(pc.navigator.class).data(["nav"]).join(function(p){return p.append(function(){return new jA({style:u})}).attr("className",pc.navigator.name).each(function(){h.navigator=this})},function(p){return p.each(function(){this.update(u)})},function(p){return p.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(r,i){var l=this.attributes.data;if(!(!l||l.length===0)){var u=this.renderNavigator(Qn(i));this.renderItems(u.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(r,i){var l=new qr(r,{detail:i});this.dispatchEvent(l)},e}(Wi),$f=Ho({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),pb={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},X5=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,pb)||this}return e.prototype.render=function(r,i){var l=Qn(i).maybeAppendByClassName($f.markerGroup,"g");this.renderMarker(l);var u=Qn(i).maybeAppendByClassName($f.labelGroup,"g");this.renderLabel(u)},e.prototype.renderMarker=function(r){var i=this,l=this.attributes,u=l.orientation,h=l.markerSymbol,p=h===void 0?ka(u,"horizontalHandle","verticalHandle"):h;so(!!p,r,function(g){var m=vr(i.attributes,"marker"),x=(0,B.pi)({symbol:p},m);i.marker=g.maybeAppendByClassName($f.marker,function(){return new Hr({style:x})}).update(x)})},e.prototype.renderLabel=function(r){var i=this,l=this.attributes,u=l.showLabel,h=l.orientation,p=l.spacing,g=p===void 0?0:p,m=l.formatter;so(u,r,function(x){var w,M=vr(i.attributes,"label"),O=M.text,A=(0,B._T)(M,["text"]),E=((w=x.select($f.marker.class))===null||w===void 0?void 0:w.node().getBBox())||{},P=E.width,I=P===void 0?0:P,F=E.height,N=F===void 0?0:F,z=(0,B.CR)(ka(h,[0,N+g,"center","top"],[I+g,0,"start","middle"]),4),G=z[0],W=z[1],Y=z[2],U=z[3];x.maybeAppendByClassName($f.label,"text").styles((0,B.pi)((0,B.pi)({},A),{x:G,y:W,text:m(O).toString(),textAlign:Y,textBaseline:U}))})},e}(Wi),HA={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},Z5=fi({},HA,{}),q5=fi({},HA,Ns(pb,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),$5=.01,h8=.5,oa=Ho({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),K5=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,Z5)||this}return e.prototype.renderTitle=function(r,i,l){var u=this.attributes,h=u.showTitle,p=u.titleText,g=vr(this.attributes,"title"),m=(0,B.CR)(qa(g),2),x=m[0],w=m[1];this.titleGroup=r.maybeAppendByClassName(oa.titleGroup,"g").styles(w);var M=(0,B.pi)((0,B.pi)({width:i,height:l},x),{text:h?p:""});this.title=this.titleGroup.maybeAppendByClassName(oa.title,function(){return new hA({style:M})}).update(M)},e.prototype.renderItems=function(r,i){var l=i.x,u=i.y,h=i.width,p=i.height,g=vr(this.attributes,"title",!0),m=(0,B.CR)(qa(g),2),x=m[0],w=m[1],M=(0,B.pi)((0,B.pi)({},x),{width:h,height:p,x:0,y:0});this.itemsGroup=r.maybeAppendByClassName(oa.itemsGroup,"g").styles((0,B.pi)({x:l,y:u},w));var O=this;this.itemsGroup.selectAll(oa.items.class).data(["items"]).join(function(A){return A.append(function(){return new U5({style:M})}).attr("className",oa.items.name).each(function(){O.items=Qn(this)})},function(A){return A.update(M)},function(A){return A.remove()})},e.prototype.adjustLayout=function(){var r=this.attributes.showTitle;if(r){var i=this.title.node().getAvailableSpace(),l=i.x,u=i.y;this.itemsGroup.node().setLocalPosition(l,u)}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes,i=r.showTitle,l=r.width,u=r.height;return i?this.title.node().getAvailableSpace():new xi(0,0,l,u)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r,i,l=(r=this.title)===null||r===void 0?void 0:r.node(),u=(i=this.items)===null||i===void 0?void 0:i.node();return!l||!u?t.prototype.getBBox.call(this):d5(l,u)},e.prototype.render=function(r,i){var l=r.width,u=r.height,h=Qn(i);this.renderTitle(h,l,u),this.renderItems(h,this.availableSpace),this.adjustLayout()},e}(Wi),J5=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},vb=J5;function Q5(t){if(vb(t)){var e=t;return e[e.length-1]}}var tD=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function eD(t,e){const r=js(t,"shape"),i=js(t,"color"),l=r?r.clone():null,u=[];for(const[p,g]of e){const m=p.type,w=((i==null?void 0:i.getOptions().domain.length)>0?i==null?void 0:i.getOptions().domain:g.data).map((M,O)=>{var A;return l?l.map(M||"point"):((A=p==null?void 0:p.style)===null||A===void 0?void 0:A.shape)||g.defaultShape||"point"});typeof m=="string"&&u.push([m,w])}if(u.length===0)return["point",["point"]];if(u.length===1||!r)return u[0];const{range:h}=r.getOptions();return u.map(([p,g])=>{let m=0;for(let x=0;x<u.length;x++){const w=h[x%h.length];g[x]===w&&m++}return[m/g.length,[p,g]]}).sort((p,g)=>g[0]-p[0])[0][1]}function nD(t,e){const{scales:r,library:i,markState:l}=e,[u,h]=eD(r,l),{itemMarker:p,itemMarkerSize:g}=t,m=(M,O)=>{var A,E,P;const I=((P=(E=(A=i[`mark.${u}`])===null||A===void 0?void 0:A.props)===null||E===void 0?void 0:E.shape[M])===null||P===void 0?void 0:P.props.defaultMarker)||Q5(M.split(".")),F=typeof g=="function"?g(O):g;return()=>kR(I,{color:O.color})(0,0,F)},x=M=>`${h[M]}`;return js(r,"shape")&&!p?(M,O)=>m(x(O),M):typeof p=="function"?(M,O)=>{const A=p(M.id,O);return typeof A=="string"?m(A,M):A}:(M,O)=>m(p||x(O),M)}function rD(t){const e=js(t,"opacity");if(e){const{range:r}=e.getOptions();return(i,l)=>r[l]}}function iD(t,e){const r=js(t,"size");return r instanceof bd?r.map(NaN)*2:e}function aD(t,e){const{labelFormatter:r=M=>`${M}`}=t,{scales:i,theme:l}=e,u=l.legendCategory.itemMarkerSize,h=iD(i,u),p={itemMarker:nD(Object.assign(Object.assign({},t),{itemMarkerSize:h}),e),itemMarkerSize:h,itemMarkerOpacity:rD(i)},g=typeof r=="string"?ko(r):r,m=js(i,"color"),x=L5(i),w=m?M=>m.map(M):()=>e.theme.color;return Object.assign(Object.assign({},p),{data:x.map(M=>({id:M,label:g(M),color:w(M)}))})}function oD(t,e,r){const{position:i}=e;if(i==="center"){const{bbox:h}=t,{width:p,height:g}=h;return{width:p,height:g}}const{width:l,height:u}=TA(t,e,r);return{width:l,height:u}}const gb=t=>{const{labelFormatter:e,layout:r,order:i,orientation:l,position:u,size:h,title:p,cols:g,itemMarker:m}=t,x=tD(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:w}=x;return M=>{const{value:O,theme:A}=M,{bbox:E}=O,{width:P,height:I}=oD(O,t,gb),F=CA(u,r),N=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(u)?"vertical":"horizontal",width:P,height:I,layout:g!==void 0?"grid":"flex"},g!==void 0&&{gridCol:g}),w!==void 0&&{gridRow:w}),{titleText:Qd(p)}),aD(t,M)),{legendCategory:z={}}=A,G=hg(Object.assign({},z,N,x)),W=new E5({style:Object.assign(Object.assign({x:E.x,y:E.y,width:E.width,height:E.height},F),{subOptions:G})});return W.appendChild(new K5({className:"legend-category",style:G})),W}};gb.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};function vc(t,...e){return e.reduce((r,i)=>l=>r(i(l)),t)}function Kf(t,e){return e-t?r=>(r-t)/(e-t):r=>.5}function d8(t,e){const r=e<t?e:t,i=t>e?t:e;return l=>Math.min(Math.max(r,l),i)}function sD(t,e,r,i,l){let u=r||0,h=i||t.length;const p=l||(g=>g);for(;u<h;){const g=Math.floor((u+h)/2);p(t[g])>e?h=g:u=g+1}return u}const yb=Math.sqrt(50),mb=Math.sqrt(10),xb=Math.sqrt(2);function pg(t,e,r){const i=(e-t)/Math.max(0,r),l=Math.floor(Math.log(i)/Math.LN10),u=i/Fr(10,l);return l>=0?(u>=yb?10:u>=mb?5:u>=xb?2:1)*Fr(10,l):-Fr(10,-l)/(u>=yb?10:u>=mb?5:u>=xb?2:1)}function p8(t,e,r){const i=Math.abs(e-t)/Math.max(0,r);let l=Fr(10,Math.floor(Math.log(i)/Math.LN10));const u=i/l;return u>=yb?l*=10:u>=mb?l*=5:u>=xb&&(l*=2),e<t?-l:l}const lD=(t,e,r=5)=>{const i=[t,e];let l=0,u=i.length-1,h=i[l],p=i[u],g;return p<h&&([h,p]=[p,h],[l,u]=[u,l]),g=pg(h,p,r),g>0?(h=Math.floor(h/g)*g,p=Math.ceil(p/g)*g,g=pg(h,p,r)):g<0&&(h=Math.ceil(h*g)/g,p=Math.floor(p*g)/g,g=pg(h,p,r)),g>0?(i[l]=Math.floor(h/g)*g,i[u]=Math.ceil(p/g)*g):g<0&&(i[l]=Math.ceil(h*g)/g,i[u]=Math.floor(p*g)/g),i},tp=1e3,vg=tp*60,ep=vg*60,gc=ep*24,Jf=gc*7,bb=gc*30,YA=gc*365;function Pa(t,e,r,i){const l=(m,x)=>{const w=O=>i(O)%x===0;let M=x;for(;M&&!w(m);)r(m,-1),M-=1;return m},u=(m,x)=>{x&&l(m,x),e(m)},h=(m,x)=>{const w=new Date(+m);return u(w,x),w},p=(m,x)=>{const w=new Date(+m-1);return u(w,x),r(w,x),u(w),w};return{ceil:p,floor:h,range:(m,x,w,M)=>{const O=[],A=Math.floor(w),E=M?p(m,w):p(m);for(let P=E;+P<+x;r(P,A),u(P))O.push(new Date(+P));return O},duration:t}}const UA=Pa(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),XA=Pa(tp,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+tp*e)},t=>t.getSeconds()),cD=Pa(vg,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+vg*e)},t=>t.getMinutes()),uD=Pa(ep,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+ep*e)},t=>t.getHours()),fD=Pa(gc,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+gc*e)},t=>t.getDate()-1),ZA=Pa(bb,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getMonth();t.setMonth(r+e)},t=>t.getMonth()),hD=Pa(Jf,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Jf*e)},t=>{const e=ZA.floor(t),r=new Date(+t);return Math.floor((+r-+e)/Jf)}),dD=Pa(YA,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const r=t.getFullYear();t.setFullYear(r+e)},t=>t.getFullYear()),v8={millisecond:UA,second:XA,minute:cD,hour:uD,day:fD,week:hD,month:ZA,year:dD},pD=Pa(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),vD=Pa(tp,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+tp*e)},t=>t.getUTCSeconds()),gD=Pa(vg,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+vg*e)},t=>t.getUTCMinutes()),qA=Pa(ep,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+ep*e)},t=>t.getUTCHours()),g8=Pa(gc,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+gc*e)},t=>t.getUTCDate()-1),$A=Pa(bb,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCMonth();t.setUTCMonth(r+e)},t=>t.getUTCMonth()),yD=Pa(Jf,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Jf*e)},t=>{const e=$A.floor(t),r=new Date(+t);return Math.floor((+r-+e)/Jf)}),mD=Pa(YA,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const r=t.getUTCFullYear();t.setUTCFullYear(r+e)},t=>t.getUTCFullYear()),y8={millisecond:pD,second:vD,minute:gD,hour:qA,day:g8,week:yD,month:$A,year:mD};function xD(t){const e=t?utcIntervalMap:localIntervalMap,{year:r,month:i,week:l,day:u,hour:h,minute:p,second:g,millisecond:m}=e;return{tickIntervals:[[g,1],[g,5],[g,15],[g,30],[p,1],[p,5],[p,15],[p,30],[h,1],[h,3],[h,6],[h,12],[u,1],[u,2],[l,1],[i,1],[i,3],[r,1]],year:r,millisecond:m}}function m8(t,e,r,i,l){const u=+t,h=+e,{tickIntervals:p,year:g,millisecond:m}=xD(l),x=([P,I])=>P.duration*I,w=i?(h-u)/i:r||5,M=i||(h-u)/w,O=p.length,A=bisect(p,M,0,O,x);let E;if(A===O){const P=tickStep(u/g.duration,h/g.duration,w);E=[g,P]}else if(A){const P=M/x(p[A-1])<x(p[A])/M,[I,F]=P?p[A-1]:p[A],N=i?Math.ceil(i/I.duration):F;E=[I,N]}else{const P=Math.max(tickStep(u,h,w),1);E=[m,P]}return E}const x8=(t,e,r,i,l)=>{const u=t>e,h=u?e:t,p=u?t:e,[g,m]=findTickInterval(h,p,r,i,l),x=[g.floor(h,m),g.ceil(p,m)];return u?x.reverse():x};var bD={}.toString,b8=function(t,e){return bD.call(t)==="[object "+e+"]"},np=b8,wb=function(t){return np(t,"Function")},KA=function(t){return Array.isArray?Array.isArray(t):np(t,"Array")},JA=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function wD(t,e){if(t){var r;if(KA(t))for(var i=0,l=t.length;i<l&&(r=e(t[i],i),r!==!1);i++);else if(JA(t)){for(var u in t)if(t.hasOwnProperty(u)&&(r=e(t[u],u),r===!1))break}}}var QA=wD,w8=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return QA(t,function(r,i){wb(t)&&i==="prototype"||e.push(i)}),e},M8=null;function S8(t,e){var r=keys(e),i=r.length;if(isNil(t))return!i;for(var l=0;l<i;l+=1){var u=r[l];if(e[u]!==t[u]||!(u in t))return!1}return!0}var IV=null,MD=function(t){return typeof t=="object"&&t!==null},SD=MD,_D=function(t){if(!SD(t)||!np(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},tT=_D;function _8(t,e){if(!isArray(t))return null;var r;if(isFunction(e)&&(r=e),isPlainObject(e)&&(r=function(l){return isMatch(l,e)}),r){for(var i=0;i<t.length;i+=1)if(r(t[i]))return t[i]}return null}var O8=null,C8=function(t,e){for(var r=null,i=0;i<t.length;i++){var l=t[i],u=l[e];if(!isNil(u)){isArray(u)?r=u[0]:r=u;break}}return r},A8=null,RV=function(t){if(!isArray(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e},OD=null,eT=function(t,e){if(e===void 0&&(e=[]),!isArray(t))e.push(t);else for(var r=0;r<t.length;r+=1)eT(t[r],e);return e},CD=null,Mb=function(t){if(isArray(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},Sb=function(t){if(isArray(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},T8=function(t){var e=t.filter(function(h){return!isNaN(h)});if(!e.length)return{min:0,max:0};if(isArray(t[0])){for(var r=[],i=0;i<t.length;i++)r=r.concat(t[i]);e=r}var l=getMax(e),u=getMin(e);return{min:u,max:l}},E8=null,nT=Array.prototype,AD=nT.splice,TD=nT.indexOf,k8=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i++)for(var l=e[i],u=-1;(u=TD.call(t,l))>-1;)AD.call(t,u,1);return t},rT=null,ED=Array.prototype.splice,_b=function(e,r){if(!isArrayLike(e))return[];for(var i=e?r.length:0,l=i-1;i--;){var u=void 0,h=r[i];(i===l||h!==u)&&(u=h,ED.call(e,h,1))}return e},iT=null,aT=function(t,e,r){if(!isArray(t)&&!isPlainObject(t))return t;var i=r;return each(t,function(l,u){i=e(i,l,u)}),i},P8=null,kD=function(t,e){var r=[];if(!isArrayLike(t))return r;for(var i=-1,l=[],u=t.length;++i<u;){var h=t[i];e(h,i,t)&&(r.push(h),l.push(i))}return pullAt(t,l),r},PD=null,gg=function(t){return np(t,"String")};function oT(t,e){var r;if(isFunction(e))r=function(l,u){return e(l)-e(u)};else{var i=[];isString(e)?i.push(e):isArray(e)&&(i=e),r=function(l,u){for(var h=0;h<i.length;h+=1){var p=i[h];if(l[p]>u[p])return 1;if(l[p]<u[p])return-1}return 0}}return t.sort(r),t}var L8=null,I8=function(t,e){for(var r=[],i={},l=0;l<t.length;l++){var u=t[l],h=u[e];if(!isNil(h)){isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var g=h[p];i[g]||(r.push(g),i[g]=!0)}}}return r};function R8(t,e){return isArray(t)||isString(t)?t[0]===e:!1}var LD=null;function ID(t,e){return isArray(t)||isString(t)?t[t.length-1]===e:!1}var F8=null,RD=Object.prototype.hasOwnProperty;function D8(t,e){if(!e||!isArray(t))return{};for(var r={},i=isFunction(e)?e:function(p){return p[e]},l,u=0;u<t.length;u++){var h=t[u];l=i(h),RD.call(r,l)?r[l].push(h):r[l]=[h]}return r}var B8=null;function N8(t,e){if(!e)return{0:t};if(!isFunction(e)){var r=isArray(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var l="_",u=0,h=r.length;u<h;u++)l+=i[r[u]]&&i[r[u]].toString();return l}}return groupBy(t,e)}var z8=function(t,e){if(!e)return[t];var r=groupToMap(t,e),i=[];for(var l in r)i.push(r[l]);return i},sT={};function j8(t){var e=sT[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;e="#"+r,sT[t]=e}return e}var G8=null;function FD(t){var e=0,r=0,i=0,l=0;return isArray(t)?t.length===1?e=r=i=l=t[0]:t.length===2?(e=i=t[0],r=l=t[1]):t.length===3?(e=t[0],r=l=t[1],i=t[2]):(e=t[0],r=t[1],i=t[2],l=t[3]):e=r=i=l=t,{r1:e,r2:r,r3:i,r4:l}}var W8=null,DD=function(t){return np(t,"Number")},lT=DD,V8=function(t){return isNumber(t)&&t%1!==0},H8=null,Y8=function(t){return isNumber(t)&&t%2===0},U8=null,FV=Number.isInteger?Number.isInteger:function(t){return lT(t)&&t%1===0},cT=null,BD=function(t){return isNumber(t)&&t<0},yg=null,X8=function(t){return isNumber(t)&&t%2!==0},Z8=null,ND=function(t){return isNumber(t)&&t>0},mg=null,zD=function(t,e){if(isArray(t)){for(var r,i=-1/0,l=0;l<t.length;l++){var u=t[l],h=isFunction(e)?e(u):u[e];h>i&&(r=u,i=h)}return r}},q8=function(t,e){if(isArray(t)){for(var r,i=1/0,l=0;l<t.length;l++){var u=t[l],h=isFunction(e)?e(u):u[e];h<i&&(r=u,i=h)}return r}},jD=180/Math.PI,$8=function(t){return jD*t},K8=null,J8=parseInt,GD=Math.PI/180,Q8=function(t){return GD*t},t9=null,e9=null,WD=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return QA(t,function(r,i){wb(t)&&i==="prototype"||e.push(r)}),e},VD=WD,HD=function(t,e){return contains(values(t),e)},YD={}.toString,n9=function(t){return YD.call(t).replace(/^\[object /,"").replace(/]$/,"")},r9=null,i9=function(t){return isType(t,"Arguments")},uT=null,fT=function(t){return isType(t,"Boolean")},a9=null,o9=function(t){return isType(t,"Date")},s9=null,Ob=function(t){return isType(t,"Error")},l9=null;function c9(t){return isNumber(t)&&isFinite(t)}var xg=function(t){return t===null},hT=xg,dT=Object.prototype,UD=function(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dT;return t===r},XD=null,u9=function(t){return isType(t,"RegExp")},f9=null,ZD=function(t){return t===void 0},qD=ZD,h9=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],i=1;i<t.length;i++){var l=t[i];isFunction(l)&&(l=l.prototype),mix(r.prototype,l)}},$D=null,Cb=function(t){if(typeof t!="object"||t===null)return t;var e;if(isArray(t)){e=[];for(var r=0,i=t.length;r<i;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=Cb(t[r]):e[r]=t[r]}else{e={};for(var l in t)typeof t[l]=="object"&&t[l]!=null?e[l]=Cb(t[l]):e[l]=t[l]}return e},d9=null,KD=function(t,e){if(!wb(t))throw new TypeError("Expected a function");var r=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=e?e.apply(this,i):i[0],h=r.cache;if(h.has(u))return h.get(u);var p=t.apply(this,i);return h.set(u,p),p};return r.cache=new Map,r},JD=5;function pT(t,e,r,i){r=r||0,i=i||JD;for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];u!==null&&tT(u)?(tT(t[l])||(t[l]={}),r<i?pT(t[l],u,r+1,i):t[l]=e[l]):KA(u)?(t[l]=[],t[l]=t[l].concat(u)):u!==void 0&&(t[l]=u)}}var QD=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)pT(t,e[i]);return t},vT=QD,p9=function(t,e,r,i){isFunction(e)||(r=e,e=t,t=function(){});var l=Object.create?function(h,p){return Object.create(h,{constructor:{value:p}})}:function(h,p){function g(){}g.prototype=h;var m=new g;return m.constructor=p,m},u=l(e.prototype,t);return t.prototype=mix(u,t.prototype),t.superclass=l(e.prototype,e),mix(u,r),mix(t,i),t},v9=null,t3=Object.prototype.hasOwnProperty;function DV(t){if(isNil(t))return!0;if(isArrayLike(t))return!t.length;var e=getType(t);if(e==="Map"||e==="Set")return!t.size;if(isPrototype(t))return!Object.keys(t).length;for(var r in t)if(t3.call(t,r))return!1;return!0}var e3=null,Ab=function(t,e){if(t===e)return!0;if(!t||!e||isString(t)||isString(e))return!1;if(isArrayLike(t)||isArrayLike(e)){if(t.length!==e.length)return!1;for(var r=!0,i=0;i<t.length&&(r=Ab(t[i],e[i]),!!r);i++);return r}if(isObjectLike(t)||isObjectLike(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(var r=!0,i=0;i<l.length&&(r=Ab(t[l[i]],e[l[i]]),!!r);i++);return r}return!1},gT=null,g9=function(t,e,r){return isFunction(r)?!!r(t,e):isEqual(t,e)},yT=function(t,e,r){for(var i=0,l=isString(e)?e.split("."):e;t&&i<l.length;)t=t[l[i++]];return t===void 0||i<l.length?r:t},y9=function(t,e,r){var i=t,l=isString(e)?e.split("."):e;return l.forEach(function(u,h){h<l.length-1?(isObject(i[u])||(i[u]=isNumber(l[h+1])?[]:{}),i=i[u]):i[u]=r}),t},n3=Object.prototype.hasOwnProperty,m9=function(t,e){if(t===null||!isPlainObject(t))return{};var r={};return each(e,function(i){n3.call(t,i)&&(r[i]=t[i])}),r},x9=function(t,e){return reduce(t,function(r,i,l){return e.includes(l)||(r[l]=i),r},{})},bg={},b9=function(t){return t=t||"g",bg[t]?bg[t]+=1:bg[t]=1,t+bg[t]},rp=function(t){return t},Tb,yc=KD(function(t,e){e===void 0&&(e={});var r=e.fontSize,i=e.fontFamily,l=e.fontWeight,u=e.fontStyle,h=e.fontVariant;return Tb||(Tb=document.createElement("canvas").getContext("2d")),Tb.font=[u,h,l,r+"px",i].join(" "),Tb.measureText(gg(t)?t:"").width},function(t,e){return e===void 0&&(e={}),(0,B.pr)([t],VD(e)).join("")}),mT=function(t,e,r,i){i===void 0&&(i="...");var l=16,u=measureTextWidth(i,r),h=isString(t)?t:toString(t),p=e,g=[],m,x;if(measureTextWidth(t,r)<=e)return t;for(;m=h.substr(0,l),x=measureTextWidth(m,r),!(x+u>p&&x>p);)if(g.push(m),p-=x,h=h.substr(l),!h)return g.join("");for(;m=h.substr(0,1),x=measureTextWidth(m,r),!(x+u>p);)if(g.push(m),p-=x,h=h.substr(1),!h)return g.join("");return""+g.join("")+i},w9=function(){function t(){this.map={}}return t.prototype.has=function(e){return this.map[e]!==void 0},t.prototype.get=function(e,r){var i=this.map[e];return i===void 0?r:i},t.prototype.set=function(e,r){this.map[e]=r},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(e){delete this.map[e]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),Eb=null;function xT(t){return!qD(t)&&!hT(t)&&!Number.isNaN(t)}const r3=t=>e=>{const r=t(e);return lT(r)?Math.round(r):r};function bT(t,e){return r=>{r.prototype.rescale=function(){this.initRange(),this.nice();const[i]=this.chooseTransforms();this.composeOutput(i,this.chooseClamp(i))},r.prototype.initRange=function(){const{interpolator:i}=this.options;this.options.range=t(i)},r.prototype.composeOutput=function(i,l){const{domain:u,interpolator:h,round:p}=this.getOptions(),g=e(u.map(i)),m=p?r3(h):h;this.output=vc(m,g,l,i)},r.prototype.invert=void 0}}function kb(t,e,r){let i=r;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function i3(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100,l=t[3];if(r===0)return[i*255,i*255,i*255,l];const u=i<.5?i*(1+r):i+r-i*r,h=2*i-u,p=kb(h,u,e+1/3),g=kb(h,u,e),m=kb(h,u,e-1/3);return[p*255,g*255,m*255,l]}function wT(t){const e=s1().get(t);if(!e)return null;const{model:r,value:i}=e;return r==="rgb"?i:r==="hsl"?i3(i):null}const Su=(t,e)=>r=>t*(1-r)+e*r,a3=(t,e)=>{const r=wT(t),i=wT(e);return r===null||i===null?r?()=>t:()=>e:l=>{const u=new Array(4);for(let x=0;x<4;x+=1){const w=r[x],M=i[x];u[x]=w*(1-l)+M*l}const[h,p,g,m]=u;return`rgba(${Math.round(h)}, ${Math.round(p)}, ${Math.round(g)}, ${m})`}},o3=(t,e)=>typeof t=="number"&&typeof e=="number"?Su(t,e):typeof t=="string"&&typeof e=="string"?a3(t,e):()=>t,s3=(t,e)=>{const r=Su(t,e);return i=>Math.round(r(i))};function MT({map:t,initKey:e},r){const i=e(r);return t.has(i)?t.get(i):r}function ip({map:t,initKey:e},r){const i=e(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function l3({map:t,initKey:e},r){const i=e(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function c3(t){return typeof t=="object"?t.valueOf():t}class ST extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=c3,e!==null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(MT({map:this.map,initKey:this.initKey},e))}has(e){return super.has(MT({map:this.map,initKey:this.initKey},e))}set(e,r){return super.set(ip({map:this.map,initKey:this.initKey},e),r)}delete(e){return super.delete(l3({map:this.map,initKey:this.initKey},e))}}class _T{constructor(e){this.options=vT({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=vT({},this.options,e),this.rescale(e)}rescale(e){}}const wg=Symbol("defaultUnknown");function u3(t,e,r){for(let i=0;i<e.length;i+=1)t.has(e[i])||t.set(r(e[i]),i)}function Qf(t){const{value:e,from:r,to:i,mapper:l,notFoundReturn:u}=t;let h=l.get(e);if(h===void 0){if(u!==wg)return u;h=r.push(e)-1,l.set(e,h)}return i[h%i.length]}function Mg(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class Pb extends _T{getDefaultOptions(){return{domain:[],range:[],unknown:wg}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&u3(this.domainIndexMap,this.getDomain(),this.domainKey),Qf({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&u3(this.rangeIndexMap,this.getRange(),this.rangeKey),Qf({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[r]=this.options.domain,[i]=this.options.range;if(this.domainKey=Mg(r),this.rangeKey=Mg(i),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new Pb(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:r}=this.options;return this.sortedDomain=r?[...e].sort(r):e,this.sortedDomain}}function OT(t){const e=Math.min(...t);return t.map(r=>r/e)}function f3(t,e){const r=t.length,i=e-r;return i>0?[...t,...new Array(i).fill(1)]:i<0?t.slice(0,e):t}function h3(t){return Math.round(t*1e12)/1e12}function M9(t){const{domain:e,range:r,paddingOuter:i,paddingInner:l,flex:u,round:h,align:p}=t,g=e.length,m=f3(u,g),[x,w]=r,M=w-x,O=2/g*i+1-1/g*l,A=M/O,E=A*l/g,P=A-g*E,I=OT(m),F=I.reduce((ft,ot)=>ft+ot),N=P/F,z=new ST(e.map((ft,ot)=>{const J=I[ot]*N;return[ft,h?Math.floor(J):J]})),G=new ST(e.map((ft,ot)=>{const st=I[ot]*N+E;return[ft,h?Math.floor(st):st]})),W=Array.from(G.values()).reduce((ft,ot)=>ft+ot),U=(M-(W-W/g*l))*p,X=x+U;let $=h?Math.round(X):X;const Q=new Array(g);for(let ft=0;ft<g;ft+=1){Q[ft]=h3($);const ot=e[ft];$+=G.get(ot)}return{valueBandWidth:z,valueStep:G,adjustedRange:Q}}function S9(t){var e;const{domain:r}=t,i=r.length;if(i===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return M9(t);const{range:u,paddingOuter:h,paddingInner:p,round:g,align:m}=t;let x,w,M=u[0];const A=u[1]-M,E=h*2,P=i-p;x=A/Math.max(1,E+P),g&&(x=Math.floor(x)),M+=(A-x*(i-p))*m,w=x*(1-p),g&&(M=Math.round(M),w=Math.round(w));const I=new Array(i).fill(0).map((F,N)=>M+N*x);return{valueStep:x,valueBandWidth:w,adjustedRange:I}}class CT extends Pb{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:wg,flex:[]}}constructor(e){super(e)}clone(){return new CT(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:r}=this.options;return e>0?e:r}getPaddingOuter(){const{padding:e,paddingOuter:r}=this.options;return e>0?e:r}rescale(){super.rescale();const{align:e,domain:r,range:i,round:l,flex:u}=this.options,{adjustedRange:h,valueBandWidth:p,valueStep:g}=S9({align:e,range:i,round:l,flex:u,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=g,this.valueBandWidth=p,this.adjustedRange=h}}const Lb=(t,e,r)=>{let i,l,u=t,h=e;if(u===h&&r>0)return[u];let p=pg(u,h,r);if(p===0||!Number.isFinite(p))return[];if(p>0){u=Math.ceil(u/p),h=Math.floor(h/p),l=new Array(i=Math.ceil(h-u+1));for(let g=0;g<i;g+=1)l[g]=(u+g)*p}else{p=-p,u=Math.ceil(u*p),h=Math.floor(h*p),l=new Array(i=Math.ceil(h-u+1));for(let g=0;g<i;g+=1)l[g]=(u+g)/p}return l};class Ib extends null{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:d3Ticks}}map(e){const[r]=this.options.range;return r!==void 0?r:this.options.unknown}invert(e){const[r]=this.options.range;return e===r&&r!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:r,tickCount:i}=this.options,[l,u]=r;return!isNumber(l)||!isNumber(u)?[]:e(l,u,i)}clone(){return new Ib(this.options)}}const AT=null,_9=null,TT=Number.EPSILON*100;function mc(t,e){return(t%e+e)%e}function Rb(t){return Math.round(t*1e12)/1e12}function d3(t,e,r,i,l,u){const h=size(e),p=indexOf(e,t);let g=0;const m=mc(i,u);return(m<TT||u-m<TT)&&i<=0&&l>=0&&(g=1),1-p/(h-1)-r+g}function ET(t,e,r){const i=size(e),l=indexOf(e,t),u=1;return 1-l/(i-1)-r+u}function kT(t,e,r,i,l,u){const h=(t-1)/(u-l),p=(e-1)/(Math.max(u,i)-Math.min(r,l));return 2-Math.max(h/p,p/h)}function p3(t,e){return t>=e?2-(t-1)/(e-1):1}function v3(t,e,r,i){const l=e-t;return 1-.5*(Fr(e-i,2)+Fr(t-r,2))/Fr(.1*l,2)}function O9(t,e,r){const i=e-t;if(r>i){const l=(r-i)/2;return 1-Fr(l,2)/Fr(.1*i,2)}return 1}function g3(){return 1}const C9=(t,e,r=5,i=!0,l=AT,u=[.25,.2,.5,.05])=>{const h=r<0?0:Math.round(r);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!h)return[];if(e-t<1e-15||h===1)return[t];const p={score:-2,lmin:0,lmax:0,lstep:0};let g=1;for(;g<1/0;){for(let A=0;A<l.length;A+=1){const E=l[A],P=ET(E,l,g);if(u[0]*P+u[1]+u[2]+u[3]<p.score){g=1/0;break}let I=2;for(;I<1/0;){const F=p3(I,h);if(u[0]*P+u[1]+u[2]*F+u[3]<p.score)break;const N=(e-t)/(I+1)/g/E;let z=Math.ceil(Math.log10(N));for(;z<1/0;){const G=g*E*Fr(10,z),W=O9(t,e,G*(I-1));if(u[0]*P+u[1]*W+u[2]*F+u[3]<p.score)break;const Y=Math.floor(e/G)*g-(I-1)*g,U=Math.ceil(t/G)*g;if(Y<=U){const X=U-Y;for(let $=0;$<=X;$+=1){const ft=(Y+$)*(G/g),ot=ft+G*(I-1),J=G,st=d3(E,l,g,ft,ot,J),gt=v3(t,e,ft,ot),Mt=kT(I,h,t,e,ft,ot),At=g3(),St=u[0]*st+u[1]*gt+u[2]*Mt+u[3]*At;St>p.score&&(!i||ft<=t&&ot>=e)&&(p.lmin=ft,p.lmax=ot,p.lstep=J,p.score=St)}}z+=1}I+=1}}g+=1}const m=prettyNumber(p.lmax),x=prettyNumber(p.lmin),w=prettyNumber(p.lstep),M=Math.floor(Rb((m-x)/w))+1,O=new Array(M);O[0]=prettyNumber(x);for(let A=1;A<M;A+=1)O[A]=prettyNumber(O[A-1]+w);return O};class Fb extends null{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:wilkinsonExtended}}map(e){return isValid(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new Fb(this.options)}getTicks(){const{domain:e,tickCount:r,tickMethod:i}=this.options,[l,u]=e;return!isNumber(l)||!isNumber(u)?[]:i(l,u,r)}}const y3=(t,e,r)=>{const[i,l]=t,[u,h]=e;let p,g;return i<l?(p=Kf(i,l),g=r(u,h)):(p=Kf(l,i),g=r(h,u)),vc(g,p)},m3=(t,e,r)=>{const i=Math.min(t.length,e.length)-1,l=new Array(i),u=new Array(i),h=t[0]>t[i],p=h?[...t].reverse():t,g=h?[...e].reverse():e;for(let m=0;m<i;m+=1)l[m]=Kf(p[m],p[m+1]),u[m]=r(g[m],g[m+1]);return m=>{const x=sD(t,m,1,i)-1,w=l[x],M=u[x];return vc(M,w)(m)}},ap=(t,e,r,i)=>(Math.min(t.length,e.length)>2?m3:y3)(t,e,i?s3:r);class Ws extends _T{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Su,tickCount:5}}map(e){return xT(e)?this.output(e):this.options.unknown}invert(e){return xT(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,r,i,...l]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,r,i,...l)}getTicks(){const{tickMethod:e}=this.options,[r,i,l,...u]=this.getTickMethodOptions();return e(r,i,l,...u)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,i=e[0],l=e[e.length-1];return[i,l,r]}chooseNice(){return lD}rescale(){this.nice();const[e,r]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,r,this.chooseClamp(r))}chooseClamp(e){const{clamp:r,range:i}=this.options,l=this.options.domain.map(e),u=Math.min(l.length,i.length);return r?d8(l[0],l[u-1]):rp}composeOutput(e,r){const{domain:i,range:l,round:u,interpolate:h}=this.options,p=ap(i.map(e),l,h,u);this.output=vc(p,r,e)}composeInput(e,r,i){const{domain:l,range:u}=this.options,h=ap(u,l.map(e),Su);this.input=vc(r,i,h)}}class Vs extends Ws{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:o3,tickMethod:Lb,tickCount:5}}chooseTransforms(){return[rp,rp]}clone(){return new Vs(this.options)}}class Sg extends null{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:defaultUnknown,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new Sg(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}const x3=t=>e=>e<0?-Fr(-e,t):Fr(e,t),b3=t=>e=>e<0?-Fr(-e,1/t):Fr(e,1/t),Db=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class Zo extends null{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:createInterpolateValue,tickMethod:d3Ticks,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[identity,identity];const r=e===.5?Db:x3(e),i=b3(e);return[r,i]}clone(){return new Zo(this.options)}}class Bb extends null{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:createInterpolateValue,tickMethod:d3Ticks,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new Bb(this.options)}}class Nb extends null{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!isValid(e))return this.options.unknown;const r=bisect(this.thresholds,e,0,this.n);return this.options.range[r]}invert(e){const{range:r}=this.options,i=r.indexOf(e),l=this.thresholds;return[l[i-1],l[i]]}clone(){return new Nb(this.options)}rescale(){const{domain:e,range:r}=this.options;this.n=Math.min(e.length,r.length-1),this.thresholds=e}}const w3=(t,e,r,i=10)=>{const l=t<0,u=pows(i,l),h=logs(i,l),p=e<t,g=p?e:t,m=p?t:e;let x=h(g),w=h(m),M=[];if(!(i%1)&&w-x<r){if(x=Math.floor(x),w=Math.ceil(w),l)for(;x<=w;x+=1){const O=u(x);for(let A=i-1;A>=1;A-=1){const E=O*A;if(E>m)break;E>=g&&M.push(E)}}else for(;x<=w;x+=1){const O=u(x);for(let A=1;A<i;A+=1){const E=O*A;if(E>m)break;E>=g&&M.push(E)}}M.length*2<r&&(M=d3Ticks(g,m,r))}else{const O=r===-1?w-x:Math.min(w-x,r);M=d3Ticks(x,w,O).map(u)}return p?M.reverse():M};class _g extends null{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:createInterpolateValue,tickMethod:d3Log,tickCount:5}}chooseNice(){return d3LogNice}getTickMethodOptions(){const{domain:e,tickCount:r,base:i}=this.options,l=e[0],u=e[e.length-1];return[l,u,r,i]}chooseTransforms(){const{base:e,domain:r}=this.options,i=r[0]<0;return[logs(e,i),pows(e,i)]}clone(){return new _g(this.options)}}class zb extends null{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:wilkinsonExtended}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[r,i,l]=this.getTickMethodOptions();this.options.domain=d3LinearNice(r,i,l)}}getTicks(){const{tickMethod:e}=this.options,[r,i,l]=this.getTickMethodOptions();return e(r,i,l)}getTickMethodOptions(){const{domain:e,tickCount:r}=this.options,i=e[0],l=e[e.length-1];return[i,l,r]}rescale(){this.nice();const{range:e,domain:r}=this.options,[i,l]=r;this.n=e.length-1,this.thresholds=new Array(this.n);for(let u=0;u<this.n;u+=1)this.thresholds[u]=((u+1)*l-(u-this.n)*i)/(this.n+1)}invert(e){const[r,i]=super.invert(e),[l,u]=this.options.domain;return r===void 0&&i===void 0?[r,i]:[r||l,i||u]}getThresholds(){return this.thresholds}clone(){return new zb(this.options)}}class PT extends null{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:wilkinsonExtended}}constructor(e){super(e)}rescale(){const{domain:e,range:r}=this.options;this.n=r.length-1,this.thresholds=createQuartile(e,this.n+1,!1)}invert(e){const[r,i]=super.invert(e),{domain:l}=this.options,u=l[0],h=l[l.length-1];return r===void 0&&i===void 0?[r,i]:[r||u,i||h]}getThresholds(){return this.thresholds}clone(){return new PT(this.options)}getTicks(){const{tickCount:e,domain:r,tickMethod:i}=this.options,l=r.length-1,u=r[0],h=r[l];return i(u,h,e)}}const A9=(t,e,r,i,l)=>{const u=t>e,h=u?e:t,p=u?t:e,[g,m]=findTickInterval(h,p,r,i,l),x=g.range(h,new Date(+p+1),m,!0);return u?x.reverse():x};function M3(t){const e=t.getTimezoneOffset(),r=new Date(t);return r.setMinutes(r.getMinutes()+e,r.getSeconds(),r.getMilliseconds()),r}class S3 extends null{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:d3Time,interpolate:createInterpolateNumber,mask:void 0,utc:!1}}chooseTransforms(){return[i=>+i,i=>new Date(i)]}chooseNice(){return d3TimeNice}getTickMethodOptions(){const{domain:e,tickCount:r,tickInterval:i,utc:l}=this.options,u=e[0],h=e[e.length-1];return[u,h,r,i,l]}getFormatter(){const{mask:e,utc:r}=this.options,i=r?utcIntervalMap:localIntervalMap,l=r?M3:identity;return u=>format(l(u),e||chooseNiceTimeMask(u,i))}clone(){return new S3(this.options)}}var _3=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u},jb;function LT(t){return[t(0),t(1)]}const Gb=t=>{const[e,r]=t;return vc(Su(0,1),Kf(e,r))};let IT=jb=class extends Vs{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:rp,tickMethod:Lb,tickCount:5}}constructor(e){super(e)}clone(){return new jb(this.options)}};IT=jb=_3([bT(LT,Gb)],IT);var O3=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u},Wb;function C3(t){return[t(0),t(.5),t(1)]}const A3=t=>{const[e,r,i]=t,l=vc(Su(0,.5),Kf(e,r)),u=vc(Su(.5,1),Kf(r,i));return h=>e>i?h<r?u(h):l(h):h<r?l(h):u(h)};let RT=Wb=class extends Vs{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:rp,tickMethod:Lb,tickCount:5}}constructor(e){super(e)}clone(){return new Wb(this.options)}};RT=Wb=O3([bT(C3,A3)],RT);var Vb=function(t){return t===void 0},T3=Vb;function Og(t,e){return+t.toPrecision(e)}function FT(t){return t.toLocaleString()}function BV(t){return t.toExponential()}function T9(t,e){return e===void 0&&(e=0),Math.abs(t)<1e3?String(t):"".concat(Og(t/1e3,e).toLocaleString(),"K")}var E9=function(t,e,r){return t<0&&Number.isFinite(t)?e:r},k9=function(t,e,r){return t>0&&Number.isFinite(t)?e:r},P9=function(t,e){return t*e},L9=function(t,e){return t/2+(e||0)/2};function op(t){var e=t.canvas,r=t.touches,i=t.offsetX,l=t.offsetY;if(e){var u=e.x,h=e.y;return[u,h]}if(r){var p=r[0],g=p.clientX,m=p.clientY;return[g,m]}return i&&l?[i,l]:[0,0]}var E3={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",zIndex:999},Hb=Ho({background:"background",labelGroup:"label-group",label:"label"},"indicator"),k3=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,E3)||this;return i.point=[0,0],i.group=i.appendChild(new da({})),i.isMutationObserved=!0,i}return e.prototype.renderBackground=function(){if(this.label){var r=this.attributes,i=r.position,l=r.padding,u=(0,B.CR)(Ea(l),4),h=u[0],p=u[1],g=u[2],m=u[3],x=this.label.node().getLocalBounds(),w=x.min,M=x.max,O=[[w[0]-m,w[1]-h],[M[0]+p,M[1]+g]],A=this.getPath(i,O),E=vr(this.attributes,"background");this.background=Qn(this.group).maybeAppendByClassName(Hb.background,"path").styles((0,B.pi)((0,B.pi)({},E),{path:A})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var r=this.attributes,i=r.formatter,l=r.labelText,u=vr(this.attributes,"label"),h=(0,B.CR)(qa(u),2),p=h[0],g=h[1],m=p.text,x=(0,B._T)(p,["text"]);if(this.label=Qn(this.group).maybeAppendByClassName(Hb.labelGroup,"g").styles(g),!!l){var w=this.label.maybeAppendByClassName(Hb.label,function(){return xu(i(l))}).style("text",i(l).toString());w.selectAll("text").styles(x)}},e.prototype.adjustLayout=function(){var r=(0,B.CR)(this.point,2),i=r[0],l=r[1];this.group.attr("x",-i).attr("y",-l)},e.prototype.getPath=function(r,i){var l=this,u=(0,B.CR)(i,2),h=(0,B.CR)(u[0],2),p=h[0],g=h[1],m=(0,B.CR)(u[1],2),x=m[0],w=m[1],M={top:[[p,g],[x,g]],right:[[x,g],[x,w]],bottom:[[x,w],[p,w]],left:[[p,w],[p,g]]},O={top:"bottom",right:"left",bottom:"top",left:"right"},A=Object.entries(M).map(function(E){var P=(0,B.CR)(E,2),I=P[0],F=P[1];return I===O[r]?l.createCorner(F):[(0,B.ev)(["M"],(0,B.CR)(F[0]),!1),(0,B.ev)(["L"],(0,B.CR)(F[1]),!1)]});return A.push([["Z"]]),A.flat().filter(function(E,P,I){return P===0?!0:E[0]!=="M"})},e.prototype.createCorner=function(r,i){i===void 0&&(i=10);var l=.8,u=QC.apply(void 0,(0,B.ev)([],(0,B.CR)(r),!1)),h=(0,B.CR)(r,2),p=(0,B.CR)(h[0],2),g=p[0],m=p[1],x=(0,B.CR)(h[1],2),w=x[0],M=x[1],O=(0,B.CR)(u?[w-g,[g,w]]:[M-m,[m,M]],2),A=O[0],E=(0,B.CR)(O[1],2),P=E[0],I=E[1],F=A/2,N=A/Math.abs(A),z=i*N,G=z/2,W=z*Math.sqrt(3)/2*l,Y=(0,B.CR)([P,P+F-G,P+F,P+F+G,I],5),U=Y[0],X=Y[1],$=Y[2],Q=Y[3],ft=Y[4];return u?(this.point=[$,m-W],[["M",U,m],["L",X,m],["L",$,m-W],["L",Q,m],["L",ft,m]]):(this.point=[g+W,$],[["M",g,U],["L",g,X],["L",g+W,$],["L",g,Q],["L",g,ft]])},e.prototype.bindEvents=function(){this.label.on($n.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout()},e}(Wi);function P3(t,e){for(var r=1;r<t.length;r+=1){var i=t[r-1],l=t[r];if(e>=i&&e<=l)return[i,l]}return[e,e]}function L3(t,e,r){var i=Array.from(e),l=t.length;return new Array(l).fill(0).reduce(function(u,h,p){var g=i[p%i.length];return u+=" ".concat(t[p],":").concat(g).concat(p<l-1?" ".concat(t[p+1],":").concat(g):"")},"l(".concat(r==="horizontal"?"0":"270",")"))}function DT(t,e){var r=(0,B.CR)(P3(t,e),2),i=r[0],l=r[1];return{tick:e>(i+l)/2?l:i,range:[i,l]}}var sp=Ho({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function BT(t){var e=t.orientation,r=t.size,i=t.length;return ka(e,[i,r],[r,i])}function NT(t){var e=t.type,r=(0,B.CR)(BT(t),2),i=r[0],l=r[1];return e==="size"?[["M",0,l],["L",0+i,0],["L",0+i,l],["Z"]]:[["M",0,l],["L",0,0],["L",0+i,0],["L",0+i,l],["Z"]]}function I9(t){return NT(t)}function qo(t){var e=t.orientation,r=t.color,i=t.block,l=t.partition,u;if(Gi(r)){var h=20;u=new Array(h).fill(0).map(function(m,x,w){return r(x/(w.length-1))})}else u=r;var p=u.length,g=u.map(function(m){return mo(m).toString()});return p?p===1?g[0]:i?L3(l,g,e):g.reduce(function(m,x,w){return m+=" ".concat(w/(p-1),":").concat(x)},"l(".concat(ka(e,"0","270"),")")):""}function _u(t){var e=t.orientation,r=t.range;if(!r)return[];var i=(0,B.CR)(BT(t),2),l=i[0],u=i[1],h=(0,B.CR)(r,2),p=h[0],g=h[1],m=ka(e,p*l,0),x=ka(e,0,p*u),w=ka(e,g*l,l),M=ka(e,u,g*u);return[["M",m,x],["L",m,M],["L",w,M],["L",w,x],["Z"]]}function I3(t,e){var r=vr(e,"track");t.maybeAppendByClassName(sp.track,"path").styles((0,B.pi)({path:NT(e)},r))}function zT(t,e){var r=vr(e,"selection"),i=qo(e),l=t.maybeAppendByClassName(sp.selection,"path").styles((0,B.pi)({path:I9(e),fill:i},r)),u=l.maybeAppendByClassName(sp.clipPath,"path").styles({path:_u(e)}).node();l.style("clip-path",u)}var jT=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return e.prototype.render=function(r,i){var l=Qn(i).maybeAppendByClassName(sp.trackGroup,"g");I3(l,r);var u=Qn(i).maybeAppendByClassName(sp.selectionGroup,"g");zT(u,r)},e}(Wi),Yb={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},Cg={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},GT={orientation:"horizontal",showLabel:!0,type:"start"},Ou=Ho({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track"},"slider"),xc=Ho({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),R3=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i){var l=r.size,u=l===void 0?10:l,h=r.radius,p=h===void 0?u/4:h,g=r.orientation,m=(0,B._T)(r,["size","radius","orientation"]),x=u,w=x*2.4,M=Qn(i).maybeAppendByClassName(xc.iconRect,"rect").styles((0,B.pi)((0,B.pi)({},m),{width:x,height:w,radius:p,x:-x/2,y:-w/2})),O=1/3*x,A=2/3*x,E=1/4*w,P=3/4*w;M.maybeAppendByClassName("".concat(xc.iconLine,"-1"),"line").styles((0,B.pi)({x1:O,x2:O,y1:E,y2:P},m)),M.maybeAppendByClassName("".concat(xc.iconLine,"-2"),"line").styles((0,B.pi)({x1:A,x2:A,y1:E,y2:P},m)),M.node().setOrigin(x/2,w/2),g==="vertical"?i.setLocalEulerAngles(90):i.setLocalEulerAngles(0)},e}(Wi),WT=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,GT)||this}return e.prototype.renderLabel=function(r){var i=this,l=this.attributes.showLabel,u=vr(this.attributes,"label"),h=u.transform,p=(0,B._T)(u,["transform"]),g=(0,B.CR)(qa(p,[]),2),m=g[0],x=g[1],w=Qn(r).maybeAppendByClassName(xc.labelGroup,"g").styles(x),M=(0,B.pi)((0,B.pi)({},Cg),m),O=M.text,A=(0,B._T)(M,["text"]);so(!!l,w,function(E){i.label=E.maybeAppendByClassName(xc.label,"text").styles((0,B.pi)((0,B.pi)({},A),{transform:h,text:"".concat(O)})),i.label.on("mousedown",function(P){P.stopPropagation()}),i.label.on("touchstart",function(P){P.stopPropagation()})})},e.prototype.renderIcon=function(r){var i=this.attributes.orientation,l=(0,B.pi)((0,B.pi)({orientation:i},Yb),vr(this.attributes,"icon")),u=this.attributes.iconShape,h=u===void 0?function(){return new R3({style:l})}:u,p=Qn(r).maybeAppendByClassName(xc.iconGroup,"g");p.selectAll(xc.icon.class).data([h]).join(function(g){return g.append(h).attr("className",xc.icon.name)},function(g){return g.update(l)},function(g){return g.remove()})},e.prototype.render=function(r,i){this.renderIcon(i),this.renderLabel(i)},e}(Wi),F3=fc(function(t){return{min:Math.min.apply(Math,(0,B.ev)([],(0,B.CR)(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,(0,B.ev)([],(0,B.CR)(t.map(function(e){return e.value})),!1))}},function(t){return t.map(function(e){return e.id})}),VT=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,q5)||this;return i.eventToOffsetScale=new Vs({}),i.innerRibbonScale=new Vs({}),i.cacheLabelBBox=null,i.cacheHandleBBox=null,i.onHovering=function(l){var u=i.attributes,h=u.data,p=u.block;l.stopPropagation();var g=i.getValueByCanvasPoint(l);if(p){var m=DT(h.map(function(w){var M=w.value;return M}),g).range;i.showIndicator((m[0]+m[1])/2,"".concat(m[0],"-").concat(m[1])),i.dispatchIndicated(g,m)}else{var x=i.getTickValue(g);i.showIndicator(x),i.dispatchIndicated(x)}},i.onDragStart=function(l){return function(u){u.stopPropagation(),i.attributes.slidable&&(i.target=l,i.prevValue=i.getTickValue(i.getValueByCanvasPoint(u)),document.addEventListener("mousemove",i.onDragging),document.addEventListener("touchmove",i.onDragging),document.addEventListener("mouseleave",i.onDragEnd),document.addEventListener("mouseup",i.onDragEnd),document.addEventListener("mouseup",i.onDragEnd),document.addEventListener("touchend",i.onDragEnd))}},i.onDragging=function(l){var u=i.target;i.updateMouse();var h=(0,B.CR)(i.selection,2),p=h[0],g=h[1],m=i.getTickValue(i.getValueByCanvasPoint(l)),x=m-i.prevValue;u==="start"?p!==m&&i.updateSelection(m,g):u==="end"?g!==m&&i.updateSelection(p,m):u==="ribbon"&&x!==0&&(i.prevValue=m,i.updateSelection(x,x,!0))},i.onDragEnd=function(){i.style.cursor="default",document.removeEventListener("mousemove",i.onDragging),document.removeEventListener("touchmove",i.onDragging),document.removeEventListener("mouseup",i.onDragEnd),document.removeEventListener("touchend",i.onDragEnd)},i}return Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var r=this.attributes,i=r.width,l=r.height;return new xi(0,0,i,l)},e.prototype.render=function(r,i){var l=this,u=r.showLabel;this.renderTitle(Qn(i));var h=this.availableSpace,p=h.x,g=h.y,m=Qn(i).maybeAppendByClassName(oa.contentGroup,"g").styles({x:p,y:g}),x=m.maybeAppendByClassName(oa.labelGroup,"g").styles({zIndex:1});so(!!u,x,function(M){l.renderLabel(M)});var w=m.maybeAppendByClassName(oa.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=m.maybeAppendByClassName(oa.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(w),this.renderIndicator(m),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var r=this.attributes,i=r.data,l=r.domain;return l?{min:l[0],max:l[1]}:F3(i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var r=this.range,i=r.min,l=r.max;return this.innerRibbonScale.update({domain:[i,l],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var r=(0,B.CR)(this.selection,2),i=r[0],l=r[1],u=this.ribbonScale;return[u.map(i),u.map(l)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var r=this.range,i=r.min,l=r.max,u=this.attributes.defaultValue,h=u===void 0?[i,l]:u,p=(0,B.CR)(h,2),g=p[0],m=p[1];return[g,m]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(r,i){return ka(this.attributes.orientation,typeof r=="function"?r():r,typeof i=="function"?i():i)},e.prototype.renderTitle=function(r){var i=this.attributes,l=i.showTitle,u=i.titleText,h=i.width,p=i.height,g=vr(this.attributes,"title"),m=(0,B.pi)((0,B.pi)({},g),{width:h,height:p,text:u}),x=this;r.selectAll(oa.title.class).data(l?[u]:[]).join(function(w){return w.append(function(){return new hA({style:m})}).attr("className",oa.title.name).each(function(){x.title=this})},function(w){return w.update(m)},function(w){return w.each(function(){x.title=void 0}).remove()})},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var r=this.attributes,i=r.width,l=r.height;return new xi(0,0,i,l)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var r=this.attributes.showTick;return r?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var r=this.attributes,i=r.orientation,l=r.labelDirection,u={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return u[i][l]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var r,i=this.attributes.showLabel;if(!i)return new xi(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var l=((r=this.label.querySelector(Wr.labelGroup.class))===null||r===void 0?void 0:r.children.slice(-1)[0]).getBBox(),u=l.width,h=l.height;return this.cacheLabelBBox=new xi(0,0,u,h),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var r=this.attributes,i=r.showLabel,l=r.labelSpacing,u=l===void 0?0:l;if(!i)return{width:0,height:0,size:0,length:0};var h=this.labelBBox,p=h.width,g=h.height,m=this.ifHorizontal(g,p)+u+this.labelFixedSpacing,x=this.ifHorizontal(p,g);return{width:p,height:g,size:m,length:x}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var r=this.attributes,i=r.showHandle,l=r.ribbonSize,u=this.availableSpace,h=u.width,p=u.height,g=this.labelShape,m=g.size,x=g.length,w=(0,B.CR)(this.ifHorizontal([p,h],[h,p]),2),M=w[0],O=w[1],A=i?this.handleShape:{size:0,length:0},E=A.size,P=A.length,I=this.handleOffsetRatio,F=0,N=this.labelPosition;l?F=l:["bottom","right"].includes(N)?F=Math.min(M-m,(M-E)/I):M*(1-I)>E?F=Math.max(M-m,0):F=Math.max((M-m-E)/I,0);var z=Math.max(P,x),G=O-z,W=(0,B.CR)(this.ifHorizontal([G,F],[F,G]),2),Y=W[0],U=W[1],X=["top","left"].includes(N)?m:0,$=(0,B.CR)(this.ifHorizontal([z/2,X],[X,z/2]),2),Q=$[0],ft=$[1];return new xi(Q,ft,Y,U)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var r=this.ribbonBBox,i=r.width,l=r.height;return this.ifHorizontal({size:l,length:i},{size:i,length:l})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(r){var i=this.attributes,l=i.data,u=i.type,h=i.orientation,p=i.color,g=i.block,m=vr(this.attributes,"ribbon"),x=this.range,w=x.min,M=x.max,O=this.ribbonBBox,A=O.x,E=O.y,P=this.ribbonShape,I=P.length,F=P.size,N=fi({x:A,y:E,length:I,size:F,type:u,orientation:h,color:p,block:g,partition:l.map(function(z){return(z.value-w)/(M-w)}),range:this.ribbonRange},m);this.ribbon=r.maybeAppendByClassName(oa.ribbon,function(){return new jT({style:N})}).update(N)},e.prototype.getHandleClassName=function(r){return"".concat(oa.prefix("".concat(r,"-handle")))},e.prototype.renderHandles=function(){var r=this.attributes,i=r.showHandle,l=r.orientation,u=vr(this.attributes,"handle"),h=(0,B.CR)(this.selection,2),p=h[0],g=h[1],m=(0,B.pi)((0,B.pi)({},u),{orientation:l}),x=u.shape,w=x===void 0?"slider":x,M=w==="basic"?X5:WT,O=this;this.handlesGroup.selectAll(oa.handle.class).data(i?[{value:p,type:"start"},{value:g,type:"end"}]:[],function(A){return A.type}).join(function(A){return A.append(function(){return new M({style:m})}).attr("className",function(E){var P=E.type;return"".concat(oa.handle," ").concat(O.getHandleClassName(P))}).each(function(E){var P=E.type,I=E.value;this.update({labelText:I});var F="".concat(P,"Handle");O[F]=this,this.addEventListener("pointerdown",O.onDragStart(P))})},function(A){return A.update(m).each(function(E){var P=E.value;this.update({labelText:P})})},function(A){return A.each(function(E){var P=E.type,I="".concat(P,"Handle");O[I]=void 0}).remove()})},e.prototype.adjustHandles=function(){var r=(0,B.CR)(this.selection,2),i=r[0],l=r[1];this.setHandlePosition("start",i),this.setHandlePosition("end",l)},e.prototype.adjustTitle=function(){var r=this.attributes,i=r.titlePosition,l=r.orientation,u=(0,B.CR)(this.getElementsByClassName(oa.title.name),1),h=u[0],p=this.handlesGroup.select(".".concat(this.getHandleClassName("start"))).node();if(!(!h||!p)&&!(i!=="top-left"||l!=="horizontal")){var g=(0,B.CR)(p.getLocalBounds().min,1),m=g[0],x=(0,B.CR)(h.getLocalBounds().min,1),w=x[0],M=m-w;h.style.x=+(this.style.x||0)+M}},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new xi(0,0,0,0);var r=this.startHandle.getBBox(),i=r.width,l=r.height,u=this.endHandle.getBBox(),h=u.width,p=u.height,g=(0,B.CR)([Math.max(i,h),Math.max(l,p)],2),m=g[0],x=g[1];return this.cacheHandleBBox=new xi(0,0,m,x),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var r=this.handleBBox,i=r.width,l=r.height,u=(0,B.CR)(this.ifHorizontal([l,i],[i,l]),2),h=u[0],p=u[1];return{width:i,height:l,size:h,length:p}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(r,i){var l=this.attributes.handleFormatter,u=this.ribbonBBox,h=u.x,p=u.y,g=this.ribbonShape.size,m=this.getOffset(i),x=(0,B.CR)(this.ifHorizontal([h+m,p+g*this.handleOffsetRatio],[h+g*this.handleOffsetRatio,p+m]),2),w=x[0],M=x[1],O=this.handlesGroup.select(".".concat(this.getHandleClassName(r))).node();O==null||O.update({x:w,y:M,formatter:l})},e.prototype.renderIndicator=function(r){var i=vr(this.attributes,"indicator");this.indicator=r.maybeAppendByClassName(oa.indicator,function(){return new k3({})}).update(i)},Object.defineProperty(e.prototype,"labelData",{get:function(){var r=this,i=this.attributes.data;return i.reduce(function(l,u,h,p){var g,m,x=(g=u==null?void 0:u.id)!==null&&g!==void 0?g:h.toString();if(l.push((0,B.pi)((0,B.pi)({},u),{id:x,index:h,type:"value",label:(m=u==null?void 0:u.label)!==null&&m!==void 0?m:u.value.toString(),value:r.ribbonScale.map(u.value)})),h<p.length-1){var w=p[h+1],M=(0,B.CR)([u.value,w.value],2),O=M[0],A=M[1],E=(O+A)/2;l.push((0,B.pi)((0,B.pi)({},u),{id:x,index:h,type:"range",range:[O,A],label:[O,A].join("~"),value:r.ribbonScale.map(E)}))}return l},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var r=(0,B.CR)(["center","middle"],2),i=r[0],l=r[1],u=this.labelPosition;return u==="top"?l="bottom":u==="bottom"?l="top":u==="left"?i="end":u==="right"&&(i="start"),{labelTextAlign:i,labelTextBaseline:l}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(r){var i=this.attributes,l=i.showTick,u=l===void 0?!1:l,h=i.labelFilter,p=i.labelFormatter,g=vr(this.attributes,"tick"),m=vr(this.attributes,"label"),x=m.align,w=fi((0,B.pi)({showLine:!1,showGrid:!1,showTick:u,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),Ns(g,"tick"),Ns(m,"label"),{data:this.labelData}),M={tickFilter:function(A,E,P){return(A==null?void 0:A.type)!=="value"?!1:h?h(A,A.index,P.filter(function(I){return I.type!=="value"})):!0},labelFilter:function(A,E,P){return(A==null?void 0:A.type)!==x?!1:h?h(A,A.index,P.filter(function(I){return I.type===x})):!0},labelFormatter:p},O=(0,B.pi)((0,B.pi)((0,B.pi)({},w),M),{labelOverlap:[{type:"hide"}]});this.label=r.maybeAppendByClassName(oa.label,function(){return new lg({style:O})}).node(),this.label.update(O,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var r=this.attributes,i=r.showTick,l=r.labelDirection,u=r.labelSpacing,h=r.tickLength,p=this.ribbonShape.size,g=this.labelPosition,m=this.labelFixedSpacing,x=(0,B.CR)([0,0,0],3),w=x[0],M=x[1],O=x[2],A=h!=null?h:p;return i?(O=A,M=m,l==="positive"?g==="right"?(w=A,O=A):g==="bottom"&&(w=O):l==="negative"&&(g==="top"||g==="left")&&(w=p)):l==="positive"?g==="right"?M=A:g==="bottom"&&(w=p+m,M=u):l==="negative"&&(g==="left"||g==="top")&&(M=u),{offset:w,spacing:u,tickLength:O}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var r=this.attributes.showLabel;if(r){var i=this.ribbonBBox,l=i.x,u=i.y,h=i.width,p=i.height,g=this.labelAxisStyle,m=g.offset,x=g.spacing,w=g.tickLength,M=(0,B.CR)(this.ifHorizontal([[l,u+m],[l+h,u+m]],[[l+m,u+p],[l+m,u]]),2),O=M[0],A=M[1];this.label.update({startPos:O,endPos:A,tickLength:w,labelSpacing:x},!1)}},e.prototype.bindEvents=function(){this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(r,i){i===void 0&&(i="".concat(r));var l=this.attributes.showIndicator;if(!l||typeof r!="number"){this.hideIndicator();return}var u=this.range,h=u.min,p=u.max,g=this.ribbonBBox,m=g.x,x=g.y,w=dc(r,h,p),M=this.getOffset(w),O=this.ifHorizontal([M+m,x],[m,M+x]);this.indicator.update({x:O[0],y:O[1],position:this.ifHorizontal("top","left"),labelText:i}),If(this.indicator.node())},e.prototype.hideIndicator=function(){rc(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(r,i){this.updateSelection(r,i)},e.prototype.updateSelection=function(r,i,l){var u;l===void 0&&(l=!1);var h=(0,B.CR)(this.selection,2),p=h[0],g=h[1],m=(0,B.CR)([r,i],2),x=m[0],w=m[1];l&&(x+=p,w+=g);var M=this.range,O=M.min,A=M.max;u=(0,B.CR)(qf([O,A],[x,w],this.selection),2),x=u[0],w=u[1],this.update({defaultValue:[x,w]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var r=this.attributes.step,i=r===void 0?1:r,l=this.range,u=l.min,h=l.max;return T3(i)?Og((h-u)*$5,0):i},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(r){var i=this.attributes,l=i.data,u=i.block,h=this.range.min;return u?DT(l.map(function(p){var g=p.value;return g}),r).tick:GA(r,this.step,h)},e.prototype.getValueByCanvasPoint=function(r,i){i===void 0&&(i=!1);var l=this.range,u=l.min,h=l.max,p=(0,B.CR)(this.ribbon.node().getPosition(),2),g=p[0],m=p[1],x=this.ifHorizontal(g,m),w=this.ifHorizontal.apply(this,(0,B.ev)([],(0,B.CR)(op(r)),!1)),M=w-x,O=dc(this.getOffset(M,!0),u,h);return O},e.prototype.getOffset=function(r,i){i===void 0&&(i=!1);var l=this.range,u=l.min,h=l.max,p=this.ribbonShape.length,g=this.eventToOffsetScale;return g.update({domain:[u,h],range:[0,p]}),i?g.invert(r):g.map(r)},e.prototype.dispatchSelection=function(){var r=new qr("valuechange",{detail:{value:this.selection}});this.dispatchEvent(r)},e.prototype.dispatchIndicated=function(r,i){var l=new qr("indicate",{detail:{value:r,range:i}});this.dispatchEvent(l)},e}(Wi),lp=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Ag(t,e,r){return t.size=e,k5(r)?t.height=e:t.width=e,t}function cp(t,e,r){const{size:i}=e,l=TA(t,e,r);return Ag(l,i,l.orientation)}function HT(t){return e=>({value:e/t,label:String(e)})}function D3(t,e,r,i,l){const u=e.thresholds,h=HT(i);return Object.assign(Object.assign({},t),{color:l,data:[r,...u,i].map(h)})}function B3(t,e,r){const l=[-1/0,...e.thresholds,1/0].map((u,h)=>({value:h,label:u}));return Object.assign(Object.assign({},t),{data:l,color:r,labelFilter:(u,h)=>h>0&&h<l.length-1})}function Tg(t){const{domain:e}=t.getOptions(),[r,i]=[e[0],d_(e)];return[r,i]}function YT(t,e){const r=t.getOptions(),i=t.clone();return i.update(Object.assign(Object.assign({},r),{range:[mo(e).toString()]})),i}function UT(t,e,r,i,l,u){const{length:h}=t,p=r||i,g=l.color?u.legendContinuous.ribbonFill||"black":u.color,m=e||YT(p,g),[x,w]=Tg(m),[M,O]=Tg([e,r,i].filter(A=>A!==void 0).find(A=>!(A instanceof md)));return Object.assign(Object.assign({},t),{domain:[M,O],data:m.getTicks().map(A=>({value:A})),color:new Array(Math.floor(h)).fill(0).map((A,E)=>{const P=(w-x)/(h-1)*E+x,I=m.map(P),F=i?i.map(P):1;return I.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(N,z,G,W)=>`rgba(${z}, ${G}, ${W}, ${F})`)})})}function XT(t,e,r,i,l,u){const h=js(t,"color"),p=cp(r,i,l);if(h instanceof Kl){const{range:x}=h.getOptions(),[w,M]=Tg(h);return h instanceof M0||h instanceof S0?D3(p,h,w,M,x):B3(p,h,x)}const g=js(t,"size"),m=js(t,"opacity");return UT(p,h,g,m,e,u)}const fs=t=>{const{labelFormatter:e,layout:r,order:i,orientation:l,position:u,size:h,title:p,style:g,crossPadding:m,padding:x}=t,w=lp(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:M,value:O,theme:A,scale:E})=>{const{bbox:P}=O,{x:I,y:F,width:N,height:z}=P,G=CA(u,r),{legendContinuous:W={}}=A,Y=hg(Object.assign({},W,Object.assign(Object.assign({titleText:Qd(p),labelAlign:"value",labelFormatter:typeof e=="string"?X=>ko(e)(X.label):e},XT(M,E,O,t,fs,A)),g),w)),U=new AA({style:Object.assign(Object.assign({x:I,y:F,width:N,height:z},G),{subOptions:Y})});return U.appendChild(new VT({className:"legend-continuous",style:Y})),U}};fs.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const up=t=>()=>new da;up.props={};var N3=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function ZT(t,e,r,i){switch(i){case"center":return{x:t+r/2,y:e,textAlign:"middle"};case"right":return{x:t+r,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const z3=T5({render(t,e){const{width:r,title:i,subtitle:l,spacing:u=2,align:h="left"}=t,p=N3(t,["width","title","subtitle","spacing","align"]),g=kn(p,"title"),m=kn(p,"subtitle"),w=OA(e,".title","text").attr("className","title").call(jn,Object.assign(Object.assign(Object.assign({},ZT(0,0,r,h)),{fontSize:14,textBaseline:"top",text:i}),g)).node().getLocalBounds();OA(e,".sub-title","text").attr("className","sub-title").call(M=>{if(!l)return M.node().remove();M.node().attr(Object.assign(Object.assign(Object.assign({},ZT(0,w.max[1]+u,r,h)),{fontSize:12,textBaseline:"top",text:l}),m))})}}),qT=t=>({value:e,theme:r})=>{const{x:i,y:l,width:u,height:h}=e.bbox;return new z3({style:sn({},r.title,Object.assign({x:i,y:l,width:u,height:h},t))})};qT.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var Ub=function(t){if(typeof t!="object"||t===null)return t;var e;if(Re(t)){e=[];for(var r=0,i=t.length;r<i;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=Ub(t[r]):e[r]=t[r]}else{e={};for(var l in t)typeof t[l]=="object"&&t[l]!=null?e[l]=Ub(t[l]):e[l]=t[l]}return e},Xb=Ub,j3=function(t){(0,B.ZT)(e,t);function e(r){var i=this,l=r.style,u=(0,B._T)(r,["style"]);return i=t.call(this,tg({},{type:"column"},(0,B.pi)({style:l},u)))||this,i.columnsGroup=new da({name:"columns"}),i.appendChild(i.columnsGroup),i.render(),i}return e.prototype.render=function(){var r=this.attributes.columns;Qn(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(i){return i.append("rect").attr("className","column").each(function(l){this.attr(l)})},function(i){return i.each(function(l){this.attr(l)})},function(i){return i.remove()})},e.prototype.update=function(r){this.attr(fi({},this.attributes,r)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(_a),G3=function(t){(0,B.ZT)(e,t);function e(r){var i=this,l=r.style,u=(0,B._T)(r,["style"]);return i=t.call(this,tg({},{type:"lines"},(0,B.pi)({style:l},u)))||this,i.linesGroup=i.appendChild(new da),i.areasGroup=i.appendChild(new da),i.render(),i}return e.prototype.render=function(){var r=this.attributes,i=r.lines,l=r.areas;i&&this.renderLines(i),l&&this.renderAreas(l)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(r){this.attr(fi({},this.attributes,r)),this.render()},e.prototype.renderLines=function(r){Qn(this.linesGroup).selectAll(".line").data(r).join(function(i){return i.append("path").attr("className","line").each(function(l){this.attr(l)})},function(i){return i.each(function(l){this.attr(l)})},function(i){return i.remove()})},e.prototype.renderAreas=function(r){Qn(this.linesGroup).selectAll(".area").data(r).join(function(i){return i.append("path").attr("className","area").each(function(l){this.attr(l)})},function(i){return i.each(function(l){this.style(l)})},function(i){return i.remove()})},e}(_a),W3=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},V3=W3,ho=function(t,e){if(t===e)return!0;if(!t||!e||ic(t)||ic(e))return!1;if(V3(t)||V3(e)){if(t.length!==e.length)return!1;for(var r=!0,i=0;i<t.length&&(r=ho(t[i],e[i]),!!r);i++);return r}if(sx(t)||sx(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(var r=!0,i=0;i<l.length&&(r=ho(t[l[i]],e[l[i]]),!!r);i++);return r}return!1},Eg=ho;function Zb(t,e,r,i){var l,u=[],h=!!i,p,g,m=[1/0,1/0],x=[-1/0,-1/0],w,M,O;if(h){l=(0,B.CR)(i,2),m=l[0],x=l[1];for(var A=0,E=t.length;A<E;A+=1){var P=t[A];m=yu(m,P),x=mu(x,P)}}for(var A=0,I=t.length;A<I;A+=1){var P=t[A];if(A===0&&!r)O=P;else if(A===I-1&&!r)M=P,u.push(O),u.push(M);else{var F=[A?A-1:I-1,A-1][r?0:1];p=t[F],g=t[r?(A+1)%I:A+1];var N=[0,0];N=eg(g,p),N=pl(N,e);var z=Wf(P,p),G=Wf(P,g),W=z+G;W!==0&&(z/=W,G/=W);var Y=pl(N,-z),U=pl(N,G);M=Gf(P,Y),w=Gf(P,U),w=yu(w,mu(g,P)),w=mu(w,yu(g,P)),Y=eg(w,P),Y=pl(Y,-z/G),M=Gf(P,Y),M=yu(M,mu(p,P)),M=mu(M,yu(p,P)),U=eg(P,M),U=pl(U,G/z),w=Gf(P,U),h&&(M=mu(M,m),M=yu(M,x),w=mu(w,m),w=yu(w,x)),u.push(O),u.push(M),O=w}}return r&&u.push(u.shift()),u}function qb(t,e,r){var i;e===void 0&&(e=!1),r===void 0&&(r=[[0,0],[1,1]]);for(var l=!!e,u=[],h=0,p=t.length;h<p;h+=2)u.push([t[h],t[h+1]]);for(var g=Zb(u,.4,l,r),m=u.length,x=[],w,M,O,h=0;h<m-1;h+=1)w=g[h*2],M=g[h*2+1],O=u[h+1],x.push(["C",w[0],w[1],M[0],M[1],O[0],O[1]]);return l&&(w=g[m],M=g[m+1],i=(0,B.CR)(u,1),O=i[0],x.push(["C",w[0],w[1],M[0],M[1],O[0],O[1]])),x}function H3(t,e){var r,i=e.x,l=e.y,u=(0,B.CR)(l.getOptions().range||[0,0],2),h=u[0],p=u[1];return p>h&&(r=(0,B.CR)([h,p],2),p=r[0],h=r[1]),t.map(function(g){var m=g.map(function(x,w){return[i.map(w),dc(l.map(x),p,h)]});return m})}function fp(t,e){e===void 0&&(e=!1);var r=e?t.length-1:0,i=t.map(function(l,u){return(0,B.ev)([u===r?"M":"L"],(0,B.CR)(l),!1)});return e?i.reverse():i}function kg(t,e){if(e===void 0&&(e=!1),t.length<=2)return fp(t);for(var r=[],i=t.length,l=0;l<i;l+=1){var u=e?t[i-l-1]:t[l];Eg(u,r.slice(-2))||r.push.apply(r,(0,B.ev)([],(0,B.CR)(u),!1))}var h=qb(r,!1);return e?h.unshift((0,B.ev)(["M"],(0,B.CR)(t[i-1]),!1)):h.unshift((0,B.ev)(["M"],(0,B.CR)(t[0]),!1)),h}function $b(t,e,r){var i=Xb(t);return i.push(["L",e,r],["L",0,r],["Z"]),i}function $T(t,e,r,i){return t.map(function(l){return $b(e?kg(l):fp(l),r,i)})}function Y3(t,e,r){for(var i=[],l=t.length-1;l>=0;l-=1){var u=t[l],h=fp(u),p=void 0;if(l===0)p=$b(h,e,r);else{var g=t[l-1],m=fp(g,!0);m[0][0]="L",p=(0,B.ev)((0,B.ev)((0,B.ev)([],(0,B.CR)(h),!1),(0,B.CR)(m),!1),[["Z"]],!1)}i.push(p)}return i}function U3(t,e,r){for(var i=[],l=t.length-1;l>=0;l-=1){var u=t[l],h=kg(u),p=void 0;if(l===0)p=$b(h,e,r);else{var g=t[l-1],m=kg(g,!0),x=u[0];m[0][0]="L",p=(0,B.ev)((0,B.ev)((0,B.ev)([],(0,B.CR)(h),!1),(0,B.CR)(m),!1),[(0,B.ev)(["M"],(0,B.CR)(x),!1),["Z"]],!1)}i.push(p)}return i}var KT=function(t){if(Re(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])},X3=function(t,e){if(Re(t)){for(var r,i=1/0,l=0;l<t.length;l++){var u=t[l],h=Gi(e)?e(u):u[e];h<i&&(r=u,i=h)}return r}},JT=function(t){if(Re(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},Z3=function(t,e){if(Re(t)){for(var r,i=-1/0,l=0;l<t.length;l++){var u=t[l],h=Gi(e)?e(u):u[e];h>i&&(r=u,i=h)}return r}};function QT(t){return t.length===0?[0,0]:[KT(X3(t,function(e){return KT(e)||0})),JT(Z3(t,function(e){return JT(e)||0}))]}function tE(t){for(var e=Xb(t),r=e[0].length,i=(0,B.CR)([Array(r).fill(0),Array(r).fill(0)],2),l=i[0],u=i[1],h=0;h<e.length;h+=1)for(var p=e[h],g=0;g<r;g+=1)p[g]>=0?(p[g]+=l[g],l[g]=p[g]):(p[g]+=u[g],u[g]=p[g]);return e}var R9=function(t){(0,B.ZT)(e,t);function e(r){return t.call(this,r,{type:"line",width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff"})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var r=this.attributes.data;if(!r||(r==null?void 0:r.length)===0)return[[]];var i=Xb(r);return rg(i[0])?[i]:i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?tE(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var r=this.scales.y,i=(0,B.CR)(r.getOptions().domain||[0,0],2),l=i[0],u=i[1];return u<0?r.map(u):r.map(l<0?0:l)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var r=this.attributes,i=r.width,l=r.height;return{width:i,height:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var r=this,i=this.attributes,l=i.type,u=i.isStack,h=i.smooth;if(l!=="line")throw new Error("linesStyle can only be used in line type");var p=vr(this.attributes,"area"),g=vr(this.attributes,"line"),m=this.containerShape.width,x=this.data;if(x[0].length===0)return{lines:[],areas:[]};var w=this.scales,M=w.x,O=w.y,A=H3(x,{type:"line",x:M,y:O}),E=[];if(p){var P=this.baseline;u?E=h?U3(A,m,P):Y3(A,m,P):E=$T(A,h,m,P)}return{lines:A.map(function(I,F){return(0,B.pi)({stroke:r.getColor(F),path:h?kg(I):fp(I)},g)}),areas:E.map(function(I,F){return(0,B.pi)({path:I,fill:r.getColor(F)},p)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var r=this,i=vr(this.attributes,"column"),l=this.attributes,u=l.isStack,h=l.type;if(h!=="column")throw new Error("columnsStyle can only be used in column type");var p=this.containerShape.height,g=this.rawData;if(!g)return{columns:[]};u&&(g=tE(g));var m=this.createScales(g),x=m.x,w=m.y,M=(0,B.CR)(QT(g),2),O=M[0],A=M[1],E=new Vs({domain:[0,A-(O>0?0:O)],range:[0,p]}),P=x.getBandWidth(),I=this.rawData;return{columns:g.map(function(F,N){return F.map(function(z,G){var W=P/g.length;return(0,B.pi)((0,B.pi)({fill:r.getColor(N)},i),u?{x:x.map(G),y:w.map(z),width:P,height:E.map(I[N][G])}:{x:x.map(G)+W*N,y:z>=0?w.map(z):w.map(0),width:W,height:E.map(Math.abs(z))})})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(r,i){this.container=Fd(i,".container","rect").attr("className","container").node();var l=r.type,u="spark".concat(l),h=l==="line"?this.linesStyle:this.columnsStyle;this.spark=Fd(i,".".concat(u),function(){return l==="line"?new G3({className:u,style:h}):new j3({className:u,style:h})}).styles(h).node()},e.prototype.getColor=function(r){var i=this.attributes.color;return Re(i)?i[r%i.length]:Gi(i)?i.call(null,r):i},e.prototype.createScales=function(r){var i,l,u=this.attributes,h=u.type,p=u.range,g=p===void 0?[]:p,m=u.isGroup,x=u.spacing,w=this.containerShape,M=w.width,O=w.height,A=(0,B.CR)(QT(r),2),E=A[0],P=A[1],I=new Vs({domain:[(i=g[0])!==null&&i!==void 0?i:E,(l=g[1])!==null&&l!==void 0?l:P],range:[O,0]});return h==="line"?{type:h,x:new Vs({domain:[0,r[0].length-1],range:[0,M]}),y:I}:{type:h,x:new CT({domain:r[0].map(function(F,N){return N}),range:[0,M],paddingInner:m?x:0}),y:I}},e.tag="sparkline",e}(Wi),Pg=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,(0,B.pi)((0,B.pi)((0,B.pi)({animate:{duration:100,fill:"both"},brushable:!0,formatter:function(l){return l.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionCursor:"move",selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1]},Ns(GT,"handle")),Ns(Yb,"handleIcon")),Ns(Cg,"handleLabel")))||this;return i.range=[0,1],i.onDragStart=function(l){return function(u){u.stopPropagation(),i.target=l,i.prevPos=i.getOrientVal(op(u));var h=i.availableSpace,p=h.x,g=h.y,m=i.attributes,x=m.x,w=m.y;i.selectionStartPos=i.getRatio(i.prevPos-i.getOrientVal([p,g])-i.getOrientVal([+x,+w])),i.selectionWidth=0,document.addEventListener("mousemove",i.onDragging),document.addEventListener("touchmove",i.onDragging),document.addEventListener("mouseup",i.onDragEnd),document.addEventListener("touchend",i.onDragEnd)}},i.onDragging=function(l){var u=i.attributes,h=u.slidable,p=u.brushable;l.stopPropagation();var g=i.getOrientVal(op(l)),m=g-i.prevPos;if(m){var x=i.getRatio(m);switch(i.target){case"start":h&&i.setValuesOffset(x);break;case"end":h&&i.setValuesOffset(0,x);break;case"selection":h&&i.setValuesOffset(x,x);break;case"track":if(!p)return;i.selectionWidth+=x,i.innerSetValues([i.selectionStartPos,i.selectionStartPos+i.selectionWidth].sort(),!0);break;default:break}i.prevPos=g}},i.onDragEnd=function(){document.removeEventListener("mousemove",i.onDragging),document.removeEventListener("mousemove",i.onDragging),document.removeEventListener("mouseup",i.onDragEnd),document.removeEventListener("touchend",i.onDragEnd)},i.onValueChange=function(l){var u=new qr("valuechange",{detail:{oldValue:l,value:i.getValues()}});i.dispatchEvent(u)},i.selectionStartPos=0,i.selectionWidth=0,i.prevPos=0,i.target="",i}return Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(r){this.attributes.values=this.clampValues(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var r=this.attributes.orientation;if(r!=="horizontal")return null;var i=vr(this.attributes,"sparkline");return(0,B.pi)((0,B.pi)({zIndex:0},this.availableSpace),i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var r=this.attributes,i=r.trackLength,l=r.trackSize,u=(0,B.CR)(this.getOrientVal([[i,l],[l,i]]),2),h=u[0],p=u[1];return{width:h,height:p}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes.padding,i=(0,B.CR)(Ea(r),4),l=i[0],u=i[1],h=i[2],p=i[3],g=this.shape,m=g.width,x=g.height;return{x:p,y:l,width:m-(p+u),height:x-(l+h)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(r,i){r===void 0&&(r=[0,0]),i===void 0&&(i=!1),this.attributes.values=r;var l=i===!1?!1:this.attributes.animate;cs(this.selectionShape.node(),this.selectionStyle,l),this.updateHandlesPosition(l)},e.prototype.updateHandlesPosition=function(r){this.attributes.showHandle&&(cs(this.startHandle,this.getHandleStyle("start"),r),cs(this.endHandle,this.getHandleStyle("end"),r))},e.prototype.innerSetValues=function(r,i){r===void 0&&(r=[0,0]),i===void 0&&(i=!1);var l=this.values,u=this.clampValues(r);this.attr("values",u),this.setValues(u),i&&this.onValueChange(l)},e.prototype.renderTrack=function(r){var i=this.attributes.brushable,l=vr(this.attributes,"track");this.trackShape=Qn(r).maybeAppendByClassName(Ou.track,"rect").styles((0,B.pi)((0,B.pi)({cursor:i?"crosshair":"default"},this.shape),l))},e.prototype.renderSparkline=function(r){var i=this,l=this.attributes.orientation,u=Qn(r).maybeAppendByClassName(Ou.sparklineGroup,"g");so(l==="horizontal",u,function(h){var p=i.sparklineStyle;h.maybeAppendByClassName(Ou.sparkline,function(){return new R9({style:p})}).update(p)})},Object.defineProperty(e.prototype,"selectionStyle",{get:function(){var r=vr(this.attributes,"selection");return(0,B.pi)((0,B.pi)({},r),this.calcMask())},enumerable:!1,configurable:!0}),e.prototype.renderHandles=function(){var r=this,i,l=this.attributes.showHandle,u=(l?["start","end"]:[]).map(function(p){return{type:p}}),h=this;(i=this.foregroundGroup)===null||i===void 0||i.selectAll(Ou.handle.class).data(u,function(p){return p.type}).join(function(p){return p.append(function(g){var m=g.type;return new WT({style:r.getHandleStyle(m)})}).each(function(g){var m=g.type;this.attr("class","".concat(Ou.handle.name," ").concat(m,"-handle"));var x="".concat(m,"Handle");h[x]=this,this.addEventListener("pointerdown",function(w){h.onDragStart(m)(w)})})},function(p){return p.each(function(g){var m=g.type;this.update(h.getHandleStyle(m))})},function(p){return p.each(function(g){var m=g.type,x="".concat(m,"Handle");h[x]=void 0}).remove()})},e.prototype.renderSelection=function(r){this.foregroundGroup=Qn(r).maybeAppendByClassName(Ou.foreground,"g"),this.selectionShape=this.foregroundGroup.maybeAppendByClassName(Ou.selection,"rect").styles(this.selectionStyle),this.renderHandles()},e.prototype.render=function(r,i){this.renderTrack(i),this.renderSparkline(i),this.renderSelection(i)},e.prototype.clampValues=function(r,i){var l;i===void 0&&(i=4);var u=(0,B.CR)(this.range,2),h=u[0],p=u[1],g=(0,B.CR)(this.getValues().map(function(E){return Og(E,i)}),2),m=g[0],x=g[1],w=(0,B.CR)((r||[m,x]).map(function(E){return Og(E,i)}),2),M=w[0],O=w[1];M>O&&(l=(0,B.CR)([O,M],2),M=l[0],O=l[1]);var A=O-M;return A>p-h?[h,p]:M<h?m===h&&x===O?[h,O]:[h,A+h]:O>p?x===p&&m===M?[M,p]:[p-A,p]:[M,O]},e.prototype.calcMask=function(r){var i=(0,B.CR)(this.clampValues(r),2),l=i[0],u=i[1],h=this.availableSpace,p=h.x,g=h.y,m=h.width,x=h.height;return this.getOrientVal([{y:g,height:x,x:l*m+p,width:(u-l)*m},{x:p,width:m,y:l*x+g,height:(u-l)*x}])},e.prototype.calcHandlePosition=function(r){var i=this.availableSpace,l=i.x,u=i.y,h=i.width,p=i.height,g=(0,B.CR)(this.clampValues(),2),m=g[0],x=g[1],w=(r==="start"?m:x)*this.getOrientVal([h,p]);return{x:l+this.getOrientVal([w,h/2]),y:u+this.getOrientVal([p/2,w])}},e.prototype.inferTextStyle=function(r){var i=this.attributes.orientation;return i==="horizontal"?{}:r==="start"?{transform:"rotate(90)",textAlign:"start"}:r==="end"?{transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(r){var i,l=this.attributes,u=l.orientation,h=l.formatter,p=l.autoFitLabel,g=vr(this.attributes,"handle"),m=vr(g,"label"),x=g.spacing,w=this.getHandleSize(),M=this.clampValues(),O=r==="start"?M[0]:M[1],A=h(O),E=new bO({style:(0,B.pi)((0,B.pi)((0,B.pi)({},m),this.inferTextStyle(r)),{text:A})}),P=E.getBBox(),I=P.width,F=P.height;if(E.destroy(),!p){var N=x+w+(u==="horizontal"?I/2:0);return i={text:A},i[u==="horizontal"?"x":"y"]=r==="start"?-N:N,i}var z=0,G=0,W=this.availableSpace,Y=W.width,U=W.height,X=this.calcMask(),$=X.x,Q=X.y,ft=X.width,ot=X.height,J=x+w;if(u==="horizontal"){var st=J+I/2;if(r==="start"){var gt=$-J-I;z=gt>0?-st:st}else{var Mt=Y-$-ft-J>I;z=Mt?st:-st}}else{var At=J,St=F+J;r==="start"?G=Q-w>F?-St:At:G=U-(Q+ot)-w>F?St:-At}return{x:z,y:G,text:A}},e.prototype.getHandleLabelStyle=function(r){var i=this.attributes.showLabel;if(!i)return{};var l=vr(this.attributes,"handleLabel");return(0,B.pi)((0,B.pi)((0,B.pi)({},l),this.calcHandleText(r)),this.inferTextStyle(r))},e.prototype.getHandleIconStyle=function(){var r=this.attributes.handleIconShape,i=vr(this.attributes,"handleIcon"),l=this.getOrientVal(["ew-resize","ns-resize"]),u=this.getHandleSize();return(0,B.pi)({cursor:l,shape:r,size:u},i)},e.prototype.getHandleStyle=function(r){var i=this.attributes,l=i.showLabel,u=i.orientation,h=this.calcHandlePosition(r),p=this.calcHandleText(r);return(0,B.pi)((0,B.pi)((0,B.pi)((0,B.pi)({},Ns(this.getHandleIconStyle(),"icon")),Ns((0,B.pi)((0,B.pi)({},this.getHandleLabelStyle(r)),p),"label")),h),{orientation:u,showLabel:l,type:r,zIndex:3})},e.prototype.getHandleSize=function(){var r=this.attributes,i=r.handleIconSize,l=r.width,u=r.height;return i||Math.floor((this.getOrientVal([+u,+l])+4)/2.4)},e.prototype.getOrientVal=function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1],h=this.attributes.orientation;return h==="horizontal"?l:u},e.prototype.setValuesOffset=function(r,i,l){i===void 0&&(i=0),l===void 0&&(l=!1);var u=(0,B.CR)(this.getValues(),2),h=u[0],p=u[1],g=[h+r,p+i].sort();l?this.setValues(g):this.innerSetValues(g,!0)},e.prototype.getRatio=function(r){var i=this.availableSpace,l=i.width,u=i.height;return r/this.getOrientVal([l,u])},e.prototype.dispatchCustomEvent=function(r,i,l){var u=this;r.on(i,function(h){h.stopPropagation(),u.dispatchEvent(new qr(l,{detail:h}))})},e.prototype.bindEvents=function(){var r=this.selectionShape;this.addEventListener("wheel",this.onScroll),r.on("mousedown",this.onDragStart("selection")),r.on("touchstart",this.onDragStart("selection")),this.dispatchCustomEvent(r,"mouseenter","selectionMouseenter"),this.dispatchCustomEvent(r,"mouseleave","selectionMouseleave"),this.dispatchCustomEvent(r,"click","selectionClick");var i=this.trackShape;this.dispatchCustomEvent(i,"click","trackClick"),this.dispatchCustomEvent(i,"mouseenter","trackMouseenter"),this.dispatchCustomEvent(i,"mouseleave","trackMouseleave"),i.on("mousedown",this.onDragStart("track")),i.on("touchstart",this.onDragStart("track"))},e.prototype.onScroll=function(r){var i=this.attributes.scrollable;if(i){var l=r.deltaX,u=r.deltaY,h=u||l,p=this.getRatio(h);this.setValuesOffset(p,p,!0)}},e.tag="slider",e}(Wi);function Ci(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q3(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hp(t){let e,r,i;t.length!==2?(e=Ci,r=(p,g)=>Ci(t(p),g),i=(p,g)=>t(p)-g):(e=t===Ci||t===q3?t:$3,r=t,i=t);function l(p,g,m=0,x=p.length){if(m<x){if(e(g,g)!==0)return x;do{const w=m+x>>>1;r(p[w],g)<0?m=w+1:x=w}while(m<x)}return m}function u(p,g,m=0,x=p.length){if(m<x){if(e(g,g)!==0)return x;do{const w=m+x>>>1;r(p[w],g)<=0?m=w+1:x=w}while(m<x)}return m}function h(p,g,m=0,x=p.length){const w=l(p,g,m,x-1);return w>m&&i(p[w-1],g)>-i(p[w],g)?w-1:w}return{left:l,center:h,right:u}}function $3(){return 0}function dp(t){return t===null?NaN:+t}function*pp(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&(yield i)}}const vp=hp(Ci),K3=vp.right,J3=vp.left,eE=hp(dp).center;var Q3=K3;function tB(t,e){return Array.from(e,r=>t[r])}function yl(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[r]=e;if(r&&r.length!==2||e.length>1){const i=Uint32Array.from(t,(l,u)=>u);return e.length>1?(e=e.map(l=>t.map(l)),i.sort((l,u)=>{for(const h of e){const p=gp(h[l],h[u]);if(p)return p}})):(r=t.map(r),i.sort((l,u)=>gp(r[l],r[u]))),tB(t,i)}return t.sort(nE(r))}function nE(t=Ci){if(t===Ci)return gp;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const i=t(e,r);return i||i===0?i:(t(r,r)===0)-(t(e,e)===0)}}function gp(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function eB(t,e,r){return Math.min(r,Math.max(e,t))}function yp(t){return!!t.getBandWidth}function Cu(t,e,r){if(!yp(t))return t.invert(e);const{adjustedRange:i}=t,{domain:l}=t.getOptions(),u=r?-1:0,h=t.getStep(),p=r?i:i.map(x=>x+h),g=J3(p,e),m=eB(g+u,0,l.length-1);return l[m]}function bc(t,e,r){if(!e)return t.getOptions().domain;if(!yp(t)){const g=yl(e);if(!r)return g;const[m]=g,{range:x}=t.getOptions(),[w,M]=x,O=w>M?-1:1,A=t.invert(t.map(m)+O*r);return[m,A]}const{domain:i}=t.getOptions(),l=e[0],u=i.indexOf(l);if(r){const g=u+Math.round(i.length*r);return i.slice(u,g)}const h=e[e.length-1],p=i.indexOf(h);return i.slice(u,p+1)}function Kb(t,e,r,i,l,u){const{x:h,y:p}=l,g=(O,A)=>{const[E,P]=u.invert(O);return[Cu(h,E,A),Cu(p,P,A)]},m=g([t,e],!0),x=g([r,i],!1),w=bc(h,[m[0],x[0]]),M=bc(p,[m[1],x[1]]);return[w,M]}function Lg(t,e){const[r,i]=t,l=u=>u.getStep?u.getStep():0;return[e.map(r),e.map(i)+l(e)]}function Hs(t,e,r){const{x:i,y:l}=e,[u,h]=t,p=Lg(u,i),g=Lg(h,l),m=[p[0],g[0]],x=[p[1],g[1]],[w,M]=r.map(m),[O,A]=r.map(x);return[w,M,O,A]}var nB=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function rB(t,e,r){const{x:i,y:l,width:u,height:h}=t;if(e==="left")return[i+u-r,l];if(e==="right")return[i,l];if(e==="bottom")return[i,l];if(e==="top")return[i,l+h-r]}const th=t=>{const{orientation:e,labelFormatter:r,size:i,style:l={},position:u}=t,h=nB(t,["orientation","labelFormatter","size","style","position"]);return({scales:[p],value:g,theme:m,coordinate:x})=>{var w;const{bbox:M}=g,{width:O,height:A}=M,{slider:E={}}=m,P=((w=p.getFormatter)===null||w===void 0?void 0:w.call(p))||(Y=>Y.toString()),I=typeof r=="string"?ko(r):r,F=e==="horizontal",N=gi(x)&&F,{trackSize:z=E.trackSize}=l,[G,W]=rB(M,u,z);return new Pg({className:"slider",style:Object.assign({},E,Object.assign(Object.assign({x:G,y:W,trackLength:F?O:A,orientation:e,formatter:Y=>{const U=I||P,X=N?1-Y:Y,$=Cu(p,X,!0);return U($)}},l),h))})}};th.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const rE=t=>th(Object.assign(Object.assign({},t),{orientation:"horizontal"}));rE.props=Object.assign(Object.assign({},th.props),{defaultPosition:"bottom"});const iE=t=>th(Object.assign(Object.assign({},t),{orientation:"vertical"}));iE.props=Object.assign(Object.assign({},th.props),{defaultPosition:"left"});var iB=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r,{isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return i.range=[0,1],i.onValueChange=function(l){var u=i.attributes.value;if(l!==u){var h={detail:{oldValue:l,value:u}};i.dispatchEvent(new qr("scroll",h)),i.dispatchEvent(new qr("valuechange",h))}},i.onTrackClick=function(l){var u=i.attributes.slidable;if(u){var h=(0,B.CR)(i.getLocalPosition(),2),p=h[0],g=h[1],m=(0,B.CR)(i.padding,4),x=m[0],w=m[3],M=i.getOrientVal([p+w,g+x]),O=i.getOrientVal(op(l)),A=(O-M)/i.trackLength;i.setValue(A,!0)}},i.onThumbMouseenter=function(l){i.dispatchEvent(new qr("thumbMouseenter",{detail:l.detail}))},i.onTrackMouseenter=function(l){i.dispatchEvent(new qr("trackMouseenter",{detail:l.detail}))},i.onThumbMouseleave=function(l){i.dispatchEvent(new qr("thumbMouseleave",{detail:l.detail}))},i.onTrackMouseleave=function(l){i.dispatchEvent(new qr("trackMouseleave",{detail:l.detail}))},i}return Object.defineProperty(e.prototype,"padding",{get:function(){var r=this.attributes.padding;return Ea(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var r=this.attributes.value,i=(0,B.CR)(this.range,2),l=i[0],u=i[1];return dc(r,l,u)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var r=this.attributes,i=r.viewportLength,l=r.trackLength,u=l===void 0?i:l;return u},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=this.attributes.trackSize,i=this.trackLength,l=(0,B.CR)(this.padding,4),u=l[0],h=l[1],p=l[2],g=l[3],m=(0,B.CR)(this.getOrientVal([[i,r],[r,i]]),2),x=m[0],w=m[1];return{x:g,y:u,width:+x-(g+h),height:+w-(u+p)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var r=this.attributes,i=r.isRound,l=r.trackSize;return i?l/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var r=this.attributes,i=r.isRound,l=r.thumbRadius;if(!i)return 0;var u=this.availableSpace,h=u.width,p=u.height;return l||this.getOrientVal([p,h])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(r){r===void 0&&(r=this.value);var i=this.attributes,l=i.viewportLength,u=i.contentLength,h=l/u,p=(0,B.CR)(this.range,2),g=p[0],m=p[1],x=r*(m-g-h);return[x,x+h]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(r){var i=this.attributes,l=i.orientation,u=i.trackSize,h=i.padding,p=i.slidable,g=vr(this.attributes,"track"),m=vr(this.attributes,"thumb"),x=(0,B.pi)((0,B.pi)({brushable:!1,orientation:l,padding:h,selectionRadius:this.thumbRadius,showHandle:!1,slidable:p,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:u,values:this.getValues()},Ns(g,"track")),Ns(m,"selection"));this.slider=Qn(r).maybeAppendByClassName("scrollbar",function(){return new Pg({style:x})}).update(x).node()},e.prototype.render=function(r,i){this.renderSlider(i)},e.prototype.setValue=function(r,i){i===void 0&&(i=!1);var l=this.attributes.value,u=(0,B.CR)(this.range,2),h=u[0],p=u[1];this.slider.setValues(this.getValues(dc(r,h,p)),i),this.onValueChange(l)},e.prototype.bindEvents=function(){var r=this;this.slider.addEventListener("trackClick",function(i){i.stopPropagation(),r.onTrackClick(i.detail)}),this.onHover()},e.prototype.getOrientVal=function(r){var i=this.attributes.orientation;return i==="horizontal"?r[0]:r[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e}(Wi),aB=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const mp=t=>{const{orientation:e,labelFormatter:r,style:i}=t,l=aB(t,["orientation","labelFormatter","style"]);return({scales:[u],value:h,theme:p})=>{const{bbox:g}=h,{x:m,y:x,width:w,height:M}=g,{scrollbar:O={}}=p,{ratio:A,range:E}=u.getOptions(),P=e==="horizontal"?w:M,I=P/A,[F,N]=E,z=N>F?0:1;return new iB({className:"g2-scrollbar",style:Object.assign({},O,Object.assign(Object.assign(Object.assign(Object.assign({},i),{x:m,y:x,trackLength:P,value:z}),l),{orientation:e,contentLength:I,viewportLength:P}))})}};mp.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const aE=t=>mp(Object.assign(Object.assign({},t),{orientation:"horizontal"}));aE.props=Object.assign(Object.assign({},mp.props),{defaultPosition:"bottom"});const oE=t=>mp(Object.assign(Object.assign({},t),{orientation:"vertical"}));oE.props=Object.assign(Object.assign({},mp.props),{defaultPosition:"left"});const Jb=(t,e)=>{const{coordinate:i}=e;return(l,u,h)=>{const[p]=l,{height:g}=p.getBoundingClientRect(),{transform:m="",fillOpacity:x=1,strokeOpacity:w=1,opacity:M=1}=p.style,[O,A]=gi(i)?[[0,g],`scale(1, ${1e-4})`]:[[0,0],`scale(${1e-4}, 1)`],E=[{transform:`${m} ${A}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${m} ${A}`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M,offset:.01},{transform:`${m} scale(1, 1)`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M}];p.setOrigin(O);const P=p.animate(E,Object.assign(Object.assign({},h),t));return P.finished.then(()=>p.setOrigin(0,0)),P}},oB=(t,e)=>{const{coordinate:i}=e;return(l,u,h)=>{const[p]=l,{height:g}=p.getBoundingClientRect(),{transform:m="",fillOpacity:x=1,strokeOpacity:w=1,opacity:M=1}=p.style,[O,A]=gi(i)?[[0,g],`scale(1, ${1e-4})`]:[[0,0],`scale(${1e-4}, 1)`],E=[{transform:`${m} scale(1, 1)`.trimStart()},{transform:`${m} ${A}`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M,offset:.99},{transform:`${m} ${A}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];p.setOrigin(O);const P=p.animate(E,Object.assign(Object.assign({},h),t));return P.finished.then(()=>p.setOrigin(0,0)),P}},sE=(t,e)=>{const{coordinate:i}=e;return(l,u,h)=>{const[p]=l,{height:g}=p.getBoundingClientRect(),{transform:m="",fillOpacity:x=1,strokeOpacity:w=1,opacity:M=1}=p.style,[O,A]=gi(i)?[[0,0],`scale(${1e-4}, 1)`]:[[0,g],`scale(1, ${1e-4})`],E=[{transform:`${m} ${A}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${m} ${A}`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M,offset:.01},{transform:`${m} scale(1, 1)`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M}];p.setOrigin(O);const P=p.animate(E,Object.assign(Object.assign({},h),t));return P.finished.then(()=>p.setOrigin(0,0)),P}},sB=(t,e)=>{const{coordinate:i}=e;return(l,u,h)=>{const[p]=l,{height:g}=p.getBoundingClientRect(),{transform:m="",fillOpacity:x=1,strokeOpacity:w=1,opacity:M=1}=p.style,[O,A]=gi(i)?[[0,0],`scale(${1e-4}, 1)`]:[[0,g],`scale(1, ${1e-4})`],E=[{transform:`${m} scale(1, 1)`.trimStart()},{transform:`${m} ${A}`.trimStart(),fillOpacity:x,strokeOpacity:w,opacity:M,offset:.99},{transform:`${m} ${A}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];p.setOrigin(O);const P=p.animate(E,Object.assign(Object.assign({},h),t));return P.finished.then(()=>p.setOrigin(0,0)),P}},lE=(t,e)=>{XP.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Sn.NUMBER});const{coordinate:i}=e;return(l,u,h)=>{const[p]=l;if(!ai(i))return Jb(t,e)(l,u,h);const g=i.getCenter(),{__data__:m,style:x}=p,{radius:w=0,inset:M=0,fillOpacity:O=1,strokeOpacity:A=1,opacity:E=1}=x,{points:P,y:I,y1:F}=m,N=km().cornerRadius(w).padAngle(M*Math.PI/180),z=Sf(i,P,[I,F]),{startAngle:G,endAngle:W}=z,Y=new Va({}),U=Q=>{Y.attr({d:N(Q),transform:`translate(${g[0]}, ${g[1]})`});const ft=Rw(Y);return Y.style.transform="",ft},X=[{waveInArcAngle:G+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:G+1e-4,fillOpacity:O,strokeOpacity:A,opacity:E,offset:.01},{waveInArcAngle:W,fillOpacity:O,strokeOpacity:A,opacity:E}],$=p.animate(X,Object.assign(Object.assign({},h),t));return $.onframe=function(){p.style.path=U(Object.assign(Object.assign({},z),{endAngle:Number(p.style.waveInArcAngle)}))},$.onfinish=function(){p.style.path=U(Object.assign(Object.assign({},z),{endAngle:W}))},$}};lE.props={};const cE=t=>(e,r,i)=>{const[l]=e,{fillOpacity:u=1,strokeOpacity:h=1,opacity:p=1}=l.style,g=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:u,strokeOpacity:h,opacity:p}];return l.animate(g,Object.assign(Object.assign({},i),t))};cE.props={};const uE=t=>(e,r,i)=>{const[l]=e,{fillOpacity:u=1,strokeOpacity:h=1,opacity:p=1}=l.style,g=[{fillOpacity:u,strokeOpacity:h,opacity:p},{fillOpacity:0,strokeOpacity:0,opacity:0}];return l.animate(g,Object.assign(Object.assign({},i),t))};uE.props={};const F9=t=>(r,i,l)=>{const[u]=r,{transform:h="",fillOpacity:p=1,strokeOpacity:g=1,opacity:m=1}=u.style,x=[{transform:`${h} scale(${1e-4})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${h} scale(${1e-4})`.trimStart(),fillOpacity:p,strokeOpacity:g,opacity:m,offset:.01},{transform:`${h} scale(1)`.trimStart(),fillOpacity:p,strokeOpacity:g,opacity:m}],{width:w,height:M}=u.getBoundingClientRect();u.setOrigin([w/2,M/2]);const O=u.animate(x,Object.assign(Object.assign({},l),t));return O.finished.then(()=>u.setOrigin(0,0)),O},D9=t=>(r,i,l)=>{const[u]=r,{transform:h="",fillOpacity:p=1,strokeOpacity:g=1,opacity:m=1}=u.style,x=[{transform:`${h} scale(1)`.trimStart()},{transform:`${h} scale(${1e-4})`.trimStart(),fillOpacity:p,strokeOpacity:g,opacity:m,offset:.99},{transform:`${h} scale(${1e-4})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}],{width:w,height:M}=u.getBoundingClientRect();u.setOrigin([w/2,M/2]);const O=u.animate(x,Object.assign(Object.assign({},l),t));return O.finished.then(()=>u.setOrigin(0,0)),O},lB=t=>(e,r,i)=>{var l,u;const[h]=e,p=((u=(l=h).getTotalLength)===null||u===void 0?void 0:u.call(l))||0,g=[{lineDash:[0,p]},{lineDash:[p,0]}];return h.animate(g,Object.assign(Object.assign({},i),t))};lB.props={};function xp(t,e){const r={};for(const i of e){const l=t.style[i];l&&(r[i]=l)}return r}const o=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function a(t){const{min:e,max:r}=t.getLocalBounds(),[i,l]=e,[u,h]=r,p=h-l,g=u-i;return[i,l,g,p]}function n(t){const[e,r,i,l]=t;return`
    M ${e} ${r}
    L ${e+i} ${r}
    L ${e+i} ${r+l}
    L ${e} ${r+l}
    Z
  `}function s(t,e){const[r,i,l,u]=a(t),h=u/l,p=Math.ceil(Math.sqrt(e/h)),g=Math.ceil(e/p),m=[],x=u/g;let w=0,M=e;for(;M>0;){const O=Math.min(M,p),A=l/O;for(let E=0;E<O;E++){const P=r+E*A,I=i+w*x;m.push(n([P,I,A,x]))}M-=O,w+=1}return m}function c(t="pack"){return typeof t=="function"?t:s}function f(t,e,r){const[i,l,u,h]=a(t),{transform:p}=t.style,{transform:g}=e.style;d(e,t);const[m,x,w,M]=a(e),O=i-m,A=l-x,E=u/w,P=h/M,I=[Object.assign({transform:`${p?p+" ":""}translate(${O}, ${A}) scale(${E}, ${P})`},xp(t,o)),Object.assign({transform:`${g?g+" ":""}translate(0, 0) scale(1, 1)`},xp(e,o))];return e.animate(I,r)}function d(t,e){t.__data__=e.__data__,t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function v(t,e){const{nodeName:r}=t;if(r==="path")return t;const i=new Va({style:Object.assign(Object.assign({},xp(t,o)),{d:e})});return d(i,t),i}function y(t,e){const r=t.indexOf(e),i=t.lastIndexOf(e);return r===i}function b(t){return!y(t,"m")||!y(t,"M")}function S(t){const e=Rw(t);if(e&&!b(e))return e}function C(t,e,r,i){const{nodeName:l}=e,{nodeName:u}=r,h=S(e),p=S(r);if(l===u&&l!=="path"||(h===void 0||p===void 0))return f(e,r,i);const x=v(t,h),w=[Object.assign({path:h},xp(e,o)),Object.assign({path:p},xp(r,o))],M=x.animate(w,i);return M.onfinish=()=>{x.style.transform="none",jm(x,r)},x.style.transform="none",M}function T(t,e,r,i){t.style.visibility="hidden";const l=i(t,e.length);return e.map((u,h)=>{const p=new Va({style:Object.assign({path:l[h]},xp(t,o))});return C(u,p,u,r)})}function k(t,e,r,i){const l=i(e,t.length),{fillOpacity:u=1,strokeOpacity:h=1,opacity:p=1}=e.style,g=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:u,strokeOpacity:h,opacity:p}],m=e.animate(g,r);return[...t.map((w,M)=>{const O=new Va({style:{path:l[M],fill:e.style.fill}});return C(w,w,O,r)}),m]}const R=t=>(e,r,i)=>{const l=c(t.split),u=Object.assign(Object.assign({},i),t),{length:h}=e,{length:p}=r;if(h===1&&p===1||h>1&&p>1){const[g]=e,[m]=r;return C(g,g,m,u)}if(h===1&&p>1){const[g]=e;return T(g,r,u,l)}if(h>1&&p===1){const[g]=r;return k(e,g,u,l)}return null};R.props={};const D=(t,e)=>(r,i,l)=>{const[u]=r,{height:h,width:p}=u.getBoundingClientRect(),g=new Va({style:{path:`M0,0L${p},0L${p},${h}L0,${h}Z`}});u.appendChild(g),u.style.clipPath=g;const m=Jb(t,e)([g],i,l);return m.finished.then(()=>{g.remove(),u.style.clipPath=null}),m};D.props={};const V=(t,e)=>(r,i,l)=>{const[u]=r,{height:h,width:p}=u.getBoundingClientRect(),g=new Va({style:{path:`M0,0L${p},0L${p},${h}L0,${h}Z`}});u.appendChild(g),u.style.clipPath=g;const m=sE(t,e)([g],i,l);return m.finished.then(()=>{g.remove(),u.style.clipPath=null}),m};V.props={};const j="main-layer",H="label-layer",Z="element",q="view",K="plot",Ct="component",Ft="label",Jt="area",_e={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function ge(t,e){var r;return(r=t.style[e])!==null&&r!==void 0?r:_e[e]}function Be(t,e,r,i){t.style[e]=r,i&&t.children.forEach(l=>Be(l,e,r,i))}function tn(t){Be(t,"visibility","hidden",!0)}function vn(t){Be(t,"visibility","visible",!0)}var Mn=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Pn(t){return Jn(t).selectAll(`.${Z}`).nodes().filter(e=>!e.__removed__)}function Ze(t,e){return ln(t,e).flatMap(({container:r})=>Pn(r))}function ln(t,e){return e.filter(r=>r!==t&&r.options.parentKey===t.options.key)}function dn(t){return Jn(t).select(`.${K}`).node()}function fn(t,e){const{offsetX:r,offsetY:i}=e,l=t.getRenderBounds(),{min:[u,h],max:[p,g]}=l,m=r<u||r>p,x=i<h||i>g;return m||x?null:[r-u,i-h]}function bn(t,e){const{offsetX:r,offsetY:i}=e,[l,u,h,p]=Bn(t);return[Math.min(h,Math.max(l,r))-l,Math.min(p,Math.max(u,i))-u]}function Bn(t){const e=t.getRenderBounds(),{min:[r,i],max:[l,u]}=e;return[r,i,l,u]}function tr(t){return e=>e.__data__.color}function sr(t){const{x:e}=t.scale;return r=>{const{x:i}=r.__data__;return e.invert(i)}}function Xn(t){const e=Array.isArray(t)?t:[t],r=new Map(e.flatMap(i=>Array.from(i.markState.keys()).map(u=>[hi(i.key,u.key),u.data])));return i=>{const{index:l,markKey:u,viewKey:h}=i.__data__;return r.get(hi(h,u))[l]}}function er(t,e=(i,l)=>i,r=(i,l,u)=>i.setAttribute(l,u)){const i="__states__",l="__ordinal__",u=x=>{const{[i]:w=[],[l]:M={}}=x,O=w.reduce((A,E)=>Object.assign(Object.assign({},A),t[E]),M);if(Object.keys(O).length!==0){for(const[A,E]of Object.entries(O)){const P=ge(x,A),I=e(E,x);r(x,A,I),A in M||(M[A]=P)}x[l]=M}},h=x=>{x[i]||(x[i]=[])};return{setState:(x,...w)=>{h(x),x[i]=[...w],u(x)},removeState:(x,...w)=>{h(x);for(const M of w){const O=x[i].indexOf(M);O!==-1&&x[i].splice(O,1)}u(x)},hasState:(x,w)=>(h(x),x[i].indexOf(w)!==-1)}}function Ir(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function hi(t,e){return`${t},${e}`}function si(t,e){const i=(Array.isArray(t)?t:[t]).flatMap(u=>u.marks.map(h=>[hi(u.key,h.key),h.state])),l={};for(const u of e){const[h,p]=Array.isArray(u)?u:[u,{}];l[h]=i.reduce((g,m)=>{const[x,w={}]=m,M=Ir(w[h])?p:w[h];for(const[O,A]of Object.entries(M)){const E=g[O],P=(I,F,N,z)=>{const G=hi(z.__data__.viewKey,z.__data__.markKey);return x!==G?E==null?void 0:E(I,F,N,z):typeof A!="function"?A:A(I,F,N,z)};g[O]=P}return g},{})}return l}function po(t,e){const r=new Map(t.map((l,u)=>[l,u])),i=e?t.map(e):t;return(l,u)=>{if(typeof l!="function")return l;const h=r.get(u),p=e?e(u):u;return l(p,h,i,u)}}function wc(t){var{link:e=!1,valueof:r=(x,w)=>x,coordinate:i}=t,l=Mn(t,["link","valueof","coordinate"]);const u="element-link";if(!e)return[()=>{},()=>{}];const h=x=>x.__data__.points,p=(x,w)=>{const[,M,O]=x,[A,,,E]=w;return[M,A,E,O]};return[x=>{var w;if(x.length<=1)return;const M=yl(x,(O,A)=>{const{x:E}=O.__data__,{x:P}=A.__data__;return E-P});for(let O=1;O<M.length;O++){const A=So(),E=M[O-1],P=M[O],[I,F,N,z]=p(h(E),h(P));A.moveTo(...I),A.lineTo(...F),A.lineTo(...N),A.lineTo(...z),A.closePath();const G=Jl(l,X=>r(X,E)),{fill:W=E.getAttribute("fill")}=G,Y=Mn(G,["fill"]),U=new Va({className:u,style:Object.assign({d:A.toString(),fill:W,zIndex:-2},Y)});(w=E.link)===null||w===void 0||w.remove(),E.parentNode.appendChild(U),E.link=U}},x=>{var w;(w=x.link)===null||w===void 0||w.remove(),x.link=null}]}function Ys(t,e,r){const i=l=>{const{transform:u}=t.style;return u?`${u} ${l}`:l};if(ai(r)){const{points:l}=t.__data__,[u,h]=gi(r)?Sd(l):l,p=r.getCenter(),g=ui(u,p),m=ui(h,p),x=Si(g),w=Vm(g,m),M=x+w/2,O=e*Math.cos(M),A=e*Math.sin(M);return i(`translate(${O}, ${A})`)}return gi(r)?i(`translate(${e}, 0)`):i(`translate(0, ${-e})`)}function Au(t){var{document:e,background:r,scale:i,coordinate:l,valueof:u}=t,h=Mn(t,["document","background","scale","coordinate","valueof"]);const p="element-background";if(!r)return[()=>{},()=>{}];const g=(I,F,N)=>{const z=I.invert(F),G=F+I.getBandWidth(z)/2,W=I.getStep(z)/2,Y=W*N;return[G-W+Y,G+W-Y]},m=(I,F)=>{const{x:N}=i;if(!yp(N))return[0,1];const{__data__:z}=I,{x:G}=z,[W,Y]=g(N,G,F);return[W,Y]},x=(I,F)=>{const{y:N}=i;if(!yp(N))return[0,1];const{__data__:z}=I,{y:G}=z,[W,Y]=g(N,G,F);return[W,Y]},w=(I,F)=>{const{padding:N}=F,[z,G]=m(I,N),[W,Y]=x(I,N),U=[[z,W],[G,W],[G,Y],[z,Y]].map(ft=>l.map(ft)),{__data__:X}=I,{y:$,y1:Q}=X;return Cd(e,U,{y:$,y1:Q},l,F)},M=(I,F)=>{const{transform:N="scale(1.2, 1.2)",transformOrigin:z="center center",stroke:G=""}=F,W=Mn(F,["transform","transformOrigin","stroke"]),Y=Object.assign({transform:N,transformOrigin:z,stroke:G},W),U=I.cloneNode(!0);for(const[X,$]of Object.entries(Y))U.style[X]=$;return U},O=()=>{const{x:I,y:F}=i;return[I,F].some(yp)};return[I=>{I.background&&I.background.remove();const F=Jl(h,ft=>u(ft,I)),{fill:N="#CCD6EC",fillOpacity:z=.3,zIndex:G=-2,padding:W=.001,strokeWidth:Y=0}=F,U=Mn(F,["fill","fillOpacity","zIndex","padding","strokeWidth"]),X=Object.assign(Object.assign({},U),{fill:N,fillOpacity:z,zIndex:G,padding:W,strokeWidth:Y}),Q=(O()?w:M)(I,X);Q.className=p,I.parentNode.appendChild(Q),I.background=Q},I=>{var F;(F=I.background)===null||F===void 0||F.remove(),I.background=null},I=>I.className===p]}function Po(t,e){const i=t.getRootNode().defaultView.getContextService().getDomElement();i!=null&&i.style&&(i.style.cursor=e)}function fE(t){Po(t,"default")}function Qb(t,e,r){return t.find(i=>Object.entries(e).every(([l,u])=>r(i)[l]===u))}var cB=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function hE(t,{elements:e,datum:r,groupKey:i=w=>w,link:l=!1,background:u=!1,delay:h=60,scale:p,coordinate:g,emitter:m,state:x={}}){var w;const M=e(t),O=new Set(M),A=oi(M,i),E=po(M,r),[P,I]=wc(Object.assign({elements:M,valueof:E,link:l,coordinate:g},kn(x.active,"link"))),[F,N,z]=Au(Object.assign({document:t.ownerDocument,scale:p,coordinate:g,background:u,valueof:E},kn(x.active,"background"))),G=sn(x,{active:Object.assign({},((w=x.active)===null||w===void 0?void 0:w.offset)&&{transform:(...Mt)=>{const At=x.active.offset(...Mt),[,St]=Mt;return Ys(M[St],At,g)}})}),{setState:W,removeState:Y,hasState:U}=er(G,E);let X;const $=Mt=>{const{target:At,nativeEvent:St=!0}=Mt;if(!O.has(At))return;X&&clearTimeout(X);const Ut=i(At),ce=A.get(Ut),be=new Set(ce);for(const Le of M)be.has(Le)?U(Le,"active")||W(Le,"active"):(W(Le,"inactive"),I(Le)),Le!==At&&N(Le);F(At),P(ce),St&&m.emit("element:highlight",{nativeEvent:St,data:{data:r(At),group:ce.map(r)}})},Q=()=>{X&&clearTimeout(X),X=setTimeout(()=>{ft(),X=null},h)},ft=(Mt=!0)=>{for(const At of M)Y(At,"active","inactive"),N(At),I(At);Mt&&m.emit("element:unhighlight",{nativeEvent:Mt})},ot=Mt=>{const{target:At}=Mt;u&&!z(At)||!u&&!O.has(At)||(h>0?Q():ft())},J=()=>{ft()};t.addEventListener("pointerover",$),t.addEventListener("pointerout",ot),t.addEventListener("pointerleave",J);const st=Mt=>{const{nativeEvent:At}=Mt;At||ft(!1)},gt=Mt=>{const{nativeEvent:At}=Mt;if(At)return;const{data:St}=Mt.data,Ut=Qb(M,St,r);Ut&&$({target:Ut,nativeEvent:!1})};return m.on("element:highlight",gt),m.on("element:unhighlight",st),()=>{t.removeEventListener("pointerover",$),t.removeEventListener("pointerout",ot),t.removeEventListener("pointerleave",J),m.off("element:highlight",gt),m.off("element:unhighlight",st);for(const Mt of M)N(Mt),I(Mt)}}function bp(t){var{delay:e,createGroup:r,background:i=!1,link:l=!1}=t,u=cB(t,["delay","createGroup","background","link"]);return(h,p,g)=>{const{container:m,view:x,options:w}=h,{scale:M,coordinate:O}=x,A=dn(m);return hE(A,Object.assign({elements:Pn,datum:Xn(x),groupKey:r?r(x):void 0,coordinate:O,scale:M,state:si(w,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:l,delay:e,emitter:g},u))}}function dE(t){return bp(Object.assign(Object.assign({},t),{createGroup:sr}))}function uB(t){return bp(Object.assign(Object.assign({},t),{createGroup:tr}))}var t2=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function fB(t,{elements:e,datum:r,groupKey:i=w=>w,link:l=!1,single:u=!1,coordinate:h,background:p=!1,scale:g,emitter:m,state:x={}}){var w;const M=e(t),O=new Set(M),A=oi(M,i),E=po(M,r),[P,I]=wc(Object.assign({link:l,elements:M,valueof:E,coordinate:h},kn(x.selected,"link"))),[F,N]=Au(Object.assign({document:t.ownerDocument,background:p,coordinate:h,scale:g,valueof:E},kn(x.selected,"background"))),z=sn(x,{selected:Object.assign({},((w=x.selected)===null||w===void 0?void 0:w.offset)&&{transform:(...J)=>{const st=x.selected.offset(...J),[,gt]=J;return Ys(M[gt],st,h)}})}),{setState:G,removeState:W,hasState:Y}=er(z,E),U=(J=!0)=>{for(const st of M)W(st,"selected","unselected"),I(st),N(st);J&&m.emit("element:unselect",{nativeEvent:!0})},X=(J,st,gt=!0)=>{if(Y(st,"selected"))U();else{const Mt=i(st),At=A.get(Mt),St=new Set(At);for(const Ut of M)St.has(Ut)?G(Ut,"selected"):(G(Ut,"unselected"),I(Ut)),Ut!==st&&N(Ut);if(P(At),F(st),!gt)return;m.emit("element:select",Object.assign(Object.assign({},J),{nativeEvent:gt,data:{data:[r(st),...At.map(r)]}}))}},$=(J,st,gt=!0)=>{const Mt=i(st),At=A.get(Mt),St=new Set(At);if(Y(st,"selected")){if(!M.some(ce=>!St.has(ce)&&Y(ce,"selected")))return U();for(const ce of At)G(ce,"unselected"),I(ce),N(ce)}else{const Ut=At.some(ce=>Y(ce,"selected"));for(const ce of M)St.has(ce)?G(ce,"selected"):Y(ce,"selected")||G(ce,"unselected");!Ut&&l&&P(At),F(st)}gt&&m.emit("element:select",Object.assign(Object.assign({},J),{nativeEvent:gt,data:{data:M.filter(Ut=>Y(Ut,"selected")).map(r)}}))},Q=J=>{const{target:st,nativeEvent:gt=!0}=J;return O.has(st)?u?X(J,st,gt):$(J,st,gt):U()};t.addEventListener("click",Q);const ft=J=>{const{nativeEvent:st,data:gt}=J;if(st)return;const Mt=u?gt.data.slice(0,1):gt.data;for(const At of Mt){const St=Qb(M,At,r);Q({target:St,nativeEvent:!1})}},ot=()=>{U(!1)};return m.on("element:select",ft),m.on("element:unselect",ot),()=>{for(const J of M)I(J);t.removeEventListener("click",Q),m.off("element:select",ft),m.off("element:unselect",ot)}}function wp(t){var{createGroup:e,background:r=!1,link:i=!1}=t,l=t2(t,["createGroup","background","link"]);return(u,h,p)=>{const{container:g,view:m,options:x}=u,{coordinate:w,scale:M}=m,O=dn(g);return fB(O,Object.assign({elements:Pn,datum:Xn(m),groupKey:e?e(m):void 0,coordinate:w,scale:M,state:si(x,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:p},l))}}function e2(t){return wp(Object.assign(Object.assign({},t),{createGroup:sr}))}function B9(t){return wp(Object.assign(Object.assign({},t),{createGroup:tr}))}var eh=function(t,e,r){var i,l,u,h,p=0;r||(r={});var g=function(){p=r.leading===!1?0:Date.now(),i=null,h=t.apply(l,u),i||(l=u=null)},m=function(){var x=Date.now();!p&&r.leading===!1&&(p=x);var w=e-(x-p);return l=this,u=arguments,w<=0||w>e?(i&&(clearTimeout(i),i=null),p=x,h=t.apply(l,u),i||(l=u=null)):!i&&r.trailing!==!1&&(i=setTimeout(g,w)),h};return m.cancel=function(){clearTimeout(i),p=0,i=l=u=null},m};function Mc(t){const{coordinate:e={}}=t,{transform:r=[]}=e,i=r.find(u=>u.type==="fisheye");if(i)return i;const l={type:"fisheye"};return r.push(l),e.transform=r,t.coordinate=e,l}function hB({wait:t=30,leading:e,trailing:r=!1}){return i=>{const{options:l,update:u,setState:h,container:p}=i,g=dn(p),m=eh(x=>{const w=fn(g,x);if(!w){h("fisheye"),u();return}h("fisheye",M=>{const O=sn({},M);for(const I of O.marks)I.animate=!1;const[A,E]=w,P=Mc(O);return P.focusX=A,P.focusY=E,P.visual=!0,O}),u()},t,{leading:e,trailing:r});return g.addEventListener("pointerenter",m),g.addEventListener("pointermove",m),g.addEventListener("pointerleave",m),()=>{g.removeEventListener("pointerenter",m),g.removeEventListener("pointermove",m),g.removeEventListener("pointerleave",m)}}}var Us=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},Mp=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function NV(t){const{transform:e=[]}=t,r=e.find(l=>l.type==="normalizeY");if(r)return r;const i={type:"normalizeY"};return e.push(i),t.transform=e,i}function zV(t,e,r){const[i]=Array.from(t.entries()).filter(([l])=>l.type===e).map(([l])=>{const{encode:u}=l,h=p=>{const g=u[p];return[p,g?g.value:void 0]};return Object.fromEntries(r.map(h))});return i}function jV(t){var{wait:e=20,leading:r,trailing:i=!1,labelFormatter:l=h=>`${h}`}=t,u=Mp(t,["wait","leading","trailing","labelFormatter"]);return h=>{const{view:p,container:g,update:m,setState:x}=h,{markState:w,scale:M,coordinate:O}=p,A=zV(w,"line",["x","y","series"]);if(!A)return;const{y:E,x:P,series:I=[]}=A,F=E.map((Mt,At)=>At),N=yl(F.map(Mt=>P[Mt])),z=dn(g),G=g.getElementsByClassName(Z),W=g.getElementsByClassName(Ft),U=oi(W,Mt=>Mt.__data__.key.split("-")[0]),X=new Vh({style:Object.assign({x1:0,y1:0,x2:0,y2:z.getAttribute("height"),stroke:"black",lineWidth:1},kn(u,"rule"))}),$=new jl({style:Object.assign({x:0,y:z.getAttribute("height"),text:"",fontSize:10},kn(u,"label"))});X.append($),z.appendChild(X);const Q=(Mt,At,St)=>{const[Ut]=Mt.invert(St),ce=At.invert(Ut);return N[eE(N,ce)]},ft=(Mt,At)=>{X.setAttribute("x1",Mt[0]),X.setAttribute("x2",Mt[0]),$.setAttribute("text",l(At))};let ot;const J=Mt=>Us(this,void 0,void 0,function*(){const{x:At}=M,St=Q(O,At,Mt);ft(Mt,St),x("chartIndex",ce=>{const be=sn({},ce),Le=be.marks.find(an=>an.type==="line"),De=zr(Bm(F,an=>zr(an,Rn=>+E[Rn])/Co(an,Rn=>+E[Rn]),an=>I[an]).values()),en=[1/De,De];sn(Le,{scale:{y:{domain:en}}});const cn=NV(Le);cn.groupBy="color",cn.basis=(an,Rn)=>{const Tn=an[hp(Vn=>P[+Vn]).center(an,St)];return Rn[Tn]};for(const an of be.marks)an.animate=!1;return be}),ot=(yield m()).view}),st=Mt=>{const{scale:At,coordinate:St}=ot,{x:Ut,y:ce}=At,be=Q(St,Ut,Mt);ft(Mt,be);for(const Le of G){const{seriesIndex:nn,key:De}=Le.__data__,en=nn[hp(Fn=>P[+Fn]).center(nn,be)],cn=[0,ce.map(1)],an=[0,ce.map(E[en]/E[nn[0]])],[,Rn]=St.map(cn),[,Tn]=St.map(an),Vn=Rn-Tn;Le.setAttribute("transform",`translate(0, ${Vn})`);const ur=U.get(De)||[];for(const Fn of ur)Fn.setAttribute("dy",Vn)}},gt=eh(Mt=>{const At=fn(z,Mt);At&&st(At)},e,{leading:r,trailing:i});return J([0,0]),z.addEventListener("pointerenter",gt),z.addEventListener("pointermove",gt),z.addEventListener("pointerleave",gt),()=>{X.remove(),z.removeEventListener("pointerenter",gt),z.removeEventListener("pointermove",gt),z.removeEventListener("pointerleave",gt)}}}function n2(t,e){let r=0,i=0;if(e===void 0)for(let l of t)l!=null&&(l=+l)>=l&&(++r,i+=l);else{let l=-1;for(let u of t)(u=e(u,++l,t))!=null&&(u=+u)>=u&&(++r,i+=u)}if(r)return i/r}function pE(t,e){let r,i=-1,l=-1;if(e===void 0)for(const u of t)++l,u!=null&&(r>u||r===void 0&&u>=u)&&(r=u,i=l);else for(let u of t)(u=e(u,++l,t))!=null&&(r>u||r===void 0&&u>=u)&&(r=u,i=l);return i}var N9=kt(6056);function GV(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(r,i){return r.charAt(0)==="\\"?r.slice(1):e[i]===void 0?"":e[i]})}var WV=GV;function VV(t,e){return t===void 0&&(t=0),e===void 0&&(e=!1),function(r,i,l){var u=l.value,h;typeof u=="function"&&(l.value=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];if(!h){var m=this;e&&u.apply(m,p),h=window.setTimeout(function(){u.apply(m,p),h=null},t)}})}}function dB(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var z9={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function HV(t){var e;t===void 0&&(t="");var r=dB(t);return e={},e[".".concat(r.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(r.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(r.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(r.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(r.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(r.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(r.NAME_LABEL)]=(0,B.pi)({flex:1},z9),e[".".concat(r.VALUE)]=(0,B.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},z9),e[".".concat(r.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(r.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var YV=function(t){(0,B.ZT)(e,t);function e(r){var i=this,l,u,h=(u=(l=r.style)===null||l===void 0?void 0:l.template)===null||u===void 0?void 0:u.prefixCls,p=dB(h);return i=t.call(this,r,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(p.CONTAINER,'"></div>'),title:'<div class="'.concat(p.TITLE,'"></div>'),item:'<li class="'.concat(p.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(p.NAME,`">
          <span class="`).concat(p.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(p.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(p.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:HV(h)})||this,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"position",{set:function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1];this.attributes.x=l,this.attributes.y=u,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementSize",{get:function(){var r=this.element.offsetWidth,i=this.element.offsetHeight;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var r=this.attributes,i=r.data,l=r.template;return i.map(function(u,h){var p=u.name,g=p===void 0?"":p,m=u.color,x=m===void 0?"black":m,w=u.index,M=(0,B._T)(u,["name","color","index"]),O=(0,B.pi)({name:g,color:x,index:w!=null?w:h},M);return(0,N9.Z)(WV(l.item,O))})},enumerable:!1,configurable:!0}),e.prototype.render=function(r,i){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var r;(r=this.element)===null||r===void 0||r.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(r,i){var l=this,u=r!==void 0&&i!==void 0;if(u){var h=this.element.style.transition;this.element.style.transition="none",this.position=[r!=null?r:+this.attributes.x,i!=null?i:+this.attributes.y],setTimeout(function(){l.element.style.transition=h},10)}this.element.style.visibility="visible"},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.initShape=function(){var r=this.attributes.template;this.element=(0,N9.Z)(r.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var r=this.attributes.content;r&&(typeof r=="string"?this.element.innerHTML=r:this.element.replaceChildren(r))}},e.prototype.renderHTMLTooltipElement=function(){var r,i,l=this.attributes,u=l.template,h=l.title,p=l.enterable,g=l.style,m=l.content,x=dB(u.prefixCls),w=this.element;if(this.element.style.pointerEvents=p?"auto":"none",m)this.renderCustomContent();else{h?(w.innerHTML=u.title,w.getElementsByClassName(x.TITLE)[0].innerHTML=h):(i=(r=w.getElementsByClassName(x.TITLE))===null||r===void 0?void 0:r[0])===null||i===void 0||i.remove();var M=this.HTMLTooltipItemsElements,O=document.createElement("ul");O.className=x.LIST,O.replaceChildren.apply(O,(0,B.ev)([],(0,B.CR)(M),!1));var A=this.element.querySelector(".".concat(x.LIST));A?A.replaceWith(O):w.appendChild(O)}LC(w,g)},e.prototype.getRelativeOffsetFromCursor=function(r){var i=this.attributes,l=i.position,u=i.offset,h=r||l,p=h.split("-"),g={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},m=this.elementSize,x=m.width,w=m.height,M=[-x/2,-w/2];return p.forEach(function(O){var A=(0,B.CR)(M,2),E=A[0],P=A[1],I=(0,B.CR)(g[O],2),F=I[0],N=I[1];M=[E+(x/2+u[0])*F,P+(w/2+u[1])*N]}),M},e.prototype.setOffsetPosition=function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1],h=this.attributes,p=h.x,g=p===void 0?0:p,m=h.y,x=m===void 0?0:m,w=h.container,M=w.x,O=w.y;this.element.style.left="".concat(+g+M+l,"px"),this.element.style.top="".concat(+x+O+u,"px")},e.prototype.updatePosition=function(){this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor()))},e.prototype.autoPosition=function(r){var i=(0,B.CR)(r,2),l=i[0],u=i[1],h=this.attributes,p=h.x,g=h.y,m=h.bounding,x=h.position;if(!m)return[l,u];var w=this.element,M=w.offsetWidth,O=w.offsetHeight,A=(0,B.CR)([+p+l,+g+u],2),E=A[0],P=A[1],I={left:"right",right:"left",top:"bottom",bottom:"top"},F=m.x,N=m.y,z=m.width,G=m.height,W={left:E<F,right:E+M>F+z,top:P<N,bottom:P+O>N+G},Y=[];x.split("-").forEach(function(X){W[X]?Y.push(I[X]):Y.push(X)});var U=Y.join("-");return this.getRelativeOffsetFromCursor(U)},e.tag="tooltip",(0,B.gn)([VV(100,!0)],e.prototype,"updatePosition",null),e}(Wi);const ti=new Proxy({BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},{get(t,e){if(e in t)return t[e]},set(){return!0}});function j9(t,e){const{__data__:r}=t,{markKey:i,index:l,seriesIndex:u}=r,{markState:h}=e,p=Array.from(h.keys()).find(g=>g.key===i);if(p)return u?u.map(g=>p.data[g]):p.data[l]}function G9(t,e){if(e(t))return t;let r=t.parent;for(;r&&!e(r);)r=r.parent;return r}function UV(t){return G9(t,e=>e.className==="component")}function XV(t){return G9(t,e=>e.className==="element")}function La(t,e,r,i=l=>!0){return l=>{if(!i(l))return;r.emit(`plot:${t}`,l);const{target:u}=l;if(!u)return;const{className:h}=u;if(h==="plot")return;const p=XV(u),g=UV(u),m=p||g;if(!m)return;const{className:x,markType:w}=m;if(x==="element"){const M=Object.assign(Object.assign({},l),{nativeEvent:!0,data:{data:j9(m,e)}});r.emit(`element:${t}`,M),r.emit(`${w}:${t}`,M)}else{const M=Object.assign(Object.assign({},l),{nativeEvent:!0});r.emit(`component:${t}`,M),r.emit(`${h}:${t}`,M)}}}function ZV(){return(t,e,r)=>{const{container:i,view:l}=t,u=La(ti.CLICK,l,r,Y=>Y.detail===1),h=La(ti.DBLCLICK,l,r,Y=>Y.detail===2),p=La(ti.POINTER_TAP,l,r),g=La(ti.POINTER_DOWN,l,r),m=La(ti.POINTER_UP,l,r),x=La(ti.POINTER_OVER,l,r),w=La(ti.POINTER_OUT,l,r),M=La(ti.POINTER_MOVE,l,r),O=La(ti.POINTER_ENTER,l,r),A=La(ti.POINTER_LEAVE,l,r),E=La(ti.POINTER_UPOUTSIDE,l,r),P=La(ti.DRAG_START,l,r),I=La(ti.DRAG,l,r),F=La(ti.DRAG_END,l,r),N=La(ti.DRAG_ENTER,l,r),z=La(ti.DRAG_LEAVE,l,r),G=La(ti.DRAG_OVER,l,r),W=La(ti.DROP,l,r);return i.addEventListener("click",u),i.addEventListener("click",h),i.addEventListener("pointertap",p),i.addEventListener("pointerdown",g),i.addEventListener("pointerup",m),i.addEventListener("pointerover",x),i.addEventListener("pointerout",w),i.addEventListener("pointermove",M),i.addEventListener("pointerenter",O),i.addEventListener("pointerleave",A),i.addEventListener("pointerupoutside",E),i.addEventListener("dragstart",P),i.addEventListener("drag",I),i.addEventListener("dragend",F),i.addEventListener("dragenter",N),i.addEventListener("dragleave",z),i.addEventListener("dragover",G),i.addEventListener("drop",W),()=>{i.removeEventListener("click",u),i.removeEventListener("click",h),i.removeEventListener("pointertap",p),i.removeEventListener("pointerdown",g),i.removeEventListener("pointerup",m),i.removeEventListener("pointerover",x),i.removeEventListener("pointerout",w),i.removeEventListener("pointermove",M),i.removeEventListener("pointerenter",O),i.removeEventListener("pointerleave",A),i.removeEventListener("pointerupoutside",E),i.removeEventListener("dragstart",P),i.removeEventListener("drag",I),i.removeEventListener("dragend",F),i.removeEventListener("dragenter",N),i.removeEventListener("dragleave",z),i.removeEventListener("dragover",G),i.removeEventListener("drop",W)}}}var r2=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function qV(t,e){return e?typeof e=="string"?document.querySelector(e):e:t.getRootNode().defaultView.getConfig().container}function $V(t){const e=t.getBounds(),{min:[r,i],max:[l,u]}=e;return{x:r,y:i,width:l-r,height:u-i}}function KV(t,e){const r=t.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:r.x-i.x,y:r.y-i.y}}function JV(t,e,r,i,l,u,h){const p=new YV({className:"tooltip",style:{x:e,y:r,container:h,data:[],bounding:u,position:i,enterable:l,title:"",offset:[10,10],template:{prefixCls:"g2-"},style:{".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}}}});return t.appendChild(p.HTMLTooltipElement),p}function W9({root:t,data:e,x:r,y:i,render:l,event:u,single:h,position:p="right-bottom",enterable:g=!1,mount:m,bounding:x}){const w=t.getRootNode().defaultView.getConfig().container,M=qV(t,m),O=h?w:t,A=x||$V(t),E=KV(w,M),{tooltipElement:P=JV(M,r,i,p,g,A,E)}=O,{items:I,title:F=""}=e;P.update(Object.assign({x:r,y:i,data:I,title:F,position:p,enterable:g},l!==void 0&&{content:l(u,{items:I,title:F})})),O.tooltipElement=P}function Ig({root:t,single:e,emitter:r,nativeEvent:i=!0,mount:l}){i&&r.emit("tooltip:hide",{nativeEvent:i});const u=t.getRootNode().defaultView.getConfig().container,h=e?u:t,{tooltipElement:p}=h;p&&p.hide()}function V9(t){const{tooltipElement:e}=t;e&&(e.destroy(),t.tooltipElement=void 0)}function H9(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:e===void 0?"undefined":e})}function QV(t){const{__data__:e}=t,{title:r,items:i=[]}=e,l=i.filter(yi).map(u=>{var{color:h=U9(t)}=u,p=r2(u,["color"]);return Object.assign(Object.assign({},p),{color:h})}).map(H9);return Object.assign(Object.assign({},r&&{title:r}),{items:l})}function Y9(t,e){const{color:r,series:i}=t,{color:l,series:u}=e,h=p=>p&&p.invert&&!(p instanceof bd)&&!(p instanceof md);if(h(i))return i.invert(u);if(u&&u!==l)return u;if(h(r)){const p=r.invert(l);return Array.isArray(p)?null:p}return null}function U9(t){const e=t.getAttribute("fill"),r=t.getAttribute("stroke"),{__data__:i}=t,{color:l=e&&e!=="transparent"?e:r}=i;return l}function X9(t,e=r=>r){const r=new Map(t.map(i=>[e(i),i]));return Array.from(r.values())}function Z9(t,e,r,i=t.map(l=>l.__data__)){const l=p=>p instanceof Date?+p:p,u=X9(i.map(p=>p.title),l).filter(yi),h=i.flatMap((p,g)=>{const m=t[g],{items:x=[],title:w}=p,M=x.filter(yi),O=r!==void 0?r:x.length<=1;return M.map(A=>{var{color:E=U9(m),name:P}=A,I=r2(A,["color","name"]);const F=O?Y9(e,p)||P:P||Y9(e,p);return Object.assign(Object.assign({},I),{color:E,name:F||w})})}).map(H9);return Object.assign(Object.assign({},u.length>0&&{title:u.join(",")}),{items:X9(h,p=>`(${l(p.name)}, ${l(p.value)}, ${l(p.color)})`)})}function tH(t,e,r){var{plotWidth:i,plotHeight:l,mainWidth:u,mainHeight:h,startX:p,startY:g,transposed:m,polar:x,insetLeft:w,insetTop:M}=r,O=r2(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const A=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},O),E=e.map(X=>X[1]),P=e.map(X=>X[0]),I=n2(E),F=n2(P),N=()=>{if(x){const X=Math.min(u,h)/2,$=p+w+u/2,Q=g+M+h/2,ft=Si(ui([F,I],[$,Q])),ot=$+X*Math.cos(ft),J=Q+X*Math.sin(ft);return[$,ot,Q,J]}return m?[p,p+i,I+g,I+g]:[F+p,F+p,g,g+l]},[z,G,W,Y]=N(),U=()=>{const X=new Vh({style:Object.assign({x1:z,x2:G,y1:W,y2:Y},A)});return t.appendChild(X),X};if(P.length>0){const X=t.ruleY||U();X.style.x1=z,X.style.x2=G,X.style.y1=W,X.style.y2=Y,t.ruleY=X}}function q9(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function eH(t,{data:e,style:r}){t.markers&&t.markers.forEach(l=>l.remove());const i=e.map(l=>{const[{color:u,element:h},p]=l,g=u||h.style.fill||h.style.stroke||"#000";return new zl({style:Object.assign({cx:p[0],cy:p[1],fill:g,r:4,stroke:"#fff",strokeWidth:2},r)})});for(const l of i)t.appendChild(l);t.markers=i}function $9(t){t.markers&&(t.markers.forEach(e=>e.remove()),t.markers=[])}function K9(t,e){return Array.from(t.values()).some(r=>{var i;return(i=r.interaction)===null||i===void 0?void 0:i[e]})}function pB(t,e){return t===void 0?e:t}function J9(t){const{title:e,items:r}=t;return r.length===0&&e===void 0}function nH(t){return Array.from(t.values()).some(e=>{var r;return((r=e.interaction)===null||r===void 0?void 0:r.seriesTooltip)&&e.tooltip})}function Q9(t,e){var{elements:r,sort:i,filter:l,scale:u,coordinate:h,crosshairs:p,render:g,groupName:m,emitter:x,wait:w=50,leading:M=!0,trailing:O=!1,startX:A=0,startY:E=0,body:P=!0,single:I=!0,position:F,enterable:N,mount:z,bounding:G,disableNative:W=!1,marker:Y=!0,style:U={}}=e,X=r2(e,["elements","sort","filter","scale","coordinate","crosshairs","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","disableNative","marker","style"]);const $=r(t),Q=gi(h),ft=ai(h),ot=sn(U,X),{innerWidth:J,innerHeight:st,width:gt,height:Mt,insetLeft:At,insetTop:St}=h.getOptions(),Ut=[],ce=[];for(const Fn of $){const{__data__:Gn}=Fn,{seriesX:lr}=Gn;lr?Ut.push(Fn):ce.push(Fn)}Ut.sort((Fn,Gn)=>{const lr=Q?0:1,dr=Yr=>Yr.getBounds().min[lr];return Q?dr(Gn)-dr(Fn):dr(Fn)-dr(Gn)});const be=new Map(Ut.map(Fn=>{const{__data__:Gn}=Fn,{seriesX:lr}=Gn,dr=lr.map((jr,$i)=>$i),Yr=yl(dr,jr=>lr[+jr]);return[Fn,[Yr,lr]]})),{x:Le}=u,nn=Le!=null&&Le.getBandWidth?Le.getBandWidth()/2:0,De=Fn=>{const[Gn]=h.invert(Fn);return Gn-nn},en=(Fn,Gn,lr)=>{const dr=De(Fn),[Yr,jr]=yl([lr[0],lr[lr.length-1]]);if(dr<Yr||dr>jr)return null;const $i=hp(Ks=>lr[+Ks]).center,Ka=$i(Gn,dr);return Gn[Ka]},cn=(Fn,Gn)=>{const lr=Q?1:0,dr=Fn[lr],Yr=jr=>{const{min:$i,max:Ka}=jr.getLocalBounds();return yl([$i[lr],Ka[lr]])};return Gn.filter(jr=>{const[$i,Ka]=Yr(jr);return dr>=$i&&dr<=Ka})},an=(Fn,Gn)=>{const{__data__:lr}=Fn;return Object.fromEntries(Object.entries(lr).filter(([dr])=>dr.startsWith("series")&&dr!=="series").map(([dr,Yr])=>{const jr=Yr[Gn];return[bS(dr.replace("series","")),jr]}))},Rn=eh(Fn=>{const Gn=fn(t,Fn);if(!Gn)return;const lr=t.getRenderBounds(),dr=lr.min[0],Yr=lr.min[1],jr=[Gn[0]-A,Gn[1]-E];if(!jr)return;const $i=cn(jr,ce),Ka=[],Ks=[];for(const sa of Ut){const[D2,a6]=be.get(sa),gV=en(jr,D2,a6);if(gV!==null){Ka.push(sa);const yV=an(sa,gV),{x:pnt,y:vnt}=yV,gnt=h.map([(pnt||0)+nn,vnt||0]);Ks.push([Object.assign(Object.assign({},yV),{element:sa}),gnt])}}const Ro=Array.from(new Set(Ks.map(sa=>sa[0].x))),bl=Ro[pE(Ro,sa=>Math.abs(sa-De(jr)))],Ep=Ks.filter(sa=>sa[0].x===bl),i6=[...Ep.map(sa=>sa[0]),...$i.map(sa=>sa.__data__)],mk=[...Ka,...$i],kp=Z9(mk,u,m,i6);if(i&&kp.items.sort((sa,D2)=>i(sa)-i(D2)),l&&(kp.items=kp.items.filter(l)),mk.length===0||J9(kp)){Tn();return}if(P&&W9({root:t,data:kp,x:Gn[0]+dr,y:Gn[1]+Yr,render:g,event:Fn,single:I,position:F,enterable:N,mount:z,bounding:G}),p){const sa=Ep.map(a6=>a6[1]),D2=kn(ot,"crosshairs");tH(t,sa,Object.assign(Object.assign({},D2),{plotWidth:J,plotHeight:st,mainWidth:gt,mainHeight:Mt,insetLeft:At,insetTop:St,startX:A,startY:E,transposed:Q,polar:ft}))}if(Y){const sa=kn(ot,"marker");eH(t,{data:Ep,style:sa})}x.emit("tooltip:show",Object.assign(Object.assign({},Fn),{nativeEvent:!0,data:{data:{x:Cu(u.x,De(jr),!0)}}}))},w,{leading:M,trailing:O}),Tn=()=>{Ig({root:t,single:I,emitter:x,mount:z}),p&&q9(t),Y&&$9(t)},Vn=({nativeEvent:Fn,data:Gn})=>{if(Fn)return;const{x:lr}=Gn.data,{x:dr}=u,Yr=dr.map(lr),[jr,$i]=h.map([Yr,.5]),{min:[Ka,Ks]}=t.getRenderBounds();Rn({offsetX:jr+Ka,offsetY:$i+Ks})},ur=()=>{Ig({root:t,single:I,emitter:x,nativeEvent:!1,mount:z})};return x.on("tooltip:show",Vn),x.on("tooltip:hide",ur),W||(t.addEventListener("pointerenter",Rn),t.addEventListener("pointermove",Rn),t.addEventListener("pointerleave",Tn)),()=>{W||(t.removeEventListener("pointerenter",Rn),t.removeEventListener("pointermove",Rn),t.removeEventListener("pointerleave",Tn)),x.off("tooltip:show",Vn),x.off("tooltip:hide",ur),V9(t),p&&q9(t),Y&&$9(t)}}function rH(t,{elements:e,scale:r,render:i,groupName:l,sort:u,filter:h,emitter:p,wait:g=50,leading:m=!0,trailing:x=!1,groupKey:w=G=>G,single:M=!0,position:O,enterable:A,datum:E,view:P,mount:I,bounding:F,body:N=!0,disableNative:z=!1}){const G=e(t),W=new Set(G),Y=oi(G,w),U=eh(ft=>{const{target:ot}=ft;if(!W.has(ot)){Ig({root:t,single:M,emitter:p,mount:I});return}const J=w(ot),st=Y.get(J),gt=st.length===1?QV(st[0]):Z9(st,r,l);if(u&&gt.items.sort((St,Ut)=>u(St)-u(Ut)),h&&(gt.items=gt.items.filter(h)),J9(gt)){Ig({root:t,single:M,emitter:p,mount:I});return}const{offsetX:Mt,offsetY:At}=ft;N&&W9({root:t,data:gt,x:Mt,y:At,render:i,event:ft,single:M,position:O,enterable:A,mount:I,bounding:F}),p.emit("tooltip:show",Object.assign(Object.assign({},ft),{nativeEvent:!0,data:{data:j9(ot,P)}}))},g,{leading:m,trailing:x}),X=ft=>{const{target:ot}=ft;W.has(ot)&&Ig({root:t,single:M,emitter:p,mount:I})},$=({nativeEvent:ft,data:ot})=>{if(ft)return;const J=Qb(G,ot.data,E);if(!J)return;const st=J.getBBox(),{x:gt,y:Mt,width:At,height:St}=st;U({target:J,offsetX:gt+At/2,offsetY:Mt+St/2})},Q=({nativeEvent:ft}={})=>{ft||Ig({root:t,single:M,emitter:p,nativeEvent:!1,mount:I})};return p.on("tooltip:show",$),p.on("tooltip:hide",Q),z||(t.addEventListener("pointerover",U),t.addEventListener("pointermove",U),t.addEventListener("pointerout",X)),()=>{z||(t.removeEventListener("pointerover",U),t.removeEventListener("pointermove",U),t.removeEventListener("pointerout",X)),p.off("tooltip:show",$),p.off("tooltip:hide",Q),V9(t)}}function iH(t){const{shared:e,crosshairs:r,series:i,name:l,item:u=()=>({}),facet:h=!1}=t,p=r2(t,["shared","crosshairs","series","name","item","facet"]);return(g,m,x)=>{const{container:w,view:M}=g,{scale:O,markState:A,coordinate:E}=M,P=K9(A,"seriesTooltip"),I=K9(A,"crosshairs"),F=dn(w),N=pB(i,P);if(N&&nH(A)&&!h)return Q9(F,Object.assign(Object.assign({},p),{elements:Pn,scale:O,coordinate:E,crosshairs:pB(r,I),item:u,emitter:x}));if(N&&h){const z=m.filter($=>$!==g&&$.options.parentKey===g.options.key),G=Ze(g,m),W=z[0].view.scale,Y=F.getBounds(),U=Y.min[0],X=Y.min[1];return Q9(F.parentNode.parentNode,Object.assign(Object.assign({},p),{elements:()=>G,scale:W,coordinate:E,crosshairs:pB(r,I),item:u,startX:U,startY:X,emitter:x}))}return rH(F,Object.assign(Object.assign({},p),{datum:Xn(M),elements:Pn,scale:O,coordinate:E,groupKey:e?sr(M):void 0,item:u,emitter:x,view:M}))}}var vE=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})};const tz="legend-category",aH="legend-continuous",oH="items-item",sH="legend-category-item-marker",lH="legend-category-item-label";function ez(t){return t.getElementsByClassName(sH)[0]}function nz(t){return t.getElementsByClassName(lH)[0]}function rz(t){return t.getElementsByClassName(oH)}function iz(t){return t.getElementsByClassName(tz)}function cH(t){return t.getElementsByClassName(aH)}function vB(t){let e=t.parentNode;for(;e&&!e.__data__;)e=e.parentNode;return e.__data__}function ynt(t){let e=t;for(;e&&!e.attr("class").startsWith("legend");)e=e.children[0];return e.attributes}function uH(t,{legends:e,marker:r,label:i,datum:l,filter:u,emitter:h,channel:p,state:g={}}){const m=new Map,x=new Map,w=new Map,{unselected:M={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=g,O={unselected:kn(M,"marker")},A={unselected:kn(M,"label")},{setState:E,removeState:P}=er(O,void 0),{setState:I,removeState:F}=er(A,void 0),N=Array.from(e(t));let z=N.map(l);const G=()=>{for(const U of N){const X=l(U),$=r(U),Q=i(U);z.includes(X)?(P($,"unselected"),F(Q,"unselected")):(E($,"unselected"),I(Q,"unselected"))}};for(const U of N){const X=()=>{Po(t,"pointer")},$=()=>{fE(t)},Q=ft=>vE(this,void 0,void 0,function*(){const ot=l(U),J=z.indexOf(ot);J===-1?z.push(ot):z.splice(J,1),z.length===0&&z.push(...N.map(l)),yield u(z),G();const{nativeEvent:st=!0}=ft;st&&(z.length===N.length?h.emit("legend:reset",{nativeEvent:st}):h.emit("legend:filter",Object.assign(Object.assign({},ft),{nativeEvent:st,data:{channel:p,values:z}})))});U.addEventListener("click",Q),U.addEventListener("pointerenter",X),U.addEventListener("pointerout",$),m.set(U,Q),x.set(U,X),w.set(U,$)}const W=U=>vE(this,void 0,void 0,function*(){const{nativeEvent:X}=U;if(X)return;const{data:$}=U,{channel:Q,values:ft}=$;Q===p&&(z=ft,yield u(z),G())}),Y=U=>vE(this,void 0,void 0,function*(){const{nativeEvent:X}=U;X||(z=N.map(l),yield u(z),G())});return h.on("legend:filter",W),h.on("legend:reset",Y),()=>{for(const U of N)U.removeEventListener("click",m.get(U)),U.removeEventListener("pointerenter",x.get(U)),U.removeEventListener("pointerout",w.get(U)),h.off("legend:filter",W),h.off("legend:reset",Y)}}function fH(t,{legend:e,filter:r,emitter:i,channel:l}){const u=({detail:{value:h}})=>{r(h),i.emit({nativeEvent:!0,data:{channel:l,values:h}})};return e.addEventListener("valuechange",u),()=>{e.removeEventListener("valuechange",u)}}function hH(){return(t,e,r)=>{const{container:i,view:l,update:u,setState:h}=t,p=M=>vB(M).scales.map(O=>O.name),g=[...iz(i),...cH(i)],m=g.flatMap(p),x=eh((M,O,A,E,P)=>vE(this,void 0,void 0,function*(){h(M,I=>{const{marks:F}=I,N=F.map(z=>{if(z.type==="legends")return z;const{transform:G=[]}=z,W=G.findIndex(({type:X})=>X.startsWith("group")||X.startsWith("bin")),Y=[...G];Y.splice(W+1,0,{type:"filter",[O]:{value:A,ordinal:E}});const U=Object.fromEntries(P.map(X=>[X,{domain:l.scale[X].getOptions().domain}]));return sn({},z,Object.assign(Object.assign({transform:Y,scale:U},!E&&{animate:!1}),{legend:Object.fromEntries(m.map(X=>[X,{preserve:!0}]))}))});return Object.assign(Object.assign({},I),{marks:N})}),yield u()}),50,{trailing:!0}),w=g.map(M=>{const{name:O,domain:A}=vB(M).scales[0],E=p(M);return M.className===tz?uH(i,{legends:rz,marker:ez,label:nz,datum:P=>{const{__data__:I}=P,{index:F}=I;return A[F]},filter:P=>x(M,O,P,!0,E),state:M.attributes.state,channel:O,emitter:r}):fH(i,{legend:M,filter:P=>x(M,O,P,!1,E),emitter:r,channel:O})});return()=>{w.forEach(M=>M())}}}function dH(){return(t,e,r)=>{const{container:i,view:l,options:u}=t,h=iz(i),p=Pn(i),g=O=>vB(O).scales[0].name,m=O=>{const{scale:{[O]:A}}=l;return A},x=si(u,["active","inactive"]),w=po(p,Xn(l)),M=[];for(const O of h){const A=Ut=>{const{data:ce}=O.attributes,{__data__:be}=Ut,{index:Le}=be;return ce[Le].label},E=g(O),P=rz(O),I=m(E),F=oi(p,Ut=>I.invert(Ut.__data__[E])),{state:N={}}=O.attributes,{inactive:z={}}=N,{setState:G,removeState:W}=er(x,w),Y={inactive:kn(z,"marker")},U={inactive:kn(z,"label")},{setState:X,removeState:$}=er(Y),{setState:Q,removeState:ft}=er(U),ot=Ut=>{for(const ce of P){const be=ez(ce),Le=nz(ce);ce===Ut||Ut===null?($(be,"inactive"),ft(Le,"inactive")):(X(be,"inactive"),Q(Le,"inactive"))}},J=(Ut,ce)=>{const be=A(ce),Le=new Set(F.get(be));for(const De of p)Le.has(De)?G(De,"active"):G(De,"inactive");ot(ce);const{nativeEvent:nn=!0}=Ut;nn&&r.emit("legend:highlight",Object.assign(Object.assign({},Ut),{nativeEvent:nn,data:{channel:E,value:be}}))},st=new Map;for(const Ut of P){const ce=be=>{J(be,Ut)};Ut.addEventListener("pointerover",ce),st.set(Ut,ce)}const gt=Ut=>{for(const be of p)W(be,"inactive","active");ot(null);const{nativeEvent:ce=!0}=Ut;ce&&r.emit("legend:unhighlight",{nativeEvent:ce})},Mt=Ut=>{const{nativeEvent:ce,data:be}=Ut;if(ce)return;const{channel:Le,value:nn}=be;if(Le!==E)return;const De=P.find(en=>A(en)===nn);De&&J({nativeEvent:!1},De)},At=Ut=>{const{nativeEvent:ce}=Ut;ce||gt({nativeEvent:!1})};O.addEventListener("pointerleave",gt),r.on("legend:highlight",Mt),r.on("legend:unhighlight",At);const St=()=>{O.removeEventListener(gt),r.off("legend:highlight",Mt),r.off("legend:unhighlight",At);for(const[Ut,ce]of st)Ut.removeEventListener(ce)};M.push(St)}return()=>M.forEach(O=>O())}}var hs=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function pH(t,e){const[r,i,l,u]=t,[h,p,g,m]=e;return!(h>l||g<r||p>u||m<i)}function vH(t,e,r,i,l){const[u,h,p,g]=l;return[Math.max(u,Math.min(t,r)),Math.max(h,Math.min(e,i)),Math.min(p,Math.max(t,r)),Math.min(g,Math.max(e,i))]}function gH(t){const{width:e,height:r}=t.getBBox();return[0,0,e,r]}function Tu(t,e){for(const[r,i]of Object.entries(e))t.style(r,i)}const az=Ef(t=>{const e=t.attributes,{x:r,y:i,width:l,height:u,class:h,renders:p={},handleSize:g=10,document:m}=e,x=hs(e,["x","y","width","height","class","renders","handleSize","document"]);if(!m||l===void 0||u===void 0||r===void 0||i===void 0)return;const w=g/2,M=(nn,De,en)=>{nn.handle||(nn.handle=en.createElement("rect"),nn.append(nn.handle));const{handle:cn}=nn;return cn.attr(De),cn},O=kn(Gm(x,"handleNW","handleNE"),"handleN"),{render:A=M}=O,E=hs(O,["render"]),P=kn(x,"handleE"),{render:I=M}=P,F=hs(P,["render"]),N=kn(Gm(x,"handleSE","handleSW"),"handleS"),{render:z=M}=N,G=hs(N,["render"]),W=kn(x,"handleW"),{render:Y=M}=W,U=hs(W,["render"]),X=kn(x,"handleNW"),{render:$=M}=X,Q=hs(X,["render"]),ft=kn(x,"handleNE"),{render:ot=M}=ft,J=hs(ft,["render"]),st=kn(x,"handleSE"),{render:gt=M}=st,Mt=hs(st,["render"]),At=kn(x,"handleSW"),{render:St=M}=At,Ut=hs(At,["render"]),ce=(nn,De)=>{const{id:en}=nn,cn=nn.attributes,{x:an,y:Rn}=cn,Tn=hs(cn,["x","y"]),Vn=De(nn,Object.assign({x:0,y:0},Tn),m);Vn.id=en,Vn.style.draggable=!0},be=nn=>()=>{const De=Ef(en=>ce(en,nn));return new De({})},Le=Jn(t).attr("className",h).style("x",r).style("y",i).style("draggable",!0);Le.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(Tu,Object.assign({width:l,height:u},Gm(x,"handle"))),Le.maybeAppend("handle-n",be(A)).style("x",w).style("y",-w).style("width",l-g).style("height",g).style("fill","transparent").call(Tu,E),Le.maybeAppend("handle-e",be(I)).style("x",l-w).style("y",w).style("width",g).style("height",u-g).style("fill","transparent").call(Tu,F),Le.maybeAppend("handle-s",be(z)).style("x",w).style("y",u-w).style("width",l-g).style("height",g).style("fill","transparent").call(Tu,G),Le.maybeAppend("handle-w",be(Y)).style("x",-w).style("y",w).style("width",g).style("height",u-g).style("fill","transparent").call(Tu,U),Le.maybeAppend("handle-nw",be($)).style("x",-w).style("y",-w).style("width",g).style("height",g).style("fill","transparent").call(Tu,Q),Le.maybeAppend("handle-ne",be(ot)).style("x",l-w).style("y",-w).style("width",g).style("height",g).style("fill","transparent").call(Tu,J),Le.maybeAppend("handle-se",be(gt)).style("x",l-w).style("y",u-w).style("width",g).style("height",g).style("fill","transparent").call(Tu,Mt),Le.maybeAppend("handle-sw",be(St)).style("x",-w).style("y",u-w).style("width",g).style("height",g).style("fill","transparent").call(Tu,Ut)});function gB(t,e){var{brushed:r=()=>{},brushended:i=()=>{},brushcreated:l=()=>{},extent:u=gH(t),brushRegion:h=(De,en,cn,an,Rn)=>[De,en,cn,an],reverse:p=!1,fill:g="#777",fillOpacity:m="0.3",stroke:x="#fff",selectedHandles:w=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,M=hs(e,["brushed","brushended","brushcreated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let O=null,A=null,E=null,P=null,I=null,F=!1;const[N,z,G,W]=u;Po(t,"crosshair"),t.style.draggable=!0;const Y=(De,en)=>{if(P&&P.remove(),I&&I.remove(),O=[De,en],p)return U();X()},U=()=>{I=new Va({style:Object.assign(Object.assign({},M),{fill:g,fillOpacity:m,stroke:x,pointerEvents:"none"})}),P=new az({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(I),t.appendChild(P)},X=()=>{P=new az({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},M),{fill:g,fillOpacity:m,stroke:x,draggable:!0}),className:"mask"}),t.appendChild(P)},$=(De=!0)=>{P&&P.remove(),I&&I.remove(),O=null,A=null,E=null,F=!1,P=null,I=null,i(De)},Q=(De,en,cn=!0)=>{const[an,Rn,Tn,Vn]=vH(De[0],De[1],en[0],en[1],u),[ur,Fn,Gn,lr]=h(an,Rn,Tn,Vn,u);return p?ot(ur,Fn,Gn,lr):ft(ur,Fn,Gn,lr),r(ur,Fn,Gn,lr,cn),[ur,Fn,Gn,lr]},ft=(De,en,cn,an)=>{P.style.x=De,P.style.y=en,P.style.width=cn-De,P.style.height=an-en},ot=(De,en,cn,an)=>{I.style.d=`
      M${N},${z}L${G},${z}L${G},${W}L${N},${W}Z
      M${De},${en}L${De},${an}L${cn},${an}L${cn},${en}Z
    `,P.style.x=De,P.style.y=en,P.style.width=cn-De,P.style.height=an-en},J=De=>{const en=(Fn,Gn,lr,dr,Yr)=>Fn+Gn<dr?dr-Gn:Fn+lr>Yr?Yr-lr:Fn,cn=De[0]-E[0],an=De[1]-E[1],Rn=en(cn,O[0],A[0],N,G),Tn=en(an,O[1],A[1],z,W),Vn=[O[0]+Rn,O[1]+Tn],ur=[A[0]+Rn,A[1]+Tn];Q(Vn,ur)},st={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},gt=De=>At(De)||Mt(De),Mt=De=>{const{id:en}=De;return w.indexOf(en)===-1?!1:new Set(Object.keys(st)).has(en)},At=De=>De===P.getElementById("selection"),St=De=>{const{target:en}=De,[cn,an]=bn(t,De);if(!P||!gt(en)){Y(cn,an),F=!0;return}gt(en)&&(E=[cn,an])},Ut=De=>{const{target:en}=De,cn=bn(t,De);if(!O)return;if(!E)return Q(O,cn);if(At(en))return J(cn);const[an,Rn]=[cn[0]-E[0],cn[1]-E[1]],{id:Tn}=en;if(st[Tn]){const[Vn,ur,Fn,Gn]=st[Tn].vector;return Q([O[0]+an*Vn,O[1]+Rn*ur],[A[0]+an*Fn,A[1]+Rn*Gn])}},ce=De=>{if(E){E=null;const{x:Tn,y:Vn,width:ur,height:Fn}=P.style;O=[Tn,Vn],A=[Tn+ur,Vn+Fn];return}A=bn(t,De);const[en,cn,an,Rn]=Q(O,A);F=!1,l(en,cn,an,Rn,De)},be=De=>{const{target:en}=De;P&&!gt(en)&&$()},Le=De=>{const{target:en}=De;!P||!gt(en)||F?Po(t,"crosshair"):At(en)?Po(t,"move"):Mt(en)&&Po(t,st[en.id].cursor)},nn=()=>{Po(t,"default")};return t.addEventListener("dragstart",St),t.addEventListener("drag",Ut),t.addEventListener("dragend",ce),t.addEventListener("click",be),t.addEventListener("pointermove",Le),t.addEventListener("pointerleave",nn),{mask:P,move(De,en,cn,an,Rn=!0){P||Y(De,en),O=[De,en],A=[cn,an],Q([De,en],[cn,an],Rn)},remove(De=!0){P&&$(De)},destroy(){P&&$(!1),Po(t,"default"),t.removeEventListener("dragstart",St),t.removeEventListener("drag",Ut),t.removeEventListener("dragend",ce),t.removeEventListener("click",be),t.removeEventListener("pointermove",Le),t.removeEventListener("pointerleave",nn)}}}function yB(t,e,r){return e.filter(i=>{if(i===t)return!1;const{interaction:l={}}=i.options;return Object.values(l).find(u=>u.brushKey===r)})}function yH(t,e,r){return yB(t,e,r).map(i=>dn(i.container))}function mH(t,e,r){return yB(t,e,r).map(i=>i.options)}function oz(t,e){var{elements:r,selectedHandles:i,siblings:l=be=>[],datum:u,brushRegion:h,extent:p,reverse:g,scale:m,coordinate:x,series:w=!1,key:M=be=>be,bboxOf:O=be=>{const{x:Le,y:nn,width:De,height:en}=be.style;return{x:Le,y:nn,width:De,height:en}},state:A={},emitter:E}=e,P=hs(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const I=r(t),F=l(t),N=F.flatMap(r),z=po(I,u),G=kn(P,"mask"),{setState:W,removeState:Y}=er(A,z),U=new Map,{width:X,height:$,x:Q=0,y:ft=0}=O(t),ot=p||[0,0,X,$],J=()=>{for(const be of[...I,...N])Y(be,"active","inactive")},st=(be,Le,nn,De)=>{var en;for(const an of F)(en=an.brush)===null||en===void 0||en.remove();const cn=new Set;for(const an of I){const{min:Rn,max:Tn}=an.getLocalBounds(),[Vn,ur]=Rn,[Fn,Gn]=Tn;pH([Vn,ur,Fn,Gn],[be,Le,nn,De])?(W(an,"active"),cn.add(M(an))):W(an,"inactive")}for(const an of N)cn.has(M(an))?W(an,"active"):W(an,"inactive")},gt=()=>{for(const be of I)Y(be,"inactive");for(const be of U.values())be.remove();U.clear()},Mt=(be,Le,nn,De)=>{const en=cn=>{const an=cn.cloneNode();return an.__data__=cn.__data__,cn.parentNode.appendChild(an),U.set(cn,an),an};for(const cn of I){const an=U.get(cn)||en(cn);an.style.clipPath=new qc({style:{x:be+Q,y:Le+ft,width:nn-be,height:De-Le}}),W(cn,"inactive"),W(an,"active")}},At=gB(t,Object.assign(Object.assign({},G),{extent:ot,brushRegion:h,reverse:g,selectedHandles:i,brushended:be=>{const Le=w?gt:J;be&&E.emit("brush:remove",{nativeEvent:!0}),Le()},brushed:(be,Le,nn,De,en)=>{const cn=Kb(be,Le,nn,De,m,x);en&&E.emit("brush:highlight",{nativeEvent:!0,data:{selection:cn}}),(w?Mt:st)(be,Le,nn,De)}})),St=({nativeEvent:be,data:Le})=>{if(be)return;const{selection:nn}=Le,[De,en,cn,an]=Hs(nn,m,x);At.move(De,en,cn,an,!1)};E.on("brush:highlight",St);const Ut=({nativeEvent:be}={})=>{be||At.remove(!1)};E.on("brush:remove",Ut);const ce=At.destroy.bind(At);return At.destroy=()=>{E.off("brush:highlight",St),E.off("brush:remove",Ut),ce()},At}function mB(t){var{facet:e,brushKey:r}=t,i=hs(t,["facet","brushKey"]);return(l,u,h)=>{const{container:p,view:g,options:m}=l,x=dn(p),w={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},M=["active",["inactive",{opacity:.5}]],{scale:O,coordinate:A}=g;if(e){const P=x.getBounds(),I=P.min[0],F=P.min[1],N=P.max[0],z=P.max[1];return oz(x.parentNode.parentNode,Object.assign(Object.assign({elements:()=>Ze(l,u),datum:Xn(ln(l,u).map(G=>G.view)),brushRegion:(G,W,Y,U)=>[G,W,Y,U],extent:[I,F,N,z],state:si(ln(l,u).map(G=>G.options),M),emitter:h,scale:O,coordinate:A,selectedHandles:void 0},w),i))}const E=oz(x,Object.assign(Object.assign({elements:Pn,key:P=>P.__data__.key,siblings:()=>yH(l,u,r),datum:Xn([g,...yB(l,u,r).map(P=>P.view)]),brushRegion:(P,I,F,N)=>[P,I,F,N],extent:void 0,state:si([m,...mH(l,u,r)],M),emitter:h,scale:O,coordinate:A,selectedHandles:void 0},w),i));return x.brush=E,()=>E.destroy()}}function xB(t,e,r,i,l){const[,u,,h]=l;return[t,u,r,h]}function xH(t){return mB(Object.assign(Object.assign({},t),{brushRegion:xB,selectedHandles:["handle-e","handle-w"]}))}function bB(t,e,r,i,l){const[u,,h]=l;return[u,e,h,i]}function bH(t){return mB(Object.assign(Object.assign({},t),{brushRegion:bB,selectedHandles:["handle-n","handle-s"]}))}var wB=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const wH="axis",MH="axis-line",SH="axis-main-group",sz="axis-hot-area";function _H(t){return t.getElementsByClassName(wH)}function lz(t){return t.getElementsByClassName(MH)[0]}function OH(t){return t.getElementsByClassName(SH)[0]}function cz(t){return OH(t).getLocalBounds()}function CH(t,e){var{cross:r,offsetX:i,offsetY:l}=e,u=wB(e,["cross","offsetX","offsetY"]);const h=cz(t),p=lz(t),[g]=p.getLocalBounds().min,[m,x]=h.min,[w,M]=h.max,O=(w-m)*2;return{brushRegion:bB,hotZone:new qc({className:sz,style:Object.assign({x:r?m:g-O/2,width:r?O/2:O,y:x,height:M-x},u)}),extent:r?(A,E,P,I)=>[-1/0,E,1/0,I]:(A,E,P,I)=>[Math.floor(m-i),E,Math.ceil(w-i),I]}}function AH(t,e){var{offsetY:r,offsetX:i,cross:l=!1}=e,u=wB(e,["offsetY","offsetX","cross"]);const h=cz(t),p=lz(t),[,g]=p.getLocalBounds().min,[m,x]=h.min,[w,M]=h.max,O=M-x;return{brushRegion:xB,hotZone:new qc({className:sz,style:Object.assign({x:m,width:w-m,y:l?x:g-O,height:l?O:O*2},u)}),extent:l?(A,E,P,I)=>[A,-1/0,P,1/0]:(A,E,P,I)=>[A,Math.floor(x-r),P,Math.ceil(M-r)]}}function TH(t,e){var{axes:r,elements:i,points:l,horizontal:u,datum:h,offsetY:p,offsetX:g,reverse:m=!1,state:x={},emitter:w,coordinate:M}=e,O=wB(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const A=i(t),E=r(t),P=po(A,h),{setState:I,removeState:F}=er(x,P),N=new Map,z=kn(O,"mask"),G=St=>Array.from(N.values()).every(([Ut,ce,be,Le])=>St.some(([nn,De])=>nn>=Ut&&nn<=be&&De>=ce&&De<=Le)),W=E.map(St=>St.attributes.scale),Y=St=>St.length>2?[St[0],St[St.length-1]]:St,U=new Map,X=()=>{U.clear();for(let St=0;St<E.length;St++){const Ut=W[St],{domain:ce}=Ut.getOptions();U.set(St,Y(ce))}};X();const $=(St,Ut)=>{const ce=[];for(const Le of A){const nn=l(Le);G(nn)?(I(Le,"active"),ce.push(Le)):I(Le,"inactive")}if(U.set(St,ft(ce,St)),!Ut)return;const be=()=>{if(!ot)return Array.from(U.values());const Le=[];for(const[nn,De]of U){const en=W[nn],{name:cn}=en.getOptions();cn==="x"?Le[0]=De:Le[1]=De}return Le};w.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:be()}})},Q=St=>{for(const Ut of A)F(Ut,"active","inactive");X(),St&&w.emit("brushAxis:remove",{nativeEvent:!0})},ft=(St,Ut)=>{const ce=W[Ut],{name:be}=ce.getOptions(),Le=St.map(nn=>{const De=nn.__data__;return ce.invert(De[be])});return Y(bc(ce,Le))},ot=E.some(u)&&E.some(St=>!u(St)),J=[];for(let St=0;St<E.length;St++){const Ut=E[St],ce=u(Ut)?AH:CH,{hotZone:be,brushRegion:Le,extent:nn}=ce(Ut,{offsetY:p,offsetX:g,cross:ot,zIndex:999,fill:"transparent"});Ut.parentNode.appendChild(be);const De=gB(be,Object.assign(Object.assign({},z),{reverse:m,brushRegion:Le,brushended(en){N.delete(Ut),Array.from(N.entries()).length===0?Q(en):$(St,en)},brushed(en,cn,an,Rn,Tn){N.set(Ut,nn(en,cn,an,Rn)),$(St,Tn)}}));J.push(De)}const st=(St={})=>{const{nativeEvent:Ut}=St;Ut||J.forEach(ce=>ce.remove(!1))},gt=(St,Ut,ce)=>{const[be,Le]=St,nn=cn=>cn.getStep?cn.getStep():0,De=Mt(be,Ut,ce),en=Mt(Le,Ut,ce)+nn(Ut);return u(ce)?[De,-1/0,en,1/0]:[-1/0,De,1/0,en]},Mt=(St,Ut,ce)=>{const{height:be,width:Le}=M.getOptions(),nn=Ut.clone();return u(ce)?nn.update({range:[0,Le]}):nn.update({range:[be,0]}),nn.map(St)},At=St=>{const{nativeEvent:Ut}=St;if(Ut)return;const{selection:ce}=St.data;for(let be=0;be<J.length;be++){const Le=ce[be],nn=J[be],De=E[be];if(Le){const en=W[be];nn.move(...gt(Le,en,De),!1)}else nn.remove(!1)}};return w.on("brushAxis:remove",st),w.on("brushAxis:highlight",At),()=>{J.forEach(St=>St.destroy()),w.off("brushAxis:remove",st),w.off("brushAxis:highlight",At)}}function EH(t){return(e,r,i)=>{const{container:l,view:u,options:h}=e,p=dn(l),{x:g,y:m}=p.getBBox(),{coordinate:x}=u;return TH(l,Object.assign({elements:Pn,axes:_H,offsetY:m,offsetX:g,points:w=>w.__data__.points,horizontal:w=>{const{startPos:[M,O],endPos:[A,E]}=w.attributes;return M!==A&&O===E},datum:Xn(u),state:si(h,["active",["inactive",{opacity:.5}]]),coordinate:x,emitter:i},t))}}var kH=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},uz=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function PH(t=300){let e=null;return r=>{const{timeStamp:i}=r;return e!==null&&i-e<t?(e=i,!0):(e=i,!1)}}function LH(t,e){var{filter:r,reset:i,brushRegion:l,extent:u,reverse:h,emitter:p,scale:g,coordinate:m,selection:x,series:w=!1}=e,M=uz(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const O=kn(M,"mask"),{width:A,height:E}=t.getBBox(),P=u||[0,0,A,E],I=PH(),F=gB(t,Object.assign(Object.assign({},O),{extent:P,brushRegion:l,reverse:h,brushcreated:N}));t.addEventListener("click",z);function N(W,Y,U,X,$){$.nativeEvent=!0,r(x(W,Y,U,X),$),F.remove()}function z(W){I(W)&&(W.nativeEvent=!0,i(W))}const G=({nativeEvent:W,data:Y})=>{if(W)return;const{selection:U}=Y;r(U,{nativeEvent:!1})};return p.on("brush:filter",G),()=>{F.destroy(),p.off("brush:filter",G),t.removeEventListener("click",z)}}function MB(t){var{hideX:e=!0,hideY:r=!0}=t,i=uz(t,["hideX","hideY"]);return(l,u,h)=>{const{container:p,view:g,options:m,update:x,setState:w}=l,M=dn(p),O={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let A=!1,E=!1,P=g;const{scale:I,coordinate:F}=g;return LH(M,Object.assign(Object.assign({brushRegion:(N,z,G,W)=>[N,z,G,W],selection:(N,z,G,W)=>{const{scale:Y,coordinate:U}=P;return Kb(N,z,G,W,Y,U)},filter:(N,z)=>kH(this,void 0,void 0,function*(){if(E)return;E=!0;const[G,W]=N;w("brushFilter",U=>{const{marks:X}=U,$=X.map(Q=>sn({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),r&&{y:{transform:[{type:"hide"}]}})},Q,{scale:{x:{domain:G,nice:!1},y:{domain:W,nice:!1}}}));return Object.assign(Object.assign({},m),{marks:$,clip:!0})}),h.emit("brush:filter",Object.assign(Object.assign({},z),{data:{selection:[G,W]}})),P=(yield x()).view,E=!1,A=!0}),reset:N=>{if(E||!A)return;const{scale:z}=g,{x:G,y:W}=z,Y=G.getOptions().domain,U=W.getOptions().domain;h.emit("brush:filter",Object.assign(Object.assign({},N),{data:{selection:[Y,U]}})),A=!1,P=g,w("brushFilter"),x()},extent:void 0,emitter:h,scale:I,coordinate:F},O),i))}}function IH(t){return MB(Object.assign(Object.assign({hideX:!0},t),{brushRegion:xB}))}function RH(t){return MB(Object.assign(Object.assign({hideY:!0},t),{brushRegion:bB}))}var FH=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})};const DH="slider";function BH(t,e,r,i=!1){const{marks:l}=t,u=l.map(h=>{var p,g;return sn({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},h,{scale:e,[r]:Object.assign(Object.assign({},((p=h[r])===null||p===void 0?void 0:p.x)&&{x:Object.assign({preserve:!0},i&&{ratio:null})}),((g=h[r])===null||g===void 0?void 0:g.y)&&{y:Object.assign({preserve:!0},i&&{ratio:null})}),animate:!1})});return Object.assign(Object.assign({},t),{marks:u,clip:!0,animate:!1})}function NH(t,e,r){const[i,l]=t,u=r?g=>1-g:g=>g,h=Cu(e,u(i),!0),p=Cu(e,u(l),!1);return bc(e,[h,p])}function gE(t){return[t[0],t[t.length-1]]}function fz({channelDomain:t,className:e=DH,prefix:r="slider",setValue:i=(g,m)=>g.setValues(m),hasState:l=!1,wait:u=50,leading:h=!0,trailing:p=!1}){return(g,m,x)=>{const{container:w,view:M,update:O,setState:A}=g,E=w.getElementsByClassName(e);if(!E.length)return()=>{};let P=!1;const{scale:I,coordinate:F,layout:N}=M,{paddingLeft:z,paddingTop:G,paddingBottom:W,paddingRight:Y}=N,{x:U,y:X}=I,$=gi(F),Q=J=>{const st=J==="vertical"?"y":"x",gt=J==="vertical"?"x":"y";return $?[gt,st]:[st,gt]},ft=new Map,ot=new Set;t||(t={x:U.getOptions().domain,y:X.getOptions().domain});for(const J of E){const{orientation:st}=J.attributes,[gt,Mt]=Q(st),At=`${r}${hc(gt)}:filter`,St=gt==="x",{ratio:Ut}=U.getOptions(),{ratio:ce}=X.getOptions(),be=De=>{if(De.data){const{selection:Tn}=De.data,[Vn=gE(t.x),ur=gE(t.y)]=Tn;return St?[bc(U,Vn,Ut),bc(X,ur,ce)]:[bc(X,ur,ce),bc(U,Vn,Ut)]}const{value:en}=De.detail,cn=I[gt],an=NH(en,cn,$&&st==="horizontal"),Rn=t[Mt];return[an,Rn]},Le=eh(De=>FH(this,void 0,void 0,function*(){if(P)return;P=!0;const{nativeEvent:en=!0}=De,[cn,an]=be(De);if(t[gt]=cn,t[Mt]=an,en){const Rn=St?cn:an,Tn=St?an:cn;x.emit(At,Object.assign(Object.assign({},De),{nativeEvent:en,data:{selection:[gE(Rn),gE(Tn)]}}))}A(J,Rn=>Object.assign(Object.assign({},BH(Rn,{[gt]:{domain:cn,nice:!1},[Mt]:{domain:an,nice:!1}},r,l)),{paddingLeft:z,paddingTop:G,paddingBottom:W,paddingRight:Y})),yield O(),P=!1}),u,{leading:h,trailing:p}),nn=De=>{const{nativeEvent:en}=De;if(en)return;const{data:cn}=De,{selection:an}=cn,[Rn,Tn]=an;J.dispatchEvent(new qr("valuechange",{data:cn,nativeEvent:!1}));const Vn=St?Lg(Rn,U):Lg(Tn,X);i(J,Vn)};x.on(At,nn),J.addEventListener("valuechange",Le),ft.set(J,Le),ot.add([At,nn])}return()=>{for(const[J,st]of ft)J.removeEventListener("valuechange",st);for(const[J,st]of ot)x.off(J,st)}}}const hz="g2-scrollbar";function zH(t={}){return(e,r,i)=>{const{view:l,container:u}=e;if(!u.getElementsByClassName(hz).length)return()=>{};const{scale:p}=l,{x:g,y:m}=p,x={x:g.getOptions().domain,y:m.getOptions().domain};return g.update({domain:g.getOptions().expectedDomain}),m.update({domain:m.getOptions().expectedDomain}),fz(Object.assign(Object.assign({},t),{channelDomain:x,className:hz,prefix:"scrollbar",hasState:!0,setValue:(M,O)=>M.setValue(O[0])}))(e,r,i)}}function SB(t){return t.replace(/-(\w)/g,function(e,r){return r.toUpperCase()})}function jH(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var GH=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function WH(t,e,r){return`<${t} style="${Object.entries(r).map(([i,l])=>`${jH(i)}:${l}`).join(";")}">${e}</${t}>`}const VH={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function dz(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function HH(t){var{offsetX:e=8,offsetY:r=8}=t,i=GH(t,["offsetX","offsetY"]);return l=>{const{container:u}=l,[h,p]=u.getBounds().min,g=kn(i,"tip"),m=new Set,x=M=>{const{target:O}=M;if(!dz(O)){M.stopPropagation();return}const{offsetX:A,offsetY:E}=M,P=A+e-h,I=E+r-p;if(O.tip){O.tip.style.x=P,O.tip.style.y=I;return}const{text:F}=O.style,N=new no({className:"poptip",style:{innerHTML:WH("div",F,Object.assign(Object.assign({},VH),g)),x:P,y:I}});u.appendChild(N),O.tip=N,m.add(N)},w=M=>{const{target:O}=M;if(!dz(O)){M.stopPropagation();return}O.tip&&(O.tip.remove(),O.tip=null,m.delete(O.tip))};return u.addEventListener("pointerover",x),u.addEventListener("pointerout",w),()=>{u.removeEventListener("pointerover",x),u.removeEventListener("pointerout",w),m.forEach(M=>M.remove())}}}var YH=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Rg(t){return(e,...r)=>sn({},t(e,...r),e)}function Fg(t){return(e,...r)=>sn({},e,t(e,...r))}function _B(t,e){if(!t)return e;if(Array.isArray(t))return t;const{value:r=e}=t,i=YH(t,["value"]);return Object.assign(Object.assign({},i),{value:r})}var UH=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const pz=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:r=0,y:i=0,width:l,height:u,data:h}=t;return e.map(p=>{var{data:g,x:m,y:x,width:w,height:M}=p,O=UH(p,["data","x","y","width","height"]);return Object.assign(Object.assign({},O),{data:_B(g,h),x:m!=null?m:r,y:x!=null?x:i,width:w!=null?w:l,height:M!=null?M:u})})};pz.props={};var XH=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const vz=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:r="row",ratio:i=e.map(()=>1),padding:l=0,data:u}=t,[h,p,g,m]=r==="col"?["y","height","width","x"]:["x","width","height","y"],x=i.reduce((E,P)=>E+P),w=t[p]-l*(e.length-1),M=i.map(E=>w*(E/x)),O=[];let A=t[h]||0;for(let E=0;E<M.length;E+=1){const P=e[E],{data:I}=P,F=XH(P,["data"]),N=_B(I,u);O.push(Object.assign({[h]:A,[p]:M[E],[m]:t[m]||0,[g]:t[g],data:N},F)),A+=M[E]+l}return O};vz.props={};class i2{constructor(e){this.$value=e}static of(e){return new i2(e)}call(e,...r){return this.$value=e(this.$value,...r),this}value(){return this.$value}}var ZH=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const qH=Rg(t=>{const{encode:e,data:r,scale:i,shareSize:l=!1}=t,{x:u,y:h}=e,p=(g,m)=>{var x;if(g===void 0||!l)return{};const w=oi(r,A=>A[g]),M=((x=i==null?void 0:i[m])===null||x===void 0?void 0:x.domain)||Array.from(w.keys()),O=M.map(A=>w.has(A)?w.get(A).length:1);return{domain:M,flex:O}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:u===void 0?null:{position:"top"}},u===void 0&&{paddingInner:0}),p(u,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:h===void 0?null:{position:"right"}},h===void 0&&{paddingInner:0}),p(h,"y"))}}}),OB=Rg(t=>{const{data:e,scale:r}=t,i=[t];let l,u,h;for(;i.length;){const w=i.shift(),{children:M,encode:O={},scale:A={},legend:E={}}=w,{color:P}=O,{color:I}=A,{color:F}=E;P!==void 0&&(l=P),I!==void 0&&(u=I),F!==void 0&&(h=F),Array.isArray(M)&&i.push(...M)}const p=()=>{var w;const M=(w=r==null?void 0:r.color)===null||w===void 0?void 0:w.domain;if(M!==void 0)return[M];if(l===void 0)return[void 0];const O=typeof l=="function"?l:E=>E[l],A=e.map(O);return A.some(E=>typeof E=="number")?[al(A)]:[Array.from(new Set(A)),"ordinal"]},g=typeof l=="string"?l:"",[m,x]=p();return{encode:{color:l},scale:{color:sn({},u,{domain:m,type:x})},legend:{color:sn({title:g},h)}}}),CB=Rg(()=>({animate:{enterType:"fadeIn"}})),AB=Fg(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),TB=Fg(()=>({type:"cell"})),gz=Fg(t=>{const{data:e}=t;return{data:{type:"inline",value:e,transform:[{type:"custom",callback:()=>{const{data:i,encode:l}=t,{x:u,y:h}=l,p=u?Array.from(new Set(i.map(x=>x[u]))):[],g=h?Array.from(new Set(i.map(x=>x[h]))):[];return(()=>{if(p.length&&g.length){const x=[];for(const w of p)for(const M of g)x.push({[u]:w,[h]:M});return x}if(p.length)return p.map(x=>({[u]:x}));if(g.length)return g.map(x=>({[h]:x}))})()}}]}}}),yz=Fg((t,e=$H,r=KH,i=JH,l={})=>{const{data:u,encode:h,children:p,scale:g,x:m=0,y:x=0,shareData:w=!1,key:M}=t,{value:O}=u,{x:A,y:E}=h,{color:P}=g,{domain:I}=P;return{children:(N,z,G)=>{const{x:W,y:Y}=z,{paddingLeft:U,paddingTop:X,marginLeft:$,marginTop:Q}=G,{domain:ft}=W.getOptions(),{domain:ot}=Y.getOptions(),J=Ya(N),st=N.map(e),gt=N.map(({x:be,y:Le})=>[W.invert(be),Y.invert(Le)]),At=gt.map(([be,Le])=>nn=>{const{[A]:De,[E]:en}=nn;return(A!==void 0?De===be:!0)&&(E!==void 0?en===Le:!0)}).map(be=>O.filter(be)),St=w?zr(At,be=>be.length):void 0,Ut=gt.map(([be,Le])=>({columnField:A,columnIndex:ft.indexOf(be),columnValue:be,columnValuesLength:ft.length,rowField:E,rowIndex:ot.indexOf(Le),rowValue:Le,rowValuesLength:ot.length})),ce=Ut.map(be=>Array.isArray(p)?p:[p(be)].flat(1));return J.flatMap(be=>{const[Le,nn,De,en]=st[be],cn=Ut[be],an=At[be];return ce[be].map(Tn=>{var Vn,ur,{scale:Fn,key:Gn,facet:lr=!0,axis:dr={},legend:Yr={}}=Tn,jr=ZH(Tn,["scale","key","facet","axis","legend"]);const $i=((Vn=Fn==null?void 0:Fn.y)===null||Vn===void 0?void 0:Vn.guide)||dr.y,Ka=((ur=Fn==null?void 0:Fn.x)===null||ur===void 0?void 0:ur.guide)||dr.x,Ks={x:{tickCount:A?5:void 0},y:{tickCount:E?5:void 0}},Ro=lr?an:an.length===0?[]:O,bl={color:{domain:I}},Ep={x:mz(Ka,r)(cn,Ro),y:mz($i,i)(cn,Ro)};return Object.assign(Object.assign({key:`${Gn}-${be}`,data:Ro,margin:0,x:Le+U+m+$,y:nn+X+x+Q,parentKey:M,width:De,height:en,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Ro.length,dataDomain:St,scale:sn(Ks,Fn,bl),axis:sn({},dr,Ep),legend:!1},jr),l)})})}}});function $H(t){const{points:e}=t;return Hm(e)}function yE(t,e){return e.length?sn({title:!1,tick:null,label:null},t):sn({title:!1,tick:null,label:null,grid:null},t)}function KH(t){return(e,r)=>{const{rowIndex:i,rowValuesLength:l,columnIndex:u,columnValuesLength:h}=e;if(i!==l-1)return yE(t,r);const p=u!==h-1?!1:void 0,g=r.length?void 0:null;return sn({title:p,grid:g},t)}}function JH(t){return(e,r)=>{const{rowIndex:i,columnIndex:l}=e;if(l!==0)return yE(t,r);const u=i!==0?!1:void 0,h=r.length?void 0:null;return sn({title:u,grid:h},t)}}function mz(t,e){return typeof t=="function"?t:t===null||t===!1?()=>null:e(t)}const xz=()=>t=>[i2.of(t).call(TB).call(OB).call(CB).call(qH).call(AB).call(gz).call(yz).value()];xz.props={};var EB=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const QH=Rg(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),tY=Fg(t=>{const{data:e,children:r,x:i=0,y:l=0,key:u}=t;return{children:(p,g,m)=>{const{x,y:w}=g,{paddingLeft:M,paddingTop:O,marginLeft:A,marginTop:E}=m,{domain:P}=x.getOptions(),{domain:I}=w.getOptions(),F=Ya(p),N=p.map(({points:Y})=>Hm(Y)),z=p.map(({x:Y,y:U})=>[x.invert(Y),w.invert(U)]),G=z.map(([Y,U])=>({columnField:Y,columnIndex:P.indexOf(Y),columnValue:Y,columnValuesLength:P.length,rowField:U,rowIndex:I.indexOf(U),rowValue:U,rowValuesLength:I.length})),W=G.map(Y=>Array.isArray(r)?r:[r(Y)].flat(1));return F.flatMap(Y=>{const[U,X,$,Q]=N[Y],[ft,ot]=z[Y],J=G[Y];return W[Y].map(gt=>{var Mt,At;const{scale:St,key:Ut,encode:ce,axis:be}=gt,Le=EB(gt,["scale","key","encode","axis"]),nn=(Mt=St==null?void 0:St.y)===null||Mt===void 0?void 0:Mt.guide,De=(At=St==null?void 0:St.x)===null||At===void 0?void 0:At.guide,en={x:{facet:!1},y:{facet:!1}},cn={x:nY(De)(J,e),y:rY(nn)(J,e)},an={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:u,key:`${Ut}-${Y}`,x:U+M+i+A,y:X+O+l+E,width:$,height:Q,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:sn(en,St),axis:sn(an,be,cn),legend:!1,encode:sn({},ce,{x:ft,y:ot})},Le)})})}}}),eY=Fg(t=>{const{encode:e}=t,r=EB(t,["encode"]),{position:i=[],x:l=i,y:u=[...i].reverse()}=e,h=EB(e,["position","x","y"]),p=[];for(const g of[l].flat(1))for(const m of[u].flat(1))p.push({$x:g,$y:m});return Object.assign(Object.assign({},r),{data:p,encode:Object.assign(Object.assign({},h),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[l].flat(1).length===1&&{x:{paddingInner:0}}),[u].flat(1).length===1&&{y:{paddingInner:0}})})});function nY(t){return typeof t=="function"?t:t===null?()=>null:(e,r)=>{const{rowIndex:i,rowValuesLength:l}=e;if(i!==l-1)return yE(t,r)}}function rY(t){return typeof t=="function"?t:t===null?()=>null:(e,r)=>{const{columnIndex:i}=e;if(i!==0)return yE(t,r)}}const iY=()=>t=>[i2.of(t).call(TB).call(OB).call(tY).call(eY).call(CB).call(AB).call(QH).value()];var aY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const oY=Rg(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),sY=Rg(t=>({coordinate:{type:"polar"}})),lY=t=>{const{encode:e}=t,r=aY(t,["encode"]),{position:i}=e;return Object.assign(Object.assign({},r),{encode:{x:i}})};function bz(t){return e=>null}function cY(t){const{points:e}=t,[r,i,l,u]=e,h=mi(r,u),p=ui(r,u),g=ui(i,l),m=Vm(p,g),x=1/Math.sin(m/2),w=h/(1+x),M=w*Math.sqrt(2),[O,A]=l,P=au(p)+m/2,I=w*x,F=O+I*Math.sin(P),N=A+I*Math.cos(P);return[F-M/2,N-M/2,M,M]}const uY=()=>t=>[i2.of(t).call(TB).call(lY).call(OB).call(sY).call(gz).call(yz,cY,bz,bz,{frame:!1}).call(CB).call(AB).call(oY).value()];function fY(t,e,r){const l=r,u=[0,l],h=[-l+1,-0+1];if(t==="normal")return u;if(t==="reverse")return h;if(t==="alternate")return e%2===0?u:h;if(t==="reverse-alternate")return e%2===0?h:u}function hY(t,e,r){const i=[t];for(;i.length;){const l=i.pop();l.animate=sn({enter:{duration:e},update:{duration:e,easing:r,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},l.animate||{});const{children:u}=l;Array.isArray(u)&&i.push(...u)}return t}const wz=()=>t=>{const{children:e=[],duration:r=1e3,iterationCount:i=1,direction:l="normal",easing:u="ease-in-out-sine"}=t,h=e.length;if(!Array.isArray(e)||h===0)return[];const{key:p}=e[0],g=e.map(m=>Object.assign(Object.assign({},m),{key:p})).map(m=>hY(m,r,u));return function*(){let m=0,x;for(;i==="infinite"||m<i;){const[w,M]=fY(l,m,h);for(let O=w;O<M;O+=1){const A=Math.abs(O);x!==A&&(yield g[A]),x=A}m++}}};wz.props={};function Dg(t,e){let r,i=-1,l=-1;if(e===void 0)for(const u of t)++l,u!=null&&(r<u||r===void 0&&u>=u)&&(r=u,i=l);else for(let u of t)(u=e(u,++l,t))!=null&&(r<u||r===void 0&&u>=u)&&(r=u,i=l);return i}function nh(t,e,r){const{encode:i}=r;if(t===null)return[e];const l=dY(t).map(h=>{var p;return[h,(p=Cr(i,h))===null||p===void 0?void 0:p[0]]}).filter(([,h])=>yi(h)),u=h=>l.map(([,p])=>p[h]).join("-");return Array.from(oi(e,u).values())}function Mz(t){return Array.isArray(t)?gY(t):typeof t=="function"?vY(t):t==="series"?pY:t==="value"?yY:t==="sum"?mY:t==="maxIndex"?xY:()=>null}function Sz(t,e){for(const r of t)r.sort(e)}function _z(t,e){return(e==null?void 0:e.domain)||Array.from(new Set(t))}function dY(t){return Array.isArray(t)?t:[t]}function pY(t,e,r){return a2(i=>r[i])}function vY(t){return(e,r,i)=>a2(l=>t(e[l]))}function gY(t){return(e,r,i)=>(l,u)=>t.reduce((h,p)=>h!==0?h:Ci(e[l][p],e[u][p]),0)}function yY(t,e,r){return a2(i=>e[i])}function mY(t,e,r){const i=Ya(t),l=Array.from(oi(i,h=>r[+h]).entries()),u=new Map(l.map(([h,p])=>[h,p.reduce((g,m)=>g+ +e[m])]));return a2(h=>u.get(r[h]))}function xY(t,e,r){const i=Ya(t),l=Array.from(oi(i,h=>r[+h]).entries()),u=new Map(l.map(([h,p])=>[h,Dg(p,g=>e[g])]));return a2(h=>u.get(r[h]))}function a2(t){return(e,r)=>Ci(t(e),t(r))}const Oz=(t={})=>{const{groupBy:e="x",orderBy:r=null,reverse:i=!1,y:l="y",y1:u="y1",series:h=!0}=t;return(p,g)=>{const{data:m,encode:x,style:w={}}=g,[M,O]=Cr(x,"y"),[A,E]=Cr(x,"y1"),[P]=h?Qv(x,"series","color"):Cr(x,"color"),I=nh(e,p,g),N=Mz(r)(m,M,P);N&&Sz(I,N);const z=new Array(p.length),G=new Array(p.length),W=new Array(p.length),Y=[],U=[];for(const ot of I){i&&ot.reverse();const J=A?+A[ot[0]]:0,st=[],gt=[];for(const Le of ot){const nn=W[Le]=+M[Le]-J;nn<0?gt.push(Le):nn>=0&&st.push(Le)}const Mt=st.length>0?st:gt,At=gt.length>0?gt:st;let St=st.length-1,Ut=0;for(;St>0&&M[Mt[St]]===0;)St--;for(;Ut<At.length-1&&M[At[Ut]]===0;)Ut++;Y.push(Mt[St]),U.push(At[Ut]);let ce=J;for(const Le of gt.reverse()){const nn=W[Le];ce=z[Le]=(G[Le]=ce)+nn}let be=J;for(const Le of st){const nn=W[Le];nn>0?be=z[Le]=(G[Le]=be)+nn:z[Le]=G[Le]=be}}const X=new Set(Y),$=new Set(U),Q=l==="y"?z:G,ft=u==="y"?z:G;return[p,sn({},g,{encode:{y0:Qh(M,O),y:ki(Q,O),y1:ki(ft,E)},style:Object.assign({first:(ot,J)=>X.has(J),last:(ot,J)=>$.has(J)},w)})]}};Oz.props={};function Cz(t,e){let r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++r;else{let i=-1;for(let l of t)(l=e(l,++i,t))!=null&&(l=+l)>=l&&++r}return r}function bY(t,e){let r=0,i,l=0,u=0;if(e===void 0)for(let h of t)h!=null&&(h=+h)>=h&&(i=h-l,l+=i/++r,u+=i*(h-l));else{let h=-1;for(let p of t)(p=e(p,++h,t))!=null&&(p=+p)>=p&&(i=p-l,l+=i/++r,u+=i*(p-l))}if(r>1)return u/(r-1)}function Az(t,e){const r=bY(t,e);return r&&Math.sqrt(r)}function wY(t,e,r){const i=Cz(t),l=Az(t);return i&&l?Math.ceil((r-e)*Math.cbrt(i)/(3.49*l)):1}var Tz=Array.prototype,MY=Tz.slice,mnt=Tz.map;function kB(t){return()=>t}const SY=Math.sqrt(50),_Y=Math.sqrt(10),OY=Math.sqrt(2);function mE(t,e,r){const i=(e-t)/Math.max(0,r),l=Math.floor(Math.log10(i)),u=i/Math.pow(10,l),h=u>=SY?10:u>=_Y?5:u>=OY?2:1;let p,g,m;return l<0?(m=Math.pow(10,-l)/h,p=Math.round(t*m),g=Math.round(e*m),p/m<t&&++p,g/m>e&&--g,m=-m):(m=Math.pow(10,l)*h,p=Math.round(t/m),g=Math.round(e/m),p*m<t&&++p,g*m>e&&--g),g<p&&.5<=r&&r<2?mE(t,e,r*2):[p,g,m]}function CY(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[l,u,h]=i?mE(e,t,r):mE(t,e,r);if(!(u>=l))return[];const p=u-l+1,g=new Array(p);if(i)if(h<0)for(let m=0;m<p;++m)g[m]=(u-m)/-h;else for(let m=0;m<p;++m)g[m]=(u-m)*h;else if(h<0)for(let m=0;m<p;++m)g[m]=(l+m)/-h;else for(let m=0;m<p;++m)g[m]=(l+m)*h;return g}function o2(t,e,r){return e=+e,t=+t,r=+r,mE(t,e,r)[2]}function xnt(t,e,r){e=+e,t=+t,r=+r;const i=e<t,l=i?o2(e,t,r):o2(t,e,r);return(i?-1:1)*(l<0?1/-l:l)}function AY(t,e,r){let i;for(;;){const l=o2(t,e,r);if(l===i||l===0||!isFinite(l))return[t,e];l>0?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):l<0&&(t=Math.ceil(t*l)/l,e=Math.floor(e*l)/l),i=l}}function TY(t){return Math.max(1,Math.ceil(Math.log(Cz(t))/Math.LN2)+1)}function EY(){var t=ad,e=al,r=TY;function i(l){Array.isArray(l)||(l=Array.from(l));var u,h=l.length,p,g,m=new Array(h);for(u=0;u<h;++u)m[u]=t(l[u],u,l);var x=e(m),w=x[0],M=x[1],O=r(m,w,M);if(!Array.isArray(O)){const N=M,z=+O;if(e===al&&([w,M]=AY(w,M,z)),O=CY(w,M,z),O[0]<=w&&(g=o2(w,M,z)),O[O.length-1]>=M)if(N>=M&&e===al){const G=o2(w,M,z);isFinite(G)&&(G>0?M=(Math.floor(M/G)+1)*G:G<0&&(M=(Math.ceil(M*-G)+1)/-G))}else O.pop()}for(var A=O.length,E=0,P=A;O[E]<=w;)++E;for(;O[P-1]>M;)--P;(E||P<A)&&(O=O.slice(E,P),A=P-E);var I=new Array(A+1),F;for(u=0;u<=A;++u)F=I[u]=[],F.x0=u>0?O[u-1]:w,F.x1=u<A?O[u]:M;if(isFinite(g)){if(g>0)for(u=0;u<h;++u)(p=m[u])!=null&&w<=p&&p<=M&&I[Math.min(A,Math.floor((p-w)/g))].push(l[u]);else if(g<0){for(u=0;u<h;++u)if((p=m[u])!=null&&w<=p&&p<=M){const N=Math.floor((w-p)*g);I[Math.min(A,N+(O[N]<=p))].push(l[u])}}}else for(u=0;u<h;++u)(p=m[u])!=null&&w<=p&&p<=M&&I[Q3(O,p,0,A)].push(l[u]);return I}return i.value=function(l){return arguments.length?(t=typeof l=="function"?l:kB(l),i):t},i.domain=function(l){return arguments.length?(e=typeof l=="function"?l:kB([l[0],l[1]]),i):e},i.thresholds=function(l){return arguments.length?(r=typeof l=="function"?l:kB(Array.isArray(l)?MY.call(l):l),i):r},i}function PB(t,e,r=0,i=1/0,l){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),i=Math.floor(Math.min(t.length-1,i)),!(r<=e&&e<=i))return t;for(l=l===void 0?gp:nE(l);i>r;){if(i-r>600){const g=i-r+1,m=e-r+1,x=Math.log(g),w=.5*Math.exp(2*x/3),M=.5*Math.sqrt(x*w*(g-w)/g)*(m-g/2<0?-1:1),O=Math.max(r,Math.floor(e-m*w/g+M)),A=Math.min(i,Math.floor(e+(g-m)*w/g+M));PB(t,e,O,A,l)}const u=t[e];let h=r,p=i;for(s2(t,r,e),l(t[i],u)>0&&s2(t,r,i);h<p;){for(s2(t,h,p),++h,--p;l(t[h],u)<0;)++h;for(;l(t[p],u)>0;)--p}l(t[r],u)===0?s2(t,r,p):(++p,s2(t,p,i)),p<=e&&(r=p+1),e<=p&&(i=p-1)}return t}function s2(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function kY(t,e=Ci){let r,i=!1;if(e.length===1){let l;for(const u of t){const h=e(u);(i?Ci(h,l)>0:Ci(h,h)===0)&&(r=u,l=h,i=!0)}}else for(const l of t)(i?e(l,r)>0:e(l,l)===0)&&(r=l,i=!0);return r}function xE(t,e,r){if(t=Float64Array.from(pp(t,r)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return Co(t);if(e>=1)return zr(t);var i,l=(i-1)*e,u=Math.floor(l),h=zr(PB(t,u).subarray(0,u+1)),p=Co(t.subarray(u+1));return h+(p-h)*(l-u)}}function bnt(t,e,r=number){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+r(t[0],0,t);if(e>=1)return+r(t[i-1],i-1,t);var i,l=(i-1)*e,u=Math.floor(l),h=+r(t[u],u,t),p=+r(t[u+1],u+1,t);return h+(p-h)*(l-u)}}function PY(t,e,r=dp){if(!isNaN(e=+e)){if(i=Float64Array.from(t,(p,g)=>dp(r(t[g],g,t))),e<=0)return pE(i);if(e>=1)return Dg(i);var i,l=Uint32Array.from(t,(p,g)=>g),u=i.length-1,h=Math.floor(u*e);return PB(l,h,0,u,(p,g)=>gp(i[p],i[g])),h=kY(l.subarray(0,h+1),p=>i[p]),h>=0?h:-1}}function LB(t,e){return xE(t,.5,e)}function LY(t,e){return PY(t,.5,e)}function Xs(t,e){let r=0;if(e===void 0)for(let i of t)(i=+i)&&(r+=i);else{let i=-1;for(let l of t)(l=+e(l,++i,t))&&(r+=l)}return r}var IY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function rh(t){return e=>e===null?t:`${t} of ${e}`}function RY(t){if(typeof t=="function")return[t,null];const r={mean:FY,max:BY,count:zY,first:GY,last:WY,sum:jY,min:NY,median:DY}[t];if(!r)throw new Error(`Unknown reducer: ${t}.`);return r()}function FY(){const t=(r,i)=>n2(r,l=>+i[l]),e=rh("mean");return[t,e]}function DY(){const t=(r,i)=>LB(r,l=>+i[l]),e=rh("median");return[t,e]}function BY(){const t=(r,i)=>zr(r,l=>+i[l]),e=rh("max");return[t,e]}function NY(){const t=(r,i)=>Co(r,l=>+i[l]),e=rh("min");return[t,e]}function zY(){const t=(r,i)=>r.length,e=rh("count");return[t,e]}function jY(){const t=(r,i)=>Xs(r,l=>+i[l]),e=rh("sum");return[t,e]}function GY(){const t=(r,i)=>i[r[0]],e=rh("first");return[t,e]}function WY(){const t=(r,i)=>i[r[r.length-1]],e=rh("last");return[t,e]}const IB=(t={})=>{const{groupBy:e}=t,r=IY(t,["groupBy"]);return(i,l)=>{const{data:u,encode:h}=l,p=e(i,l);if(!p)return[i,l];const g=(O,A)=>{if(O)return O;const{from:E}=A;if(!E)return O;const[,P]=Cr(h,E);return P},m=Object.entries(r).map(([O,A])=>{const[E,P]=RY(A),[I,F]=Cr(h,O),N=g(F,A),z=p.map(G=>E(G,I!=null?I:u));return[O,Object.assign(Object.assign({},SL(z,(P==null?void 0:P(N))||N)),{aggregate:!0})]}),x=Object.keys(h).map(O=>{const[A,E]=Cr(h,O),P=p.map(I=>A[I[0]]);return[O,ki(P,E)]}),w=p.map(O=>u[O[0]]);return[Ya(p),sn({},l,{data:w,encode:Object.fromEntries([...x,...m])})]}};IB.props={};var VY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Ez="thresholds";function HY(t){const[e,r]=al(t);return Math.min(200,wY(t,e,r))}const RB=(t={})=>{const{groupChannels:e=["color"],binChannels:r=["x","y"]}=t,i=VY(t,["groupChannels","binChannels"]),l={},u=(h,p)=>{const{encode:g}=p,m=r.map(A=>{const[E]=Cr(g,A);return E}),x=kn(i,Ez),w=h.filter(A=>m.every(E=>yi(E[A]))),M=[...e.map(A=>{const[E]=Cr(g,A);return E}).filter(yi).map(A=>E=>A[E]),...r.map((A,E)=>{const P=m[E],I=x[A]||HY(P),F=EY().thresholds(I).value(z=>+P[z])(w),N=new Map(F.flatMap(z=>{const{x0:G,x1:W}=z,Y=`${G},${W}`;return z.map(U=>[U,Y])}));return l[A]=N,z=>N.get(z)})],O=A=>M.map(E=>E(A)).join("-");return Array.from(oi(w,O).values())};return IB(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(i).filter(([h])=>!h.startsWith(Ez)))),Object.fromEntries(r.flatMap(h=>{const p=([m])=>+l[h].get(m).split(",")[0],g=([m])=>+l[h].get(m).split(",")[1];return g.from=h,[[h,p],[`${h}1`,g]]}))),{groupBy:u}))};RB.props={};const kz=(t={})=>{const{thresholds:e}=t;return RB(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};kz.props={};var YY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Pz=(t={})=>{const{groupBy:e="x",reverse:r=!1,orderBy:i,padding:l}=t,u=YY(t,["groupBy","reverse","orderBy","padding"]);return(h,p)=>{const{data:g,encode:m,scale:x}=p,{series:w}=x,[M]=Cr(m,"y"),[O]=Qv(m,"series","color"),A=_z(O,w),E=nh(e,h,p),I=Mz(i)(g,M,O);I&&Sz(E,I);const F=new Array(h.length);for(const N of E){r&&N.reverse();for(let z=0;z<N.length;z++)F[N[z]]=A[z]}return[h,sn({},p,{scale:{series:{domain:A,paddingInner:l}},encode:{series:ki(F)}})]}};Pz.props={};function FB(t,e,r){if(t===null)return[-.5,.5];const i=_z(t,e),u=new yd({domain:i,range:[0,1],padding:r}).getBandWidth();return[-u/2,u/2]}function DB(t,e,r){return e*(1-t)+r*t}const Lz=(t={})=>{const{padding:e=0,paddingX:r=e,paddingY:i=e,random:l=Math.random}=t;return(u,h)=>{const{encode:p,scale:g}=h,{x:m,y:x}=g,[w]=Cr(p,"x"),[M]=Cr(p,"y"),O=FB(w,m,r),A=FB(M,x,i),E=u.map(()=>DB(l(),...A)),P=u.map(()=>DB(l(),...O));return[u,sn({scale:{x:{padding:.5},y:{padding:.5}}},h,{encode:{dy:ki(E),dx:ki(P)}})]}};Lz.props={};const Iz=(t={})=>{const{padding:e=0,random:r=Math.random}=t;return(i,l)=>{const{encode:u,scale:h}=l,{x:p}=h,[g]=Cr(u,"x"),m=FB(g,p,e),x=i.map(()=>DB(r(),...m));return[i,sn({scale:{x:{padding:.5}}},l,{encode:{dx:ki(x)}})]}};Iz.props={};var UY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Rz=(t={})=>{const{groupBy:e="x"}=t;return(r,i)=>{const{encode:l}=i,{x:u}=l,h=UY(l,["x"]),p=Object.entries(h).filter(([M])=>M.startsWith("y")).map(([M])=>[M,Cr(l,M)[0]]),g=p.map(([M])=>[M,new Array(r.length)]),m=nh(e,r,i),x=new Array(m.length);for(let M=0;M<m.length;M++){const A=m[M].flatMap(I=>p.map(([,F])=>+F[I])),[E,P]=al(A);x[M]=(E+P)/2}const w=Math.max(...x);for(let M=0;M<m.length;M++){const O=w-x[M],A=m[M];for(const E of A)for(let P=0;P<p.length;P++){const[,I]=p[P],[,F]=g[P];F[E]=+I[E]+O}}return[r,sn({},i,{encode:Object.fromEntries(g.map(([M,O])=>[M,ki(O,Cr(l,M)[1])]))})]}};Rz.props={};const Fz=(t={})=>{const{groupBy:e="x",series:r=!0}=t;return(i,l)=>{const{encode:u}=l,[h]=Cr(u,"y"),[p,g]=Cr(u,"y1"),[m]=r?Qv(u,"series","color"):Cr(u,"color"),x=nh(e,i,l),w=new Array(i.length);for(const M of x){const O=M.map(A=>+h[A]);for(let A=0;A<M.length;A++){const E=M[A],P=Math.max(...O.filter((I,F)=>F!==A));w[E]=h[E]>P?P:h[E]}}return[i,sn({},l,{encode:{y1:ki(w,g)}})]}};Fz.props={};const Dz=t=>{const{groupBy:e=["x"],reducer:r=(h,p)=>p[h[0]],orderBy:i=null,reverse:l=!1,duration:u}=t;return(h,p)=>{const{encode:g}=p,x=(Array.isArray(e)?e:[e]).map(P=>[P,Cr(g,P)[0]]);if(x.length===0)return[h,p];let w=[h];for(const[,P]of x){const I=[];for(const F of w){const N=Array.from(oi(F,z=>P[z]).values());I.push(...N)}w=I}if(i){const[P]=Cr(g,i);P&&w.sort((I,F)=>r(I,P)-r(F,P)),l&&w.reverse()}const M=(u||3e3)/w.length,[O]=u?[rl(h,M)]:Qv(g,"enterDuration",rl(h,M)),[A]=Qv(g,"enterDelay",rl(h,0)),E=new Array(h.length);for(let P=0,I=0;P<w.length;P++){const F=w[P],N=zr(F,z=>+O[z]);for(const z of F)E[z]=+A[z]+I;I+=N}return[h,sn({},p,{encode:{enterDuration:td(O),enterDelay:td(E)}})]}};Dz.props={};var XY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function ZY(t){return typeof t=="function"?t:{min:(r,i)=>Co(r,l=>i[+l]),max:(r,i)=>zr(r,l=>i[+l]),first:(r,i)=>i[r[0]],last:(r,i)=>i[r[r.length-1]],mean:(r,i)=>n2(r,l=>i[+l]),median:(r,i)=>LB(r,l=>i[+l]),sum:(r,i)=>Xs(r,l=>i[+l]),deviation:(r,i)=>Az(r,l=>i[+l])}[t]||zr}const Bz=(t={})=>{const{groupBy:e="x",basis:r="max"}=t;return(i,l)=>{const{encode:u,tooltip:h}=l,{x:p}=u,g=XY(u,["x"]),m=Object.entries(g).filter(([E])=>E.startsWith("y")).map(([E])=>[E,Cr(u,E)[0]]),[,x]=m.find(([E])=>E==="y"),w=m.map(([E])=>[E,new Array(i.length)]),M=nh(e,i,l),O=ZY(r);for(const E of M){const P=O(E,x);for(const I of E)for(let F=0;F<m.length;F++){const[,N]=m[F],[,z]=w[F];z[I]=+N[I]/P}}const A=Ps(h)||(h==null?void 0:h.items)&&(h==null?void 0:h.items.length)!==0;return[i,sn({},l,Object.assign({encode:Object.fromEntries(w.map(([E,P])=>[E,ki(P,Cr(u,E)[1])]))},!A&&u.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};Bz.props={};function Nz(t,e){return[t[0]]}function qY(t,e){const r=t.length-1;return[t[r]]}function $Y(t,e){const r=Dg(t,i=>e[i]);return[t[r]]}function KY(t,e){const r=pE(t,i=>e[i]);return[t[r]]}function JY(t){return typeof t=="function"?t:{first:Nz,last:qY,max:$Y,min:KY}[t]||Nz}const bE=(t={})=>{const{groupBy:e="series",channel:r,selector:i}=t;return(l,u)=>{const{encode:h}=u,p=nh(e,l,u),[g]=Cr(h,r),m=JY(i);return[p.flatMap(x=>m(x,g)),u]}};bE.props={};var QY=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const zz=(t={})=>{const{selector:e}=t,r=QY(t,["selector"]);return bE(Object.assign({channel:"x",selector:e},r))};zz.props={};var tU=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const jz=(t={})=>{const{selector:e}=t,r=tU(t,["selector"]);return bE(Object.assign({channel:"y",selector:e},r))};jz.props={};var eU=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const l2=(t={})=>{const{channels:e=["x","y"]}=t,r=eU(t,["channels"]),i=(l,u)=>nh(e,l,u);return IB(Object.assign(Object.assign({},r),{groupBy:i}))};l2.props={};const Gz=(t={})=>l2(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));Gz.props={};const Wz=(t={})=>l2(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));Wz.props={};const Vz=(t={})=>l2(Object.assign(Object.assign({},t),{channels:["color"]}));Vz.props={};function nU(t,e,r){return(e.length!==2?yl(Bm(t,e,r),([i,l],[u,h])=>Ci(l,h)||Ci(i,u)):yl(oi(t,r),([i,l],[u,h])=>e(l,h)||Ci(i,u))).map(([i])=>i)}var Hz=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function rU(t,e,r){const{by:i=t,reducer:l="max"}=e,[u]=Cr(r,i);if(typeof l=="function")return h=>l(h,u);if(l==="max")return h=>zr(h,p=>+u[p]);if(l==="min")return h=>Co(h,p=>+u[p]);if(l==="sum")return h=>Xs(h,p=>+u[p]);if(l==="median")return h=>LB(h,p=>+u[p]);if(l==="mean")return h=>n2(h,p=>+u[p]);if(l==="first")return h=>u[h[0]];if(l==="last")return h=>u[h[h.length-1]];throw new Error(`Unknown reducer: ${l}`)}function iU(t,e,r){const{reverse:i,channel:l}=r,{encode:u}=e,[h]=Cr(u,l),p=yl(t,g=>h[g]);return i&&p.reverse(),[p,e]}function aU(t,e,r){if(!Array.isArray(r))return t;const i=new Set(r);return t.filter(l=>i.has(e[l]))}function oU(t,e,r){var i;const{reverse:l,slice:u,channel:h}=r,p=Hz(r,["reverse","slice","channel"]),{encode:g,scale:m={}}=e,x=(i=m[h])===null||i===void 0?void 0:i.domain,[w]=Cr(g,h),M=rU(h,p,g),O=aU(t,w,x),A=nU(O,M,I=>w[I]);l&&A.reverse();const E=typeof u=="number"?[0,u]:u,P=u?A.slice(...E):A;return[t,sn(e,{scale:{[h]:{domain:P}}})]}const wE=(t={})=>{const{reverse:e=!1,slice:r,channel:i,ordinal:l=!0}=t,u=Hz(t,["reverse","slice","channel","ordinal"]);return(h,p)=>l?oU(h,p,Object.assign({reverse:e,slice:r,channel:i},u)):iU(h,p,Object.assign({reverse:e,slice:r,channel:i},u))};wE.props={};const Yz=(t={})=>wE(Object.assign(Object.assign({},t),{channel:"x"}));Yz.props={};const Uz=(t={})=>wE(Object.assign(Object.assign({},t),{channel:"y"}));Uz.props={};const Xz=(t={})=>wE(Object.assign(Object.assign({},t),{channel:"color"}));Xz.props={};function sU(t,e){return typeof e=="string"?t.map(r=>r[e]):t.map(e)}function lU(t,e){if(typeof t=="function")return r=>t(r,e);if(t==="sum")return r=>Xs(r,i=>+e[i]);throw new Error(`Unknown reducer: ${t}`)}const Zz=(t={})=>{const{field:e,channel:r="y",reducer:i="sum"}=t;return(l,u)=>{const{data:h,encode:p}=u,[g]=Cr(p,"x"),m=e?sU(h,e):Cr(p,r)[0],x=lU(i,m),w=a0(l,x,M=>g[M]).map(M=>M[1]);return[l,sn({},u,{scale:{x:{flex:w}}})]}};Zz.props={};function cU(t,e,r){const i=t.length;if(i===0)return[];const{innerWidth:l,innerHeight:u}=r,h=u/l;let p=Math.ceil(Math.sqrt(e/h)),g=l/p,m=Math.ceil(e/p),x=m*g;for(;x>u;)p=p+1,g=l/p,m=Math.ceil(e/p),x=m*g;const w=u-m*g,M=m<=1?0:w/(m-1),[O,A]=m<=1?[(l-i*g)/(i-1),(u-g)/2]:[0,0];return t.map((E,P)=>{const[I,F,N,z]=Hm(E),G=P%p,W=Math.floor(P/p),Y=G*g,U=(m-W-1)*g+w,X=g/N,$=g/z,Q=Y-I+O*G,ft=U-F-M*W-A;return`translate(${Q}, ${ft}) scale(${X}, ${$})`})}const qz=()=>(t,e)=>[t,sn({},e,{modifier:cU,axis:!1})];qz.props={};function uU(t,e,r,i){const l=t.length;if(i>=l||i===0)return t;const u=O=>e[t[O]]*1,h=O=>r[t[O]]*1,p=[],g=(l-2)/(i-2);let m=0,x,w,M;p.push(m);for(let O=0;O<i-2;O++){let A=0,E=0,P=Math.floor((O+1)*g)+1,I=Math.floor((O+2)*g)+1;I=Math.min(I,l);const F=I-P;for(;P<I;P++)A+=u(P),E+=h(P);A/=F,E/=F;let N=Math.floor((O+0)*g)+1;const z=Math.floor((O+1)*g)+1,G=[u(m),h(m)];for(x=w=-1;N<z;N++)w=Math.abs((G[0]-A)*(u(N)-G[1])-(G[0]-h(N))*(E-G[0]))*.5,w>x&&(x=w,M=N);p.push(M),m=M}return p.push(l-1),p.map(O=>t[O])}function fU(t){if(typeof t=="function")return t;if(t==="lttb")return uU;const e={first:i=>[i[0]],last:i=>[i[i.length-1]],min:(i,l,u)=>[i[pE(i,h=>u[h])]],max:(i,l,u)=>[i[Dg(i,h=>u[h])]],median:(i,l,u)=>[i[LY(i,h=>u[h])]]},r=e[t]||e.median;return(i,l,u,h)=>{const p=Math.max(1,Math.floor(i.length/h));return hU(i,p).flatMap(m=>r(m,l,u))}}function hU(t,e){const r=t.length,i=[];let l=0;for(;l<r;)i.push(t.slice(l,l+=e));return i}const $z=(t={})=>{const{strategy:e="median",thresholds:r=2e3,groupBy:i=["series","color"]}=t,l=fU(e);return(u,h)=>{const{encode:p}=h,g=nh(i,u,h),[m]=Cr(p,"x"),[x]=Cr(p,"y");return[g.flatMap(w=>l(w,m,x,r)),h]}};$z.props={};function dU(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}const Kz=(t={})=>(e,r)=>{const{encode:i,data:l}=r,u=Object.entries(t).map(([x,w])=>{const[M]=Cr(i,x);if(!M)return null;const[O,A=!0]=dU(w);if(typeof O=="function")return E=>O(M[E]);if(A){const E=Array.isArray(O)?O:[O];return E.length===0?null:P=>E.includes(M[P])}else{const[E,P]=O;return I=>M[I]>=E&&M[I]<=P}}).filter(yi);if(u.length===0)return[e,r];const h=x=>u.every(w=>w(x)),p=e.filter(h),g=p.map((x,w)=>w),m=Object.entries(i).map(([x,w])=>[x,Object.assign(Object.assign({},w),{value:g.map(M=>w.value[p[M]])})]);return[g,sn({},r,{encode:Object.fromEntries(m),data:p.map(x=>l[x])})]};Kz.props={};var Jz={},BB={},NB=34,c2=10,zB=13;function Qz(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function pU(t,e){var r=Qz(t);return function(i,l){return e(r(i),l,t)}}function t7(t){var e=Object.create(null),r=[];return t.forEach(function(i){for(var l in i)l in e||r.push(e[l]=l)}),r}function $o(t,e){var r=t+"",i=r.length;return i<e?new Array(e-i+1).join(0)+r:r}function vU(t){return t<0?"-"+$o(-t,6):t>9999?"+"+$o(t,6):$o(t,4)}function gU(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),l=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":vU(t.getUTCFullYear(),4)+"-"+$o(t.getUTCMonth()+1,2)+"-"+$o(t.getUTCDate(),2)+(l?"T"+$o(e,2)+":"+$o(r,2)+":"+$o(i,2)+"."+$o(l,3)+"Z":i?"T"+$o(e,2)+":"+$o(r,2)+":"+$o(i,2)+"Z":r||e?"T"+$o(e,2)+":"+$o(r,2)+"Z":"")}function yU(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function i(w,M){var O,A,E=l(w,function(P,I){if(O)return O(P,I-1);A=P,O=M?pU(P,M):Qz(P)});return E.columns=A||[],E}function l(w,M){var O=[],A=w.length,E=0,P=0,I,F=A<=0,N=!1;w.charCodeAt(A-1)===c2&&--A,w.charCodeAt(A-1)===zB&&--A;function z(){if(F)return BB;if(N)return N=!1,Jz;var W,Y=E,U;if(w.charCodeAt(Y)===NB){for(;E++<A&&w.charCodeAt(E)!==NB||w.charCodeAt(++E)===NB;);return(W=E)>=A?F=!0:(U=w.charCodeAt(E++))===c2?N=!0:U===zB&&(N=!0,w.charCodeAt(E)===c2&&++E),w.slice(Y+1,W-1).replace(/""/g,'"')}for(;E<A;){if((U=w.charCodeAt(W=E++))===c2)N=!0;else if(U===zB)N=!0,w.charCodeAt(E)===c2&&++E;else if(U!==r)continue;return w.slice(Y,W)}return F=!0,w.slice(Y,A)}for(;(I=z())!==BB;){for(var G=[];I!==Jz&&I!==BB;)G.push(I),I=z();M&&(G=M(G,P++))==null||O.push(G)}return O}function u(w,M){return w.map(function(O){return M.map(function(A){return x(O[A])}).join(t)})}function h(w,M){return M==null&&(M=t7(w)),[M.map(x).join(t)].concat(u(w,M)).join(`
`)}function p(w,M){return M==null&&(M=t7(w)),u(w,M).join(`
`)}function g(w){return w.map(m).join(`
`)}function m(w){return w.map(x).join(t)}function x(w){return w==null?"":w instanceof Date?gU(w):e.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:i,parseRows:l,format:h,formatBody:p,formatRows:g,formatRow:m,formatValue:x}}function mU(t){for(var e in t){var r=t[e].trim(),i,l;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(i=+r))r=i;else if(l=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))xU&&l[4]&&!l[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}const xU=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var bU=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})};const e7=t=>{const{value:e,format:r=e.split(".").pop(),delimiter:i=",",autoType:l=!0}=t;return()=>bU(void 0,void 0,void 0,function*(){const u=yield fetch(e);if(r==="csv"){const h=yield u.text();return yU(i).parse(h,l?mU:Xl)}else if(r==="json")return yield u.json();throw new Error(`Unknown format: ${r}.`)})};e7.props={};const n7=t=>{const{value:e}=t;return()=>e};n7.props={};function wU(t,e){return t.map(r=>{if(Array.isArray(r)){const[i,l=e]=r;return[i,l]}return[r,e]})}const r7=t=>{const{fields:e=[]}=t,r=wU(e,!0);return i=>{const l=(u,h)=>r.reduce((p,[g,m=!0])=>p!==0?p:m?u[g]<h[g]?-1:+(u[g]!==h[g]):u[g]>h[g]?-1:+(u[g]!==h[g]),0);return[...i].sort(l)}};r7.props={};function wnt(t){return t!=null&&!Number.isNaN(t)}const i7=t=>{const{callback:e}=t;return r=>Array.isArray(r)?[...r].sort(e):r};i7.props={};function MU(t){return t!=null&&!Number.isNaN(t)}const a7=t=>{const{callback:e=MU}=t;return r=>r.filter(e)};a7.props={};function SU(t,e=[]){return e.reduce((r,i)=>(i in t&&(r[i]=t[i]),r),{})}const o7=t=>{const{fields:e}=t;return r=>r.map(i=>SU(i,e))};o7.props={};function _U(t){return Object.keys(t).length===0}const s7=t=>e=>{if(!t||_U(t))return e;const r=i=>Object.entries(i).reduce((l,[u,h])=>(l[t[u]||u]=h,l),{});return e.map(r)};s7.props={};function OU(t){return!t||Object.keys(t).length===0}const l7=t=>{const{fields:e,key:r="key",value:i="value"}=t;return l=>OU(e)?l:l.flatMap(u=>e.map(h=>Object.assign(Object.assign({},u),{[r]:h,[i]:u[h]})))};l7.props={};const c7=t=>{const{start:e,end:r}=t;return i=>i.slice(e,r)};c7.props={};const u7=t=>{const{callback:e=Xl}=t;return r=>e(r)};u7.props={};const f7=t=>{const{callback:e=Xl}=t;return r=>Array.isArray(r)?r.map(e):r};f7.props={};function h7(t){return typeof t=="string"?e=>e[t]:t}const d7=t=>{const{join:e,on:r,select:i=[],as:l=i,unknown:u=NaN}=t,[h,p]=r,g=h7(p),m=h7(h),x=Bm(e,([w])=>w,w=>g(w));return w=>w.map(M=>{const O=x.get(m(M));return Object.assign(Object.assign({},M),i.reduce((A,E,P)=>(A[l[P]]=O?O[E]:u,A),{}))})};d7.props={};var CU=kt(53843),AU=kt.n(CU);function Mnt(t){return t!=null&&!Number.isNaN(t)}const p7=t=>{const{field:e,groupBy:r,as:i=["y","size"],min:l,max:u,size:h=10,width:p}=t,[g,m]=i;return x=>Array.from(oi(x,M=>r.map(O=>M[O]).join("-")).values()).map(M=>{const O=AU().create(M.map(P=>P[e]),{min:l,max:u,size:h,width:p}),A=O.map(P=>P.x),E=O.map(P=>P.y);return Object.assign(Object.assign({},M[0]),{[g]:A,[m]:E})})};p7.props={};const v7=()=>t=>(console.log("G2 data section:",t),t);v7.props={};function jB(t){const{min:e,max:r}=t;return[[e[0],e[1]],[r[0],r[1]]]}function g7(t,e){const[r,i]=t,[l,u]=e;return r>=l[0]&&r<=u[0]&&i>=l[1]&&i<=u[1]}function TU(t,e){const[r,i]=t;return!(g7(r,e)&&g7(i,e))}function EU(t,e){const[r,i]=t,[l,u]=e;return r[0]<u[0]&&i[0]>l[0]&&r[1]<u[1]&&i[1]>l[1]}const kU=t=>{const{priority:e}=t;return r=>{const i=[];return e&&r.sort(e),r.forEach(l=>{vn(l);const u=l.getLocalBounds();i.some(p=>EU(jB(u),jB(p.getLocalBounds())))?tn(l):i.push(l)}),r}};function PU([t,e],[r,i]){return i>t&&e>r}function ME(){const t=new Map;return[i=>t.get(i),(i,l)=>t.set(i,l)]}function LU(t){const e=t.cloneNode(!0),r=e.getElementById("connector");r&&e.removeChild(r);const{min:i,max:l}=e.getRenderBounds();return e.destroy(),{min:i,max:l}}const IU=t=>{const{maxIterations:e=10,maxError:r=.1,padding:i=1}=t;return l=>{const u=l.length;if(u<=1)return l;const[h,p]=ME(),[g,m]=ME(),[x,w]=ME(),[M,O]=ME();for(const A of l){const{min:E,max:P}=LU(A),[I,F]=E,[N,z]=P;p(A,F),m(A,F),w(A,z-F),O(A,[I,N])}for(let A=0;A<e;A++){l.sort((P,I)=>Ci(g(P),g(I)));let E=0;for(let P=0;P<u-1;P++){const I=l[P];let F=P+1,N;for(;(N=l[F])&&!PU(M(I),M(N));)F+=1;if(N){const z=g(I),G=x(I),W=g(N),Y=W-(z+G);if(Y<i){const U=(i-Y)/2;E=Math.max(E,U),m(I,z-U),m(N,W+U)}}}if(E<r)break}for(const A of l)A.style.y+=g(A)-h(A);return l}},RU=()=>t=>(t.forEach(e=>{vn(e);const r=e.attr("bounds"),i=e.getLocalBounds();TU(jB(i),r)&&tn(e)}),t);function FU(t){return typeof t=="object"?t:mo(t)}function GB(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function y7(t,e,r){return .2126*GB(t)+.7152*GB(e)+.0722*GB(r)}function m7(t,e){const{r,g:i,b:l}=t,{r:u,g:h,b:p}=e,g=y7(r,i,l),m=y7(u,h,p);return(Math.max(g,m)+.05)/(Math.min(g,m)+.05)}function DU(t,e){const r=Dg(e,i=>m7(t,FU(i)));return e[r]}const BU=t=>{const{threshold:e=4.5,palette:r=["#000","#fff"]}=t;return i=>(i.forEach(l=>{const u=l.attr("dependentElement").parsedStyle.fill,h=l.parsedStyle.fill;m7(h,u)<e&&l.attr("fill",DU(u,r))}),i)};function NU(){return{"data.fetch":e7,"data.inline":n7,"data.sortBy":r7,"data.sort":i7,"data.filter":a7,"data.pick":o7,"data.rename":s7,"data.fold":l7,"data.slice":c7,"data.custom":u7,"data.map":f7,"data.join":d7,"data.kde":p7,"data.log":v7,"transform.stackY":Oz,"transform.binX":kz,"transform.bin":RB,"transform.dodgeX":Pz,"transform.jitter":Lz,"transform.jitterX":Iz,"transform.symmetryY":Rz,"transform.diffY":Fz,"transform.stackEnter":Dz,"transform.normalizeY":Bz,"transform.select":bE,"transform.selectX":zz,"transform.selectY":jz,"transform.groupX":Gz,"transform.groupY":Wz,"transform.groupColor":Vz,"transform.group":l2,"transform.sortX":Yz,"transform.sortY":Uz,"transform.sortColor":Xz,"transform.flexX":Zz,"transform.pack":qz,"transform.sample":$z,"transform.filter":Kz,"coordinate.cartesian":rS,"coordinate.polar":ji,"coordinate.transpose":df,"coordinate.theta":xL,"coordinate.parallel":pf,"coordinate.fisheye":Ha,"coordinate.radial":Kv,"coordinate.radar":oS,"encode.constant":nl,"encode.field":Mm,"encode.transform":Sm,"encode.column":_m,"mark.interval":I_,"mark.rect":P1,"mark.line":Y1,"mark.point":ox,"mark.text":sc,"mark.cell":ZR,"mark.area":pu,"mark.link":bx,"mark.image":DO,"mark.polygon":VO,"mark.box":lc,"mark.vector":YO,"mark.lineX":ZO,"mark.lineY":$O,"mark.connector":tC,"mark.range":nC,"mark.rangeX":iC,"mark.rangeY":Z0,"mark.path":Nf,"mark.shape":oC,"mark.density":Px,"mark.heatmap":Rx,"palette.category10":lC,"palette.category20":cC,"scale.linear":uC,"scale.ordinal":fC,"scale.band":hC,"scale.identity":dC,"scale.point":Fx,"scale.time":pC,"scale.log":Hd,"scale.pow":Q0,"scale.sqrt":Dx,"scale.threshold":Bs,"scale.quantile":vC,"scale.quantize":Bx,"scale.sequential":Nx,"scale.constant":gC,"theme.classic":yC,"theme.classicDark":bC,"theme.academy":wC,"theme.light":MC,"component.axisX":zA,"component.axisY":ub,"component.legendCategory":gb,"component.legendContinuous":fs,"component.legends":up,"component.title":qT,"component.sliderX":rE,"component.sliderY":iE,"component.scrollbarX":aE,"component.scrollbarY":oE,"animation.scaleInX":Jb,"animation.scaleOutX":oB,"animation.scaleInY":sE,"animation.scaleOutY":sB,"animation.waveIn":lE,"animation.fadeIn":cE,"animation.fadeOut":uE,"animation.zoomIn":F9,"animation.zoomOut":D9,"animation.pathIn":lB,"animation.morphing":R,"animation.growInX":D,"animation.growInY":V,"interaction.elementHighlight":bp,"interaction.elementHighlightByX":dE,"interaction.elementHighlightByColor":uB,"interaction.elementSelect":wp,"interaction.elementSelectByX":e2,"interaction.elementSelectByColor":B9,"interaction.fisheye":hB,"interaction.chartIndex":jV,"interaction.tooltip":iH,"interaction.legendFilter":hH,"interaction.legendHighlight":dH,"interaction.brushHighlight":mB,"interaction.brushXHighlight":xH,"interaction.brushYHighlight":bH,"interaction.brushAxisHighlight":EH,"interaction.brushFilter":MB,"interaction.brushXFilter":IH,"interaction.brushYFilter":RH,"interaction.sliderFilter":fz,"interaction.scrollbarFilter":zH,"interaction.poptip":HH,"composition.spaceLayer":pz,"composition.spaceFlex":vz,"composition.facetRect":xz,"composition.repeatMatrix":iY,"composition.facetCircle":uY,"composition.timingKeyframe":wz,"labelTransform.overlapHide":kU,"labelTransform.overlapDodgeY":IU,"labelTransform.overflowHide":RU,"labelTransform.contrastReverse":BU}}var u2=t=>t;function SE(t,e){t&&b7.hasOwnProperty(t.type)&&b7[t.type](t,e)}var x7={Feature:function(t,e){SE(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,i=-1,l=r.length;++i<l;)SE(r[i].geometry,e)}},b7={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,i=-1,l=r.length;++i<l;)t=r[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){WB(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,i=-1,l=r.length;++i<l;)WB(r[i],e,0)},Polygon:function(t,e){w7(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,i=-1,l=r.length;++i<l;)w7(r[i],e)},GeometryCollection:function(t,e){for(var r=t.geometries,i=-1,l=r.length;++i<l;)SE(r[i],e)}};function WB(t,e,r){var i=-1,l=t.length-r,u;for(e.lineStart();++i<l;)u=t[i],e.point(u[0],u[1],u[2]);e.lineEnd()}function w7(t,e){var r=-1,i=t.length;for(e.polygonStart();++r<i;)WB(t[r],e,1);e.polygonEnd()}function Bg(t,e){t&&x7.hasOwnProperty(t.type)?x7[t.type](t,e):SE(t,e)}class Eu{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const r=this._partials;let i=0;for(let l=0;l<this._n&&l<32;l++){const u=r[l],h=e+u,p=Math.abs(e)<Math.abs(u)?e-(h-u):u-(h-e);p&&(r[i++]=p),e=h}return r[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let r=this._n,i,l,u,h=0;if(r>0){for(h=e[--r];r>0&&(i=h,l=e[--r],h=i+l,u=l-(h-i),!u););r>0&&(u<0&&e[r-1]<0||u>0&&e[r-1]>0)&&(l=u*2,i=h+l,l==i-h&&(h=i))}return h}}function Snt(t,e){const r=new Eu;if(e===void 0)for(let i of t)(i=+i)&&r.add(i);else{let i=-1;for(let l of t)(l=+e(l,++i,t))&&r.add(l)}return+r}function _nt(t,e){const r=new Eu;let i=-1;return Float64Array.from(t,e===void 0?l=>r.add(+l||0):l=>r.add(+e(l,++i,t)||0))}var ir=1e-6,M7=1e-12,Tr=Math.PI,Vi=Tr/2,S7=Tr/4,ds=Tr*2,vo=180/Tr,Fi=Tr/180,Vr=Math.abs,Ng=Math.atan,ku=Math.atan2,Sr=Math.cos,_E=Math.ceil,_7=Math.exp,Ont=Math.floor,Cnt=Math.hypot,OE=Math.log,VB=Math.pow,hr=Math.sin,Zs=Math.sign||function(t){return t>0?1:t<0?-1:0},Ko=Math.sqrt,HB=Math.tan;function O7(t){return t>1?0:t<-1?Tr:Math.acos(t)}function qs(t){return t>1?Vi:t<-1?-Vi:Math.asin(t)}function Ant(t){return(t=hr(t/2))*t}function $s(){}var YB=new Eu,UB=new Eu,C7,A7,XB,ZB,ih={point:$s,lineStart:$s,lineEnd:$s,polygonStart:function(){ih.lineStart=zU,ih.lineEnd=GU},polygonEnd:function(){ih.lineStart=ih.lineEnd=ih.point=$s,YB.add(Vr(UB)),UB=new Eu},result:function(){var t=YB/2;return YB=new Eu,t}};function zU(){ih.point=jU}function jU(t,e){ih.point=T7,C7=XB=t,A7=ZB=e}function T7(t,e){UB.add(ZB*t-XB*e),XB=t,ZB=e}function GU(){T7(C7,A7)}var E7=ih,zg=1/0,CE=zg,f2=-zg,AE=f2,WU={point:VU,lineStart:$s,lineEnd:$s,polygonStart:$s,polygonEnd:$s,result:function(){var t=[[zg,CE],[f2,AE]];return f2=AE=-(CE=zg=1/0),t}};function VU(t,e){t<zg&&(zg=t),t>f2&&(f2=t),e<CE&&(CE=e),e>AE&&(AE=e)}var TE=WU,qB=0,$B=0,h2=0,EE=0,kE=0,jg=0,KB=0,JB=0,d2=0,k7,P7,Sc,_c,ml={point:Sp,lineStart:L7,lineEnd:I7,polygonStart:function(){ml.lineStart=UU,ml.lineEnd=XU},polygonEnd:function(){ml.point=Sp,ml.lineStart=L7,ml.lineEnd=I7},result:function(){var t=d2?[KB/d2,JB/d2]:jg?[EE/jg,kE/jg]:h2?[qB/h2,$B/h2]:[NaN,NaN];return qB=$B=h2=EE=kE=jg=KB=JB=d2=0,t}};function Sp(t,e){qB+=t,$B+=e,++h2}function L7(){ml.point=HU}function HU(t,e){ml.point=YU,Sp(Sc=t,_c=e)}function YU(t,e){var r=t-Sc,i=e-_c,l=Ko(r*r+i*i);EE+=l*(Sc+t)/2,kE+=l*(_c+e)/2,jg+=l,Sp(Sc=t,_c=e)}function I7(){ml.point=Sp}function UU(){ml.point=ZU}function XU(){R7(k7,P7)}function ZU(t,e){ml.point=R7,Sp(k7=Sc=t,P7=_c=e)}function R7(t,e){var r=t-Sc,i=e-_c,l=Ko(r*r+i*i);EE+=l*(Sc+t)/2,kE+=l*(_c+e)/2,jg+=l,l=_c*t-Sc*e,KB+=l*(Sc+t),JB+=l*(_c+e),d2+=l*3,Sp(Sc=t,_c=e)}var F7=ml;function D7(t){this._context=t}D7.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ds);break}}},result:$s};var QB=new Eu,tN,B7,N7,p2,v2,PE={point:$s,lineStart:function(){PE.point=qU},lineEnd:function(){tN&&z7(B7,N7),PE.point=$s},polygonStart:function(){tN=!0},polygonEnd:function(){tN=null},result:function(){var t=+QB;return QB=new Eu,t}};function qU(t,e){PE.point=z7,B7=p2=t,N7=v2=e}function z7(t,e){p2-=t,v2-=e,QB.add(Ko(p2*p2+v2*v2)),p2=t,v2=e}var j7=PE;let G7,LE,W7,V7;class H7{constructor(e){this._append=e==null?Y7:$U(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==W7||this._append!==LE){const i=this._radius,l=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,W7=i,LE=this._append,V7=this._,this._=l}this._+=V7;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Y7(t){let e=1;this._+=t[0];for(const r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $U(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Y7;if(e!==G7){const r=Fr(10,e);G7=e,LE=function(l){let u=1;this._+=l[0];for(const h=l.length;u<h;++u)this._+=Math.round(arguments[u]*r)/r+l[u]}}return LE}function U7(t,e){let r=3,i=4.5,l,u;function h(p){return p&&(typeof i=="function"&&u.pointRadius(+i.apply(this,arguments)),Bg(p,l(u))),u.result()}return h.area=function(p){return Bg(p,l(E7)),E7.result()},h.measure=function(p){return Bg(p,l(j7)),j7.result()},h.bounds=function(p){return Bg(p,l(TE)),TE.result()},h.centroid=function(p){return Bg(p,l(F7)),F7.result()},h.projection=function(p){return arguments.length?(l=p==null?(t=null,u2):(t=p).stream,h):t},h.context=function(p){return arguments.length?(u=p==null?(e=null,new H7(r)):new D7(e=p),typeof i!="function"&&u.pointRadius(i),h):e},h.pointRadius=function(p){return arguments.length?(i=typeof p=="function"?p:(u.pointRadius(+p),+p),h):i},h.digits=function(p){if(!arguments.length)return r;if(p==null)r=null;else{const g=Math.floor(p);if(!(g>=0))throw new RangeError(`invalid digits: ${p}`);r=g}return e===null&&(u=new H7(r)),h},h.projection(t).digits(r).context(e)}function Gg(t,e,r){t=+t,e=+e,r=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+r;for(var i=-1,l=Math.max(0,Math.ceil((e-t)/r))|0,u=new Array(l);++i<l;)u[i]=t+i*r;return u}function X7(t,e,r){var i=Gg(t,e-ir,r).concat(e);return function(l){return i.map(function(u){return[l,u]})}}function Z7(t,e,r){var i=Gg(t,e-ir,r).concat(e);return function(l){return i.map(function(u){return[u,l]})}}function KU(){var t,e,r,i,l,u,h,p,g=10,m=g,x=90,w=360,M,O,A,E,P=2.5;function I(){return{type:"MultiLineString",coordinates:F()}}function F(){return Gg(_E(i/x)*x,r,x).map(A).concat(Gg(_E(p/w)*w,h,w).map(E)).concat(Gg(_E(e/g)*g,t,g).filter(function(N){return Vr(N%x)>ir}).map(M)).concat(Gg(_E(u/m)*m,l,m).filter(function(N){return Vr(N%w)>ir}).map(O))}return I.lines=function(){return F().map(function(N){return{type:"LineString",coordinates:N}})},I.outline=function(){return{type:"Polygon",coordinates:[A(i).concat(E(h).slice(1),A(r).reverse().slice(1),E(p).reverse().slice(1))]}},I.extent=function(N){return arguments.length?I.extentMajor(N).extentMinor(N):I.extentMinor()},I.extentMajor=function(N){return arguments.length?(i=+N[0][0],r=+N[1][0],p=+N[0][1],h=+N[1][1],i>r&&(N=i,i=r,r=N),p>h&&(N=p,p=h,h=N),I.precision(P)):[[i,p],[r,h]]},I.extentMinor=function(N){return arguments.length?(e=+N[0][0],t=+N[1][0],u=+N[0][1],l=+N[1][1],e>t&&(N=e,e=t,t=N),u>l&&(N=u,u=l,l=N),I.precision(P)):[[e,u],[t,l]]},I.step=function(N){return arguments.length?I.stepMajor(N).stepMinor(N):I.stepMinor()},I.stepMajor=function(N){return arguments.length?(x=+N[0],w=+N[1],I):[x,w]},I.stepMinor=function(N){return arguments.length?(g=+N[0],m=+N[1],I):[g,m]},I.precision=function(N){return arguments.length?(P=+N,M=X7(u,l,90),O=Z7(e,t,P),A=X7(p,h,90),E=Z7(i,r,P),I):P},I.extentMajor([[-180,-90+ir],[180,90-ir]]).extentMinor([[-180,-80-ir],[180,80+ir]])}function JU(){return KU()()}function ah(t,e,r={},i=!1){if(Ps(t)||Array.isArray(t)&&i)return t;const l=kn(t,e);return sn(r,l)}function eN(t,e={}){return Ps(t)||Array.isArray(t)||!q7(t)?t:sn(e,t)}function q7(t){if(Object.keys(t).length===0)return!0;const{title:e,items:r}=t;return e!==void 0||r!==void 0}function oh(t,e){return typeof t=="object"?kn(t,e):t}function $7(){var t=[],e;return{point:function(r,i,l){e.push([r,i,l])},lineStart:function(){t.push(e=[])},lineEnd:$s,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function IE(t,e){return Vr(t[0]-e[0])<ir&&Vr(t[1]-e[1])<ir}function RE(t,e,r,i){this.x=t,this.z=e,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function K7(t,e,r,i,l){var u=[],h=[],p,g;if(t.forEach(function(A){if(!((E=A.length-1)<=0)){var E,P=A[0],I=A[E],F;if(IE(P,I)){if(!P[2]&&!I[2]){for(l.lineStart(),p=0;p<E;++p)l.point((P=A[p])[0],P[1]);l.lineEnd();return}I[0]+=2*ir}u.push(F=new RE(P,A,null,!0)),h.push(F.o=new RE(P,null,F,!1)),u.push(F=new RE(I,A,null,!1)),h.push(F.o=new RE(I,null,F,!0))}}),!!u.length){for(h.sort(e),J7(u),J7(h),p=0,g=h.length;p<g;++p)h[p].e=r=!r;for(var m=u[0],x,w;;){for(var M=m,O=!0;M.v;)if((M=M.n)===m)return;x=M.z,l.lineStart();do{if(M.v=M.o.v=!0,M.e){if(O)for(p=0,g=x.length;p<g;++p)l.point((w=x[p])[0],w[1]);else i(M.x,M.n.x,1,l);M=M.n}else{if(O)for(x=M.p.z,p=x.length-1;p>=0;--p)l.point((w=x[p])[0],w[1]);else i(M.x,M.p.x,-1,l);M=M.p}M=M.o,x=M.z,O=!O}while(!M.v);l.lineEnd()}}}function J7(t){if(e=t.length){for(var e,r=0,i=t[0],l;++r<e;)i.n=l=t[r],l.p=i,i=l;i.n=l=t[0],l.p=i}}function nN(t){return[ku(t[1],t[0]),qs(t[2])]}function Wg(t){var e=t[0],r=t[1],i=Sr(r);return[i*Sr(e),i*hr(e),hr(r)]}function FE(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function DE(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function rN(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function BE(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function iN(t){var e=Ko(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function aN(t){return Vr(t[0])<=Tr?t[0]:Zs(t[0])*((Vr(t[0])+Tr)%ds-Tr)}function QU(t,e){var r=aN(e),i=e[1],l=hr(i),u=[hr(r),-Sr(r),0],h=0,p=0,g=new Eu;l===1?i=Vi+ir:l===-1&&(i=-Vi-ir);for(var m=0,x=t.length;m<x;++m)if(M=(w=t[m]).length)for(var w,M,O=w[M-1],A=aN(O),E=O[1]/2+S7,P=hr(E),I=Sr(E),F=0;F<M;++F,A=z,P=W,I=Y,O=N){var N=w[F],z=aN(N),G=N[1]/2+S7,W=hr(G),Y=Sr(G),U=z-A,X=U>=0?1:-1,$=X*U,Q=$>Tr,ft=P*W;if(g.add(ku(ft*X*hr($),I*Y+ft*Sr($))),h+=Q?U+X*ds:U,Q^A>=r^z>=r){var ot=DE(Wg(O),Wg(N));iN(ot);var J=DE(u,ot);iN(J);var st=(Q^U>=0?-1:1)*qs(J[2]);(i>st||i===st&&(ot[0]||ot[1]))&&(p+=Q^U>=0?1:-1)}}return(h<-ir||h<ir&&g<-M7)^p&1}function*tX(t){for(const e of t)yield*e}function Q7(t){return Array.from(tX(t))}function tj(t,e,r,i){return function(l){var u=e(l),h=$7(),p=e(h),g=!1,m,x,w,M={point:O,lineStart:E,lineEnd:P,polygonStart:function(){M.point=I,M.lineStart=F,M.lineEnd=N,x=[],m=[]},polygonEnd:function(){M.point=O,M.lineStart=E,M.lineEnd=P,x=Q7(x);var z=QU(m,i);x.length?(g||(l.polygonStart(),g=!0),K7(x,nX,z,r,l)):z&&(g||(l.polygonStart(),g=!0),l.lineStart(),r(null,null,1,l),l.lineEnd()),g&&(l.polygonEnd(),g=!1),x=m=null},sphere:function(){l.polygonStart(),l.lineStart(),r(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function O(z,G){t(z,G)&&l.point(z,G)}function A(z,G){u.point(z,G)}function E(){M.point=A,u.lineStart()}function P(){M.point=O,u.lineEnd()}function I(z,G){w.push([z,G]),p.point(z,G)}function F(){p.lineStart(),w=[]}function N(){I(w[0][0],w[0][1]),p.lineEnd();var z=p.clean(),G=h.result(),W,Y=G.length,U,X,$;if(w.pop(),m.push(w),w=null,!!Y){if(z&1){if(X=G[0],(U=X.length-1)>0){for(g||(l.polygonStart(),g=!0),l.lineStart(),W=0;W<U;++W)l.point(($=X[W])[0],$[1]);l.lineEnd()}return}Y>1&&z&2&&G.push(G.pop().concat(G.shift())),x.push(G.filter(eX))}}return M}}function eX(t){return t.length>1}function nX(t,e){return((t=t.x)[0]<0?t[1]-Vi-ir:Vi-t[1])-((e=e.x)[0]<0?e[1]-Vi-ir:Vi-e[1])}var ej=tj(function(){return!0},rX,aX,[-Tr,-Vi]);function rX(t){var e=NaN,r=NaN,i=NaN,l;return{lineStart:function(){t.lineStart(),l=1},point:function(u,h){var p=u>0?Tr:-Tr,g=Vr(u-e);Vr(g-Tr)<ir?(t.point(e,r=(r+h)/2>0?Vi:-Vi),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),t.point(u,r),l=0):i!==p&&g>=Tr&&(Vr(e-i)<ir&&(e-=i*ir),Vr(u-p)<ir&&(u-=p*ir),r=iX(e,r,u,h),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),l=0),t.point(e=u,r=h),i=p},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-l}}}function iX(t,e,r,i){var l,u,h=hr(t-r);return Vr(h)>ir?Ng((hr(e)*(u=Sr(i))*hr(r)-hr(i)*(l=Sr(e))*hr(t))/(l*u*h)):(e+i)/2}function aX(t,e,r,i){var l;if(t==null)l=r*Vi,i.point(-Tr,l),i.point(0,l),i.point(Tr,l),i.point(Tr,0),i.point(Tr,-l),i.point(0,-l),i.point(-Tr,-l),i.point(-Tr,0),i.point(-Tr,l);else if(Vr(t[0]-e[0])>ir){var u=t[0]<e[0]?Tr:-Tr;l=r*u/2,i.point(-u,l),i.point(0,l),i.point(u,l)}else i.point(e[0],e[1])}function nj(t,e,r,i,l,u){if(r){var h=Sr(e),p=hr(e),g=i*r;l==null?(l=e+i*ds,u=e-g/2):(l=rj(h,l),u=rj(h,u),(i>0?l<u:l>u)&&(l+=i*ds));for(var m,x=l;i>0?x>u:x<u;x-=g)m=nN([h,-p*Sr(x),-p*hr(x)]),t.point(m[0],m[1])}}function rj(t,e){e=Wg(e),e[0]-=t,iN(e);var r=O7(-e[1]);return((-e[2]<0?-r:r)+ds-ir)%ds}function Tnt(){var t=constant([0,0]),e=constant(90),r=constant(6),i,l,u={point:h};function h(g,m){i.push(g=l(g,m)),g[0]*=degrees,g[1]*=degrees}function p(){var g=t.apply(this,arguments),m=e.apply(this,arguments)*radians,x=r.apply(this,arguments)*radians;return i=[],l=rotateRadians(-g[0]*radians,-g[1]*radians,0).invert,nj(u,m,x,1),g={type:"Polygon",coordinates:[i]},i=l=null,g}return p.center=function(g){return arguments.length?(t=typeof g=="function"?g:constant([+g[0],+g[1]]),p):t},p.radius=function(g){return arguments.length?(e=typeof g=="function"?g:constant(+g),p):e},p.precision=function(g){return arguments.length?(r=typeof g=="function"?g:constant(+g),p):r},p}function oX(t){var e=Sr(t),r=6*Fi,i=e>0,l=Vr(e)>ir;function u(x,w,M,O){nj(O,t,r,M,x,w)}function h(x,w){return Sr(x)*Sr(w)>e}function p(x){var w,M,O,A,E;return{lineStart:function(){A=O=!1,E=1},point:function(P,I){var F=[P,I],N,z=h(P,I),G=i?z?0:m(P,I):z?m(P+(P<0?Tr:-Tr),I):0;if(!w&&(A=O=z)&&x.lineStart(),z!==O&&(N=g(w,F),(!N||IE(w,N)||IE(F,N))&&(F[2]=1)),z!==O)E=0,z?(x.lineStart(),N=g(F,w),x.point(N[0],N[1])):(N=g(w,F),x.point(N[0],N[1],2),x.lineEnd()),w=N;else if(l&&w&&i^z){var W;!(G&M)&&(W=g(F,w,!0))&&(E=0,i?(x.lineStart(),x.point(W[0][0],W[0][1]),x.point(W[1][0],W[1][1]),x.lineEnd()):(x.point(W[1][0],W[1][1]),x.lineEnd(),x.lineStart(),x.point(W[0][0],W[0][1],3)))}z&&(!w||!IE(w,F))&&x.point(F[0],F[1]),w=F,O=z,M=G},lineEnd:function(){O&&x.lineEnd(),w=null},clean:function(){return E|(A&&O)<<1}}}function g(x,w,M){var O=Wg(x),A=Wg(w),E=[1,0,0],P=DE(O,A),I=FE(P,P),F=P[0],N=I-F*F;if(!N)return!M&&x;var z=e*I/N,G=-e*F/N,W=DE(E,P),Y=BE(E,z),U=BE(P,G);rN(Y,U);var X=W,$=FE(Y,X),Q=FE(X,X),ft=$*$-Q*(FE(Y,Y)-1);if(!(ft<0)){var ot=Ko(ft),J=BE(X,(-$-ot)/Q);if(rN(J,Y),J=nN(J),!M)return J;var st=x[0],gt=w[0],Mt=x[1],At=w[1],St;gt<st&&(St=st,st=gt,gt=St);var Ut=gt-st,ce=Vr(Ut-Tr)<ir,be=ce||Ut<ir;if(!ce&&At<Mt&&(St=Mt,Mt=At,At=St),be?ce?Mt+At>0^J[1]<(Vr(J[0]-st)<ir?Mt:At):Mt<=J[1]&&J[1]<=At:Ut>Tr^(st<=J[0]&&J[0]<=gt)){var Le=BE(X,(-$+ot)/Q);return rN(Le,Y),[J,nN(Le)]}}}function m(x,w){var M=i?t:Tr-t,O=0;return x<-M?O|=1:x>M&&(O|=2),w<-M?O|=4:w>M&&(O|=8),O}return tj(h,p,u,i?[0,-t]:[-Tr,t-Tr])}function sX(t,e,r,i,l,u){var h=t[0],p=t[1],g=e[0],m=e[1],x=0,w=1,M=g-h,O=m-p,A;if(A=r-h,!(!M&&A>0)){if(A/=M,M<0){if(A<x)return;A<w&&(w=A)}else if(M>0){if(A>w)return;A>x&&(x=A)}if(A=l-h,!(!M&&A<0)){if(A/=M,M<0){if(A>w)return;A>x&&(x=A)}else if(M>0){if(A<x)return;A<w&&(w=A)}if(A=i-p,!(!O&&A>0)){if(A/=O,O<0){if(A<x)return;A<w&&(w=A)}else if(O>0){if(A>w)return;A>x&&(x=A)}if(A=u-p,!(!O&&A<0)){if(A/=O,O<0){if(A>w)return;A>x&&(x=A)}else if(O>0){if(A<x)return;A<w&&(w=A)}return x>0&&(t[0]=h+x*M,t[1]=p+x*O),w<1&&(e[0]=h+w*M,e[1]=p+w*O),!0}}}}}var g2=1e9,NE=-g2;function ij(t,e,r,i){function l(m,x){return t<=m&&m<=r&&e<=x&&x<=i}function u(m,x,w,M){var O=0,A=0;if(m==null||(O=h(m,w))!==(A=h(x,w))||g(m,x)<0^w>0)do M.point(O===0||O===3?t:r,O>1?i:e);while((O=(O+w+4)%4)!==A);else M.point(x[0],x[1])}function h(m,x){return Vr(m[0]-t)<ir?x>0?0:3:Vr(m[0]-r)<ir?x>0?2:1:Vr(m[1]-e)<ir?x>0?1:0:x>0?3:2}function p(m,x){return g(m.x,x.x)}function g(m,x){var w=h(m,1),M=h(x,1);return w!==M?w-M:w===0?x[1]-m[1]:w===1?m[0]-x[0]:w===2?m[1]-x[1]:x[0]-m[0]}return function(m){var x=m,w=$7(),M,O,A,E,P,I,F,N,z,G,W,Y={point:U,lineStart:ft,lineEnd:ot,polygonStart:$,polygonEnd:Q};function U(st,gt){l(st,gt)&&x.point(st,gt)}function X(){for(var st=0,gt=0,Mt=O.length;gt<Mt;++gt)for(var At=O[gt],St=1,Ut=At.length,ce=At[0],be,Le,nn=ce[0],De=ce[1];St<Ut;++St)be=nn,Le=De,ce=At[St],nn=ce[0],De=ce[1],Le<=i?De>i&&(nn-be)*(i-Le)>(De-Le)*(t-be)&&++st:De<=i&&(nn-be)*(i-Le)<(De-Le)*(t-be)&&--st;return st}function $(){x=w,M=[],O=[],W=!0}function Q(){var st=X(),gt=W&&st,Mt=(M=Q7(M)).length;(gt||Mt)&&(m.polygonStart(),gt&&(m.lineStart(),u(null,null,1,m),m.lineEnd()),Mt&&K7(M,p,st,u,m),m.polygonEnd()),x=m,M=O=A=null}function ft(){Y.point=J,O&&O.push(A=[]),G=!0,z=!1,F=N=NaN}function ot(){M&&(J(E,P),I&&z&&w.rejoin(),M.push(w.result())),Y.point=U,z&&x.lineEnd()}function J(st,gt){var Mt=l(st,gt);if(O&&A.push([st,gt]),G)E=st,P=gt,I=Mt,G=!1,Mt&&(x.lineStart(),x.point(st,gt));else if(Mt&&z)x.point(st,gt);else{var At=[F=Math.max(NE,Math.min(g2,F)),N=Math.max(NE,Math.min(g2,N))],St=[st=Math.max(NE,Math.min(g2,st)),gt=Math.max(NE,Math.min(g2,gt))];sX(At,St,t,e,r,i)?(z||(x.lineStart(),x.point(At[0],At[1])),x.point(St[0],St[1]),Mt||x.lineEnd(),W=!1):Mt&&(x.lineStart(),x.point(st,gt),W=!1)}F=st,N=gt,z=Mt}return Y}}function oN(t,e){function r(i,l){return i=t(i,l),e(i[0],i[1])}return t.invert&&e.invert&&(r.invert=function(i,l){return i=e.invert(i,l),i&&t.invert(i[0],i[1])}),r}function sN(t,e){return Vr(t)>Tr&&(t-=Math.round(t/ds)*ds),[t,e]}sN.invert=sN;function aj(t,e,r){return(t%=ds)?e||r?oN(sj(t),lj(e,r)):sj(t):e||r?lj(e,r):sN}function oj(t){return function(e,r){return e+=t,Vr(e)>Tr&&(e-=Math.round(e/ds)*ds),[e,r]}}function sj(t){var e=oj(t);return e.invert=oj(-t),e}function lj(t,e){var r=Sr(t),i=hr(t),l=Sr(e),u=hr(e);function h(p,g){var m=Sr(g),x=Sr(p)*m,w=hr(p)*m,M=hr(g),O=M*r+x*i;return[ku(w*l-O*u,x*r-M*i),qs(O*l+w*u)]}return h.invert=function(p,g){var m=Sr(g),x=Sr(p)*m,w=hr(p)*m,M=hr(g),O=M*l-w*u;return[ku(w*l+M*u,x*r+O*i),qs(O*r-x*i)]},h}function lX(t){t=aj(t[0]*Fi,t[1]*Fi,t.length>2?t[2]*Fi:0);function e(r){return r=t(r[0]*Fi,r[1]*Fi),r[0]*=vo,r[1]*=vo,r}return e.invert=function(r){return r=t.invert(r[0]*Fi,r[1]*Fi),r[0]*=vo,r[1]*=vo,r},e}function Ent(t){return{stream:y2(t)}}function y2(t){return function(e){var r=new lN;for(var i in t)r[i]=t[i];return r.stream=e,r}}function lN(){}lN.prototype={constructor:lN,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function cN(t,e,r){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Bg(r,t.stream(TE)),e(TE.result()),i!=null&&t.clipExtent(i),t}function zE(t,e,r){return cN(t,function(i){var l=e[1][0]-e[0][0],u=e[1][1]-e[0][1],h=Math.min(l/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),p=+e[0][0]+(l-h*(i[1][0]+i[0][0]))/2,g=+e[0][1]+(u-h*(i[1][1]+i[0][1]))/2;t.scale(150*h).translate([p,g])},r)}function uN(t,e,r){return zE(t,[[0,0],e],r)}function fN(t,e,r){return cN(t,function(i){var l=+e,u=l/(i[1][0]-i[0][0]),h=(l-u*(i[1][0]+i[0][0]))/2,p=-u*i[0][1];t.scale(150*u).translate([h,p])},r)}function hN(t,e,r){return cN(t,function(i){var l=+e,u=l/(i[1][1]-i[0][1]),h=-u*i[0][0],p=(l-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([h,p])},r)}var cj=16,cX=Sr(30*Fi);function uj(t,e){return+e?fX(t,e):uX(t)}function uX(t){return y2({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function fX(t,e){function r(i,l,u,h,p,g,m,x,w,M,O,A,E,P){var I=m-i,F=x-l,N=I*I+F*F;if(N>4*e&&E--){var z=h+M,G=p+O,W=g+A,Y=Ko(z*z+G*G+W*W),U=qs(W/=Y),X=Vr(Vr(W)-1)<ir||Vr(u-w)<ir?(u+w)/2:ku(G,z),$=t(X,U),Q=$[0],ft=$[1],ot=Q-i,J=ft-l,st=F*ot-I*J;(st*st/N>e||Vr((I*ot+F*J)/N-.5)>.3||h*M+p*O+g*A<cX)&&(r(i,l,u,h,p,g,Q,ft,X,z/=Y,G/=Y,W,E,P),P.point(Q,ft),r(Q,ft,X,z,G,W,m,x,w,M,O,A,E,P))}}return function(i){var l,u,h,p,g,m,x,w,M,O,A,E,P={point:I,lineStart:F,lineEnd:z,polygonStart:function(){i.polygonStart(),P.lineStart=G},polygonEnd:function(){i.polygonEnd(),P.lineStart=F}};function I(U,X){U=t(U,X),i.point(U[0],U[1])}function F(){w=NaN,P.point=N,i.lineStart()}function N(U,X){var $=Wg([U,X]),Q=t(U,X);r(w,M,x,O,A,E,w=Q[0],M=Q[1],x=U,O=$[0],A=$[1],E=$[2],cj,i),i.point(w,M)}function z(){P.point=I,i.lineEnd()}function G(){F(),P.point=W,P.lineEnd=Y}function W(U,X){N(l=U,X),u=w,h=M,p=O,g=A,m=E,P.point=N}function Y(){r(w,M,x,O,A,E,u,h,l,p,g,m,cj,i),P.lineEnd=z,z()}return P}}var hX=y2({point:function(t,e){this.stream.point(t*Fi,e*Fi)}});function dX(t){return y2({point:function(e,r){var i=t(e,r);return this.stream.point(i[0],i[1])}})}function pX(t,e,r,i,l){function u(h,p){return h*=i,p*=l,[e+t*h,r-t*p]}return u.invert=function(h,p){return[(h-e)/t*i,(r-p)/t*l]},u}function fj(t,e,r,i,l,u){if(!u)return pX(t,e,r,i,l);var h=Sr(u),p=hr(u),g=h*t,m=p*t,x=h/t,w=p/t,M=(p*r-h*e)/t,O=(p*e+h*r)/t;function A(E,P){return E*=i,P*=l,[g*E-m*P+e,r-m*E-g*P]}return A.invert=function(E,P){return[i*(x*E-w*P+M),l*(O-w*E-x*P)]},A}function Oc(t){return dN(function(){return t})()}function dN(t){var e,r=150,i=480,l=250,u=0,h=0,p=0,g=0,m=0,x,w=0,M=1,O=1,A=null,E=ej,P=null,I,F,N,z=u2,G=.5,W,Y,U,X,$;function Q(st){return U(st[0]*Fi,st[1]*Fi)}function ft(st){return st=U.invert(st[0],st[1]),st&&[st[0]*vo,st[1]*vo]}Q.stream=function(st){return X&&$===st?X:X=hX(dX(x)(E(W(z($=st)))))},Q.preclip=function(st){return arguments.length?(E=st,A=void 0,J()):E},Q.postclip=function(st){return arguments.length?(z=st,P=I=F=N=null,J()):z},Q.clipAngle=function(st){return arguments.length?(E=+st?oX(A=st*Fi):(A=null,ej),J()):A*vo},Q.clipExtent=function(st){return arguments.length?(z=st==null?(P=I=F=N=null,u2):ij(P=+st[0][0],I=+st[0][1],F=+st[1][0],N=+st[1][1]),J()):P==null?null:[[P,I],[F,N]]},Q.scale=function(st){return arguments.length?(r=+st,ot()):r},Q.translate=function(st){return arguments.length?(i=+st[0],l=+st[1],ot()):[i,l]},Q.center=function(st){return arguments.length?(u=st[0]%360*Fi,h=st[1]%360*Fi,ot()):[u*vo,h*vo]},Q.rotate=function(st){return arguments.length?(p=st[0]%360*Fi,g=st[1]%360*Fi,m=st.length>2?st[2]%360*Fi:0,ot()):[p*vo,g*vo,m*vo]},Q.angle=function(st){return arguments.length?(w=st%360*Fi,ot()):w*vo},Q.reflectX=function(st){return arguments.length?(M=st?-1:1,ot()):M<0},Q.reflectY=function(st){return arguments.length?(O=st?-1:1,ot()):O<0},Q.precision=function(st){return arguments.length?(W=uj(Y,G=st*st),J()):Ko(G)},Q.fitExtent=function(st,gt){return zE(Q,st,gt)},Q.fitSize=function(st,gt){return uN(Q,st,gt)},Q.fitWidth=function(st,gt){return fN(Q,st,gt)},Q.fitHeight=function(st,gt){return hN(Q,st,gt)};function ot(){var st=fj(r,0,0,M,O,w).apply(null,e(u,h)),gt=fj(r,i-st[0],l-st[1],M,O,w);return x=aj(p,g,m),Y=oN(e,gt),U=oN(x,Y),W=uj(Y,G),J()}function J(){return X=$=null,Q}return function(){return e=t.apply(this,arguments),Q.invert=e.invert&&ft,ot()}}function pN(t){var e=0,r=Tr/3,i=dN(t),l=i(e,r);return l.parallels=function(u){return arguments.length?i(e=u[0]*Fi,r=u[1]*Fi):[e*vo,r*vo]},l}function vX(t){var e=Sr(t);function r(i,l){return[i*e,hr(l)/e]}return r.invert=function(i,l){return[i/e,qs(l*e)]},r}function hj(t,e){var r=hr(t),i=(r+hr(e))/2;if(Vr(i)<ir)return vX(t);var l=1+r*(2*i-r),u=Ko(l)/i;function h(p,g){var m=Ko(l-2*i*hr(g))/i;return[m*hr(p*=i),u-m*Sr(p)]}return h.invert=function(p,g){var m=u-g,x=ku(p,Vr(m))*Zs(m);return m*i<0&&(x-=Tr*Zs(p)*Zs(m)),[x/i,qs((l-(p*p+m*m)*i*i)/(2*i))]},h}function jE(){return pN(hj).scale(155.424).center([0,33.6442])}function dj(){return jE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gX(t){var e=t.length;return{point:function(r,i){for(var l=-1;++l<e;)t[l].point(r,i)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function yX(){var t,e,r=dj(),i,l=jE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,h=jE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p,g,m={point:function(M,O){g=[M,O]}};function x(M){var O=M[0],A=M[1];return g=null,i.point(O,A),g||(u.point(O,A),g)||(p.point(O,A),g)}x.invert=function(M){var O=r.scale(),A=r.translate(),E=(M[0]-A[0])/O,P=(M[1]-A[1])/O;return(P>=.12&&P<.234&&E>=-.425&&E<-.214?l:P>=.166&&P<.234&&E>=-.214&&E<-.115?h:r).invert(M)},x.stream=function(M){return t&&e===M?t:t=gX([r.stream(e=M),l.stream(M),h.stream(M)])},x.precision=function(M){return arguments.length?(r.precision(M),l.precision(M),h.precision(M),w()):r.precision()},x.scale=function(M){return arguments.length?(r.scale(M),l.scale(M*.35),h.scale(M),x.translate(r.translate())):r.scale()},x.translate=function(M){if(!arguments.length)return r.translate();var O=r.scale(),A=+M[0],E=+M[1];return i=r.translate(M).clipExtent([[A-.455*O,E-.238*O],[A+.455*O,E+.238*O]]).stream(m),u=l.translate([A-.307*O,E+.201*O]).clipExtent([[A-.425*O+ir,E+.12*O+ir],[A-.214*O-ir,E+.234*O-ir]]).stream(m),p=h.translate([A-.205*O,E+.212*O]).clipExtent([[A-.214*O+ir,E+.166*O+ir],[A-.115*O-ir,E+.234*O-ir]]).stream(m),w()},x.fitExtent=function(M,O){return zE(x,M,O)},x.fitSize=function(M,O){return uN(x,M,O)},x.fitWidth=function(M,O){return fN(x,M,O)},x.fitHeight=function(M,O){return hN(x,M,O)};function w(){return t=e=null,x}return x.scale(1070)}function pj(t){return function(e,r){var i=Sr(e),l=Sr(r),u=t(i*l);return u===1/0?[2,0]:[u*l*hr(e),u*hr(r)]}}function m2(t){return function(e,r){var i=Ko(e*e+r*r),l=t(i),u=hr(l),h=Sr(l);return[ku(e*u,i*h),qs(i&&r*u/i)]}}var vN=pj(function(t){return Ko(2/(1+t))});vN.invert=m2(function(t){return 2*qs(t/2)});function mX(){return Oc(vN).scale(124.75).clipAngle(180-.001)}var gN=pj(function(t){return(t=O7(t))&&t/hr(t)});gN.invert=m2(function(t){return t});function xX(){return Oc(gN).scale(79.4188).clipAngle(180-.001)}function x2(t,e){return[t,OE(HB((Vi+e)/2))]}x2.invert=function(t,e){return[t,2*Ng(_7(e))-Vi]};function bX(){return vj(x2).scale(961/ds)}function vj(t){var e=Oc(t),r=e.center,i=e.scale,l=e.translate,u=e.clipExtent,h=null,p,g,m;e.scale=function(w){return arguments.length?(i(w),x()):i()},e.translate=function(w){return arguments.length?(l(w),x()):l()},e.center=function(w){return arguments.length?(r(w),x()):r()},e.clipExtent=function(w){return arguments.length?(w==null?h=p=g=m=null:(h=+w[0][0],p=+w[0][1],g=+w[1][0],m=+w[1][1]),x()):h==null?null:[[h,p],[g,m]]};function x(){var w=Tr*i(),M=e(lX(e.rotate()).invert([0,0]));return u(h==null?[[M[0]-w,M[1]-w],[M[0]+w,M[1]+w]]:t===x2?[[Math.max(M[0]-w,h),p],[Math.min(M[0]+w,g),m]]:[[h,Math.max(M[1]-w,p)],[g,Math.min(M[1]+w,m)]])}return x()}function GE(t){return HB((Vi+t)/2)}function gj(t,e){var r=Sr(t),i=t===e?hr(t):OE(r/Sr(e))/OE(GE(e)/GE(t)),l=r*VB(GE(t),i)/i;if(!i)return x2;function u(h,p){l>0?p<-Vi+ir&&(p=-Vi+ir):p>Vi-ir&&(p=Vi-ir);var g=l/VB(GE(p),i);return[g*hr(i*h),l-g*Sr(i*h)]}return u.invert=function(h,p){var g=l-p,m=Zs(i)*Ko(h*h+g*g),x=ku(h,Vr(g))*Zs(g);return g*i<0&&(x-=Tr*Zs(h)*Zs(g)),[x/i,2*Ng(VB(l/m,1/i))-Vi]},u}function wX(){return pN(gj).scale(109.5).parallels([30,30])}function b2(t,e){return[t,e]}b2.invert=b2;function MX(){return Oc(b2).scale(152.63)}function yj(t,e){var r=Sr(t),i=t===e?hr(t):(r-Sr(e))/(e-t),l=r/i+t;if(Vr(i)<ir)return b2;function u(h,p){var g=l-p,m=i*h;return[g*hr(m),l-g*Sr(m)]}return u.invert=function(h,p){var g=l-p,m=ku(h,Vr(g))*Zs(g);return g*i<0&&(m-=Tr*Zs(h)*Zs(g)),[m/i,l-Zs(i)*Ko(h*h+g*g)]},u}function SX(){return pN(yj).scale(131.154).center([0,13.9389])}var w2=1.340264,M2=-.081106,S2=893e-6,_2=.003796,WE=Ko(3)/2,_X=12;function yN(t,e){var r=qs(WE*hr(e)),i=r*r,l=i*i*i;return[t*Sr(r)/(WE*(w2+3*M2*i+l*(7*S2+9*_2*i))),r*(w2+M2*i+l*(S2+_2*i))]}yN.invert=function(t,e){for(var r=e,i=r*r,l=i*i*i,u=0,h,p,g;u<_X&&(p=r*(w2+M2*i+l*(S2+_2*i))-e,g=w2+3*M2*i+l*(7*S2+9*_2*i),r-=h=p/g,i=r*r,l=i*i*i,!(Vr(h)<M7));++u);return[WE*t*(w2+3*M2*i+l*(7*S2+9*_2*i))/Sr(r),qs(hr(r)/WE)]};function OX(){return Oc(yN).scale(177.158)}function mN(t,e){var r=Sr(e),i=Sr(t)*r;return[r*hr(t)/i,hr(e)/i]}mN.invert=m2(Ng);function CX(){return Oc(mN).scale(144.049).clipAngle(60)}function AX(){var t=1,e=0,r=0,i=1,l=1,u=0,h,p,g=null,m,x,w,M=1,O=1,A=y2({point:function(z,G){var W=N([z,G]);this.stream.point(W[0],W[1])}}),E=u2,P,I;function F(){return M=t*i,O=t*l,P=I=null,N}function N(z){var G=z[0]*M,W=z[1]*O;if(u){var Y=W*h-G*p;G=G*h+W*p,W=Y}return[G+e,W+r]}return N.invert=function(z){var G=z[0]-e,W=z[1]-r;if(u){var Y=W*h+G*p;G=G*h-W*p,W=Y}return[G/M,W/O]},N.stream=function(z){return P&&I===z?P:P=A(E(I=z))},N.postclip=function(z){return arguments.length?(E=z,g=m=x=w=null,F()):E},N.clipExtent=function(z){return arguments.length?(E=z==null?(g=m=x=w=null,u2):ij(g=+z[0][0],m=+z[0][1],x=+z[1][0],w=+z[1][1]),F()):g==null?null:[[g,m],[x,w]]},N.scale=function(z){return arguments.length?(t=+z,F()):t},N.translate=function(z){return arguments.length?(e=+z[0],r=+z[1],F()):[e,r]},N.angle=function(z){return arguments.length?(u=z%360*Fi,p=hr(u),h=Sr(u),F()):u*vo},N.reflectX=function(z){return arguments.length?(i=z?-1:1,F()):i<0},N.reflectY=function(z){return arguments.length?(l=z?-1:1,F()):l<0},N.fitExtent=function(z,G){return zE(N,z,G)},N.fitSize=function(z,G){return uN(N,z,G)},N.fitWidth=function(z,G){return fN(N,z,G)},N.fitHeight=function(z,G){return hN(N,z,G)},N}function xN(t,e){var r=e*e,i=r*r;return[t*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),e*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}xN.invert=function(t,e){var r=e,i=25,l;do{var u=r*r,h=u*u;r-=l=(r*(1.007226+u*(.015085+h*(-.044475+.028874*u-.005916*h)))-e)/(1.007226+u*(.015085*3+h*(-.044475*7+.028874*9*u-.005916*11*h)))}while(Vr(l)>ir&&--i>0);return[t/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function TX(){return Oc(xN).scale(175.295)}function bN(t,e){return[Sr(e)*hr(t),hr(e)]}bN.invert=m2(qs);function EX(){return Oc(bN).scale(249.5).clipAngle(90+ir)}function wN(t,e){var r=Sr(e),i=1+Sr(t)*r;return[r*hr(t)/i,hr(e)/i]}wN.invert=m2(function(t){return 2*Ng(t)});function kX(){return Oc(wN).scale(250).clipAngle(142)}function MN(t,e){return[OE(HB((Vi+e)/2)),-t]}MN.invert=function(t,e){return[-e,2*Ng(_7(t))-Vi]};function PX(){var t=vj(MN),e=t.center,r=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?r([i[0],i[1],i.length>2?i[2]+90:90]):(i=r(),[i[0],i[1],i[2]-90])},r([0,0,90]).scale(159.155)}var LX=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function IX(t){if(typeof t=="function")return t;const e=`geo${hc(t)}`,r=ne[e];if(!r)throw new Error(`Unknown coordinate: ${t}`);return r}function RX(t){return{type:"FeatureCollection",features:t.flatMap(e=>FX(e).features)}}function FX(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const r=e[t.type];if(!r)return null;if(r==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(r==="feature")return{type:"FeatureCollection",features:[t]};if(r==="featureCollection")return t}function DX(t,e){var r;for(const[i,l]of Object.entries(e))(r=t[i])===null||r===void 0||r.call(t,l)}function BX(t,e,r,i){const l=()=>{const p=e.filter(mj);return p.find(m=>m.sphere)?{type:"Sphere"}:RX(p.filter(m=>!m.sphere).flatMap(m=>m.data.value))},{outline:u=l()}=i,{size:h="fitExtent"}=i;if(h==="fitExtent")return NX(t,u,r);if(h==="fitWidth")return zX(t,u,r)}function NX(t,e,r){const{x:i,y:l,width:u,height:h}=r;t.fitExtent([[i,l],[u,h]],e)}function zX(t,e,r){const{width:i,height:l}=r,[[u,h],[p,g]]=U7(t.fitWidth(i,e)).bounds(e),m=Math.ceil(g-h),x=Math.min(Math.ceil(p-u),m),w=t.scale()*(x-1)/x,[M,O]=t.translate(),A=O+(l-m)/2;t.scale(w).translate([M,A]).precision(.2)}function jX(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:r}=e;return r==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[JU()]}}):r==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function mj(t){return t.type==="geoPath"}const xj=()=>t=>{const{children:e,coordinate:r={}}=t;if(!Array.isArray(e))return[];const{type:i="equalEarth"}=r,l=LX(r,["type"]),u=IX(i),h=e.map(jX);let p;function g(){return[["custom",(w,M,O,A)=>{const E=u();BX(E,h,{x:w,y:M,width:O,height:A},l),DX(E,l),p=U7(E);const I=new Oo({domain:[w,w+O]}),F=new Oo({domain:[M,M+A]}),N=G=>{const W=E(G);if(!W)return[null,null];const[Y,U]=W;return[I.map(Y),F.map(U)]},z=G=>{if(!G)return null;const[W,Y]=G,U=[I.invert(W),F.invert(Y)];return E.invert(U)};return{transform:G=>N(G),untransform:G=>z(G)}}]]}function m(w){const{style:M,tooltip:O={}}=w;return Object.assign(Object.assign({},w),{type:"path",tooltip:eN(O,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},M),{d:A=>p(A)||[]})})}const x=w=>mj(w)?m(w):w;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:g},children:h.flatMap(x)})]};xj.props={};var GX=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const bj=()=>t=>{const{type:e,data:r,scale:i,encode:l,style:u,animate:h,key:p,state:g}=t,m=GX(t,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},m),{children:[{type:"geoPath",key:`${p}-0`,data:{value:r},scale:i,encode:l,style:u,animate:h,state:g}]})]};bj.props={};function WX(){return{"composition.geoView":xj,"composition.geoPath":bj}}function VX(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return wj(this.cover(e,r),e,r,t)}function wj(t,e,r,i){if(isNaN(e)||isNaN(r))return t;var l,u=t._root,h={data:i},p=t._x0,g=t._y0,m=t._x1,x=t._y1,w,M,O,A,E,P,I,F;if(!u)return t._root=h,t;for(;u.length;)if((E=e>=(w=(p+m)/2))?p=w:m=w,(P=r>=(M=(g+x)/2))?g=M:x=M,l=u,!(u=u[I=P<<1|E]))return l[I]=h,t;if(O=+t._x.call(null,u.data),A=+t._y.call(null,u.data),e===O&&r===A)return h.next=u,l?l[I]=h:t._root=h,t;do l=l?l[I]=new Array(4):t._root=new Array(4),(E=e>=(w=(p+m)/2))?p=w:m=w,(P=r>=(M=(g+x)/2))?g=M:x=M;while((I=P<<1|E)===(F=(A>=M)<<1|O>=w));return l[F]=u,l[I]=h,t}function HX(t){var e,r,i=t.length,l,u,h=new Array(i),p=new Array(i),g=1/0,m=1/0,x=-1/0,w=-1/0;for(r=0;r<i;++r)isNaN(l=+this._x.call(null,e=t[r]))||isNaN(u=+this._y.call(null,e))||(h[r]=l,p[r]=u,l<g&&(g=l),l>x&&(x=l),u<m&&(m=u),u>w&&(w=u));if(g>x||m>w)return this;for(this.cover(g,m).cover(x,w),r=0;r<i;++r)wj(this,h[r],p[r],t[r]);return this}function YX(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,l=this._x1,u=this._y1;if(isNaN(r))l=(r=Math.floor(t))+1,u=(i=Math.floor(e))+1;else{for(var h=l-r||1,p=this._root,g,m;r>t||t>=l||i>e||e>=u;)switch(m=(e<i)<<1|t<r,g=new Array(4),g[m]=p,p=g,h*=2,m){case 0:l=r+h,u=i+h;break;case 1:r=l-h,u=i+h;break;case 2:l=r+h,i=u-h;break;case 3:r=l-h,i=u-h;break}this._root&&this._root.length&&(this._root=p)}return this._x0=r,this._y0=i,this._x1=l,this._y1=u,this}function UX(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function XX(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Lo(t,e,r,i,l){this.node=t,this.x0=e,this.y0=r,this.x1=i,this.y1=l}function ZX(t,e,r){var i,l=this._x0,u=this._y0,h,p,g,m,x=this._x1,w=this._y1,M=[],O=this._root,A,E;for(O&&M.push(new Lo(O,l,u,x,w)),r==null?r=1/0:(l=t-r,u=e-r,x=t+r,w=e+r,r*=r);A=M.pop();)if(!(!(O=A.node)||(h=A.x0)>x||(p=A.y0)>w||(g=A.x1)<l||(m=A.y1)<u))if(O.length){var P=(h+g)/2,I=(p+m)/2;M.push(new Lo(O[3],P,I,g,m),new Lo(O[2],h,I,P,m),new Lo(O[1],P,p,g,I),new Lo(O[0],h,p,P,I)),(E=(e>=I)<<1|t>=P)&&(A=M[M.length-1],M[M.length-1]=M[M.length-1-E],M[M.length-1-E]=A)}else{var F=t-+this._x.call(null,O.data),N=e-+this._y.call(null,O.data),z=F*F+N*N;if(z<r){var G=Math.sqrt(r=z);l=t-G,u=e-G,x=t+G,w=e+G,i=O.data}}return i}function qX(t){if(isNaN(x=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var e,r=this._root,i,l,u,h=this._x0,p=this._y0,g=this._x1,m=this._y1,x,w,M,O,A,E,P,I;if(!r)return this;if(r.length)for(;;){if((A=x>=(M=(h+g)/2))?h=M:g=M,(E=w>=(O=(p+m)/2))?p=O:m=O,e=r,!(r=r[P=E<<1|A]))return this;if(!r.length)break;(e[P+1&3]||e[P+2&3]||e[P+3&3])&&(i=e,I=P)}for(;r.data!==t;)if(l=r,!(r=r.next))return this;return(u=r.next)&&delete r.next,l?(u?l.next=u:delete l.next,this):e?(u?e[P]=u:delete e[P],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[I]=r:this._root=r),this):(this._root=u,this)}function $X(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function KX(){return this._root}function JX(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function QX(t){var e=[],r,i=this._root,l,u,h,p,g;for(i&&e.push(new Lo(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(i=r.node,u=r.x0,h=r.y0,p=r.x1,g=r.y1)&&i.length){var m=(u+p)/2,x=(h+g)/2;(l=i[3])&&e.push(new Lo(l,m,x,p,g)),(l=i[2])&&e.push(new Lo(l,u,x,m,g)),(l=i[1])&&e.push(new Lo(l,m,h,p,x)),(l=i[0])&&e.push(new Lo(l,u,h,m,x))}return this}function tZ(t){var e=[],r=[],i;for(this._root&&e.push(new Lo(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var l=i.node;if(l.length){var u,h=i.x0,p=i.y0,g=i.x1,m=i.y1,x=(h+g)/2,w=(p+m)/2;(u=l[0])&&e.push(new Lo(u,h,p,x,w)),(u=l[1])&&e.push(new Lo(u,x,p,g,w)),(u=l[2])&&e.push(new Lo(u,h,w,x,m)),(u=l[3])&&e.push(new Lo(u,x,w,g,m))}r.push(i)}for(;i=r.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function eZ(t){return t[0]}function nZ(t){return arguments.length?(this._x=t,this):this._x}function rZ(t){return t[1]}function iZ(t){return arguments.length?(this._y=t,this):this._y}function Mj(t,e,r){var i=new SN(e==null?eZ:e,r==null?rZ:r,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function SN(t,e,r,i,l,u){this._x=t,this._y=e,this._x0=r,this._y0=i,this._x1=l,this._y1=u,this._root=void 0}function Sj(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var Io=Mj.prototype=SN.prototype;Io.copy=function(){var t=new SN(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return t;if(!e.length)return t._root=Sj(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var l=0;l<4;++l)(i=e.source[l])&&(i.length?r.push({source:i,target:e.target[l]=new Array(4)}):e.target[l]=Sj(i));return t},Io.add=VX,Io.addAll=HX,Io.cover=YX,Io.data=UX,Io.extent=XX,Io.find=ZX,Io.remove=qX,Io.removeAll=$X,Io.root=KX,Io.size=JX,Io.visit=QX,Io.visitAfter=tZ,Io.x=nZ,Io.y=iZ;function ps(t){return function(){return t}}function Vg(t){return(t()-.5)*1e-6}var aZ={value:function(){}};function _j(){for(var t=0,e=arguments.length,r={},i;t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new VE(r)}function VE(t){this._=t}function oZ(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",l=r.indexOf(".");if(l>=0&&(i=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}VE.prototype=_j.prototype={constructor:VE,on:function(e,r){var i=this._,l=oZ(e+"",i),u,h=-1,p=l.length;if(arguments.length<2){for(;++h<p;)if((u=(e=l[h]).type)&&(u=sZ(i[u],e.name)))return u;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++h<p;)if(u=(e=l[h]).type)i[u]=Oj(i[u],e.name,r);else if(r==null)for(u in i)i[u]=Oj(i[u],e.name,null);return this},copy:function(){var e={},r=this._;for(var i in r)e[i]=r[i].slice();return new VE(e)},call:function(e,r){if((u=arguments.length-2)>0)for(var i=new Array(u),l=0,u,h;l<u;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(h=this._[e],l=0,u=h.length;l<u;++l)h[l].value.apply(r,i)},apply:function(e,r,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],u=0,h=l.length;u<h;++u)l[u].value.apply(r,i)}};function sZ(t,e){for(var r=0,i=t.length,l;r<i;++r)if((l=t[r]).name===e)return l.value}function Oj(t,e,r){for(var i=0,l=t.length;i<l;++i)if(t[i].name===e){t[i]=aZ,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:e,value:r}),t}var lZ=_j,Hg=0,O2=0,C2=0,Cj=1e3,HE,A2,YE=0,_p=0,UE=0,T2=typeof performance=="object"&&performance.now?performance:Date,Aj=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tj(){return _p||(Aj(cZ),_p=T2.now()+UE)}function cZ(){_p=0}function _N(){this._call=this._time=this._next=null}_N.prototype=Ej.prototype={constructor:_N,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Tj():+r)+(e==null?0:+e),!this._next&&A2!==this&&(A2?A2._next=this:HE=this,A2=this),this._call=t,this._time=r,ON()},stop:function(){this._call&&(this._call=null,this._time=1/0,ON())}};function Ej(t,e,r){var i=new _N;return i.restart(t,e,r),i}function uZ(){Tj(),++Hg;for(var t=HE,e;t;)(e=_p-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hg}function kj(){_p=(YE=T2.now())+UE,Hg=O2=0;try{uZ()}finally{Hg=0,hZ(),_p=0}}function fZ(){var t=T2.now(),e=t-YE;e>Cj&&(UE-=e,YE=t)}function hZ(){for(var t,e=HE,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:HE=r);A2=t,ON(i)}function ON(t){if(!Hg){O2&&(O2=clearTimeout(O2));var e=t-_p;e>24?(t<1/0&&(O2=setTimeout(kj,t-T2.now()-UE)),C2&&(C2=clearInterval(C2))):(C2||(YE=T2.now(),C2=setInterval(fZ,Cj)),Hg=1,Aj(kj))}}const dZ=1664525,pZ=1013904223,Pj=4294967296;function vZ(){let t=1;return()=>(t=(dZ*t+pZ)%Pj)/Pj}function gZ(t){return t.x}function yZ(t){return t.y}var mZ=10,xZ=Math.PI*(3-Math.sqrt(5));function bZ(t){var e,r=1,i=.001,l=1-Math.pow(i,1/300),u=0,h=.6,p=new Map,g=Ej(w),m=lZ("tick","end"),x=vZ();t==null&&(t=[]);function w(){M(),m.call("tick",e),r<i&&(g.stop(),m.call("end",e))}function M(E){var P,I=t.length,F;E===void 0&&(E=1);for(var N=0;N<E;++N)for(r+=(u-r)*l,p.forEach(function(z){z(r)}),P=0;P<I;++P)F=t[P],F.fx==null?F.x+=F.vx*=h:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=h:(F.y=F.fy,F.vy=0);return e}function O(){for(var E=0,P=t.length,I;E<P;++E){if(I=t[E],I.index=E,I.fx!=null&&(I.x=I.fx),I.fy!=null&&(I.y=I.fy),isNaN(I.x)||isNaN(I.y)){var F=mZ*Math.sqrt(.5+E),N=E*xZ;I.x=F*Math.cos(N),I.y=F*Math.sin(N)}(isNaN(I.vx)||isNaN(I.vy))&&(I.vx=I.vy=0)}}function A(E){return E.initialize&&E.initialize(t,x),E}return O(),e={tick:M,restart:function(){return g.restart(w),e},stop:function(){return g.stop(),e},nodes:function(E){return arguments.length?(t=E,O(),p.forEach(A),e):t},alpha:function(E){return arguments.length?(r=+E,e):r},alphaMin:function(E){return arguments.length?(i=+E,e):i},alphaDecay:function(E){return arguments.length?(l=+E,e):+l},alphaTarget:function(E){return arguments.length?(u=+E,e):u},velocityDecay:function(E){return arguments.length?(h=1-E,e):1-h},randomSource:function(E){return arguments.length?(x=E,p.forEach(A),e):x},force:function(E,P){return arguments.length>1?(P==null?p.delete(E):p.set(E,A(P)),e):p.get(E)},find:function(E,P,I){var F=0,N=t.length,z,G,W,Y,U;for(I==null?I=1/0:I*=I,F=0;F<N;++F)Y=t[F],z=E-Y.x,G=P-Y.y,W=z*z+G*G,W<I&&(U=Y,I=W);return U},on:function(E,P){return arguments.length>1?(m.on(E,P),e):m.on(E)}}}function wZ(){var t,e,r,i,l=ps(-30),u,h=1,p=1/0,g=.81;function m(O){var A,E=t.length,P=Mj(t,gZ,yZ).visitAfter(w);for(i=O,A=0;A<E;++A)e=t[A],P.visit(M)}function x(){if(t){var O,A=t.length,E;for(u=new Array(A),O=0;O<A;++O)E=t[O],u[E.index]=+l(E,O,t)}}function w(O){var A=0,E,P,I=0,F,N,z;if(O.length){for(F=N=z=0;z<4;++z)(E=O[z])&&(P=Math.abs(E.value))&&(A+=E.value,I+=P,F+=P*E.x,N+=P*E.y);O.x=F/I,O.y=N/I}else{E=O,E.x=E.data.x,E.y=E.data.y;do A+=u[E.data.index];while(E=E.next)}O.value=A}function M(O,A,E,P){if(!O.value)return!0;var I=O.x-e.x,F=O.y-e.y,N=P-A,z=I*I+F*F;if(N*N/g<z)return z<p&&(I===0&&(I=Vg(r),z+=I*I),F===0&&(F=Vg(r),z+=F*F),z<h&&(z=Math.sqrt(h*z)),e.vx+=I*O.value*i/z,e.vy+=F*O.value*i/z),!0;if(O.length||z>=p)return;(O.data!==e||O.next)&&(I===0&&(I=Vg(r),z+=I*I),F===0&&(F=Vg(r),z+=F*F),z<h&&(z=Math.sqrt(h*z)));do O.data!==e&&(N=u[O.data.index]*i/z,e.vx+=I*N,e.vy+=F*N);while(O=O.next)}return m.initialize=function(O,A){t=O,r=A,x()},m.strength=function(O){return arguments.length?(l=typeof O=="function"?O:ps(+O),x(),m):l},m.distanceMin=function(O){return arguments.length?(h=O*O,m):Math.sqrt(h)},m.distanceMax=function(O){return arguments.length?(p=O*O,m):Math.sqrt(p)},m.theta=function(O){return arguments.length?(g=O*O,m):Math.sqrt(g)},m}function MZ(t){return t.index}function Lj(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function SZ(t){var e=MZ,r=w,i,l=ps(30),u,h,p,g,m,x=1;t==null&&(t=[]);function w(P){return 1/Math.min(p[P.source.index],p[P.target.index])}function M(P){for(var I=0,F=t.length;I<x;++I)for(var N=0,z,G,W,Y,U,X,$;N<F;++N)z=t[N],G=z.source,W=z.target,Y=W.x+W.vx-G.x-G.vx||Vg(m),U=W.y+W.vy-G.y-G.vy||Vg(m),X=Math.sqrt(Y*Y+U*U),X=(X-u[N])/X*P*i[N],Y*=X,U*=X,W.vx-=Y*($=g[N]),W.vy-=U*$,G.vx+=Y*($=1-$),G.vy+=U*$}function O(){if(h){var P,I=h.length,F=t.length,N=new Map(h.map((G,W)=>[e(G,W,h),G])),z;for(P=0,p=new Array(I);P<F;++P)z=t[P],z.index=P,typeof z.source!="object"&&(z.source=Lj(N,z.source)),typeof z.target!="object"&&(z.target=Lj(N,z.target)),p[z.source.index]=(p[z.source.index]||0)+1,p[z.target.index]=(p[z.target.index]||0)+1;for(P=0,g=new Array(F);P<F;++P)z=t[P],g[P]=p[z.source.index]/(p[z.source.index]+p[z.target.index]);i=new Array(F),A(),u=new Array(F),E()}}function A(){if(h)for(var P=0,I=t.length;P<I;++P)i[P]=+r(t[P],P,t)}function E(){if(h)for(var P=0,I=t.length;P<I;++P)u[P]=+l(t[P],P,t)}return M.initialize=function(P,I){h=P,m=I,O()},M.links=function(P){return arguments.length?(t=P,O(),M):t},M.id=function(P){return arguments.length?(e=P,M):e},M.iterations=function(P){return arguments.length?(x=+P,M):x},M.strength=function(P){return arguments.length?(r=typeof P=="function"?P:ps(+P),A(),M):r},M.distance=function(P){return arguments.length?(l=typeof P=="function"?P:ps(+P),E(),M):l},M}function _Z(t,e){var r,i=1;t==null&&(t=0),e==null&&(e=0);function l(){var u,h=r.length,p,g=0,m=0;for(u=0;u<h;++u)p=r[u],g+=p.x,m+=p.y;for(g=(g/h-t)*i,m=(m/h-e)*i,u=0;u<h;++u)p=r[u],p.x-=g,p.y-=m}return l.initialize=function(u){r=u},l.x=function(u){return arguments.length?(t=+u,l):t},l.y=function(u){return arguments.length?(e=+u,l):e},l.strength=function(u){return arguments.length?(i=+u,l):i},l}function OZ(t){var e=ps(.1),r,i,l;typeof t!="function"&&(t=ps(t==null?0:+t));function u(p){for(var g=0,m=r.length,x;g<m;++g)x=r[g],x.vx+=(l[g]-x.x)*i[g]*p}function h(){if(r){var p,g=r.length;for(i=new Array(g),l=new Array(g),p=0;p<g;++p)i[p]=isNaN(l[p]=+t(r[p],p,r))?0:+e(r[p],p,r)}}return u.initialize=function(p){r=p,h()},u.strength=function(p){return arguments.length?(e=typeof p=="function"?p:ps(+p),h(),u):e},u.x=function(p){return arguments.length?(t=typeof p=="function"?p:ps(+p),h(),u):t},u}function CZ(t){var e=ps(.1),r,i,l;typeof t!="function"&&(t=ps(t==null?0:+t));function u(p){for(var g=0,m=r.length,x;g<m;++g)x=r[g],x.vy+=(l[g]-x.y)*i[g]*p}function h(){if(r){var p,g=r.length;for(i=new Array(g),l=new Array(g),p=0;p<g;++p)i[p]=isNaN(l[p]=+t(r[p],p,r))?0:+e(r[p],p,r)}}return u.initialize=function(p){r=p,h()},u.strength=function(p){return arguments.length?(e=typeof p=="function"?p:ps(+p),h(),u):e},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:ps(+p),h(),u):t},u}var AZ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const TZ={joint:!0},EZ={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},kZ={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},PZ={text:""};function LZ(t,e,r){const{nodes:i,links:l}=t,{joint:u,nodeStrength:h,linkStrength:p}=e,{nodeKey:g=A=>A.id,linkKey:m=A=>A.id}=r,x=wZ(),w=SZ(l).id(ll(m));typeof h=="function"&&x.strength(h),typeof p=="function"&&w.strength(p);const M=bZ(i).force("link",w).force("charge",x);u?M.force("center",_Z()):M.force("x",OZ()).force("y",CZ()),M.stop();const O=Math.ceil(Math.log(M.alphaMin())/Math.log(1-M.alphaDecay()));for(let A=0;A<O;A++)M.tick();return{nodesData:i,linksData:l}}const Ij=t=>{const{data:e,encode:r={},scale:i,style:l={},layout:u={},nodeLabels:h=[],linkLabels:p=[],animate:g={},tooltip:m={}}=t,{nodeKey:x=W=>W.id,linkKey:w=W=>W.id}=r,M=AZ(r,["nodeKey","linkKey"]),O=Object.assign({nodeKey:x,linkKey:w},M),A=kn(O,"node"),E=kn(O,"link"),{links:P,nodes:I}=P_(e,O),{nodesData:F,linksData:N}=LZ({links:P,nodes:I},sn({},TZ,u),O),z=ah(m,"link",{items:[W=>({name:"source",value:ll(w)(W.source)}),W=>({name:"target",value:ll(w)(W.target)})]}),G=ah(m,"node",{items:[W=>({name:"key",value:ll(x)(W)})]},!0);return[sn({},EZ,{data:N,encode:E,labels:p,style:kn(l,"link"),tooltip:z,animate:oh(g,"link")}),sn({},kZ,{data:F,encode:Object.assign({},A),scale:i,style:kn(l,"node"),tooltip:G,labels:[Object.assign(Object.assign({},PZ),kn(l,"label")),...h],animate:oh(g,"link")})]};Ij.props={};function IZ(t,e){return t.parent===e.parent?1:2}function CN(t){var e=t.children;return e?e[0]:t.t}function AN(t){var e=t.children;return e?e[e.length-1]:t.t}function RZ(t,e,r){var i=r/(e.i-t.i);e.c-=i,e.s+=r,t.c+=i,e.z+=r,e.m+=r}function FZ(t){for(var e=0,r=0,i=t.children,l=i.length,u;--l>=0;)u=i[l],u.z+=e,u.m+=e,e+=u.s+(r+=u.c)}function DZ(t,e,r){return t.a.parent===e.parent?t.a:r}function XE(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}XE.prototype=Object.create(tc.prototype);function BZ(t){for(var e=new XE(t,0),r,i=[e],l,u,h,p;r=i.pop();)if(u=r._.children)for(r.children=new Array(p=u.length),h=p-1;h>=0;--h)i.push(l=r.children[h]=new XE(u[h],h)),l.parent=r;return(e.parent=new XE(null,0)).children=[e],e}function NZ(){var t=IZ,e=1,r=1,i=null;function l(m){var x=BZ(m);if(x.eachAfter(u),x.parent.m=-x.z,x.eachBefore(h),i)m.eachBefore(g);else{var w=m,M=m,O=m;m.eachBefore(function(F){F.x<w.x&&(w=F),F.x>M.x&&(M=F),F.depth>O.depth&&(O=F)});var A=w===M?1:t(w,M)/2,E=A-w.x,P=e/(M.x+A+E),I=r/(O.depth||1);m.eachBefore(function(F){F.x=(F.x+E)*P,F.y=F.depth*I})}return m}function u(m){var x=m.children,w=m.parent.children,M=m.i?w[m.i-1]:null;if(x){FZ(m);var O=(x[0].z+x[x.length-1].z)/2;M?(m.z=M.z+t(m._,M._),m.m=m.z-O):m.z=O}else M&&(m.z=M.z+t(m._,M._));m.parent.A=p(m,M,m.parent.A||w[0])}function h(m){m._.x=m.z+m.parent.m,m.m+=m.parent.m}function p(m,x,w){if(x){for(var M=m,O=m,A=x,E=M.parent.children[0],P=M.m,I=O.m,F=A.m,N=E.m,z;A=AN(A),M=CN(M),A&&M;)E=CN(E),O=AN(O),O.a=m,z=A.z+F-M.z-P+t(A._,M._),z>0&&(RZ(DZ(A,m,w),m,z),P+=z,I+=z),F+=A.m,P+=M.m,N+=E.m,I+=O.m;A&&!AN(O)&&(O.t=A,O.m+=F-I),M&&!CN(E)&&(E.t=M,E.m+=P-N,w=m)}return w}function g(m){m.x*=e,m.y=m.depth*r}return l.separation=function(m){return arguments.length?(t=m,l):t},l.size=function(m){return arguments.length?(i=!1,e=+m[0],r=+m[1],l):i?null:[e,r]},l.nodeSize=function(m){return arguments.length?(i=!0,e=+m[0],r=+m[1],l):i?[e,r]:null},l}function zZ(t,e){return t.parent===e.parent?1:2}function jZ(t){return t.reduce(GZ,0)/t.length}function GZ(t,e){return t+e.x}function WZ(t){return 1+t.reduce(VZ,0)}function VZ(t,e){return Math.max(t,e.y)}function HZ(t){for(var e;e=t.children;)t=e[0];return t}function YZ(t){for(var e;e=t.children;)t=e[e.length-1];return t}function UZ(){var t=zZ,e=1,r=1,i=!1;function l(u){var h,p=0;u.eachAfter(function(M){var O=M.children;O?(M.x=jZ(O),M.y=WZ(O)):(M.x=h?p+=t(M,h):0,M.y=0,h=M)});var g=HZ(u),m=YZ(u),x=g.x-t(g,m)/2,w=m.x+t(m,g)/2;return u.eachAfter(i?function(M){M.x=(M.x-u.x)*e,M.y=(u.y-M.y)*r}:function(M){M.x=(M.x-x)/(w-x)*e,M.y=(1-(u.y?M.y/u.y:1))*r})}return l.separation=function(u){return arguments.length?(t=u,l):t},l.size=function(u){return arguments.length?(i=!1,e=+u[0],r=+u[1],l):i?null:[e,r]},l.nodeSize=function(u){return arguments.length?(i=!0,e=+u[0],r=+u[1],l):i?[e,r]:null},l}const Rj=t=>e=>r=>{const{field:i="value",nodeSize:l,separation:u,sortBy:h,as:p=["x","y"]}=e,[g,m]=p,x=fu(r,A=>A.children).sum(A=>A[i]).sort(h),w=t();w.size([1,1]),l&&w.nodeSize(l),u&&w.separation(u),w(x);const M=[];x.each(A=>{A[g]=A.x,A[m]=A.y,A.name=A.data.name,M.push(A)});const O=x.links();return O.forEach(A=>{A[g]=[A.source[g],A.target[g]],A[m]=[A.source[m],A.target[m]]}),{nodes:M,edges:O}},Fj=t=>Rj(UZ)(t);Fj.props={};const Dj=t=>Rj(NZ)(t);Dj.props={};const XZ={sortBy:(t,e)=>e.value-t.value},ZZ={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},qZ={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},$Z={text:"",fontSize:10},Bj=t=>{const{data:e,encode:r={},scale:i={},style:l={},layout:u={},nodeLabels:h=[],linkLabels:p=[],animate:g={},tooltip:m={}}=t,x=r==null?void 0:r.value,{nodes:w,edges:M}=Dj(Object.assign(Object.assign(Object.assign({},XZ),u),{field:x}))(e),O=ah(m,"node",{title:"name",items:["value"]},!0),A=ah(m,"link",{title:"",items:[E=>({name:"source",value:E.source.name}),E=>({name:"target",value:E.target.name})]});return[sn({},qZ,{data:M,encode:kn(r,"link"),scale:kn(i,"link"),labels:p,style:Object.assign({stroke:"#999"},kn(l,"link")),tooltip:A,animate:oh(g,"link")}),sn({},ZZ,{data:w,scale:kn(i,"node"),encode:kn(r,"node"),labels:[Object.assign(Object.assign({},$Z),kn(l,"label")),...h],style:Object.assign({},kn(l,"node")),tooltip:O,animate:oh(g,"node")})]};Bj.props={};function Op(){return 0}function Yg(t){return function(){return t}}var KZ=1664525,JZ=1013904223,Nj=4294967296;function QZ(){var t=1;return function(){return(t=(KZ*t+JZ)%Nj)/Nj}}var tq=kt(52677);function eq(t){return tq(t)==="object"&&"length"in t?t:Array.from(t)}function nq(t,e){for(var r=t.length,i,l;r;)l=e()*r--|0,i=t[r],t[r]=t[l],t[l]=i;return t}function knt(t){return zj(t,lcg())}function zj(t,e){for(var r=0,i=(t=nq(Array.from(t),e)).length,l=[],u,h;r<i;)u=t[r],h&&jj(h,u)?++r:(h=iq(l=rq(l,u)),r=0);return h}function rq(t,e){var r,i;if(TN(e,t))return[e];for(r=0;r<t.length;++r)if(ZE(e,t[r])&&TN(E2(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(i=r+1;i<t.length;++i)if(ZE(E2(t[r],t[i]),e)&&ZE(E2(t[r],e),t[i])&&ZE(E2(t[i],e),t[r])&&TN(Gj(t[r],t[i],e),t))return[t[r],t[i],e];throw new Error}function ZE(t,e){var r=t.r-e.r,i=e.x-t.x,l=e.y-t.y;return r<0||r*r<i*i+l*l}function jj(t,e){var r=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,i=e.x-t.x,l=e.y-t.y;return r>0&&r*r>i*i+l*l}function TN(t,e){for(var r=0;r<e.length;++r)if(!jj(t,e[r]))return!1;return!0}function iq(t){switch(t.length){case 1:return aq(t[0]);case 2:return E2(t[0],t[1]);case 3:return Gj(t[0],t[1],t[2])}}function aq(t){return{x:t.x,y:t.y,r:t.r}}function E2(t,e){var r=t.x,i=t.y,l=t.r,u=e.x,h=e.y,p=e.r,g=u-r,m=h-i,x=p-l,w=Math.sqrt(g*g+m*m);return{x:(r+u+g/w*x)/2,y:(i+h+m/w*x)/2,r:(w+l+p)/2}}function Gj(t,e,r){var i=t.x,l=t.y,u=t.r,h=e.x,p=e.y,g=e.r,m=r.x,x=r.y,w=r.r,M=i-h,O=i-m,A=l-p,E=l-x,P=g-u,I=w-u,F=i*i+l*l-u*u,N=F-h*h-p*p+g*g,z=F-m*m-x*x+w*w,G=O*A-M*E,W=(A*z-E*N)/(G*2)-i,Y=(E*P-A*I)/G,U=(O*N-M*z)/(G*2)-l,X=(M*I-O*P)/G,$=Y*Y+X*X-1,Q=2*(u+W*Y+U*X),ft=W*W+U*U-u*u,ot=-(Math.abs($)>1e-6?(Q+Math.sqrt(Q*Q-4*$*ft))/(2*$):ft/Q);return{x:i+W+Y*ot,y:l+U+X*ot,r:ot}}function Wj(t,e,r){var i=t.x-e.x,l,u,h=t.y-e.y,p,g,m=i*i+h*h;m?(u=e.r+r.r,u*=u,g=t.r+r.r,g*=g,u>g?(l=(m+g-u)/(2*m),p=Math.sqrt(Math.max(0,g/m-l*l)),r.x=t.x-l*i-p*h,r.y=t.y-l*h+p*i):(l=(m+u-g)/(2*m),p=Math.sqrt(Math.max(0,u/m-l*l)),r.x=e.x+l*i-p*h,r.y=e.y+l*h+p*i)):(r.x=e.x+r.r,r.y=e.y)}function Vj(t,e){var r=t.r+e.r-1e-6,i=e.x-t.x,l=e.y-t.y;return r>0&&r*r>i*i+l*l}function Hj(t){var e=t._,r=t.next._,i=e.r+r.r,l=(e.x*r.r+r.x*e.r)/i,u=(e.y*r.r+r.y*e.r)/i;return l*l+u*u}function qE(t){this._=t,this.next=null,this.previous=null}function Yj(t,e){if(!(u=(t=eq(t)).length))return 0;var r,i,l,u,h,p,g,m,x,w,M;if(r=t[0],r.x=0,r.y=0,!(u>1))return r.r;if(i=t[1],r.x=-i.r,i.x=r.r,i.y=0,!(u>2))return r.r+i.r;Wj(i,r,l=t[2]),r=new qE(r),i=new qE(i),l=new qE(l),r.next=l.previous=i,i.next=r.previous=l,l.next=i.previous=r;t:for(g=3;g<u;++g){Wj(r._,i._,l=t[g]),l=new qE(l),m=i.next,x=r.previous,w=i._.r,M=r._.r;do if(w<=M){if(Vj(m._,l._)){i=m,r.next=i,i.previous=r,--g;continue t}w+=m._.r,m=m.next}else{if(Vj(x._,l._)){r=x,r.next=i,i.previous=r,--g;continue t}M+=x._.r,x=x.previous}while(m!==x.next);for(l.previous=r,l.next=i,r.next=i.previous=i=l,h=Hj(r);(l=l.next)!==i;)(p=Hj(l))<h&&(r=l,h=p);i=r.next}for(r=[i._],l=i;(l=l.next)!==i;)r.push(l._);for(l=zj(r,e),g=0;g<u;++g)r=t[g],r.x-=l.x,r.y-=l.y;return l.r}function Pnt(t){return Yj(t,lcg()),t}function oq(t){return Math.sqrt(t.value)}function sq(){var t=null,e=1,r=1,i=Op;function l(u){var h=QZ();return u.x=e/2,u.y=r/2,t?u.eachBefore(Uj(t)).eachAfter(EN(i,.5,h)).eachBefore(Xj(1)):u.eachBefore(Uj(oq)).eachAfter(EN(Op,1,h)).eachAfter(EN(i,u.r/Math.min(e,r),h)).eachBefore(Xj(Math.min(e,r)/(2*u.r))),u}return l.radius=function(u){return arguments.length?(t=uu(u),l):t},l.size=function(u){return arguments.length?(e=+u[0],r=+u[1],l):[e,r]},l.padding=function(u){return arguments.length?(i=typeof u=="function"?u:Yg(+u),l):i},l}function Uj(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function EN(t,e,r){return function(i){if(l=i.children){var l,u,h=l.length,p=t(i)*e||0,g;if(p)for(u=0;u<h;++u)l[u].r+=p;if(g=Yj(l,r),p)for(u=0;u<h;++u)l[u].r-=p;i.r=g+p}}}function Xj(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}var lq=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const cq=(t,e)=>({size:[t,e],padding:0,sort:(r,i)=>i.value-r.value}),uq=(t,e,r)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:r.color?void 0:i=>i.height===0?"#ddd":"#fff",stroke:r.color?void 0:i=>i.height===0?"":"#000"}}),fq={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},hq={title:t=>t.data.name,items:[{field:"value"}]},dq=(t,e,r)=>{const{value:i}=r,l=Jh(t)?C1().path(e.path)(t):fu(t);return i?l.sum(u=>ll(i)(u)).sort(e.sort):l.count(),sq().size(e.size).padding(e.padding)(l),l.descendants()},Zj=(t,e)=>{const{width:r,height:i}=e,{data:l,encode:u={},scale:h={},style:p={},layout:g={},labels:m=[],tooltip:x={}}=t,w=lq(t,["data","encode","scale","style","layout","labels","tooltip"]),M=uq(r,i,u),O=dq(l,sn({},cq(r,i),g),sn({},M.encode,u)),A=kn(p,"label");return sn({},M,Object.assign(Object.assign({data:O,encode:u,scale:h,style:p,labels:[Object.assign(Object.assign({},fq),A),...m]},w),{tooltip:eN(x,hq),axis:!1}))};Zj.props={};function pq(t){return t.target.depth}function vq(t){return t.depth}function gq(t,e){return e-1-t.height}function $E(t,e){return t.sourceLinks.length?t.depth:e-1}function yq(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Co(t.sourceLinks,pq)-1:0}function KE(t){return function(){return t}}function qj(t,e){return JE(t.source,e.source)||t.index-e.index}function $j(t,e){return JE(t.target,e.target)||t.index-e.index}function JE(t,e){return t.y0-e.y0}function kN(t){return t.value}function mq(t){return t.index}function xq(t){return t.nodes}function bq(t){return t.links}function Kj(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function Jj({nodes:t}){for(const e of t){let r=e.y0,i=r;for(const l of e.sourceLinks)l.y0=r+l.width/2,r+=l.width;for(const l of e.targetLinks)l.y1=i+l.width/2,i+=l.width}}function wq(){let t=0,e=0,r=1,i=1,l=24,u=8,h,p=mq,g=$E,m,x,w,M=xq,O=bq,A=6;function E(gt){const Mt={nodes:M(gt),links:O(gt)};return P(Mt),I(Mt),F(Mt),N(Mt),W(Mt),Jj(Mt),Mt}E.update=function(gt){return Jj(gt),gt},E.nodeId=function(gt){return arguments.length?(p=typeof gt=="function"?gt:KE(gt),E):p},E.nodeAlign=function(gt){return arguments.length?(g=typeof gt=="function"?gt:KE(gt),E):g},E.nodeDepth=function(gt){return arguments.length?(m=gt,E):m},E.nodeSort=function(gt){return arguments.length?(x=gt,E):x},E.nodeWidth=function(gt){return arguments.length?(l=+gt,E):l},E.nodePadding=function(gt){return arguments.length?(u=h=+gt,E):u},E.nodes=function(gt){return arguments.length?(M=typeof gt=="function"?gt:KE(gt),E):M},E.links=function(gt){return arguments.length?(O=typeof gt=="function"?gt:KE(gt),E):O},E.linkSort=function(gt){return arguments.length?(w=gt,E):w},E.size=function(gt){return arguments.length?(t=e=0,r=+gt[0],i=+gt[1],E):[r-t,i-e]},E.extent=function(gt){return arguments.length?(t=+gt[0][0],r=+gt[1][0],e=+gt[0][1],i=+gt[1][1],E):[[t,e],[r,i]]},E.iterations=function(gt){return arguments.length?(A=+gt,E):A};function P({nodes:gt,links:Mt}){gt.forEach((St,Ut)=>{St.index=Ut,St.sourceLinks=[],St.targetLinks=[]});const At=new Map(gt.map(St=>[p(St),St]));if(Mt.forEach((St,Ut)=>{St.index=Ut;let{source:ce,target:be}=St;typeof ce!="object"&&(ce=St.source=Kj(At,ce)),typeof be!="object"&&(be=St.target=Kj(At,be)),ce.sourceLinks.push(St),be.targetLinks.push(St)}),w!=null)for(const{sourceLinks:St,targetLinks:Ut}of gt)St.sort(w),Ut.sort(w)}function I({nodes:gt}){for(const Mt of gt)Mt.value=Mt.fixedValue===void 0?Math.max(Xs(Mt.sourceLinks,kN),Xs(Mt.targetLinks,kN)):Mt.fixedValue}function F({nodes:gt}){const Mt=gt.length;let At=new Set(gt),St=new Set,Ut=0;for(;At.size;){if(At.forEach(ce=>{ce.depth=Ut;for(const{target:be}of ce.sourceLinks)St.add(be)}),++Ut>Mt)throw new Error("circular link");At=St,St=new Set}if(m){const ce=Math.max(zr(gt,Le=>Le.depth)+1,0);let be;for(let Le=0;Le<gt.length;Le++)be=gt[Le],be.depth=m.call(null,be,ce)}}function N({nodes:gt}){const Mt=gt.length;let At=new Set(gt),St=new Set,Ut=0;for(;At.size;){if(At.forEach(ce=>{ce.height=Ut;for(const{source:be}of ce.targetLinks)St.add(be)}),++Ut>Mt)throw new Error("circular link");At=St,St=new Set}}function z({nodes:gt}){const Mt=Math.max(zr(gt,Ut=>Ut.depth)+1,0),At=(r-t-l)/(Mt-1),St=new Array(Mt).fill(0).map(()=>[]);for(const Ut of gt){const ce=Math.max(0,Math.min(Mt-1,Math.floor(g.call(null,Ut,Mt))));Ut.layer=ce,Ut.x0=t+ce*At,Ut.x1=Ut.x0+l,St[ce]?St[ce].push(Ut):St[ce]=[Ut]}if(x)for(const Ut of St)Ut.sort(x);return St}function G(gt){const Mt=Co(gt,At=>(i-e-(At.length-1)*h)/Xs(At,kN));for(const At of gt){let St=e;for(const Ut of At){Ut.y0=St,Ut.y1=St+Ut.value*Mt,St=Ut.y1+h;for(const ce of Ut.sourceLinks)ce.width=ce.value*Mt}St=(i-St+h)/(At.length+1);for(let Ut=0;Ut<At.length;++Ut){const ce=At[Ut];ce.y0+=St*(Ut+1),ce.y1+=St*(Ut+1)}ot(At)}}function W(gt){const Mt=z(gt);h=Math.min(u,(i-e)/(zr(Mt,At=>At.length)-1)),G(Mt);for(let At=0;At<A;++At){const St=Math.pow(.99,At),Ut=Math.max(1-St,(At+1)/A);U(Mt,St,Ut),Y(Mt,St,Ut)}}function Y(gt,Mt,At){for(let St=1,Ut=gt.length;St<Ut;++St){const ce=gt[St];for(const be of ce){let Le=0,nn=0;for(const{source:en,value:cn}of be.targetLinks){const an=cn*(be.layer-en.layer);Le+=J(en,be)*an,nn+=an}if(!(nn>0))continue;const De=(Le/nn-be.y0)*Mt;be.y0+=De,be.y1+=De,ft(be)}x===void 0&&ce.sort(JE),ce.length&&X(ce,At)}}function U(gt,Mt,At){for(let St=gt.length,Ut=St-2;Ut>=0;--Ut){const ce=gt[Ut];for(const be of ce){let Le=0,nn=0;for(const{target:en,value:cn}of be.sourceLinks){const an=cn*(en.layer-be.layer);Le+=st(be,en)*an,nn+=an}if(!(nn>0))continue;const De=(Le/nn-be.y0)*Mt;be.y0+=De,be.y1+=De,ft(be)}x===void 0&&ce.sort(JE),ce.length&&X(ce,At)}}function X(gt,Mt){const At=gt.length>>1,St=gt[At];Q(gt,St.y0-h,At-1,Mt),$(gt,St.y1+h,At+1,Mt),Q(gt,i,gt.length-1,Mt),$(gt,e,0,Mt)}function $(gt,Mt,At,St){for(;At<gt.length;++At){const Ut=gt[At],ce=(Mt-Ut.y0)*St;ce>1e-6&&(Ut.y0+=ce,Ut.y1+=ce),Mt=Ut.y1+h}}function Q(gt,Mt,At,St){for(;At>=0;--At){const Ut=gt[At],ce=(Ut.y1-Mt)*St;ce>1e-6&&(Ut.y0-=ce,Ut.y1-=ce),Mt=Ut.y0-h}}function ft({sourceLinks:gt,targetLinks:Mt}){if(w===void 0){for(const{source:{sourceLinks:At}}of Mt)At.sort($j);for(const{target:{targetLinks:At}}of gt)At.sort(qj)}}function ot(gt){if(w===void 0)for(const{sourceLinks:Mt,targetLinks:At}of gt)Mt.sort($j),At.sort(qj)}function J(gt,Mt){let At=gt.y0-(gt.sourceLinks.length-1)*h/2;for(const{target:St,width:Ut}of gt.sourceLinks){if(St===Mt)break;At+=Ut+h}for(const{source:St,width:Ut}of Mt.targetLinks){if(St===gt)break;At-=Ut}return At}function st(gt,Mt){let At=Mt.y0-(Mt.targetLinks.length-1)*h/2;for(const{source:St,width:Ut}of Mt.targetLinks){if(St===gt)break;At+=Ut+h}for(const{target:St,width:Ut}of gt.sourceLinks){if(St===Mt)break;At-=Ut}return At}return E}const Mq={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},Sq={left:vq,right:gq,center:yq,justify:$E};function _q(t){const e=typeof t;return e==="string"?Sq[t]||$E:e==="function"?t:$E}const Qj=t=>e=>{const{nodeId:r,nodeSort:i,nodeAlign:l,nodeWidth:u,nodePadding:h,nodeDepth:p,nodes:g,links:m,linkSort:x,iterations:w}=Object.assign({},Mq,t),M=wq().nodeSort(i).linkSort(x).links(m).nodes(g).nodeWidth(u).nodePadding(h).nodeDepth(p).nodeAlign(_q(l)).iterations(w).extent([[0,0],[1,1]]);typeof r=="function"&&M.nodeId(r);const O=M(e),{nodes:A,links:E}=O,P=A.map(F=>{const{x0:N,x1:z,y0:G,y1:W}=F;return Object.assign(Object.assign({},F),{x:[N,z,z,N],y:[G,G,W,W]})}),I=E.map(F=>{const{source:N,target:z}=F,G=N.x1,W=z.x0,Y=F.width/2;return Object.assign(Object.assign({},F),{x:[G,G,W,W],y:[F.y0+Y,F.y0-Y,F.y1+Y,F.y1-Y]})});return{nodes:P,links:I}};Qj.props={};var Oq=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Cq={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},Aq={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},Tq={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},Eq={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},tG=t=>{const{data:e,encode:r={},scale:i,style:l={},layout:u={},nodeLabels:h=[],linkLabels:p=[],animate:g={},tooltip:m={}}=t,{links:x,nodes:w}=P_(e,r),M=kn(r,"node"),O=kn(r,"link"),{key:A=X=>X.key,color:E=A}=M,{links:P,nodes:I}=Qj(Object.assign(Object.assign(Object.assign({},Cq),{nodeId:ll(A)}),u))({links:x,nodes:w}),F=kn(l,"label"),{text:N=A,spacing:z=5}=F,G=Oq(F,["text","spacing"]),W=ll(A),Y=ah(m,"node",{title:W,items:[{field:"value"}]},!0),U=ah(m,"link",{title:"",items:[X=>({name:"source",value:W(X.source)}),X=>({name:"target",value:W(X.target)})]});return[sn({},Aq,{data:I,encode:Object.assign(Object.assign({},M),{color:E}),scale:i,style:kn(l,"node"),labels:[Object.assign(Object.assign(Object.assign({},Eq),{text:N,dx:X=>X.x[0]<.5?z:-z}),G),...h],tooltip:Y,animate:oh(g,"node"),axis:!1}),sn({},Tq,{data:P,encode:O,labels:p,style:Object.assign({fill:O.color?void 0:"#aaa",strokeWidth:0},kn(l,"link")),tooltip:U,animate:oh(g,"link")})]};tG.props={};function kq(t,e,r,i,l){var u=t.children,h,p=u.length,g,m=new Array(p+1);for(m[0]=g=h=0;h<p;++h)m[h+1]=g+=u[h].value;x(0,p,t.value,e,r,i,l);function x(w,M,O,A,E,P,I){if(w>=M-1){var F=u[w];F.x0=A,F.y0=E,F.x1=P,F.y1=I;return}for(var N=m[w],z=O/2+N,G=w+1,W=M-1;G<W;){var Y=G+W>>>1;m[Y]<z?G=Y+1:W=Y}z-m[G-1]<m[G]-z&&w+1<G&&--G;var U=m[G]-N,X=O-U;if(P-A>I-E){var $=O?(A*X+P*U)/O:P;x(w,G,U,A,E,$,I),x(G,M,X,$,E,P,I)}else{var Q=O?(E*X+I*U)/O:I;x(w,G,U,A,E,P,Q),x(G,M,X,A,Q,P,I)}}}function QE(t,e,r,i,l){for(var u=t.children,h,p=-1,g=u.length,m=t.value&&(i-e)/t.value;++p<g;)h=u[p],h.y0=r,h.y1=l,h.x0=e,h.x1=e+=h.value*m}function tk(t,e,r,i,l){for(var u=t.children,h,p=-1,g=u.length,m=t.value&&(l-r)/t.value;++p<g;)h=u[p],h.x0=e,h.x1=i,h.y0=r,h.y1=r+=h.value*m}function Pq(t,e,r,i,l){(t.depth&1?tk:QE)(t,e,r,i,l)}var eG=(1+Math.sqrt(5))/2;function nG(t,e,r,i,l,u){for(var h=[],p=e.children,g,m,x=0,w=0,M=p.length,O,A,E=e.value,P,I,F,N,z,G,W;x<M;){O=l-r,A=u-i;do P=p[w++].value;while(!P&&w<M);for(I=F=P,G=Math.max(A/O,O/A)/(E*t),W=P*P*G,z=Math.max(F/W,W/I);w<M;++w){if(P+=m=p[w].value,m<I&&(I=m),m>F&&(F=m),W=P*P*G,N=Math.max(F/W,W/I),N>z){P-=m;break}z=N}h.push(g={value:P,dice:O<A,children:p.slice(x,w)}),g.dice?QE(g,r,i,l,E?i+=A*P/E:u):tk(g,r,i,E?r+=O*P/E:l,u),E-=P,x=w}return h}var rG=function t(e){function r(i,l,u,h,p){nG(e,i,l,u,h,p)}return r.ratio=function(i){return t((i=+i)>1?i:1)},r}(eG),Lq=function t(e){function r(i,l,u,h,p){if((g=i._squarify)&&g.ratio===e)for(var g,m,x,w,M=-1,O,A=g.length,E=i.value;++M<A;){for(m=g[M],x=m.children,w=m.value=0,O=x.length;w<O;++w)m.value+=x[w].value;m.dice?QE(m,l,u,h,E?u+=(p-u)*m.value/E:p):tk(m,l,u,E?l+=(h-l)*m.value/E:h,p),E-=m.value}else i._squarify=g=nG(e,i,l,u,h,p),g.ratio=e}return r.ratio=function(i){return t((i=+i)>1?i:1)},r}(eG);function Iq(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Rq(){var t=rG,e=!1,r=1,i=1,l=[0],u=Op,h=Op,p=Op,g=Op,m=Op;function x(M){return M.x0=M.y0=0,M.x1=r,M.y1=i,M.eachBefore(w),l=[0],e&&M.eachBefore(Iq),M}function w(M){var O=l[M.depth],A=M.x0+O,E=M.y0+O,P=M.x1-O,I=M.y1-O;P<A&&(A=P=(A+P)/2),I<E&&(E=I=(E+I)/2),M.x0=A,M.y0=E,M.x1=P,M.y1=I,M.children&&(O=l[M.depth+1]=u(M)/2,A+=m(M)-O,E+=h(M)-O,P-=p(M)-O,I-=g(M)-O,P<A&&(A=P=(A+P)/2),I<E&&(E=I=(E+I)/2),t(M,A,E,P,I))}return x.round=function(M){return arguments.length?(e=!!M,x):e},x.size=function(M){return arguments.length?(r=+M[0],i=+M[1],x):[r,i]},x.tile=function(M){return arguments.length?(t=S1(M),x):t},x.padding=function(M){return arguments.length?x.paddingInner(M).paddingOuter(M):x.paddingInner()},x.paddingInner=function(M){return arguments.length?(u=typeof M=="function"?M:Yg(+M),x):u},x.paddingOuter=function(M){return arguments.length?x.paddingTop(M).paddingRight(M).paddingBottom(M).paddingLeft(M):x.paddingTop()},x.paddingTop=function(M){return arguments.length?(h=typeof M=="function"?M:Yg(+M),x):h},x.paddingRight=function(M){return arguments.length?(p=typeof M=="function"?M:Yg(+M),x):p},x.paddingBottom=function(M){return arguments.length?(g=typeof M=="function"?M:Yg(+M),x):g},x.paddingLeft=function(M){return arguments.length?(m=typeof M=="function"?M:Yg(+M),x):m},x}var Fq=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Dq(t,e){const r={treemapBinary:kq,treemapDice:QE,treemapSlice:tk,treemapSliceDice:Pq,treemapSquarify:rG,treemapResquarify:Lq},i=t==="treemapSquarify"?r[t].ratio(e):r[t];if(!i)throw new TypeError("Invalid tile method!");return i}function Bq(t,e,r){const{value:i}=r,l=Dq(e.tile,e.ratio),u=OR(t,e.path);return i?u.sum(h=>e.ignoreParentValue&&h.children?0:ll(i)(h)).sort(e.sort):u.count(),Rq().tile(l).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(u),u.descendants().map(h=>Object.assign(h,{x:[h.x0,h.x1],y:[h.y0,h.y1]})).filter(typeof e.layer=="function"?e.layer:h=>h.height===e.layer)}const Nq=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(r,i)=>i.value-r.value,layer:0}),zq=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",color:r=>r.data.parent.name},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"}}),jq={fontSize:10,text:t=>t.data.name,position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0},Gq={title:t=>t.data.name,items:[{field:"value"}]},iG=(t,e)=>{const{width:r,height:i}=e,{data:l,encode:u={},scale:h,style:p={},layout:g={},labels:m=[],tooltip:x={}}=t,w=Fq(t,["data","encode","scale","style","layout","labels","tooltip"]),M=Bq(l,sn({},Nq(r,i),g),u),O=kn(p,"label");return sn({},zq(r,i),Object.assign(Object.assign({data:M,encode:u,scale:h,style:p,labels:[Object.assign(Object.assign({},jq),O),...m]},w),{tooltip:eN(x,Gq),axis:!1}))};iG.props={};function Wq(t,e){return e.value-t.value}function Vq(t,e){return e.frequency-t.frequency}function Hq(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function Yq(t,e){return`${t.name}`.localeCompare(`${e.name}`)}const Uq={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function Xq(t){const{y:e,thickness:r,weight:i,marginRatio:l,id:u,source:h,target:p,sourceWeight:g,targetWeight:m,sortBy:x}=Object.assign(Object.assign({},Uq),t);function w(P){const I=P.nodes.map(N=>Object.assign({},N)),F=P.edges.map(N=>Object.assign({},N));return M(I,F),O(I,F),A(I,F),E(I,F),{nodes:I,edges:F}}function M(P,I){I.forEach(z=>{z.source=h(z),z.target=p(z),z.sourceWeight=g(z),z.targetWeight=m(z)});const F=oi(I,z=>z.source),N=oi(I,z=>z.target);return P.forEach(z=>{z.id=u(z);const G=F.has(z.id)?F.get(z.id):[],W=N.has(z.id)?N.get(z.id):[];z.frequency=G.length+W.length,z.value=Xs(G,Y=>Y.sourceWeight)+Xs(W,Y=>Y.targetWeight)}),{nodes:P,edges:I}}function O(P,I){const F=typeof x=="function"?x:Ge[x];F&&P.sort(F)}function A(P,I){const F=P.length;if(!F)throw s0("Invalid nodes: it's empty!");if(!i){const G=1/F;return P.forEach((W,Y)=>{W.x=(Y+.5)*G,W.y=e}),{nodes:P,edges:I}}const N=l/(2*F),z=P.reduce((G,W)=>G+=W.value,0);return P.reduce((G,W)=>{W.weight=W.value/z,W.width=W.weight*(1-l),W.height=r;const Y=N+G,U=Y+W.width,X=e-r/2,$=X+r;return W.x=[Y,U,U,Y],W.y=[X,X,$,$],G+W.width+2*N},0),{nodes:P,edges:I}}function E(P,I){const F=new Map(P.map(G=>[G.id,G]));if(!i)return I.forEach(G=>{const W=h(G),Y=p(G),U=F.get(W),X=F.get(Y);U&&X&&(G.x=[U.x,X.x],G.y=[U.y,X.y])}),{nodes:P,edges:I};I.forEach(G=>{G.x=[0,0,0,0],G.y=[e,e,e,e]});const N=oi(I,G=>G.source),z=oi(I,G=>G.target);P.forEach(G=>{const{edges:W,width:Y,x:U,y:X,value:$,id:Q}=G,ft=N.get(Q)||[],ot=z.get(Q)||[];let J=0;ft.map(st=>{const gt=st.sourceWeight/$*Y;st.x[0]=G.x[0]+J,st.x[1]=G.x[0]+J+gt,J+=gt}),ot.forEach(st=>{const gt=st.targetWeight/$*Y;st.x[3]=G.x[0]+J,st.x[2]=G.x[0]+J+gt,J+=gt})})}return w}const aG=t=>e=>Xq(t)(e);aG.props={};function Zq(){return{"data.arc":aG,"data.cluster":Fj,"mark.forceGraph":Ij,"mark.tree":Bj,"mark.pack":Zj,"mark.sankey":tG,"mark.treemap":iG}}var oG=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function qq(t,e){return Co(t,r=>e[r])}function $q(t,e){return zr(t,r=>e[r])}function sG(t,e){const r=PN(t,e)*2.5-LN(t,e)*1.5;return Co(t,i=>e[i]>=r?e[i]:NaN)}function PN(t,e){return xE(t,.25,r=>e[r])}function Kq(t,e){return xE(t,.5,r=>e[r])}function LN(t,e){return xE(t,.75,r=>e[r])}function lG(t,e){const r=LN(t,e)*2.5-PN(t,e)*1.5;return zr(t,i=>e[i]<=r?e[i]:NaN)}function Jq(){return(t,e)=>{const{encode:r}=e,{y:i,x:l}=r,{value:u}=i,{value:h}=l;return[Array.from(oi(t,m=>h[+m]).values()).flatMap(m=>{const x=sG(m,u),w=lG(m,u);return m.filter(M=>u[M]<x||u[M]>w)}),e]}}const cG=t=>{const{data:e,encode:r,style:i={},tooltip:l={},transform:u,animate:h}=t,p=oG(t,["data","encode","style","tooltip","transform","animate"]),{point:g=!0}=i,m=oG(i,["point"]),{y:x}=r,w={y:x,y1:x,y2:x,y3:x,y4:x},M={y1:PN,y2:Kq,y3:LN},O=ah(l,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),A=ah(l,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!g)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:qq},M),{y4:$q})],encode:Object.assign(Object.assign({},r),w),style:m,tooltip:O},p);const E=kn(m,"box"),P=kn(m,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:sG},M),{y4:lG})],encode:Object.assign(Object.assign({},r),w),style:E,tooltip:O,animate:oh(h,"box")},p),{type:"point",data:e,transform:[{type:Jq}],encode:r,style:Object.assign({},P),tooltip:A,animate:oh(h,"point")}]};cG.props={};var ek=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const Qq=(t,e)=>{const{shape:r,radius:i}=t,l=ek(t,["shape","radius"]),u=kn(l,"pointer"),h=kn(l,"pin"),{shape:p}=u,g=ek(u,["shape"]),{shape:m}=h,x=ek(h,["shape"]),{coordinate:w,theme:M}=e;return(O,A)=>{const E=O.map(J=>w.invert(J)),[P,I,F]=Im(w,"polar"),N=w.clone(),{color:z}=A,G=Kv({startAngle:P,endAngle:I,innerRadius:F,outerRadius:i});G.push(["cartesian"]),N.update({transformations:G});const W=E.map(J=>N.map(J)),[Y,U]=m_(W),[X,$]=w.getCenter(),Q=Object.assign(Object.assign({x1:Y,y1:U,x2:X,y2:$,stroke:z},g),l),ft=Object.assign(Object.assign({cx:X,cy:$,stroke:z},x),l),ot=Jn(new da);return Ps(p)||(typeof p=="function"?ot.append(()=>p(W,A,N,M)):ot.append("line").call(jn,Q).node()),Ps(m)||(typeof m=="function"?ot.append(()=>m(W,A,N,M)):ot.append("circle").call(jn,ft).node()),ot.node()}},uG={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},t$={style:{shape:Qq,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},e$={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}};function n$(t,e){const{name:r="score",target:i,total:l,percent:u,thresholds:h=[]}=t,p=u||i,g=u?1:l,m=Object.assign({y:{domain:[0,g]}},e);return h.length?{targetData:[{x:r,y:p,color:"target"}],totalData:h.map((x,w)=>({x:r,y:w>=1?x-h[w-1]:x,color:w})),target:p,total:g,scale:m}:{targetData:[{x:r,y:p,color:"target"}],totalData:[{x:r,y:p,color:"target"},{x:r,y:g-p,color:"total"}],target:p,total:g,scale:m}}function r$(t,{target:e,total:r}){const{content:i}=t;return i?i(e,r):e.toString()}const fG=t=>{const{data:e={},scale:r={},style:i={},animate:l={},transform:u=[]}=t,h=ek(t,["data","scale","style","animate","transform"]),{targetData:p,totalData:g,target:m,total:x,scale:w}=n$(e,r),M=kn(i,"text"),O=NL(i,["pointer","pin"]);return[sn({},uG,Object.assign({type:"interval",transform:[{type:"stackY"}],data:g,scale:w,style:kn(i,"arc"),animate:typeof l=="object"?kn(l,"arc"):l},h)),sn({},uG,t$,Object.assign({type:"point",data:p,scale:w,style:O,animate:typeof l=="object"?kn(l,"indicator"):l},h)),sn({},e$,{style:Object.assign({text:r$(M,{target:m,total:x})},M),animate:typeof l=="object"?kn(l,"text"):l})]};fG.props={};const IN=Math.PI/180,k2=64,nk=2048;function i$(t){return t.text}function a$(){return"serif"}function hG(){return"normal"}function o$(t){return t.value}function s$(){return~~(Math.random()*2)*90}function l$(){return 1}function c$(){}function u$(t,e,r,i){if(e.sprite)return;const l=t.context,u=t.ratio;l.clearRect(0,0,(k2<<5)/u,nk/u);let h=0,p=0,g=0;const m=r.length;for(--i;++i<m;){e=r[i],l.save(),l.font=e.style+" "+e.weight+" "+~~((e.size+1)/u)+"px "+e.font;let M=l.measureText(e.text+"m").width*u,O=e.size<<1;if(e.rotate){const A=Math.sin(e.rotate*IN),E=Math.cos(e.rotate*IN),P=M*E,I=M*A,F=O*E,N=O*A;M=Math.max(Math.abs(P+N),Math.abs(P-N))+31>>5<<5,O=~~Math.max(Math.abs(I+F),Math.abs(I-F))}else M=M+31>>5<<5;if(O>g&&(g=O),h+M>=k2<<5&&(h=0,p+=g,g=0),p+O>=nk)break;l.translate((h+(M>>1))/u,(p+(O>>1))/u),e.rotate&&l.rotate(e.rotate*IN),l.fillText(e.text,0,0),e.padding&&(l.lineWidth=2*e.padding,l.strokeText(e.text,0,0)),l.restore(),e.width=M,e.height=O,e.xoff=h,e.yoff=p,e.x1=M>>1,e.y1=O>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,h+=M}const x=l.getImageData(0,0,(k2<<5)/u,nk/u).data,w=[];for(;--i>=0;){if(e=r[i],!e.hasText)continue;const M=e.width,O=M>>5;let A=e.y1-e.y0;for(let I=0;I<A*O;I++)w[I]=0;if(h=e.xoff,h==null)return;p=e.yoff;let E=0,P=-1;for(let I=0;I<A;I++){for(let F=0;F<M;F++){const N=O*I+(F>>5),z=x[(p+I)*(k2<<5)+(h+F)<<2]?1<<31-F%32:0;w[N]|=z,E|=z}E?P=I:(e.y0++,A--,I--,p++)}e.y1=e.y0+P,e.sprite=w.slice(0,(e.y1-e.y0)*O)}}function f$(t,e,r){r>>=5;const i=t.sprite,l=t.width>>5,u=t.x-(l<<4),h=u&127,p=32-h,g=t.y1-t.y0;let m=(t.y+t.y0)*r+(u>>5),x;for(let w=0;w<g;w++){x=0;for(let M=0;M<=l;M++)if((x<<p|(M<l?(x=i[w*l+M])>>>h:0))&e[m+M])return!0;m+=r}return!1}function h$(t,e){const r=t[0],i=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function d$(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function dG(t){const e=t[0]/t[1];return function(r){return[e*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function p$(t){const r=4*t[0]/t[1];let i=0,l=0;return function(u){const h=u<0?-1:1;switch(Math.sqrt(1+4*h*u)-h&3){case 0:i+=r;break;case 1:l+=4;break;case 2:i-=r;break;default:l-=4;break}return[i,l]}}function pG(t){const e=[];let r=-1;for(;++r<t;)e[r]=0;return e}function v$(){return document.createElement("canvas")}function sh(t){return typeof t=="function"?t:function(){return t}}const g$={archimedean:dG,rectangular:p$};function y$(){let t=[256,256],e=i$,r=a$,i=o$,l=hG,u=s$,h=l$,p=dG,g=Math.random,m=c$,x=[],w=null,M=1/0;const O=hG,A=v$,E={};E.start=function(){const[F,N]=t,z=P(A()),G=E.board?E.board:pG((t[0]>>5)*t[1]),W=x.length,Y=[],U=x.map(function(ft,ot,J){return ft.text=e.call(this,ft,ot,J),ft.font=r.call(this,ft,ot,J),ft.style=O.call(this,ft,ot,J),ft.weight=l.call(this,ft,ot,J),ft.rotate=u.call(this,ft,ot,J),ft.size=~~i.call(this,ft,ot,J),ft.padding=h.call(this,ft,ot,J),ft}).sort(function(ft,ot){return ot.size-ft.size});let X=-1,$=E.board?[{x:0,y:0},{x:F,y:N}]:void 0;w&&clearInterval(w),w=setInterval(Q,0),Q();function Q(){const ft=Date.now();for(;Date.now()-ft<M&&++X<W;){const ot=U[X];ot.x=F*(g()+.5)>>1,ot.y=N*(g()+.5)>>1,u$(z,ot,U,X),ot.hasText&&I(G,ot,$)&&(m.call(null,"word",{cloud:E,word:ot}),Y.push(ot),$?E.hasImage||h$($,ot):$=[{x:ot.x+ot.x0,y:ot.y+ot.y0},{x:ot.x+ot.x1,y:ot.y+ot.y1}],ot.x-=t[0]>>1,ot.y-=t[1]>>1)}E._tags=Y,E._bounds=$,X>=W&&(E.stop(),m.call(null,"end",{cloud:E,words:Y,bounds:$}))}return E},E.stop=function(){return w&&(clearInterval(w),w=null),E};function P(F){F.width=F.height=1;const N=Math.sqrt(F.getContext("2d").getImageData(0,0,1,1).data.length>>2);F.width=(k2<<5)/N,F.height=nk/N;const z=F.getContext("2d");return z.fillStyle=z.strokeStyle="red",z.textAlign="center",{context:z,ratio:N}}function I(F,N,z){const G=N.x,W=N.y,Y=Math.sqrt(t[0]*t[0]+t[1]*t[1]),U=p(t),X=g()<.5?1:-1;let $,Q=-X,ft,ot;for(;($=U(Q+=X))&&(ft=~~$[0],ot=~~$[1],!(Math.min(Math.abs(ft),Math.abs(ot))>=Y));)if(N.x=G+ft,N.y=W+ot,!(N.x+N.x0<0||N.y+N.y0<0||N.x+N.x1>t[0]||N.y+N.y1>t[1])&&(!z||!f$(N,F,t[0]))&&(!z||d$(N,z))){const J=N.sprite,st=N.width>>5,gt=t[0]>>5,Mt=N.x-(st<<4),At=Mt&127,St=32-At,Ut=N.y1-N.y0;let ce,be=(N.y+N.y0)*gt+(Mt>>5);for(let Le=0;Le<Ut;Le++){ce=0;for(let nn=0;nn<=st;nn++)F[be+nn]|=ce<<St|(nn<st?(ce=J[Le*st+nn])>>>At:0);be+=gt}return delete N.sprite,!0}return!1}return E.createMask=F=>{const N=document.createElement("canvas"),[z,G]=t;if(!z||!G)return;const W=z>>5,Y=pG((z>>5)*G);N.width=z,N.height=G;const U=N.getContext("2d");U.drawImage(F,0,0,F.width,F.height,0,0,z,G);const X=U.getImageData(0,0,z,G).data;for(let $=0;$<G;$++)for(let Q=0;Q<z;Q++){const ft=W*$+(Q>>5),ot=$*z+Q<<2,st=X[ot]>=250&&X[ot+1]>=250&&X[ot+2]>=250?1<<31-Q%32:0;Y[ft]|=st}E.board=Y,E.hasImage=!0},E.timeInterval=function(F){M=F==null?1/0:F},E.words=function(F){x=F},E.size=function(F=[]){t=[+F[0],+F[1]]},E.text=function(F){e=sh(F)},E.font=function(F){r=sh(F)},E.fontWeight=function(F){l=sh(F)},E.rotate=function(F){u=sh(F)},E.spiral=function(F){p=g$[F]||F},E.fontSize=function(F){i=sh(F)},E.padding=function(F){h=sh(F)},E.random=function(F){g=sh(F)},E.on=function(F){m=sh(F)},E}var m$=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})};function x$(t,e){return{set(r,i,l){if(e[r]===void 0)return this;const u=i?i.call(null,e[r]):e[r];return l?l.call(null,u):typeof t[r]=="function"?t[r](u):t[r]=u,this},setAsync(r,i,l){return m$(this,void 0,void 0,function*(){if(e[r]===void 0)return this;const u=i?yield i.call(null,e[r]):e[r];return l?l.call(null,u):typeof t[r]=="function"?t[r](u):t[r]=u,this})}}}var b$=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},w$=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const M$={size:[500,500],fontSize:[14,28]};function S$(t){return new Promise((e,r)=>{if(t instanceof HTMLImageElement){e(t);return}if(typeof t=="string"){const i=new Image;i.crossOrigin="anonymous",i.src=t,i.onload=()=>e(i),i.onerror=()=>{console.error(`'image ${t} load failed !!!'`),r()};return}r()})}function _$(t,e){if(typeof t=="function")return t;if(Array.isArray(t)){const[r,i]=t;if(!e)return()=>(i+r)/2;const[l,u]=e;return u===l?()=>(i+r)/2:({value:h})=>(i-r)/(u-l)*(h-l)+r}return()=>t}const vG=t=>e=>b$(void 0,void 0,void 0,function*(){const r=Object.assign({},M$,t),i=y$();yield x$(i,r).set("fontSize",I=>{const F=e.map(N=>N.value);return _$(I,[Co(F),zr(F)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").setAsync("imageMask",S$,i.createMask),i.words([...e]);const l=i.start(),[u,h]=r.size,p=[{x:0,y:0},{x:u,y:h}],{_bounds:g=p,_tags:m,hasImage:x}=l,w=m.map(I=>{var{x:F,y:N}=I,z=w$(I,["x","y"]);return Object.assign(Object.assign({},z),{x:F+u/2,y:N+h/2})}),[{x:M,y:O},{x:A,y:E}]=g,P={text:"",value:0,opacity:0,fontSize:0};return w.push(Object.assign(Object.assign({},P),{x:x?0:M,y:x?0:O}),Object.assign(Object.assign({},P),{x:x?u:A,y:x?h:E})),w});vG.props={};var O$=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},C$=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function A$(t,e){const{text:r="text",value:i="value"}=e;return t.map(l=>Object.assign(Object.assign({},l),{text:l[r],value:l[i]}))}const T$=(t,e)=>({size:[t,e]}),E$=(t,e)=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size"},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]},fontSize:{type:"identity"},rotate:{type:"identity"}},style:{textAlign:"center"}}),gG=(t,e)=>O$(void 0,void 0,void 0,function*(){const{width:r,height:i}=e,{data:l,encode:u={},scale:h,style:p={},layout:g={}}=t,m=C$(t,["data","encode","scale","style","layout"]),x=A$(l,u),w=yield vG(Object.assign(Object.assign({},T$(r,i)),g))(x);return sn({},E$(r,i),Object.assign(Object.assign({data:w,encode:u,scale:h,style:p},m),{axis:!1}))});gG.props={};var Pu=kt(87026);const yG=1e-10;function mG(t,e){const r=P$(t),i=r.filter(function(g){return k$(g,t)});let l=0,u=0,h;const p=[];if(i.length>1){const g=L$(i);for(h=0;h<i.length;++h){const x=i[h];x.angle=Math.atan2(x.x-g.x,x.y-g.y)}i.sort(function(x,w){return w.angle-x.angle});let m=i[i.length-1];for(h=0;h<i.length;++h){const x=i[h];u+=(m.x+x.x)*(x.y-m.y);const w={x:(x.x+m.x)/2,y:(x.y+m.y)/2};let M=null;for(let O=0;O<x.parentIndex.length;++O)if(m.parentIndex.indexOf(x.parentIndex[O])>-1){const A=t[x.parentIndex[O]],E=Math.atan2(x.x-A.x,x.y-A.y),P=Math.atan2(m.x-A.x,m.y-A.y);let I=P-E;I<0&&(I+=2*Math.PI);const F=P-I/2;let N=P2(w,{x:A.x+A.radius*Math.sin(F),y:A.y+A.radius*Math.cos(F)});N>A.radius*2&&(N=A.radius*2),(M===null||M.width>N)&&(M={circle:A,width:N,p1:x,p2:m})}M!==null&&(p.push(M),l+=RN(M.circle.radius,M.width),m=x)}}else{let g=t[0];for(h=1;h<t.length;++h)t[h].radius<g.radius&&(g=t[h]);let m=!1;for(h=0;h<t.length;++h)if(P2(t[h],g)>Math.abs(g.radius-t[h].radius)){m=!0;break}m?l=u=0:(l=g.radius*g.radius*Math.PI,p.push({circle:g,p1:{x:g.x,y:g.y+g.radius},p2:{x:g.x-yG,y:g.y+g.radius},width:g.radius*2}))}return u/=2,e&&(e.area=l+u,e.arcArea=l,e.polygonArea=u,e.arcs=p,e.innerPoints=i,e.intersectionPoints=r),l+u}function k$(t,e){for(let r=0;r<e.length;++r)if(P2(t,e[r])>e[r].radius+yG)return!1;return!0}function P$(t){const e=[];for(let r=0;r<t.length;++r)for(let i=r+1;i<t.length;++i){const l=bG(t[r],t[i]);for(let u=0;u<l.length;++u){const h=l[u];h.parentIndex=[r,i],e.push(h)}}return e}function RN(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function P2(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function xG(t,e,r){if(r>=t+e)return 0;if(r<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const i=t-(r*r-e*e+t*t)/(2*r),l=e-(r*r-t*t+e*e)/(2*r);return RN(t,i)+RN(e,l)}function bG(t,e){const r=P2(t,e),i=t.radius,l=e.radius;if(r>=i+l||r<=Math.abs(i-l))return[];const u=(i*i-l*l+r*r)/(2*r),h=Math.sqrt(i*i-u*u),p=t.x+u*(e.x-t.x)/r,g=t.y+u*(e.y-t.y)/r,m=-(e.y-t.y)*(h/r),x=-(e.x-t.x)*(h/r);return[{x:p+m,y:g-x},{x:p-m,y:g+x}]}function L$(t){const e={x:0,y:0};for(let r=0;r<t.length;++r)e.x+=t[r].x,e.y+=t[r].y;return e.x/=t.length,e.y/=t.length,e}function I$(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const r=e.initialLayout||B$,i=e.lossFunction||DN;t=R$(t);const l=r(t,e),u=[],h=[];let p;for(p in l)l.hasOwnProperty(p)&&(u.push(l[p].x),u.push(l[p].y),h.push(p));const m=(0,Pu.nelderMead)(function(x){const w={};for(let M=0;M<h.length;++M){const O=h[M];w[O]={x:x[2*M],y:x[2*M+1],radius:l[O].radius}}return i(w,t)},u,e).x;for(let x=0;x<h.length;++x)p=h[x],l[p].x=m[2*x],l[p].y=m[2*x+1];return l}const wG=1e-10;function FN(t,e,r){return Math.min(t,e)*Math.min(t,e)*Math.PI<=r+wG?Math.abs(t-e):(0,Pu.bisect)(function(i){return xG(t,e,i)-r},0,t+e)}function R$(t){t=t.slice();const e=[],r={};let i,l,u,h;for(i=0;i<t.length;++i){const p=t[i];p.sets.length==1?e.push(p.sets[0]):p.sets.length==2&&(u=p.sets[0],h=p.sets[1],r[[u,h]]=!0,r[[h,u]]=!0)}for(e.sort((p,g)=>p>g?1:-1),i=0;i<e.length;++i)for(u=e[i],l=i+1;l<e.length;++l)h=e[l],[u,h]in r||t.push({sets:[u,h],size:0});return t}function F$(t,e,r){const i=(0,Pu.zerosM)(e.length,e.length),l=(0,Pu.zerosM)(e.length,e.length);return t.filter(function(u){return u.sets.length==2}).map(function(u){const h=r[u.sets[0]],p=r[u.sets[1]],g=Math.sqrt(e[h].size/Math.PI),m=Math.sqrt(e[p].size/Math.PI),x=FN(g,m,u.size);i[h][p]=i[p][h]=x;let w=0;u.size+1e-10>=Math.min(e[h].size,e[p].size)?w=1:u.size<=1e-10&&(w=-1),l[h][p]=l[p][h]=w}),{distances:i,constraints:l}}function D$(t,e,r,i){let l=0,u;for(u=0;u<e.length;++u)e[u]=0;for(u=0;u<r.length;++u){const h=t[2*u],p=t[2*u+1];for(let g=u+1;g<r.length;++g){const m=t[2*g],x=t[2*g+1],w=r[u][g],M=i[u][g],O=(m-h)*(m-h)+(x-p)*(x-p),A=Math.sqrt(O),E=O-w*w;M>0&&A<=w||M<0&&A>=w||(l+=2*E*E,e[2*u]+=4*E*(h-m),e[2*u+1]+=4*E*(p-x),e[2*g]+=4*E*(m-h),e[2*g+1]+=4*E*(x-p))}}return l}function B$(t,e){let r=z$(t,e);const i=e.lossFunction||DN;if(t.length>=8){const l=N$(t,e),u=i(l,t),h=i(r,t);u+1e-8<h&&(r=l)}return r}function N$(t,e){e=e||{};const r=e.restarts||10,i=[],l={};let u;for(u=0;u<t.length;++u){const E=t[u];E.sets.length==1&&(l[E.sets[0]]=i.length,i.push(E))}const h=F$(t,i,l);let p=h.distances;const g=h.constraints,m=(0,Pu.norm2)(p.map(Pu.norm2))/p.length;p=p.map(function(E){return E.map(function(P){return P/m})});const x=function(E,P){return D$(E,P,p,g)};let w,M;for(u=0;u<r;++u){const E=(0,Pu.zeros)(p.length*2).map(Math.random);M=(0,Pu.conjugateGradient)(x,E,e),(!w||M.fx<w.fx)&&(w=M)}const O=w.x,A={};for(u=0;u<i.length;++u){const E=i[u];A[E.sets[0]]={x:O[2*u]*m,y:O[2*u+1]*m,radius:Math.sqrt(E.size/Math.PI)}}if(e.history)for(u=0;u<e.history.length;++u)(0,Pu.scale)(e.history[u].x,m);return A}function z$(t,e){const r=e&&e.lossFunction?e.lossFunction:DN,i={},l={};let u;for(let w=0;w<t.length;++w){const M=t[w];M.sets.length==1&&(u=M.sets[0],i[u]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:M.size,radius:Math.sqrt(M.size/Math.PI)},l[u]=[])}t=t.filter(function(w){return w.sets.length==2});for(let w=0;w<t.length;++w){const M=t[w];let O=M.hasOwnProperty("weight")?M.weight:1;const A=M.sets[0],E=M.sets[1];M.size+wG>=Math.min(i[A].size,i[E].size)&&(O=0),l[A].push({set:E,size:M.size,weight:O}),l[E].push({set:A,size:M.size,weight:O})}const h=[];for(u in l)if(l.hasOwnProperty(u)){let w=0;for(let M=0;M<l[u].length;++M)w+=l[u][M].size*l[u][M].weight;h.push({set:u,size:w})}function p(w,M){return M.size-w.size}h.sort(p);const g={};function m(w){return w.set in g}function x(w,M){i[M].x=w.x,i[M].y=w.y,g[M]=!0}x({x:0,y:0},h[0].set);for(let w=1;w<h.length;++w){const M=h[w].set,O=l[M].filter(m);if(u=i[M],O.sort(p),O.length===0)throw"ERROR: missing pairwise overlap information";const A=[];for(let I=0;I<O.length;++I){const F=i[O[I].set],N=FN(u.radius,F.radius,O[I].size);A.push({x:F.x+N,y:F.y}),A.push({x:F.x-N,y:F.y}),A.push({y:F.y+N,x:F.x}),A.push({y:F.y-N,x:F.x});for(let z=I+1;z<O.length;++z){const G=i[O[z].set],W=FN(u.radius,G.radius,O[z].size),Y=bG({x:F.x,y:F.y,radius:N},{x:G.x,y:G.y,radius:W});for(let U=0;U<Y.length;++U)A.push(Y[U])}}let E=1e50,P=A[0];for(let I=0;I<A.length;++I){i[M].x=A[I].x,i[M].y=A[I].y;const F=r(i,t);F<E&&(E=F,P=A[I])}x(P,M)}return i}function DN(t,e){let r=0;function i(l){return l.map(function(u){return t[u]})}for(let l=0;l<e.length;++l){const u=e[l];let h;if(u.sets.length==1)continue;if(u.sets.length==2){const g=t[u.sets[0]],m=t[u.sets[1]];h=xG(g.radius,m.radius,P2(g,m))}else h=mG(i(u.sets));const p=u.hasOwnProperty("weight")?u.weight:1;r+=p*(h-u.size)*(h-u.size)}return r}function j$(t,e,r){r===null?t.sort(function(l,u){return u.radius-l.radius}):t.sort(r);let i;if(t.length>0){const l=t[0].x,u=t[0].y;for(i=0;i<t.length;++i)t[i].x-=l,t[i].y-=u}if(t.length==2&&distance(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){const l=Math.atan2(t[1].x,t[1].y)-e;let u,h;const p=Math.cos(l),g=Math.sin(l);for(i=0;i<t.length;++i)u=t[i].x,h=t[i].y,t[i].x=p*u-g*h,t[i].y=g*u+p*h}if(t.length>2){let l=Math.atan2(t[2].x,t[2].y)-e;for(;l<0;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;if(l>Math.PI){const u=t[1].y/(1e-10+t[1].x);for(i=0;i<t.length;++i){const h=(t[i].x+u*t[i].y)/(1+u*u);t[i].x=2*h-t[i].x,t[i].y=2*h*u-t[i].y}}}}function G$(t){t.map(function(h){h.parent=h});function e(h){return h.parent!==h&&(h.parent=e(h.parent)),h.parent}function r(h,p){const g=e(h),m=e(p);g.parent=m}for(let h=0;h<t.length;++h)for(let p=h+1;p<t.length;++p){const g=t[h].radius+t[p].radius;distance(t[h],t[p])+1e-10<g&&r(t[p],t[h])}const i={};let l;for(let h=0;h<t.length;++h)l=e(t[h]).parent.setid,l in i||(i[l]=[]),i[l].push(t[h]);t.map(function(h){delete h.parent});const u=[];for(l in i)i.hasOwnProperty(l)&&u.push(i[l]);return u}function BN(t){const e=function(r){const i=Math.max.apply(null,t.map(function(u){return u[r]+u.radius})),l=Math.min.apply(null,t.map(function(u){return u[r]-u.radius}));return{max:i,min:l}};return{xRange:e("x"),yRange:e("y")}}function Lnt(t,e,r){e===null&&(e=Math.PI/2);let i=[],l,u;for(u in t)if(t.hasOwnProperty(u)){const M=t[u];i.push({x:M.x,y:M.y,radius:M.radius,setid:u})}const h=G$(i);for(l=0;l<h.length;++l){j$(h[l],e,r);const M=BN(h[l]);h[l].size=(M.xRange.max-M.xRange.min)*(M.yRange.max-M.yRange.min),h[l].bounds=M}h.sort(function(M,O){return O.size-M.size}),i=h[0];let p=i.bounds;const g=(p.xRange.max-p.xRange.min)/50;function m(M,O,A){if(!M)return;const E=M.bounds;let P,I,F;O?P=p.xRange.max-E.xRange.min+g:(P=p.xRange.max-E.xRange.max,F=(E.xRange.max-E.xRange.min)/2-(p.xRange.max-p.xRange.min)/2,F<0&&(P+=F)),A?I=p.yRange.max-E.yRange.min+g:(I=p.yRange.max-E.yRange.max,F=(E.yRange.max-E.yRange.min)/2-(p.yRange.max-p.yRange.min)/2,F<0&&(I+=F));for(let N=0;N<M.length;++N)M[N].x+=P,M[N].y+=I,i.push(M[N])}let x=1;for(;x<h.length;)m(h[x],!0,!1),m(h[x+1],!1,!0),m(h[x+2],!0,!0),x+=3,p=BN(i);const w={};for(l=0;l<i.length;++l)w[i[l].setid]=i[l];return w}function W$(t,e,r,i){const l=[],u=[];for(const E in t)t.hasOwnProperty(E)&&(u.push(E),l.push(t[E]));e-=2*i,r-=2*i;const h=BN(l),p=h.xRange,g=h.yRange;if(p.max==p.min||g.max==g.min)return console.log("not scaling solution: zero size detected"),t;const m=e/(p.max-p.min),x=r/(g.max-g.min),w=Math.min(x,m),M=(e-(p.max-p.min)*w)/2,O=(r-(g.max-g.min)*w)/2,A={};for(let E=0;E<l.length;++E){const P=l[E];A[u[E]]={radius:w*P.radius,x:i+M+(P.x-p.min)*w,y:i+O+(P.y-g.min)*w}}return A}function V$(t,e,r){const i=[],l=t-r,u=e;return i.push("M",l,u),i.push("A",r,r,0,1,0,l+2*r,u),i.push("A",r,r,0,1,0,l,u),i.join(" ")}function H$(t){const e={};mG(t,e);const r=e.arcs;if(r.length===0)return"M 0 0";if(r.length==1){const i=r[0].circle;return V$(i.x,i.y,i.radius)}else{const i=[`
M`,r[0].p2.x,r[0].p2.y];for(let l=0;l<r.length;++l){const u=r[l],h=u.circle.radius,p=u.width>h;i.push(`
A`,h,h,0,p?1:0,1,u.p1.x,u.p1.y)}return i.join(" ")}}const MG=t=>{const{sets:e="sets",size:r="size",as:i=["key","path"],padding:l=0}=t,[u,h]=i;return p=>{const g=p.map(w=>Object.assign(Object.assign({},w),{sets:w[e],size:w[r],[u]:w.sets.join("&")}));g.sort((w,M)=>w.sets.length-M.sets.length);const m=I$(g);let x;return g.map(w=>{const M=w[e],O=({width:A,height:E})=>{x=x||W$(m,A,E,l);const P=M.map(F=>x[F]);let I=H$(P);return/[zZ]$/.test(I)||(I+=" Z"),I};return Object.assign(Object.assign({},w),{[h]:O})})}};MG.props={};function Y$(){return{"data.venn":MG,"mark.boxplot":cG,"mark.gauge":fG,"mark.wordCloud":gG}}function U$(){return Object.assign(Object.assign(Object.assign(Object.assign({},WX()),Zq()),Y$()),NU())}const SG=U$();function Int(t,e){Object.assign(SG,{[t]:e})}var X$=function(t,e,r){return t<e?e:t>r?r:t},Z$=X$;function q$(t,e){var r=e.r;t.arc(r,r,r,0,Math.PI*2,!1)}function $$(t,e){var r=e.rx,i=e.ry,l=r,u=i;if(t.ellipse)t.ellipse(l,u,l,u,0,0,Math.PI*2,!1);else{var h=l>u?l:u,p=l>u?1:l/u,g=l>u?u/l:1;t.save(),t.scale(p,g),t.arc(h,h,h,0,Math.PI*2)}}function K$(t,e){var r=e.x1,i=e.y1,l=e.x2,u=e.y2,h=e.defX,p=h===void 0?0:h,g=e.defY,m=g===void 0?0:g,x=e.markerStart,w=e.markerEnd,M=e.markerStartOffset,O=e.markerEndOffset,A=0,E=0,P=0,I=0,F=0,N,z;x&&pr(x)&&M&&(N=l-r,z=u-i,F=Math.atan2(z,N),A=Math.cos(F)*(M||0),E=Math.sin(F)*(M||0)),w&&pr(w)&&O&&(N=r-l,z=i-u,F=Math.atan2(z,N),P=Math.cos(F)*(O||0),I=Math.sin(F)*(O||0)),t.moveTo(r-p+A,i-m+E),t.lineTo(l-p+P,u-m+I)}function J$(t,e){var r=e.defX,i=r===void 0?0:r,l=e.defY,u=l===void 0?0:l,h=e.markerStart,p=e.markerEnd,g=e.markerStartOffset,m=e.markerEndOffset,x=e.path,w=x.absolutePath,M=x.segments,O=0,A=0,E=0,P=0,I=0,F,N;if(h&&pr(h)&&g){var z=(0,B.CR)(h.parentNode.getStartTangent(),2),G=z[0],W=z[1];F=G[0]-W[0],N=G[1]-W[1],I=Math.atan2(N,F),O=Math.cos(I)*(g||0),A=Math.sin(I)*(g||0)}if(p&&pr(p)&&m){var Y=(0,B.CR)(p.parentNode.getEndTangent(),2),G=Y[0],W=Y[1];F=G[0]-W[0],N=G[1]-W[1],I=Math.atan2(N,F),E=Math.cos(I)*(m||0),P=Math.sin(I)*(m||0)}for(var U=0;U<w.length;U++){var X=w[U],$=X[0],Q=w[U+1],ft=U===0&&(O!==0||A!==0),ot=(U===w.length-1||Q&&(Q[0]==="M"||Q[0]==="Z"))&&E!==0&&P!==0;switch($){case"M":ft?(t.moveTo(X[1]-i+O,X[2]-u+A),t.lineTo(X[1]-i,X[2]-u)):t.moveTo(X[1]-i,X[2]-u);break;case"L":ot?t.lineTo(X[1]-i+E,X[2]-u+P):t.lineTo(X[1]-i,X[2]-u);break;case"Q":t.quadraticCurveTo(X[1]-i,X[2]-u,X[3]-i,X[4]-u),ot&&t.lineTo(X[3]-i+E,X[4]-u+P);break;case"C":t.bezierCurveTo(X[1]-i,X[2]-u,X[3]-i,X[4]-u,X[5]-i,X[6]-u),ot&&t.lineTo(X[5]-i+E,X[6]-u+P);break;case"A":{var J=M[U].arcParams,st=J.cx,gt=J.cy,Mt=J.rx,At=J.ry,St=J.startAngle,Ut=J.endAngle,ce=J.xRotation,be=J.sweepFlag;if(t.ellipse)t.ellipse(st-i,gt-u,Mt,At,ce,St,Ut,!!(1-be));else{var Le=Mt>At?Mt:At,nn=Mt>At?1:Mt/At,De=Mt>At?At/Mt:1;t.translate(st-i,gt-u),t.rotate(ce),t.scale(nn,De),t.arc(0,0,Le,St,Ut,!!(1-be)),t.scale(1/nn,1/De),t.rotate(-ce),t.translate(-(st-i),-(gt-u))}ot&&t.lineTo(X[6]-i+E,X[7]-u+P);break}case"Z":t.closePath();break}}}function Q$(t,e){var r=e.defX,i=r===void 0?0:r,l=e.defY,u=l===void 0?0:l,h=e.markerStart,p=e.markerEnd,g=e.markerStartOffset,m=e.markerEndOffset,x=e.points.points,w=x.length,M=x[0][0]-i,O=x[0][1]-u,A=x[w-1][0]-i,E=x[w-1][1]-u,P=0,I=0,F=0,N=0,z=0,G,W;h&&pr(h)&&g&&(G=x[1][0]-x[0][0],W=x[1][1]-x[0][1],z=Math.atan2(W,G),P=Math.cos(z)*(g||0),I=Math.sin(z)*(g||0)),p&&pr(p)&&m&&(G=x[w-1][0]-x[0][0],W=x[w-1][1]-x[0][1],z=Math.atan2(W,G),F=Math.cos(z)*(m||0),N=Math.sin(z)*(m||0)),t.moveTo(M+(P||F),O+(I||N));for(var Y=1;Y<w-1;Y++){var U=x[Y];t.lineTo(U[0]-i,U[1]-u)}t.lineTo(A,E)}function tK(t,e){var r=e.defX,i=r===void 0?0:r,l=e.defY,u=l===void 0?0:l,h=e.markerStart,p=e.markerEnd,g=e.markerStartOffset,m=e.markerEndOffset,x=e.points.points,w=x.length,M=x[0][0]-i,O=x[0][1]-u,A=x[w-1][0]-i,E=x[w-1][1]-u,P=0,I=0,F=0,N=0,z=0,G,W;h&&pr(h)&&g&&(G=x[1][0]-x[0][0],W=x[1][1]-x[0][1],z=Math.atan2(W,G),P=Math.cos(z)*(g||0),I=Math.sin(z)*(g||0)),p&&pr(p)&&m&&(G=x[w-2][0]-x[w-1][0],W=x[w-2][1]-x[w-1][1],z=Math.atan2(W,G),F=Math.cos(z)*(m||0),N=Math.sin(z)*(m||0)),t.moveTo(M+P,O+I);for(var Y=1;Y<w-1;Y++){var U=x[Y];t.lineTo(U[0]-i,U[1]-u)}t.lineTo(A+F,E+N)}function eK(t,e){var r=e.radius,i=e.width,l=e.height,u=i,h=l,p=r&&r.some(function(P){return P!==0});if(!p)t.rect(0,0,u,h);else{var g=i>0?1:-1,m=l>0?1:-1,x=g+m===0,w=(0,B.CR)(r.map(function(P){return Z$(P,0,Math.min(Math.abs(u)/2,Math.abs(h)/2))}),4),M=w[0],O=w[1],A=w[2],E=w[3];t.moveTo(g*M,0),t.lineTo(u-g*O,0),O!==0&&t.arc(u-g*O,m*O,O,-m*Math.PI/2,g>0?0:Math.PI,x),t.lineTo(u,h-m*A),A!==0&&t.arc(u-g*A,h-m*A,A,g>0?0:Math.PI,m>0?Math.PI/2:1.5*Math.PI,x),t.lineTo(g*E,h),E!==0&&t.arc(g*E,h-m*E,E,m>0?Math.PI/2:-Math.PI/2,g>0?Math.PI:0,x),t.lineTo(0,m*M),M!==0&&t.arc(g*M,m*M,M,g>0?Math.PI:0,m>0?Math.PI*1.5:Math.PI/2,x)}}var nK=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="canvas-path-generator",r}return e.prototype.init=function(){var r,i=(r={},r[Ye.CIRCLE]=q$,r[Ye.ELLIPSE]=$$,r[Ye.RECT]=eK,r[Ye.LINE]=K$,r[Ye.POLYLINE]=tK,r[Ye.POLYGON]=Q$,r[Ye.PATH]=J$,r[Ye.TEXT]=void 0,r[Ye.GROUP]=void 0,r[Ye.IMAGE]=void 0,r[Ye.HTML]=void 0,r[Ye.MESH]=void 0,r);this.context.pathGeneratorFactory=i},e.prototype.destroy=function(){delete this.context.pathGeneratorFactory},e}(Tl);function rk(t,e,r){var i=t*Math.cos(r)-e*Math.sin(r),l=t*Math.sin(r)+e*Math.cos(r);return{x:i,y:l}}function _G(t,e,r,i,l,u,h,p,g,m){var x=t,w=e,M=r,O=i,A=p,E=g,P=Math.PI*120/180,I=Math.PI/180*(+l||0),F=[],N,z,G,W,Y;if(m)z=m[0],G=m[1],W=m[2],Y=m[3];else{N=rk(x,w,-I),x=N.x,w=N.y,N=rk(A,E,-I),A=N.x,E=N.y;var U=(x-A)/2,X=(w-E)/2,$=U*U/(M*M)+X*X/(O*O);$>1&&($=Math.sqrt($),M*=$,O*=$);var Q=M*M,ft=O*O,ot=(u===h?-1:1)*Math.sqrt(Math.abs((Q*ft-Q*X*X-ft*U*U)/(Q*X*X+ft*U*U)));W=ot*M*X/O+(x+A)/2,Y=ot*-O*U/M+(w+E)/2,z=Math.asin(((w-Y)/O*Math.pow(10,9)>>0)/Math.pow(10,9)),G=Math.asin(((E-Y)/O*Math.pow(10,9)>>0)/Math.pow(10,9)),z=x<W?Math.PI-z:z,G=A<W?Math.PI-G:G,z<0&&(z=Math.PI*2+z),G<0&&(G=Math.PI*2+G),h&&z>G&&(z-=Math.PI*2),!h&&G>z&&(G-=Math.PI*2)}var J=G-z;if(Math.abs(J)>P){var st=G,gt=A,Mt=E;G=z+P*(h&&G>z?1:-1),A=W+M*Math.cos(G),E=Y+O*Math.sin(G),F=_G(A,E,M,O,l,0,h,gt,Mt,[G,st,W,Y])}J=G-z;var At=Math.cos(z),St=Math.sin(z),Ut=Math.cos(G),ce=Math.sin(G),be=Math.tan(J/4),Le=4/3*M*be,nn=4/3*O*be,De=[x,w],en=[x+Le*St,w-nn*At],cn=[A+Le*ce,E-nn*Ut],an=[A,E];if(en[0]=2*De[0]-en[0],en[1]=2*De[1]-en[1],m)return en.concat(cn,an,F);F=en.concat(cn,an,F);for(var Rn=[],Tn=0,Vn=F.length;Tn<Vn;Tn+=1)Rn[Tn]=Tn%2?rk(F[Tn-1],F[Tn],I).y:rk(F[Tn],F[Tn+1],I).x;return Rn}var rK=function(t,e,r){return t<e?e:t>r?r:t},iK=rK,aK=rt.Ue(),oK=rt.Ue(),sK=rt.Ue(),lK=se(),cK=function(){function t(){var e=this;this.isHit=function(r,i,l,u){var h=e.context.pointInPathPickerFactory[r.nodeName];if(h){var p=Oe(lK,l),g=rt.fF(oK,rt.t8(sK,i[0],i[1],0),p),m=r.getGeometryBounds().halfExtents,x=r.parsedStyle.anchor;if(g[0]+=(x&&x[0]||0)*m[0]*2,g[1]+=(x&&x[1]||0)*m[1]*2,h(r,new Ni(g[0],g[1]),u,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(r,i){var l=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),u=e.context.pathGeneratorFactory[r.nodeName];return u&&(l.beginPath(),u(l,r.parsedStyle),l.closePath()),l.isPointInPath(i.x,i.y)}}return t.prototype.apply=function(e,r){var i=this,l,u=e.renderingService,h=e.renderingContext;this.context=e,this.runtime=r;var p=(l=h.root)===null||l===void 0?void 0:l.ownerDocument;u.hooks.pick.tapPromise(t.tag,function(g){return(0,B.mG)(i,void 0,void 0,function(){return(0,B.Jh)(this,function(m){return[2,this.pick(p,g)]})})}),u.hooks.pickSync.tap(t.tag,function(g){return i.pick(p,g)})},t.prototype.pick=function(e,r){var i,l,u,h=r.topmost,p=(i=r.position,i.x),g=i.y,m=rt.t8(aK,p,g,0),x=e.elementsFromBBox(m[0],m[1],m[0],m[1]),w=[];try{for(var M=(0,B.XA)(x),O=M.next();!O.done;O=M.next()){var A=O.value,E=A.getWorldTransform(),P=this.isHit(A,m,E,!1);if(P){var I=jy(A);if(I){var F=I.parsedStyle.clipPath,N=this.isHit(F,m,F.getWorldTransform(),!0);if(N){if(h)return r.picked=[A],r;w.push(A)}}else{if(h)return r.picked=[A],r;w.push(A)}}}}catch(z){l={error:z}}finally{try{O&&!O.done&&(u=M.return)&&u.call(M)}finally{if(l)throw l.error}}return r.picked=w,r},t.tag="CanvasPicker",t}();function uK(t,e,r){var i=t.parsedStyle,l=i.r,u=i.fill,h=i.stroke,p=i.lineWidth,g=i.increasedLineWidthForHitTesting,m=i.pointerEvents,x=((p||0)+(g||0))/2,w=Ma(l,l,e.x,e.y),M=(0,B.CR)(Uc(m,u,h),2),O=M[0],A=M[1];return O&&A||r?w<=l+x:O?w<=l:A?w>=l-x&&w<=l+x:!1}function ik(t,e,r,i){return t/(r*r)+e/(i*i)}function fK(t,e,r){var i=t.parsedStyle,l=i.rx,u=i.ry,h=i.fill,p=i.stroke,g=i.lineWidth,m=i.increasedLineWidthForHitTesting,x=i.pointerEvents,w=e.x,M=e.y,O=(0,B.CR)(Uc(x,h,p),2),A=O[0],E=O[1],P=((g||0)+(m||0))/2,I=(w-l)*(w-l),F=(M-u)*(M-u);return A&&E||r?ik(I,F,l+P,u+P)<=1:A?ik(I,F,l,u)<=1:E?ik(I,F,l-P,u-P)>=1&&ik(I,F,l+P,u+P)<=1:!1}function Cp(t,e,r,i,l,u){return l>=t&&l<=t+r&&u>=e&&u<=e+i}function hK(t,e,r,i,l,u,h){var p=l/2;return Cp(t-p,e-p,r,l,u,h)||Cp(t+r-p,e-p,l,i,u,h)||Cp(t+p,e+i-p,r,l,u,h)||Cp(t-p,e+p,l,i,u,h)}function ak(t,e,r,i,l,u,h,p){var g=(Math.atan2(p-e,h-t)+Math.PI*2)%(Math.PI*2),m={x:t+r*Math.cos(g),y:e+r*Math.sin(g)};return Ma(m.x,m.y,h,p)<=u/2}function lh(t,e,r,i,l,u,h){var p=Math.min(t,r),g=Math.max(t,r),m=Math.min(e,i),x=Math.max(e,i),w=l/2;return u>=p-w&&u<=g+w&&h>=m-w&&h<=x+w?ew(t,e,r,i,u,h)<=l/2:!1}function OG(t,e,r,i,l){var u=t.length;if(u<2)return!1;for(var h=0;h<u-1;h++){var p=t[h][0],g=t[h][1],m=t[h+1][0],x=t[h+1][1];if(lh(p,g,m,x,e,r,i))return!0}if(l){var w=t[0],M=t[u-1];if(lh(w[0],w[1],M[0],M[1],e,r,i))return!0}return!1}var dK=1e-6;function NN(t){return Math.abs(t)<dK?0:t<0?-1:1}function pK(t,e,r){return(r[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}function CG(t,e,r){var i=!1,l=t.length;if(l<=2)return!1;for(var u=0;u<l;u++){var h=t[u],p=t[(u+1)%l];if(pK(h,p,[e,r]))return!0;NN(h[1]-r)>0!=NN(p[1]-r)>0&&NN(e-(r-h[1])*(h[0]-p[0])/(h[1]-p[1])-h[0])<0&&(i=!i)}return i}function AG(t,e,r){for(var i=!1,l=0;l<t.length;l++){var u=t[l];if(i=CG(u,e,r),i)break}return i}function vK(t,e,r){var i=t.parsedStyle,l=i.x1,u=i.y1,h=i.x2,p=i.y2,g=i.lineWidth,m=i.increasedLineWidthForHitTesting,x=i.defX,w=x===void 0?0:x,M=i.defY,O=M===void 0?0:M,A=i.pointerEvents,E=i.fill,P=i.stroke,I=(0,B.CR)(Uc(A,E,P),2),F=I[1];return!F&&!r||!g?!1:lh(l,u,h,p,(g||0)+(m||0),e.x+w,e.y+O)}function gK(t,e,r,i,l){for(var u=!1,h=e/2,p=0;p<t.length;p++){var g=t[p],m=g.currentPoint,x=g.params,w=g.prePoint,M=g.box;if(!(M&&!Cp(M.x-h,M.y-h,M.width+e,M.height+e,r,i)))switch(g.command){case"L":case"Z":if(u=lh(w[0],w[1],m[0],m[1],e,r,i),u)return!0;break;case"Q":var O=dw(w[0],w[1],x[1],x[2],x[3],x[4],r,i);if(u=O<=e/2,u)return!0;break;case"C":var A=iw(w[0],w[1],x[1],x[2],x[3],x[4],x[5],x[6],r,i,l);if(u=A<=e/2,u)return!0;break;case"A":g.cubicParams||(g.cubicParams=_G(w[0],w[1],x[1],x[2],x[3],x[4],x[5],x[6],x[7],void 0));for(var E=g.cubicParams,P=w,I=0;I<E.length;I+=6){var F=iw(P[0],P[1],E[I],E[I+1],E[I+2],E[I+3],E[I+4],E[I+5],r,i,l);if(P=[E[I+4],E[I+5]],u=F<=e/2,u)return!0}break}}return u}function yK(t,e,r,i,l,u){var h=t.parsedStyle,p=h.lineWidth,g=h.increasedLineWidthForHitTesting,m=h.stroke,x=h.fill,w=h.defX,M=w===void 0?0:w,O=h.defY,A=O===void 0?0:O,E=h.path,P=h.pointerEvents,I=E.segments,F=E.hasArc,N=E.polylines,z=E.polygons,G=(0,B.CR)(Uc(P,(z==null?void 0:z.length)&&x,m),2),W=G[0],Y=G[1],U=pv(t),X=!1;return W||r?(F?X=i(t,e):X=AG(z,e.x+M,e.y+A)||AG(N,e.x+M,e.y+A),X):((Y||r)&&(X=gK(I,(p||0)+(g||0),e.x+M,e.y+A,U)),X)}function mK(t,e,r){var i=t.parsedStyle,l=i.stroke,u=i.fill,h=i.lineWidth,p=i.increasedLineWidthForHitTesting,g=i.points,m=i.defX,x=m===void 0?0:m,w=i.defY,M=w===void 0?0:w,O=i.pointerEvents,A=(0,B.CR)(Uc(O,u,l),2),E=A[0],P=A[1],I=!1;return(P||r)&&(I=OG(g.points,(h||0)+(p||0),e.x+x,e.y+M,!0)),!I&&(E||r)&&(I=CG(g.points,e.x+x,e.y+M)),I}function xK(t,e,r){var i=t.parsedStyle,l=i.lineWidth,u=i.increasedLineWidthForHitTesting,h=i.points,p=i.defX,g=p===void 0?0:p,m=i.defY,x=m===void 0?0:m,w=i.pointerEvents,M=i.fill,O=i.stroke,A=(0,B.CR)(Uc(w,M,O),2),E=A[1];return!E&&!r||!l?!1:OG(h.points,(l||0)+(u||0),e.x+g,e.y+x,!1)}function bK(t,e,r,i,l){var u=t.parsedStyle,h=u.radius,p=u.fill,g=u.stroke,m=u.lineWidth,x=u.increasedLineWidthForHitTesting,w=u.width,M=u.height,O=u.pointerEvents,A=(0,B.CR)(Uc(O,p,g),2),E=A[0],P=A[1],I=h&&h.some(function(G){return G!==0}),F=(m||0)+(x||0);if(I){var z=!1;return(P||r)&&(z=wK(0,0,w,M,h.map(function(G){return iK(G,0,Math.min(Math.abs(w)/2,Math.abs(M)/2))}),F,e.x,e.y)),!z&&(E||r)&&(z=i(t,e)),z}else{var N=F/2;if(E&&P||r)return Cp(0-N,0-N,w+N,M+N,e.x,e.y);if(E)return Cp(0,0,w,M,e.x,e.y);if(P)return hK(0,0,w,M,F,e.x,e.y)}return!1}function wK(t,e,r,i,l,u,h,p){var g=(0,B.CR)(l,4),m=g[0],x=g[1],w=g[2],M=g[3];return lh(t+m,e,t+r-x,e,u,h,p)||lh(t+r,e+x,t+r,e+i-w,u,h,p)||lh(t+r-w,e+i,t+M,e+i,u,h,p)||lh(t,e+i-M,t,e+m,u,h,p)||ak(t+r-x,e+x,x,1.5*Math.PI,2*Math.PI,u,h,p)||ak(t+r-w,e+i-w,w,0,.5*Math.PI,u,h,p)||ak(t+M,e+i-M,M,.5*Math.PI,Math.PI,u,h,p)||ak(t+m,e+m,m,Math.PI,1.5*Math.PI,u,h,p)}function MK(t,e,r,i,l,u){var h=t.parsedStyle,p=h.pointerEvents,g=h.width,m=h.height;if(p==="non-transparent-pixel"){var x=l.config.offscreenCanvas,w=u.offscreenCanvasCreator.getOrCreateCanvas(x),M=u.offscreenCanvasCreator.getOrCreateContext(x,{willReadFrequently:!0});w.width=g,w.height=m,l.defaultStyleRendererFactory[Ye.IMAGE].render(M,t.parsedStyle,t,void 0,void 0,void 0);var O=M.getImageData(e.x,e.y,1,1).data;return O.every(function(A){return A!==0})}return!0}var SK=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="canvas-picker",r}return e.prototype.init=function(){var r,i=function(){return!0},l=(r={},r[Ye.CIRCLE]=uK,r[Ye.ELLIPSE]=fK,r[Ye.RECT]=bK,r[Ye.LINE]=vK,r[Ye.POLYLINE]=xK,r[Ye.POLYGON]=mK,r[Ye.PATH]=yK,r[Ye.TEXT]=i,r[Ye.GROUP]=null,r[Ye.IMAGE]=MK,r[Ye.HTML]=null,r[Ye.MESH]=null,r);this.context.pointInPathPickerFactory=l,this.addRenderingPlugin(new cK)},e.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(Tl),_K=function(t){return t==null},Ia=_K,OK={}.toString,CK=function(t,e){return OK.call(t)==="[object "+e+"]"},AK=CK,TK=function(t){return AK(t,"String")},EK=function(){function t(e){this.canvasRendererPluginOptions=e,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=se(),this.dprMatrix=se(),this.tmpMat4=se(),this.vec3a=rt.Ue(),this.vec3b=rt.Ue(),this.vec3c=rt.Ue(),this.vec3d=rt.Ue()}return t.prototype.apply=function(e,r){var i=this;this.context=e;var l=e.config,u=e.camera,h=e.renderingService,p=e.renderingContext,g=e.rBushRoot,m=e.pathGeneratorFactory;this.rBush=g,this.pathGeneratorFactory=m;var x=e.contextService,w=p.root.ownerDocument.defaultView,M=function(E){var P=E.target,I=P.rBushNode;I.aabb&&i.removedRBushNodeAABBs.push(I.aabb)},O=function(E){var P=E.target,I=P.rBushNode;I.aabb&&i.removedRBushNodeAABBs.push(I.aabb)};h.hooks.init.tap(t.tag,function(){w.addEventListener($n.UNMOUNTED,M),w.addEventListener($n.CULLED,O);var E=x.getDPR(),P=l.width,I=l.height,F=x.getContext();i.clearRect(F,0,0,P*E,I*E,l.background)}),h.hooks.destroy.tap(t.tag,function(){w.removeEventListener($n.UNMOUNTED,M),w.removeEventListener($n.CULLED,O),i.renderQueue=[],i.removedRBushNodeAABBs=[],i.restoreStack=[]}),h.hooks.beginFrame.tap(t.tag,function(){var E,P,I=x.getContext(),F=x.getDPR(),N=l.width,z=l.height,G=(E=i.canvasRendererPluginOptions,E.dirtyObjectNumThreshold),W=E.dirtyObjectRatioThreshold,Y=(P=h.getStats(),P.total),U=P.rendered,X=U/Y;i.clearFullScreen=h.disableDirtyRectangleRendering()||U>G&&X>W,I&&(I.resetTransform?I.resetTransform():I.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(I,0,0,N*F,z*F,l.background))});var A=function(E,P){E.isVisible()&&!E.isCulled()&&(i.renderDisplayObject(E,P,i.context,i.restoreStack,r),i.saveDirtyAABB(E));var I=E.sortable.sorted||E.childNodes;I.forEach(function(F){A(F,P)})};h.hooks.endFrame.tap(t.tag,function(){var E=x.getContext(),P=x.getDPR();if(Qe(i.dprMatrix,[P,P,1]),le(i.vpMatrix,i.dprMatrix,u.getOrthoMatrix()),i.clearFullScreen)A(p.root,E);else{var I=i.safeMergeAABB.apply(i,(0,B.ev)([i.mergeDirtyAABBs(i.renderQueue)],(0,B.CR)(i.removedRBushNodeAABBs.map(function(ce){var be=ce.minX,Le=ce.minY,nn=ce.maxX,De=ce.maxY,en=new Bi;return en.setMinMax([be,Le,0],[nn,De,0]),en})),!1));if(i.removedRBushNodeAABBs=[],Bi.isEmpty(I)){i.renderQueue=[];return}var F=i.convertAABB2Rect(I),N=F.x,z=F.y,G=F.width,W=F.height,Y=rt.fF(i.vec3a,[N,z,0],i.vpMatrix),U=rt.fF(i.vec3b,[N+G,z,0],i.vpMatrix),X=rt.fF(i.vec3c,[N,z+W,0],i.vpMatrix),$=rt.fF(i.vec3d,[N+G,z+W,0],i.vpMatrix),Q=Math.min(Y[0],U[0],$[0],X[0]),ft=Math.min(Y[1],U[1],$[1],X[1]),ot=Math.max(Y[0],U[0],$[0],X[0]),J=Math.max(Y[1],U[1],$[1],X[1]),st=Math.floor(Q),gt=Math.floor(ft),Mt=Math.ceil(ot-Q),At=Math.ceil(J-ft);E.save(),i.clearRect(E,st,gt,Mt,At,l.background),E.beginPath(),E.rect(st,gt,Mt,At),E.clip(),E.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var St=l.renderer.getConfig().enableDirtyRectangleRenderingDebug;St&&w.dispatchEvent(new qr(io.DIRTY_RECTANGLE,{dirtyRect:{x:st,y:gt,width:Mt,height:At}}));var Ut=i.searchDirtyObjects(I);Ut.sort(function(ce,be){return ce.sortable.renderOrder-be.sortable.renderOrder}).forEach(function(ce){ce&&ce.isVisible()&&!ce.isCulled()&&i.renderDisplayObject(ce,E,i.context,i.restoreStack,r)}),E.restore(),i.renderQueue.forEach(function(ce){i.saveDirtyAABB(ce)}),i.renderQueue=[]}i.restoreStack.forEach(function(){E.restore()}),i.restoreStack=[]}),h.hooks.render.tap(t.tag,function(E){i.clearFullScreen||i.renderQueue.push(E)})},t.prototype.clearRect=function(e,r,i,l,u,h){e.clearRect(r,i,l,u),h&&(e.fillStyle=h,e.fillRect(r,i,l,u))},t.prototype.renderDisplayObject=function(e,r,i,l,u){var h=e.nodeName,p=l[l.length-1];p&&!(e.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),l.pop());var g=this.context.styleRendererFactory[h],m=this.pathGeneratorFactory[h],x=e.parsedStyle.clipPath;if(x){this.applyWorldTransform(r,x);var w=this.pathGeneratorFactory[x.nodeName];w&&(r.save(),l.push(e),r.beginPath(),w(r,x.parsedStyle),r.closePath(),r.clip())}g&&(this.applyWorldTransform(r,e),r.save(),this.applyAttributesToContext(r,e)),m&&(r.beginPath(),m(r,e.parsedStyle),e.nodeName!==Ye.LINE&&e.nodeName!==Ye.PATH&&e.nodeName!==Ye.POLYLINE&&r.closePath()),g&&(g.render(r,e.parsedStyle,e,i,this,u),r.restore()),e.renderable.dirty=!1},t.prototype.convertAABB2Rect=function(e){var r=e.getMin(),i=e.getMax(),l=Math.floor(r[0]),u=Math.floor(r[1]),h=Math.ceil(i[0]),p=Math.ceil(i[1]),g=h-l,m=p-u;return{x:l,y:u,width:g,height:m}},t.prototype.mergeDirtyAABBs=function(e){var r=new Bi;return e.forEach(function(i){var l=i.getRenderBounds();r.add(l);var u=i.renderable.dirtyRenderBounds;u&&r.add(u)}),r},t.prototype.searchDirtyObjects=function(e){var r,i,l=(r=(0,B.CR)(e.getMin(),2),r[0]),u=r[1],h=(i=(0,B.CR)(e.getMax(),2),i[0]),p=i[1],g=this.rBush.search({minX:l,minY:u,maxX:h,maxY:p});return g.map(function(m){var x=m.displayObject;return x})},t.prototype.saveDirtyAABB=function(e){var r=e.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new Bi);var i=e.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)},t.prototype.applyAttributesToContext=function(e,r){var i,l=(i=r.parsedStyle,i.stroke),u=i.fill,h=i.opacity,p=i.lineDash,g=i.lineDashOffset;p&&e.setLineDash(p),Ia(g)||(e.lineDashOffset=g),Ia(h)||(e.globalAlpha*=h),!Ia(l)&&!Array.isArray(l)&&!l.isNone&&(e.strokeStyle=r.attributes.stroke),!Ia(u)&&!Array.isArray(u)&&!u.isNone&&(e.fillStyle=r.attributes.fill)},t.prototype.applyWorldTransform=function(e,r,i){var l=0,u=0,h=(r.parsedStyle||{}).anchor,p=h&&h[0]||0,g=h&&h[1]||0;if(p!==0||g!==0){var m=r.geometry.contentBounds,x=m&&m.halfExtents[0]*2||0,w=m&&m.halfExtents[1]*2||0;l=-(p*x),u=-(g*w)}i?(Kt(this.tmpMat4,r.getLocalTransform()),this.vec3a[0]=l,this.vec3a[1]=u,this.vec3a[2]=0,Ce(this.tmpMat4,this.tmpMat4,this.vec3a),le(this.tmpMat4,i,this.tmpMat4),le(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(Kt(this.tmpMat4,r.getWorldTransform()),this.vec3a[0]=l,this.vec3a[1]=u,this.vec3a[2]=0,Ce(this.tmpMat4,this.tmpMat4,this.vec3a),le(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},t.prototype.safeMergeAABB=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=new Bi;return e.forEach(function(l){i.add(l)}),i},t.tag="CanvasRenderer",t}(),ch=function(){function t(e){this.imagePool=e}return t.prototype.render=function(e,r,i,l,u,h){var p=r.fill,g=r.fillRule,m=r.opacity,x=r.fillOpacity,w=r.stroke,M=r.strokeOpacity,O=r.lineWidth,A=r.lineCap,E=r.lineJoin,P=r.shadowType,I=r.shadowColor,F=r.shadowBlur,N=r.filter,z=r.miterLimit,G=!Ia(p)&&!p.isNone,W=!Ia(w)&&!w.isNone&&O>0,Y=p.alpha===0,U=!!(N&&N.length),X=!Ia(I)&&F>0,$=i.nodeName,Q=P==="inner",ft=W&&X&&($===Ye.PATH||$===Ye.LINE||$===Ye.POLYLINE||Y||Q);G&&(e.globalAlpha=m*x,ft||ok(i,e,X),this.fill(e,i,p,g,l,u,h),ft||this.clearShadowAndFilter(e,U,X)),W&&(e.globalAlpha=m*M,e.lineWidth=O,Ia(z)||(e.miterLimit=z),Ia(A)||(e.lineCap=A),Ia(E)||(e.lineJoin=E),ft&&(Q&&(e.globalCompositeOperation="source-atop"),ok(i,e,!0),Q&&(this.stroke(e,i,w,l,u,h),e.globalCompositeOperation="source-over",this.clearShadowAndFilter(e,U,!0))),this.stroke(e,i,w,l,u,h))},t.prototype.clearShadowAndFilter=function(e,r,i){if(i&&(e.shadowColor="transparent",e.shadowBlur=0),r){var l=e.filter;!Ia(l)&&l.indexOf("drop-shadow")>-1&&(e.filter=l.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},t.prototype.fill=function(e,r,i,l,u,h,p){var g=this;Array.isArray(i)?i.forEach(function(m){e.fillStyle=g.getColor(m,r,e),l?e.fill(l):e.fill()}):(fv(i)&&(e.fillStyle=this.getPattern(i,r,e,u,h,p)),l?e.fill(l):e.fill())},t.prototype.stroke=function(e,r,i,l,u,h){var p=this;Array.isArray(i)?i.forEach(function(g){e.strokeStyle=p.getColor(g,r,e),e.stroke()}):(fv(i)&&(e.strokeStyle=this.getPattern(i,r,e,l,u,h)),e.stroke())},t.prototype.getPattern=function(e,r,i,l,u,h){var p,g;if(e.image.nodeName==="rect"){var m=e.image.parsedStyle,x=m.width,w=m.height;g=l.contextService.getDPR();var M=l.config.offscreenCanvas;p=h.offscreenCanvasCreator.getOrCreateCanvas(M),p.width=x*g,p.height=w*g;var O=h.offscreenCanvasCreator.getOrCreateContext(M),A=[];e.image.forEach(function(P){u.renderDisplayObject(P,O,l,A,h)}),A.forEach(function(){O.restore()})}var E=this.imagePool.getOrCreatePatternSync(e,i,p,g,function(){r.renderable.dirty=!0,l.renderingService.dirtify()});return E},t.prototype.getColor=function(e,r,i){var l;if(e.type===_s.LinearGradient||e.type===_s.RadialGradient){var u=r.getGeometryBounds(),h=u&&u.halfExtents[0]*2||1,p=u&&u.halfExtents[1]*2||1;l=this.imagePool.getOrCreateGradient((0,B.pi)((0,B.pi)({type:e.type},e.value),{width:h,height:p}),i)}return l},t}();function ok(t,e,r){var i=t.parsedStyle,l=i.filter,u=i.shadowColor,h=i.shadowBlur,p=i.shadowOffsetX,g=i.shadowOffsetY;l&&l.length&&(e.filter=t.style.filter),r&&(e.shadowColor=u.toString(),e.shadowBlur=h||0,e.shadowOffsetX=p||0,e.shadowOffsetY=g||0)}var kK=function(){function t(e){this.imagePool=e}return t.prototype.render=function(e,r,i){var l=r.width,u=r.height,h=r.img,p=r.shadowColor,g=r.shadowBlur,m,x=l,w=u;if(TK(h)?m=this.imagePool.getImageSync(h):(x||(x=h.width),w||(w=h.height),m=h),m){var M=!Ia(p)&&g>0;ok(i,e,M);try{e.drawImage(m,0,0,x,w)}catch(O){}}},t}(),PK=function(){function t(){}return t.prototype.render=function(e,r,i,l,u,h){var p=r,g=p.lineWidth,m=p.textAlign,x=p.textBaseline,w=p.lineJoin,M=p.miterLimit,O=p.letterSpacing,A=p.stroke,E=p.fill,P=p.fillOpacity,I=p.strokeOpacity,F=p.opacity,N=p.metrics,z=p.dx,G=p.dy,W=p.shadowColor,Y=p.shadowBlur,U=N.font,X=N.lines,$=N.height,Q=N.lineHeight,ft=N.lineMetrics;e.font=U,e.lineWidth=g,e.textAlign=m==="middle"?"center":m;var ot=x;!h.enableCSSParsing&&ot==="alphabetic"&&(ot="bottom"),e.lineJoin=w,Ia(M)||(e.miterLimit=M);var J=0;x==="middle"?J=-$/2-Q/2:x==="bottom"||x==="alphabetic"||x==="ideographic"?J=-$:(x==="top"||x==="hanging")&&(J=-Q);var st=z||0;J+=G||0,X.length===1&&(ot==="bottom"?(ot="middle",J-=.5*$):ot==="top"&&(ot="middle",J+=.5*$)),e.textBaseline=ot;var gt=!Ia(W)&&Y>0;ok(i,e,gt);for(var Mt=0;Mt<X.length;Mt++){var At=g/2+st;J+=Q,!Ia(A)&&!A.isNone&&g&&this.drawLetterSpacing(e,X[Mt],ft[Mt],m,At,J,O,P,I,F,!0),Ia(E)||this.drawLetterSpacing(e,X[Mt],ft[Mt],m,At,J,O,P,I,F)}},t.prototype.drawLetterSpacing=function(e,r,i,l,u,h,p,g,m,x,w){if(w===void 0&&(w=!1),p===0){w?this.strokeText(e,r,u,h,m):this.fillText(e,r,u,h,g,x);return}var M=e.textAlign;e.textAlign="left";var O=u;l==="center"||l==="middle"?O=u-i.width/2:(l==="right"||l==="end")&&(O=u-i.width);for(var A=Array.from(r),E=e.measureText(r).width,P=0,I=0;I<A.length;++I){var F=A[I];w?this.strokeText(e,F,O,h,m):this.fillText(e,F,O,h,g,x),P=e.measureText(r.substring(I+1)).width,O+=E-P+p,E=P}e.textAlign=M},t.prototype.fillText=function(e,r,i,l,u,h){var p,g=!Ia(u)&&u!==1;g&&(p=e.globalAlpha,e.globalAlpha=u*h),e.fillText(r,i,l),g&&(e.globalAlpha=p)},t.prototype.strokeText=function(e,r,i,l,u){var h,p=!Ia(u)&&u!==1;p&&(h=e.globalAlpha,e.globalAlpha=u),e.strokeText(r,i,l),p&&(e.globalAlpha=h)},t}(),Rnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),Fnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),Dnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),Bnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),Nnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),znt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),jnt=function(t){(0,B.ZT)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ch),LK=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=t.call(this)||this;return i.options=r,i.name="canvas-renderer",i}return e.prototype.init=function(){var r,i=(0,B.pi)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),l=this.context.imagePool,u=new ch(l),h=(r={},r[Ye.CIRCLE]=u,r[Ye.ELLIPSE]=u,r[Ye.RECT]=u,r[Ye.IMAGE]=new kK(l),r[Ye.TEXT]=new PK,r[Ye.LINE]=u,r[Ye.POLYLINE]=u,r[Ye.POLYGON]=u,r[Ye.PATH]=u,r[Ye.GROUP]=void 0,r[Ye.HTML]=void 0,r[Ye.MESH]=void 0,r);this.context.defaultStyleRendererFactory=h,this.context.styleRendererFactory=h,this.addRenderingPlugin(new EK(i))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(Tl),IK=function(){function t(){}return t.prototype.apply=function(e,r){var i=this,l=e.renderingService,u=e.renderingContext,h=e.config;this.context=e;var p=u.root.ownerDocument.defaultView,g=function(W){l.hooks.pointerMove.call(W)},m=function(W){l.hooks.pointerUp.call(W)},x=function(W){l.hooks.pointerDown.call(W)},w=function(W){l.hooks.pointerOver.call(W)},M=function(W){l.hooks.pointerOut.call(W)},O=function(W){l.hooks.pointerCancel.call(W)},A=function(W){l.hooks.pointerWheel.call(W)},E=function(W){l.hooks.click.call(W)},P=function(W){r.globalThis.document.addEventListener("pointermove",g,!0),W.addEventListener("pointerdown",x,!0),W.addEventListener("pointerleave",M,!0),W.addEventListener("pointerover",w,!0),r.globalThis.addEventListener("pointerup",m,!0),r.globalThis.addEventListener("pointercancel",O,!0)},I=function(W){W.addEventListener("touchstart",x,!0),W.addEventListener("touchend",m,!0),W.addEventListener("touchmove",g,!0),W.addEventListener("touchcancel",O,!0)},F=function(W){r.globalThis.document.addEventListener("mousemove",g,!0),W.addEventListener("mousedown",x,!0),W.addEventListener("mouseout",M,!0),W.addEventListener("mouseover",w,!0),r.globalThis.addEventListener("mouseup",m,!0)},N=function(W){r.globalThis.document.removeEventListener("pointermove",g,!0),W.removeEventListener("pointerdown",x,!0),W.removeEventListener("pointerleave",M,!0),W.removeEventListener("pointerover",w,!0),r.globalThis.removeEventListener("pointerup",m,!0)},z=function(W){W.removeEventListener("touchstart",x,!0),W.removeEventListener("touchend",m,!0),W.removeEventListener("touchmove",g,!0),W.removeEventListener("touchcancel",O,!0)},G=function(W){r.globalThis.document.removeEventListener("mousemove",g,!0),W.removeEventListener("mousedown",x,!0),W.removeEventListener("mouseout",M,!0),W.removeEventListener("mouseover",w,!0),r.globalThis.removeEventListener("mouseup",m,!0)};l.hooks.init.tap(t.tag,function(){var W=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(W.style.msContentZooming="none",W.style.msTouchAction="none"):p.supportsPointerEvents&&(W.style.touchAction="none"),p.supportsPointerEvents?P(W):F(W),p.supportsTouchEvents&&I(W),h.useNativeClickEvent&&W.addEventListener("click",E,!0),W.addEventListener("wheel",A,{passive:!0,capture:!0})}),l.hooks.destroy.tap(t.tag,function(){var W=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(W.style.msContentZooming="",W.style.msTouchAction=""):p.supportsPointerEvents&&(W.style.touchAction=""),p.supportsPointerEvents?N(W):G(W),p.supportsTouchEvents&&z(W),h.useNativeClickEvent&&W.removeEventListener("click",E,!0),W.removeEventListener("wheel",A,!0)})},t.tag="DOMInteraction",t}(),RK=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="dom-interaction",r}return e.prototype.init=function(){this.addRenderingPlugin(new IK)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Tl),FK={}.toString,DK=function(t,e){return FK.call(t)==="[object "+e+"]"},TG=DK,BK=function(t){return TG(t,"String")},NK=function(t){return TG(t,"Number")},EG=NK,zK=function(t){return t==null},jK=zK,GK="g-canvas-camera",WK=function(){function t(){this.displayObjectHTMLElementMap=new WeakMap}return t.prototype.joinTransformMatrix=function(e){return"matrix(".concat([e[0],e[1],e[4],e[5],e[12],e[13]].join(","),")")},t.prototype.apply=function(e,r){var i=this,l=e.camera,u=e.renderingContext,h=e.renderingService;this.context=e;var p=u.root.ownerDocument.defaultView,g=function(A,E){E.style.transform=i.joinTransformMatrix(A.getWorldTransform())},m=function(A){var E=A.target;if(E.nodeName===Ye.HTML){i.$camera||(i.$camera=i.createCamera(l));var P=i.getOrCreateEl(E);if(i.$camera.appendChild(P),r.enableCSSParsing){var I=E.ownerDocument.documentElement.attributes;Object.keys(I).forEach(function(F){P.style[F]=I[F]})}Object.keys(E.attributes).forEach(function(F){i.updateAttribute(F,E)}),g(E,P),i.context.nativeHTMLMap.set(P,E)}},x=function(A){var E=A.target;if(E.nodeName===Ye.HTML&&i.$camera){var P=i.getOrCreateEl(E);P&&(P.remove(),i.context.nativeHTMLMap.delete(P))}},w=function(A){var E=A.target;if(E.nodeName===Ye.HTML){var P=A.attrName;i.updateAttribute(P,E)}},M=function(A){var E=A.target;if(E.nodeName===Ye.HTML){var P=i.getOrCreateEl(E);g(E,P)}},O=function(){if(i.$camera){var A=i.context.config,E=A.width,P=A.height;i.$camera.style.width="".concat(E||0,"px"),i.$camera.style.height="".concat(P||0,"px")}};h.hooks.init.tap(t.tag,function(){p.addEventListener(io.RESIZE,O),p.addEventListener($n.MOUNTED,m),p.addEventListener($n.UNMOUNTED,x),p.addEventListener($n.ATTR_MODIFIED,w),p.addEventListener($n.BOUNDS_CHANGED,M)}),h.hooks.endFrame.tap(t.tag,function(){i.$camera&&u.renderReasons.has(Zc.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(l.getOrthoMatrix()))}),h.hooks.destroy.tap(t.tag,function(){i.$camera&&i.$camera.remove(),p.removeEventListener(io.RESIZE,O),p.removeEventListener($n.MOUNTED,m),p.removeEventListener($n.UNMOUNTED,x),p.removeEventListener($n.ATTR_MODIFIED,w),p.removeEventListener($n.BOUNDS_CHANGED,M)})},t.prototype.createCamera=function(e){var r,i=(r=this.context.config,r.document),l=r.width,u=r.height,h=this.context.contextService.getDomElement(),p=h.parentNode;if(p){var g=GK,m=p.querySelector("#"+g);if(!m){var x=(i||document).createElement("div");m=x,x.id=g,x.style.position="absolute",x.style.left="".concat(h.offsetLeft||0,"px"),x.style.top="".concat(h.offsetTop||0,"px"),x.style.transformOrigin="left top",x.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),x.style.overflow="hidden",x.style.pointerEvents="none",x.style.width="".concat(l||0,"px"),x.style.height="".concat(u||0,"px"),p.appendChild(x)}return m}return null},t.prototype.getOrCreateEl=function(e){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(e);return i||(i=(r||document).createElement("div"),e.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(e,i),e.id&&(i.id=e.id),e.name&&i.setAttribute("name",e.name),e.className&&(i.className=e.className),i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(e.getWorldTransform())),i},t.prototype.updateAttribute=function(e,r){var i=this.getOrCreateEl(r);switch(e){case"innerHTML":var l=r.parsedStyle.innerHTML;BK(l)?i.innerHTML=l:(i.innerHTML="",i.appendChild(l));break;case"transformOrigin":var u=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(u[0].value," ").concat(u[1].value);break;case"width":if(this.context.enableCSSParsing){var h=r.computedStyleMap().get("width");i.style.width=h.toString()}else{var h=r.parsedStyle.width;i.style.width=EG(h)?"".concat(h,"px"):h.toString()}break;case"height":if(this.context.enableCSSParsing){var p=r.computedStyleMap().get("height");i.style.height=p.toString()}else{var p=r.parsedStyle.height;i.style.height=EG(p)?"".concat(p,"px"):p.toString()}break;case"zIndex":var g=r.parsedStyle.zIndex;i.style["z-index"]="".concat(g);break;case"visibility":var m=r.parsedStyle.visibility;i.style.visibility=m;break;case"pointerEvents":var x=r.parsedStyle.pointerEvents;i.style.pointerEvents=x;break;case"opacity":var w=r.parsedStyle.opacity;i.style.opacity="".concat(w);break;case"fill":var M=r.parsedStyle.fill,O="";hv(M)?M.isNone?O="transparent":O=r.getAttribute("fill"):Array.isArray(M)?O=r.getAttribute("fill"):fv(M),i.style.background=O;break;case"stroke":var A=r.parsedStyle.stroke,E="";hv(A)?A.isNone?E="transparent":E=r.getAttribute("stroke"):Array.isArray(A)?E=r.getAttribute("stroke"):fv(A),i.style["border-color"]=E,i.style["border-style"]="solid";break;case"lineWidth":var P=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(P||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var I=r.style.filter;i.style.filter=I;break;default:e!=="x"&&e!=="y"&&!jK(r.style[e])&&r.style[e]!==""&&(i.style[e]=r.style[e])}},t.tag="HTMLRendering",t}(),VK=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="html-renderer",r}return e.prototype.init=function(){this.addRenderingPlugin(new WK)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Tl),HK={}.toString,YK=function(t,e){return HK.call(t)==="[object "+e+"]"},UK=YK,sk=function(t){return UK(t,"String")},XK=function(){function t(e){this.canvasConfig=e,this.imageCache={},this.gradientCache={},this.patternCache={}}return t.prototype.getImageSync=function(e,r){return this.imageCache[e]?r&&r():this.getOrCreateImage(e).then(function(){r&&r()}),this.imageCache[e]},t.prototype.getOrCreateImage=function(e){var r=this;if(this.imageCache[e])return Promise.resolve(this.imageCache[e]);var i=this.canvasConfig.createImage;return new Promise(function(l,u){var h;i?h=i(e):jh&&(h=new window.Image),h&&(h.onload=function(){r.imageCache[e]=h,l(h)},h.onerror=function(p){u(p)},h.crossOrigin="Anonymous",h.src=e)})},t.prototype.getOrCreatePatternSync=function(e,r,i,l,u){var h=this.generatePatternKey(e);if(h&&this.patternCache[h])return this.patternCache[h];var p=e.image,g=e.repetition,m=e.transform,x,w=!1;sk(p)?x=this.getImageSync(p,u):i?(x=i,w=!0):x=p;var M=x&&r.createPattern(x,g);if(M){var O=void 0;m?O=Mv(bv(m),new _a({})):O=Ht(se()),w&&Ve(O,O,[1/l,1/l,1]),M.setTransform({a:O[0],b:O[1],c:O[4],d:O[5],e:O[12],f:O[13]})}return h&&M&&(this.patternCache[h]=M),M},t.prototype.getOrCreateGradient=function(e,r){var i=this.generateGradientKey(e),l=e.type,u=e.steps,h=e.width,p=e.height,g=e.angle,m=e.cx,x=e.cy,w=e.size;if(this.gradientCache[i])return this.gradientCache[i];var M=null;if(l===_s.LinearGradient){var O=uP(h,p,g),A=O.x1,E=O.y1,P=O.x2,I=O.y2;M=r.createLinearGradient(A,E,P,I)}else if(l===_s.RadialGradient){var F=Cw(h,p,m,x,w),N=F.x,z=F.y,G=F.r;M=r.createRadialGradient(N,z,0,N,z,G)}return M&&(u.forEach(function(W){var Y=W.offset,U=W.color;Y.unit===xn.kPercentage&&(M==null||M.addColorStop(Y.value/100,U.toString()))}),this.gradientCache[i]=M),this.gradientCache[i]},t.prototype.generateGradientKey=function(e){var r=e.type,i=e.width,l=e.height,u=e.steps,h=e.angle,p=e.cx,g=e.cy,m=e.size;return"gradient-".concat(r,"-").concat((h==null?void 0:h.toString())||0,"-").concat((p==null?void 0:p.toString())||0,"-").concat((g==null?void 0:g.toString())||0,"-").concat((m==null?void 0:m.toString())||0,"-").concat(i,"-").concat(l,"-").concat(u.map(function(x){var w=x.offset,M=x.color;return"".concat(w).concat(M)}).join("-"))},t.prototype.generatePatternKey=function(e){var r=e.image,i=e.repetition;if(sk(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)},t}(),ZK=function(){function t(){}return t.prototype.apply=function(e){var r=e.renderingService,i=e.renderingContext,l=e.imagePool,u=i.root.ownerDocument.defaultView,h=function(g){var m=g.target,x=m.nodeName,w=m.attributes;if(x===Ye.IMAGE){var M=w.img;sk(M)&&l.getImageSync(M,function(){m.renderable.dirty=!0,r.dirtify()})}},p=function(g){var m=g.target,x=g.attrName,w=g.newValue;m.nodeName===Ye.IMAGE&&x==="img"&&sk(w)&&l.getOrCreateImage(w).then(function(){m.renderable.dirty=!0,r.dirtify()})};r.hooks.init.tap(t.tag,function(){u.addEventListener($n.MOUNTED,h),u.addEventListener($n.ATTR_MODIFIED,p)}),r.hooks.destroy.tap(t.tag,function(){u.removeEventListener($n.MOUNTED,h),u.removeEventListener($n.ATTR_MODIFIED,p)})},t.tag="LoadImage",t}(),qK=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="image-loader",r}return e.prototype.init=function(){this.context.imagePool=new XK(this.context.config),this.addRenderingPlugin(new ZK)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Tl),$K={}.toString,KK=function(t,e){return $K.call(t)==="[object "+e+"]"},JK=KK,QK=function(t){return JK(t,"String")},tJ=function(){function t(e){this.renderingContext=e.renderingContext,this.canvasConfig=e.config}return t.prototype.init=function(){var e=this.canvasConfig,r=e.container,i=e.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=QK(r)?document.getElementById(r):r,this.$container)){var l=document.createElement("canvas");this.$container.appendChild(l),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=l}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(e,r){var i=this.canvasConfig.devicePixelRatio,l=i||jh&&window.devicePixelRatio||1;l=l>=1?Math.ceil(l):1,this.dpr=l,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*r,Jw(this.$canvas,e,r)),this.renderingContext.renderReasons.add(Zc.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)},t.prototype.toDataURL=function(e){return e===void 0&&(e={}),(0,B.mG)(this,void 0,void 0,function(){var r,i;return(0,B.Jh)(this,function(l){return r=e.type,i=e.encoderOptions,[2,this.context.canvas.toDataURL(r,i)]})})},t}(),eJ=function(t){(0,B.ZT)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="canvas-context-register",r}return e.prototype.init=function(){this.context.ContextService=tJ},e.prototype.destroy=function(){delete this.context.ContextService},e}(Tl),kG=function(t){(0,B.ZT)(e,t);function e(r){var i=t.call(this,r)||this;return i.registerPlugin(new eJ),i.registerPlugin(new qK),i.registerPlugin(new nK),i.registerPlugin(new LK),i.registerPlugin(new RK),i.registerPlugin(new SK),i.registerPlugin(new VK),i}return e}(Wk);function nJ(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var rJ=function(){function t(e){this.dragndropPluginOptions=e}return t.prototype.apply=function(e){var r=this,i=e.renderingService,l=e.renderingContext,u=l.root.ownerDocument,h=u.defaultView,p=function(g){var m=g.target,x=m===u,w=x&&r.dragndropPluginOptions.isDocumentDraggable?u:m.closest&&m.closest("[draggable=true]");if(w){var M=!1,O=g.timeStamp,A=[g.clientX,g.clientY],E=null,P=[g.clientX,g.clientY],I=function(N){return(0,B.mG)(r,void 0,void 0,function(){var z,G,W,Y,U,X;return(0,B.Jh)(this,function($){switch($.label){case 0:if(!M){if(z=N.timeStamp-O,G=nJ([N.clientX,N.clientY],A),z<=this.dragndropPluginOptions.dragstartTimeThreshold||G<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];N.type="dragstart",w.dispatchEvent(N),M=!0}return N.type="drag",N.dx=N.clientX-P[0],N.dy=N.clientY-P[1],w.dispatchEvent(N),P=[N.clientX,N.clientY],x?[3,2]:(W=this.dragndropPluginOptions.overlap==="pointer"?[N.canvasX,N.canvasY]:m.getBounds().center,[4,u.elementsFromPoint(W[0],W[1])]);case 1:Y=$.sent(),U=Y[Y.indexOf(m)+1],X=(U==null?void 0:U.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?u:null),E!==X&&(E&&(N.type="dragleave",N.target=E,E.dispatchEvent(N)),X&&(N.type="dragenter",N.target=X,X.dispatchEvent(N)),E=X,E&&(N.type="dragover",N.target=E,E.dispatchEvent(N))),$.label=2;case 2:return[2]}})})};h.addEventListener("pointermove",I);var F=function(N){if(M){N.detail={preventClick:!0};var z=N.clone();E&&(z.type="drop",z.target=E,E.dispatchEvent(z)),z.type="dragend",w.dispatchEvent(z),M=!1}h.removeEventListener("pointermove",I)};m.addEventListener("pointerup",F,{once:!0}),m.addEventListener("pointerupoutside",F,{once:!0})}};i.hooks.init.tap(t.tag,function(){h.addEventListener("pointerdown",p)}),i.hooks.destroy.tap(t.tag,function(){h.removeEventListener("pointerdown",p)})},t.tag="Dragndrop",t}(),PG=function(t){(0,B.ZT)(e,t);function e(r){r===void 0&&(r={});var i=t.call(this)||this;return i.options=r,i.name="dragndrop",i}return e.prototype.init=function(){this.addRenderingPlugin(new rJ((0,B.pi)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e.prototype.setOptions=function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)},e}(Tl);function iJ(t,e,r){var i;return function(){var l=this,u=arguments,h=function(){i=null,r||t.apply(l,u)},p=r&&!i;clearTimeout(i),i=setTimeout(h,e),p&&t.apply(l,u)}}var aJ=iJ,LG=kt(90494),IG=function(t){return os(t,"String")},zN=function(t,e){if(t===e)return!0;if(!t||!e||IG(t)||IG(e))return!1;if(vb(t)||vb(e)){if(t.length!==e.length)return!1;for(var r=!0,i=0;i<t.length&&(r=zN(t[i],e[i]),!!r);i++);return r}if(Jv(t)||Jv(e)){var l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;for(var r=!0,i=0;i<l.length&&(r=zN(t[l[i]],e[l[i]]),!!r);i++);return r}return!1},oJ=zN;const sJ=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var RG=kt(17816),lJ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function cJ(t){const e=t%(Math.PI*2);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function uJ(t,e,r,i){const{radar:l}=t,[u]=i,h=u.getOptions().name,[p,g]=yf(r),{axisRadar:m={}}=e;return Object.assign(Object.assign({},m),{grid:h==="position",gridConnect:"line",gridControlAngles:new Array(l.count).fill(0).map((x,w)=>(g-p)/l.count*w)})}const FG=t=>{const{important:e={}}=t,r=lJ(t,["important"]);return i=>{const{theme:l,coordinate:u,scales:h}=i;return Gs(Object.assign(Object.assign(Object.assign({},r),cJ(t.orientation)),{important:Object.assign(Object.assign({},uJ(t,l,u,h)),e)}))(i)}};FG.props=Object.assign(Object.assign({},Gs.props),{defaultPosition:"center"});const DG=t=>(...e)=>fs(Object.assign({},{block:!0},t))(...e);DG.props=Object.assign(Object.assign({},fs.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const jN=t=>e=>{const{scales:r}=e,i=js(r,"size");return fs(Object.assign({},{type:"size",data:i.getTicks().map((l,u)=>({value:l,label:String(l)}))},t))(e)};jN.props=Object.assign(Object.assign({},fs.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const BG=t=>jN(Object.assign({},{block:!0},t));BG.props=Object.assign(Object.assign({},fs.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var fJ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const NG=({static:t=!1}={})=>e=>{const{width:r,height:i,depth:l,paddingLeft:u,paddingRight:h,paddingTop:p,paddingBottom:g,padding:m,inset:x,insetLeft:w,insetTop:M,insetRight:O,insetBottom:A,margin:E,marginLeft:P,marginBottom:I,marginTop:F,marginRight:N,data:z,coordinate:G,theme:W,component:Y,interaction:U,x:X,y:$,z:Q,key:ft,frame:ot,labelTransform:J,parentKey:st,clip:gt,viewStyle:Mt,title:At}=e,St=fJ(e,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:X,y:$,z:Q,key:ft,width:r,height:i,depth:l,padding:m,paddingLeft:u,paddingRight:h,paddingTop:p,inset:x,insetLeft:w,insetTop:M,insetRight:O,insetBottom:A,paddingBottom:g,theme:W,coordinate:G,component:Y,interaction:U,frame:ot,labelTransform:J,margin:E,marginLeft:P,marginBottom:I,marginTop:F,marginRight:N,parentKey:st,clip:gt,style:Mt},!t&&{title:At}),{marks:[Object.assign(Object.assign(Object.assign({},St),{key:`${ft}-0`,data:z}),t&&{title:At})]})]};NG.props={};var GN=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const zG=()=>t=>{const{children:e}=t,r=GN(t,["children"]);if(!Array.isArray(e))return[];const{data:i,scale:l={},axis:u={},legend:h={},encode:p={},transform:g=[]}=r,m=GN(r,["data","scale","axis","legend","encode","transform"]),x=e.map(w=>{var{data:M,scale:O={},axis:A={},legend:E={},encode:P={},transform:I=[]}=w,F=GN(w,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:_B(M,i),scale:sn({},l,O),encode:sn({},p,P),transform:[...g,...I],axis:A&&u?sn({},u,A):!1,legend:E&&h?sn({},h,E):!1},F)});return[Object.assign(Object.assign({},m),{marks:x,type:"standardView"})]};zG.props={};function hJ(t,e,r,i){const l=e.length/2,u=e.slice(0,l),h=e.slice(l);let p=Dg(u,(O,A)=>Math.abs(O[1]-h[A][1]));p=Math.max(Math.min(p,l-2),1);const g=O=>[u[O][0],(u[O][1]+h[O][1])/2],m=g(p),x=g(p-1),w=g(p+1),M=Si(ui(w,x))/Math.PI*180;return{x:m[0],y:m[1],transform:`rotate(${M})`,textAlign:"center",textBaseline:"middle"}}function jG(t,e,r,i){const{bounds:l}=r,[[u,h],[p,g]]=l,m=p-u,x=g-h,w=M=>{const{x:O,y:A}=M,E=Wm(r.x,m),P=Wm(r.y,x);return Object.assign(Object.assign({},M),{x:(E||O)+u,y:(P||A)+h})};return w(t==="left"?{x:0,y:x/2,textAnchor:"start",textBaseline:"middle"}:t==="right"?{x:m,y:x/2,textAnchor:"end",textBaseline:"middle"}:t==="top"?{x:m/2,y:0,textAnchor:"center",textBaseline:"top"}:t==="bottom"?{x:m/2,y:x,textAnchor:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAnchor:"start",textBaseline:"top"}:t==="top-right"?{x:m,y:0,textAnchor:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:x,textAnchor:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:m,y:x,textAnchor:"end",textBaseline:"bottom"}:{x:m/2,y:x/2,textAnchor:"center",textBaseline:"middle"})}function GG(t,e,r,i){const{y:l,y1:u,autoRotate:h,rotateToAlignArc:p}=r,g=i.getCenter(),m=Sf(i,e,[l,u]),{innerRadius:x,outerRadius:w,startAngle:M,endAngle:O}=m,A=t==="inside"?(M+O)/2:O,E=WN(A,h,p),P=(()=>{const[I,F]=e,N=x+(w-x)*.5,[z,G]=t==="inside"?L2(g,A,N):SS(I,F);return{x:z,y:G}})();return Object.assign(Object.assign({},P),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:E})}function L2(t,e,r){return[t[0]+Math.sin(e)*r,t[1]-Math.cos(e)*r]}function WN(t,e,r){if(!e)return 0;const i=r?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+i}function dJ(t,e,r,i){const{y:l,y1:u,autoRotate:h,rotateToAlignArc:p,radius:g=.5,offset:m=0}=r,x=Sf(i,e,[l,u]),{startAngle:w,endAngle:M}=x,O=i.getCenter(),A=(w+M)/2,P={textAlign:"center",textBaseline:"middle",rotate:WN(A,h,p)},{innerRadius:I,outerRadius:F}=x,z=I+(F-I)*g+m,[G,W]=L2(O,A,z);return Object.assign({x:G,y:W},P)}function WG(t){return t===void 0?null:t}function VG(t,e,r,i){const{bounds:l}=r,[u]=l;return{x:WG(u[0]),y:WG(u[1])}}function Lu(t,e,r,i){const{bounds:l}=r;return l.length===1?VG(t,e,r,i):(id(i)?GG:ru(i)?dJ:jG)(t,e,r,i)}function pJ(t,e,r,i,l){const[u,h]=L2(t,e,r),[p,g]=L2(t,e,i),m=Math.sin(e)>0?1:-1;return[[u,h],[p,g],[p+m*l,g]]}function HG(t,e,r){const i=Sf(r,t,[e.y,e.y1]),{innerRadius:l,outerRadius:u}=i;return l+(u-l)}function YG(t,e,r){const i=Sf(r,t,[e.y,e.y1]),{startAngle:l,endAngle:u}=i;return(l+u)/2}function VN(t,e,r,i){const{autoRotate:l,rotateToAlignArc:u,offset:h=0,connector:p=!0,connectorLength:g=h,connectorLength2:m=0,connectorDistance:x=0}=r,w=i.getCenter(),M=YG(e,r,i),O=Math.sin(M)>0?1:-1,A=WN(M,l,u),E={textAlign:O>0||id(i)?"start":"end",textBaseline:"middle",rotate:A},P=HG(e,r,i),I=P+(p?g:h),[[F,N],[z,G],[W,Y]]=pJ(w,M,P,I,p?m:0),U=p?+x*O:0,X=W+U,$=Y,Q={connector:p,connectorPoints:[[z-X,G-$],[W-X,Y-$]]};return Object.assign(Object.assign({x0:F,y0:N,x:W+U,y:Y},E),Q)}function vJ(t,e,r,i){const{bounds:l}=r;return l.length===1?VG(t,e,r,i):(id(i)?GG:ru(i)?VN:jG)(t,e,r,i)}var gJ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function yJ(t,e,r,i){if(!ru(i))return{};const{connectorLength:l,connectorLength2:u,connectorDistance:h}=r,p=gJ(VN("outside",e,r,i),[]),g=i.getCenter(),m=HG(e,r,i),x=YG(e,r,i),w=m+l+u,M=Math.sin(x)>0?1:-1,O=g[0]+(w+ +h)*M,{x:A}=p,E=O-A;return p.x+=E,p.connectorPoints[0][0]-=E,p}var mJ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function xJ(t,e,r,i){if(!ru(i))return{};const{connectorLength:l,connectorLength2:u,connectorDistance:h}=r,p=mJ(VN("outside",e,r,i),[]),{x0:g,y0:m}=p,x=i.getCenter(),M=LL(i)+l,O=au([g-x[0],m-x[1]]),A=Math.sin(O)>0?1:-1,[E,P]=L2(x,O,M);return p.x=E+(u+h)*A,p.y=P,p}var UG=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function bJ(t,e){return t!==void 0?t:ru(e)?"inside":gi(e)?"right":"top"}function wJ(t,e,r,i,l){const{position:u}=e,{render:h}=l,p=bJ(u,r),m=i[h?"htmlLabel":p==="inside"?"innerLabel":"label"],x=Object.assign({},m,e),w=je[SB(p)];if(!w)throw new Error(`Unknown position: ${p}`);return Object.assign(Object.assign({},m),w(p,t,x,r,l))}const XG=(t,e)=>{const{coordinate:r,theme:i}=e,{render:l}=t;return(u,h)=>{const{text:p,x:g,y:m,transform:x="",transformOrigin:w,className:M=""}=h,O=UG(h,["text","x","y","transform","transformOrigin","className"]),A=wJ(u,h,r,i,t),{rotate:E=0,transform:P=""}=A,I=UG(A,["rotate","transform"]);return Jn(new lo).call(jn,I).style("text",`${p}`).style("className",`${M} g2-label`).style("innerHTML",l?l(p,h.datum,h.index):void 0).style("labelTransform",`${P} rotate(${+E}) ${x}`.trim()).style("labelTransformOrigin",w).style("coordCenter",r.getCenter()).call(jn,O).node()}};XG.props={defaultMarker:"point"};function MJ(){return{"component.axisRadar":FG,"component.axisLinear":Gs,"component.axisArc":NA,"component.legendContinuousBlock":DG,"component.legendContinuousBlockSize":BG,"component.legendContinuousSize":jN,"interaction.event":ZV,"composition.mark":NG,"composition.view":zG,"shape.label.label":XG}}var SJ=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Ai(t,e){const r=Object.assign(Object.assign({},MJ()),e),i=u=>{if(typeof u!="string")return u;const h=`${t}.${u}`;return r[h]||s0(`Unknown Component: ${h}`)};return[(u,h)=>{const{type:p}=u,g=SJ(u,["type"]);return i(p)(g,h)},i]}function ZG(t){const{canvas:e,group:r}=t;return r?r.ownerDocument:e.document}var qG=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function _J(t,e,r){const[i]=Ai("coordinate",r),{innerHeight:l,innerWidth:u,insetLeft:h,insetTop:p,insetRight:g,insetBottom:m}=t,{coordinates:x=[]}=e,w=kJ(x),M=w[0].type==="cartesian3D",O=Object.assign(Object.assign({},t),{x:h,y:p,width:u-h-g,height:l-m-p,transformations:w.flatMap(i)});return M?new RG.Coordinate3D(O):new RG.Coordinate(O)}function $G(t,e){const{coordinate:r={}}=t,i=qG(t,["coordinate"]),{type:l,transform:u=[]}=r,h=qG(r,["type","transform"]);if(!l)return Object.assign(Object.assign({},i),{coordinates:u});const[,p]=Ai("coordinate",e),{transform:g=!1}=p(l).props||{};if(g)throw new Error(`Unknown coordinate: ${l}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:l},h),...u]})}function xl(t,e){return t.filter(r=>r.type===e)}function Ap(t){return xl(t,"polar").length>0}function OJ(t){return xl(t,"helix").length>0}function Ug(t){return xl(t,"transpose").length%2===1}function CJ(t){return xl(t,"parallel").length>0}function KG(t){return xl(t,"theta").length>0}function AJ(t){return xl(t,"reflect").length>0}function I2(t){return xl(t,"radial").length>0}function TJ(t){return xl(t,"radar").length>0}function EJ(t){return xl(t,"reflectY").length>0}function kJ(t){return t.find(e=>e.type==="cartesian"||e.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function br(t){for(var e=t.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+t.slice(i*6,++i*6);return r}var PJ=br("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),LJ=br("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),IJ=br("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),RJ=br("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),FJ=br("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),DJ=br("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),BJ=br("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),NJ=br("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),zJ=br("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),jJ=br("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),GJ=kt(43867),di=t=>(0,GJ.hD)(t[t.length-1]),JG=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(br),WJ=di(JG),QG=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(br),VJ=di(QG),tW=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(br),HJ=di(tW),eW=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(br),YJ=di(eW),nW=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(br),UJ=di(nW),rW=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(br),XJ=di(rW),iW=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(br),ZJ=di(iW),aW=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(br),qJ=di(aW),oW=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(br),$J=di(oW),sW=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(br),KJ=di(sW),lW=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(br),JJ=di(lW),cW=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(br),QJ=di(cW),uW=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(br),tQ=di(uW),fW=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(br),eQ=di(fW),hW=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(br),nQ=di(hW),dW=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(br),rQ=di(dW),pW=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(br),iQ=di(pW),vW=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(br),aQ=di(vW),gW=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(br),oQ=di(gW),yW=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(br),sQ=di(yW),mW=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(br),lQ=di(mW),xW=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(br),cQ=di(xW),bW=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(br),uQ=di(bW),wW=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(br),fQ=di(wW),MW=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(br),hQ=di(MW),SW=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(br),dQ=di(SW),_W=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(br),pQ=di(_W);function vQ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var OW=kt(9546),Iu=kt(96683),gQ=Math.PI/180,yQ=180/Math.PI,CW=-.14861,HN=1.78277,YN=-.29227,lk=-.90649,R2=1.97294,AW=R2*lk,TW=R2*HN,EW=HN*YN-lk*CW;function mQ(t){if(t instanceof Tp)return new Tp(t.h,t.s,t.l,t.opacity);t instanceof Iu.Ss||(t=(0,Iu.SU)(t));var e=t.r/255,r=t.g/255,i=t.b/255,l=(EW*i+AW*e-TW*r)/(EW+AW-TW),u=i-l,h=(R2*(r-l)-YN*u)/lk,p=Math.sqrt(h*h+u*u)/(R2*l*(1-l)),g=p?Math.atan2(h,u)*yQ-120:NaN;return new Tp(g<0?g+360:g,p,l,t.opacity)}function Cc(t,e,r,i){return arguments.length===1?mQ(t):new Tp(t,e,r,i==null?1:i)}function Tp(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}(0,OW.Z)(Tp,Cc,(0,OW.l)(Iu.Il,{brighter:function(e){return e=e==null?Iu.J5:Math.pow(Iu.J5,e),new Tp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Iu.xV:Math.pow(Iu.xV,e),new Tp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*gQ,r=+this.l,i=isNaN(this.s)?0:this.s*r*(1-r),l=Math.cos(e),u=Math.sin(e);return new Iu.Ss(255*(r+i*(CW*l+HN*u)),255*(r+i*(YN*l+lk*u)),255*(r+i*(R2*l)),this.opacity)}}));var F2=kt(5312);function kW(t){return function e(r){r=+r;function i(l,u){var h=t((l=Cc(l)).h,(u=Cc(u)).h),p=(0,F2.ZP)(l.s,u.s),g=(0,F2.ZP)(l.l,u.l),m=(0,F2.ZP)(l.opacity,u.opacity);return function(x){return l.h=h(x),l.s=p(x),l.l=g(Math.pow(x,r)),l.opacity=m(x),l+""}}return i.gamma=e,i}(1)}var Gnt=kW(F2.wx),UN=kW(F2.ZP),xQ=UN(Cc(300,.5,0),Cc(-240,.5,1)),bQ=UN(Cc(-100,.75,.35),Cc(80,1.5,.8)),wQ=UN(Cc(260,.75,.35),Cc(80,1.5,.8)),ck=Cc();function MQ(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ck.h=360*t-100,ck.s=1.5-1.5*e,ck.l=.8-.9*e,ck+""}var uk=(0,Iu.B8)(),SQ=Math.PI/3,_Q=Math.PI*2/3;function OQ(t){var e;return t=(.5-t)*Math.PI,uk.r=255*(e=Math.sin(t))*e,uk.g=255*(e=Math.sin(t+SQ))*e,uk.b=255*(e=Math.sin(t+_Q))*e,uk+""}function CQ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function fk(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var AQ=fk(br("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),TQ=fk(br("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),EQ=fk(br("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kQ=fk(br("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function PQ(t,e,r,i,l,u){const{guide:h={}}=r,p=jQ(t,e,r);if(typeof p!="string")return r;const g=GQ(p,t,e,r),m=BQ(p,g,r);return Object.assign(Object.assign(Object.assign({},r),VQ(p,t,e,r,i)),{domain:m,range:WQ(p,t,e,r,m,l,u),expectedDomain:g,guide:h,name:t,type:p})}function LQ(t,e){const r={};for(const i of t){const{values:l,name:u}=i,h=e[u];for(const p of l){const{name:g,value:m}=p;r[g]=m.map(x=>h.map(x))}}return r}function IQ(t,e){var r;const{components:i=[]}=e,l=["scale","encode","axis","legend","data","transform"],u=Array.from(new Set(t.flatMap(p=>p.channels.map(g=>g.scale)))),h=new Map(u.map(p=>[p.name,p]));for(const p of i){const g=DQ(p);for(const m of g){const x=h.get(m),w=((r=p.scale)===null||r===void 0?void 0:r[m])||{},{independent:M=!1}=w;if(x&&!M){const{guide:O}=x,A=typeof O=="boolean"?{}:O;x.guide=sn({},A,p),Object.assign(x,w)}else{const O=Object.assign(Object.assign({},w),{expectedDomain:w.domain,name:m,guide:gA(p,l)});u.push(O)}}}return u}function RQ(t){if(!t||!Array.isArray(t))return[Xl,Xl];let e,r;return[u=>{var h;e=u.map.bind(u),r=(h=u.invert)===null||h===void 0?void 0:h.bind(u);const p=t.filter(([M])=>typeof M=="function"),g=t.filter(([M])=>typeof M!="function"),m=new Map(g);if(u.map=M=>{for(const[O,A]of p)if(O(M))return A;return m.has(M)?m.get(M):e(M)},!r)return u;const x=new Map(g.map(([M,O])=>[O,M])),w=new Map(p.map(([M,O])=>[O,M]));return u.invert=M=>w.has(M)?M:x.has(M)?x.get(M):r(M),u},u=>(e!==null&&(u.map=e),r!==null&&(u.invert=r),u)]}function PW(t,e){const r=Object.keys(t);for(const i of Object.values(e)){const{name:l,key:u}=i.getOptions();if(typeof u=="string")u in t||(t[u]=i);else if(!(l in t))t[l]=i;else{const h=r.filter(m=>m.startsWith(l)).map(m=>+(m.replace(l,"")||0)),p=zr(h)+1,g=`${l}${p}`;t[g]=i,i.getOptions().key=g}}return t}function LW(t,e){const[r]=Ai("scale",e),{relations:i}=t,[l]=RQ(i),u=r(t);return l(u)}function FQ(t){const e=t.flatMap(r=>Array.from(r.values())).flatMap(r=>r.channels.map(i=>i.scale));IW(e,"x"),IW(e,"y")}function DQ(t){const{channels:e=[],type:r,scale:i={}}=t,l=["shape","color","opacity","size"];return e.length!==0?e:r==="axisX"?["x"]:r==="axisY"?["y"]:r==="legends"?Object.keys(i).filter(u=>l.includes(u)):[]}function IW(t,e){const r=t.filter(({name:u,facet:h=!0})=>h&&u===e),i=r.flatMap(u=>u.domain),l=r.every(RW)?al(i):r.every(FW)?Array.from(new Set(i)):null;if(l!==null)for(const u of r)u.domain=l}function BQ(t,e,r){const{ratio:i}=r;return i==null?e:RW({type:t})?NQ(e,i,t):FW({type:t})?zQ(e,i):e}function NQ(t,e,r){const i=t.map(Number),l=new Oo({domain:i,range:[i[0],i[0]+(i[i.length-1]-i[0])*e]});return r==="time"?t.map(u=>new Date(l.map(u))):t.map(u=>l.map(u))}function zQ(t,e){const r=Math.round(t.length*e);return t.slice(0,r)}function RW(t){const{type:e}=t;return typeof e!="string"?!1:["linear","log","pow","time"].includes(e)}function FW(t){const{type:e}=t;return typeof e!="string"?!1:["band","point","ordinal"].includes(e)}function jQ(t,e,r){const{type:i,domain:l,range:u,quantitative:h,ordinal:p}=r;return i!==void 0?i:ttt(e)?"identity":typeof u=="string"?"linear":(l||u||[]).length>2?XN(t,p):l!==void 0?jW([l])?XN(t,p):GW(e)?"time":BW(t,u,h):jW(e)?XN(t,p):GW(e)?"time":BW(t,u,h)}function GQ(t,e,r,i){const{domain:l}=i;if(l!==void 0)return l;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return NW($Q(r,i),i);case"band":case"ordinal":case"point":return zW(r);case"quantile":return KQ(r);case"sequential":return NW(JQ(r),i);default:return[]}}function WQ(t,e,r,i,l,u,h){const{range:p}=i;if(typeof p=="string")return HQ(p);if(p!==void 0)return p;const{rangeMin:g,rangeMax:m}=i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const x=DW(r,i,l,u,h),[w,M]=QQ(e,x);return[g||w,m||M]}case"band":case"point":return[g||(e==="size"?5:0),m||(e==="size"?10:1)];case"ordinal":return DW(r,i,l,u,h);case"sequential":return;case"constant":return[r[0][0]];default:return[]}}function VQ(t,e,r,i,l){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return XQ(l,i);case"band":case"point":return ZQ(t,e,l,i);case"sequential":return UQ(i);default:return i}}function DW(t,e,r,i,l){const[u]=Ai("palette",l),{category10:h,category20:p}=i,g=QI(t.flat()).length<=h.length?h:p,{palette:m=g,offset:x}=e;if(Array.isArray(m))return m;try{return u({type:m})}catch(w){const M=YQ(m,r,x);if(M)return M;throw new Error(`Unknown Component: ${m} `)}}function HQ(t){return t.split("-")}function YQ(t,e,r=i=>i){if(!t)return null;const i=hc(t),l=Ee[`scheme${i}`],u=Ee[`interpolate${i}`];if(!l&&!u)return null;if(l){if(!l.some(Array.isArray))return l;const h=l[e.length];if(h)return h}return e.map((h,p)=>u(r(p/e.length)))}function UQ(t){const{palette:e="ylGnBu",offset:r}=t,i=hc(e),l=Ee[`interpolate${i}`];if(!l)throw new Error(`Unknown palette: ${i}`);return{interpolator:r?u=>l(r(u)):l}}function XQ(t,e){const{interpolate:r=Mf,nice:i=!1,tickCount:l=5}=e;return Object.assign(Object.assign({},e),{interpolate:r,nice:i,tickCount:l})}function ZQ(t,e,r,i){if(i.padding!==void 0||i.paddingInner!==void 0||i.paddingOuter!==void 0)return Object.assign(Object.assign({},i),{unknown:NaN});const l=qQ(t,e,r),{paddingInner:u=l,paddingOuter:h=l}=i;return Object.assign(Object.assign({},i),{paddingInner:u,paddingOuter:h,padding:l,unknown:NaN})}function qQ(t,e,r){return e==="enterDelay"||e==="enterDuration"||e==="size"?0:t==="band"?KG(r)?0:.1:t==="point"?.5:0}function XN(t,e){return e||(ett(t)?"point":"ordinal")}function BW(t,e,r){return r||(t!=="color"||e?"linear":"sequential")}function NW(t,e){if(t.length===0)return t;const{domainMin:r,domainMax:i}=e,[l,u]=t;return[r!=null?r:l,i!=null?i:u]}function $Q(t,e){const{zero:r=!1}=e;let i=1/0,l=-1/0;for(const u of t)for(const h of u)yi(h)&&(i=Math.min(i,+h),l=Math.max(l,+h));return i===1/0?[]:r?[Math.min(0,i),l]:[i,l]}function zW(t){return Array.from(new Set(t.flat()))}function KQ(t){return zW(t).sort()}function JQ(t){let e=1/0,r=-1/0;for(const i of t)for(const l of i)yi(l)&&(e=Math.min(e,+l),r=Math.max(r,+l));return e===1/0?[]:[e<0?-r:e,r]}function QQ(t,e){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[JI(e),d_(e)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function jW(t){return ZN(t,e=>{const r=typeof e;return r==="string"||r==="boolean"})}function GW(t){return ZN(t,e=>e instanceof Date)}function ttt(t){return ZN(t,mf)}function ZN(t,e){for(const r of t)if(r.some(e))return!0;return!1}function ett(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function ntt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function rtt(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:e,domain:r,range:i,interpolator:l}=t,u=r&&r.length>0,h=i&&i.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&u&&h||["sequential"].includes(e)&&u&&(h||l)||["constant","identity"].includes(e)&&h)}const itt={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},att={threshold:"threshold",quantize:"quantize",quantile:"quantile"},ott={ordinal:"ordinal",band:"band",point:"point"},stt={constant:"constant"};var uh=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function ltt(t,e,r){const{coordinates:i=[],title:l}=e,[,u]=Ai("component",r),h=t.filter(({guide:x})=>x!==null),p=[],g=mtt(e,t,r);if(p.push(...g),l){const{props:x}=u("title"),{defaultPosition:w,defaultOrientation:M,defaultOrder:O,defaultSize:A,defaultCrossPadding:E}=x,P=typeof l=="string"?{title:l}:l;p.push(Object.assign({type:"title",position:w,orientation:M,order:O,crossPadding:E[0],defaultSize:A},P))}return dtt(h,i).forEach(([x,w])=>{const{props:M}=u(x),{defaultPosition:O,defaultPlane:A="xy",defaultOrientation:E,defaultSize:P,defaultOrder:I,defaultLength:F,defaultPadding:N=[0,0],defaultCrossPadding:z=[0,0]}=M,G=sn({},...w),{guide:W,field:Y}=G,U=Array.isArray(W)?W:[W];for(const X of U){const[$,Q]=gtt(x,O,E,X,w,h,i);if(!$&&!Q)continue;const ft=$==="left"||$==="right",ot=ft?N[1]:N[0],J=ft?z[1]:z[0],{size:st,order:gt=I,length:Mt=F,padding:At=ot,crossPadding:St=J}=X;p.push(Object.assign(Object.assign({title:Y},X),{defaultSize:P,length:Mt,position:$,plane:A,orientation:Q,padding:At,order:gt,crossPadding:St,size:st,type:x,scales:w}))}}),p}function WW(t,e,r,i,l){const[u]=Ai("component",i),{scaleInstances:h,scale:p,bbox:g}=t,m=uh(t,["scaleInstances","scale","bbox"]),x={bbox:g,library:i};return u(m)({coordinate:e,library:i,markState:l,scales:h,theme:r,value:x,scale:p})}function ctt(t){return t.map(e=>{const r=sn(e,e.style);return delete r.style,r})}function Wnt(t){return t.flatMap(e=>e.type=="group"?e.children:e)}function VW(t,e){const r=["left","right","bottom","top"];return i0(t,({type:u,position:h,group:p})=>r.includes(h)?p===void 0?u.startsWith("legend")?`legend-${h}`:Symbol("independent"):p==="independent"?Symbol("independent"):p:Symbol("independent")).flatMap(([,u])=>{if(u.length===1)return u[0];if(e!==void 0){const x=u.filter(E=>E.length!==void 0).map(E=>E.length),w=Xs(x);if(w>e)return u.forEach(E=>E.group=Symbol("independent")),u;const M=e-w,O=u.length-x.length,A=M/O;u.forEach(E=>{E.length===void 0&&(E.length=A)})}const h=zr(u,x=>x.size),p=zr(u,x=>x.order),g=zr(u,x=>x.crossPadding),m=u[0].position;return{type:"group",size:h,order:p,position:m,children:u,crossPadding:g}})}function utt(t,e){const r=["shape","size","color","opacity"],i=(M,O)=>M==="constant"&&O==="size",l=t.filter(({type:M,name:O})=>typeof M=="string"&&r.includes(O)&&!i(M,O)),u=l.filter(({type:M})=>M==="constant"),h=l.filter(({type:M})=>M!=="constant"),g=i0(h,M=>M.field?M.field:Symbol("independent")).map(([M,O])=>[M,[...O,...u]]).filter(([,M])=>M.some(O=>O.type!=="constant")),m=new Map(g);if(m.size===0)return[];const x=M=>M.sort(([O],[A])=>O.localeCompare(A));return Array.from(m).map(([,M])=>{const A=tR(M).sort((E,P)=>P.length-E.length).map(E=>({combination:E,option:E.map(P=>[P.name,ftt(P)])}));for(const{option:E,combination:P}of A)if(!E.every(I=>I[1]==="constant")&&E.every(I=>I[1]==="discrete"||I[1]==="constant"))return["legendCategory",P];for(const[E,P]of sJ)for(const{option:I,combination:F}of A)if(P.some(N=>oJ(x(N),x(I))))return[E,F];return null}).filter(yi)}function ftt(t){const{type:e}=t;return typeof e!="string"?null:e in itt?"continuous":e in ott?"discrete":e in att?"distribution":e in stt?"constant":null}function htt(t,e){return t.map(r=>{const{name:i}=r;if(OJ(e)||KG(e)||Ug(e)&&(Ap(e)||I2(e)))return null;if(i.startsWith("x"))return Ap(e)?["axisArc",[r]]:I2(e)?["axisLinear",[r]]:[Ug(e)?"axisY":"axisX",[r]];if(i.startsWith("y"))return Ap(e)?["axisLinear",[r]]:I2(e)?["axisArc",[r]]:[Ug(e)?"axisX":"axisY",[r]];if(i.startsWith("z"))return["axisZ",[r]];if(i.startsWith("position")){if(TJ(e))return["axisRadar",[r]];if(!Ap(e))return["axisY",[r]]}return null}).filter(yi)}function dtt(t,e){const r=t.filter(i=>rtt(i));return[...utt(r,e),...htt(r,e)]}function qN(t){const e=xl(t,"polar");if(e.length){const i=e[e.length-1],{startAngle:l,endAngle:u}=iS(i);return[l,u]}const r=xl(t,"radial");if(r.length){const i=r[r.length-1],{startAngle:l,endAngle:u}=aS(i);return[l,u]}return[-Math.PI/2,Math.PI/2*3]}function ptt(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function vtt(t,e,r,i,l){const{name:u}=r[0];if(t==="axisRadar"){const h=i.filter(w=>w.name.startsWith("position")),p=ptt(u);if(u===h.slice(-1)[0].name||p===null)return[null,null];const[g,m]=qN(l);return["center",(m-g)/(h.length-1)*p+g]}if(t==="axisY"&&CJ(l))return Ug(l)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[h]=qN(l);return["center",h]}return t==="axisArc"?e[0]==="inner"?["inner",null]:["outer",null]:Ap(l)?["center",null]:I2(l)?["center",null]:t==="axisX"&&AJ(l)||t==="axisX"&&EJ(l)?["top",null]:e}function gtt(t,e,r,i,l,u,h){const[p]=qN(h),g=[i.position||e,p!=null?p:r];return typeof t=="string"&&t.startsWith("axis")?vtt(t,g,l,u,h):typeof t=="string"&&t.startsWith("legend")&&Ap(h)&&i.position==="center"?["center","vertical"]:g}function ytt(t,e,r=[]){return t==="x"?Ug(r)?`${e}Y`:`${e}X`:t==="y"?Ug(r)?`${e}X`:`${e}Y`:null}function mtt(t,e,r){const[,i]=Ai("component",r),{coordinates:l}=t;function u(h,p,g,m){const x=ytt(p,h,l);if(!m||!x)return;const{props:w}=i(x),{defaultPosition:M,defaultSize:O,defaultOrder:A,defaultCrossPadding:[E]}=w;return Object.assign(Object.assign({position:M,defaultSize:O,order:A,type:x,crossPadding:E},m),{scales:[g]})}return e.filter(h=>h.slider||h.scrollbar).flatMap(h=>{const{slider:p,scrollbar:g,name:m}=h;return[u("slider",m,h,p),u("scrollbar",m,h,g)]}).filter(h=>!!h)}function HW(t,e,r,i,l,u){const{type:h}=t;if(!["left","right","bottom","top"].includes(i)||typeof h!="string")return;const g=h;return(()=>g.startsWith("axis")?Stt:g.startsWith("group")?xtt:g.startsWith("legendContinuous")?_tt:g==="legendCategory"?Ott:g.startsWith("slider")?Mtt:g==="title"?wtt:g.startsWith("scrollbar")?btt:()=>{})()(t,e,r,i,l,u)}function xtt(t,e,r,i,l,u){const{children:h}=t,p=zr(h,m=>m.crossPadding);h.forEach(m=>m.crossPadding=p),h.forEach(m=>HW(m,e,r,i,l,u));const g=zr(h,m=>m.size);t.size=g,h.forEach(m=>m.size=g)}function btt(t,e,r,i,l,u){const{trackSize:h=6}=sn({},l.scrollbar,t);t.size=h}function wtt(t,e,r,i,l,u){const h=sn({},l.title,t),{title:p,subtitle:g,spacing:m=0}=h,x=uh(h,["title","subtitle","spacing"]);if(p){const w=kn(x,"title"),M=vk(p,w);t.size=M.height}if(g){const w=kn(x,"subtitle"),M=vk(g,w);t.size+=m+M.height}}function Mtt(t,e,r,i,l,u){const h=()=>{const{slider:x}=l;return sn({},x,t)},{trackSize:p,handleIconSize:g}=h(),m=Math.max(p,g*2.4);t.size=m}function Stt(t,e,r,i,l,u){t.transform=t.transform||[{type:"hide"}];const h=i==="left"||i==="right",p=YW(t,i,l),{tickLength:g=0,labelSpacing:m=0,titleSpacing:x=0}=p,w=uh(p,["tickLength","labelSpacing","titleSpacing"]),M=hk(t,u),O=dk(w,M),A=g+m;if(O&&O.length){const P=zr(O,F=>F.width),I=zr(O,F=>F.height);if(h)t.size=P+A;else{const{tickFilter:F,labelTransform:N}=t;Ttt(M,O,e,r,F)&&!N?(t.labelTransform="rotate(90)",t.size=P+A):t.size=I+A}}else t.size=g;const E=pk(w);E&&(h?t.size+=x+E.width:t.size+=x+E.height)}function _tt(t,e,r,i,l,u){const p=(()=>{const{legendContinuous:z}=l;return sn({},z,t)})(),{labelSpacing:g=0,titleSpacing:m=0}=p,x=uh(p,["labelSpacing","titleSpacing"]),w=i==="left"||i==="right",M=kn(x,"ribbon"),{size:O}=M,A=kn(x,"handleIcon"),{size:E}=A,P=Math.max(O,E*2.4);t.size=P;const I=hk(t,u),F=dk(x,I);if(F){const z=w?"width":"height",G=zr(F,W=>W[z]);t.size+=G+g}const N=pk(x);N&&(w?t.size=Math.max(t.size,N.width):t.size+=m+N.height)}function Ott(t,e,r,i,l,u){const p=(()=>{const{legendCategory:J}=l,{title:st}=t,[gt,Mt]=Array.isArray(st)?[st,void 0]:[void 0,st];return sn({title:gt},J,Object.assign(Object.assign({},t),{title:Mt}))})(),{itemSpacing:g,itemMarkerSize:m,titleSpacing:x,rowPadding:w,colPadding:M,maxCols:O=1/0,maxRows:A=1/0}=p,E=uh(p,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:P,length:I}=t,F=J=>Math.min(J,A),N=J=>Math.min(J,O),z=i==="left"||i==="right",G=I===void 0?e+(z?0:r[0]+r[1]):I,W=pk(E),Y=hk(t,u),U=dk(E,Y,"itemLabel"),X=Math.max(U[0].height,m)+w,$=(J,st=0)=>m+J+g[0]+st;z?(()=>{let J=-1/0,st=0,gt=1,Mt=0,At=-1/0,St=-1/0;const Ut=W?W.height:0,ce=G-Ut;for(const{width:be}of U){const Le=$(be);J=Math.max(J,Le),st+X>ce?(gt++,At=Math.max(At,Mt),St=Math.max(St,st),Mt=1,st=X):(st+=X,Mt++)}gt<=1&&(At=Mt,St=st),t.size=J*N(gt),t.length=St+Ut,sn(t,{cols:N(gt),gridRow:At})})():typeof P=="number"?(()=>{const J=Math.ceil(U.length/P),st=zr(U,gt=>$(gt.width))*P;t.size=X*F(J)-w,t.length=Math.min(st,G)})():(()=>{let J=1,st=0,gt=-1/0;for(const{width:Mt}of U){const At=$(Mt,M);st+At>G?(gt=Math.max(gt,st),st=At,J++):st+=At}J===1&&(gt=st),t.size=X*F(J)-w,t.length=gt})(),W&&(z?t.size=Math.max(t.size,W.width):t.size+=x+W.height)}function hk(t,e){const[r]=Ai("scale",e),{scales:i,tickCount:l,tickMethod:u}=t,h=i.find(p=>p.type!=="constant"&&p.type!=="identity");return l!==void 0&&(h.tickCount=l),u!==void 0&&(h.tickMethod=u),r(h)}function dk(t,e,r="label"){const{labelFormatter:i,tickFilter:l,label:u=!0}=t,h=uh(t,["labelFormatter","tickFilter","label"]);if(!u)return null;const p=Ctt(e,i,l),g=kn(h,r),m=p.map((M,O)=>Object.fromEntries(Object.entries(g).map(([A,E])=>[A,typeof E=="function"?E(M,O):E]))),x=p.map((M,O)=>{const A=m[O];return vk(M,A)});if(!m.some(M=>M.transform)){const M=p.map((O,A)=>A);t.indexBBox=new Map(M.map(O=>[O,[p[O],x[O]]]))}return x}function pk(t){const e=m=>m===!1||m===null,{title:r}=t,i=uh(t,["title"]);if(e(r)||r===void 0)return null;const l=kn(i,"title"),{direction:u,transform:h}=l,p=Array.isArray(r)?r.join(","):r;return typeof p!="string"?null:vk(p,Object.assign(Object.assign({},l),{transform:h||(u==="vertical"?"rotate(-90)":"")}))}function YW(t,e,r){const{title:i}=t,[l,u]=Array.isArray(i)?[i,void 0]:[void 0,i],{axis:h,[`axis${sd(e)}`]:p}=r;return sn({title:l},h,p,Object.assign(Object.assign({},t),{title:u}))}function UW(t,e){const r=t.getTicks?t.getTicks():t.getOptions().domain;return e?r.filter(e):r}function Ctt(t,e,r){const l=UW(t,r).map(h=>typeof h=="number"?ktt(h):h),u=e?typeof e=="string"?ko(e):e:t.getFormatter?t.getFormatter():h=>`${h}`;return l.map(u)}function Att(t,e){return t.getBandWidth?t.getBandWidth(e)/2:0}function Ttt(t,e,r,i,l){if(Xs(e,O=>O.width)>r)return!0;const h=t.clone();h.update({range:[0,r]});const p=UW(t,l),g=p.map(O=>h.map(O)+Att(h,O)),m=p.map((O,A)=>A),x=-i[0],w=r+i[1],M=(O,A)=>{const{width:E}=A;return[O-E/2,O+E/2]};for(let O=0;O<m.length;O++){const A=g[O],[E,P]=M(A,e[O]);if(E<x||P>w)return!0;const I=g[O+1];if(I){const[F]=M(I,e[O+1]);if(P>F)return!0}}return!1}function vk(t,e){const r=Ett(t),{filter:i}=e,l=uh(e,["filter"]);return r.attr(Object.assign(Object.assign({},l),{visibility:"none"})),r.getBBox()}function Ett(t){return t instanceof _a?t:new jl({style:{text:`${t}`}})}function ktt(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function Ptt(t){const e=t.find(({type:r})=>r==="axisZ");if(e){const r=t.find(({type:l})=>l==="axisX");r.plane="xy";const i=t.find(({type:l})=>l==="axisY");i.plane="xy",e.plane="yz",e.origin=[r.bbox.x,r.bbox.y,0],e.eulerAngles=[0,-90,0],e.bbox.x=r.bbox.x,e.bbox.y=r.bbox.y,t.push(Object.assign(Object.assign({},r),{plane:"xz",showLabel:!1,showTitle:!1,origin:[r.bbox.x,r.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},i),{plane:"yz",showLabel:!1,showTitle:!1,origin:[i.bbox.x+i.bbox.width,i.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},e),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]}))}}function Ltt(t,e,r,i){var l,u;const{width:h,height:p,depth:g,x:m=0,y:x=0,z:w=0,inset:M=(l=r.inset)!==null&&l!==void 0?l:0,insetLeft:O=M,insetTop:A=M,insetBottom:E=M,insetRight:P=M,margin:I=(u=r.margin)!==null&&u!==void 0?u:0,marginLeft:F=I,marginBottom:N=I,marginTop:z=I,marginRight:G=I,padding:W=r.padding,paddingBottom:Y=W,paddingLeft:U=W,paddingRight:X=W,paddingTop:$=W}=Rtt(t,e,r,i),Q=1/4,ft=(Tn,Vn,ur,Fn,Gn)=>{const{marks:lr}=e;if(lr.length===0)return[Fn,Gn];if(Tn-Fn-Gn-Tn*Q>0)return[Fn,Gn];const jr=Tn*(1-Q);return[Vn==="auto"?jr*Fn/(Fn+Gn):Fn,ur==="auto"?jr*Gn/(Fn+Gn):Gn]},ot=Tn=>Tn==="auto"?20:Tn!=null?Tn:20,J=ot($),st=ot(Y),gt=XW(t,p-J-st,[J+z,st+N],["left","right"],e,r,i),{paddingLeft:Mt,paddingRight:At}=gt,St=h-F-G,[Ut,ce]=ft(St,U,X,Mt,At),be=St-Ut-ce,Le=XW(t,be,[Ut+F,ce+G],["bottom","top"],e,r,i),{paddingTop:nn,paddingBottom:De}=Le,en=p-N-z,[cn,an]=ft(en,Y,$,De,nn),Rn=en-cn-an;return{width:h,height:p,depth:g,insetLeft:O,insetTop:A,insetBottom:E,insetRight:P,innerWidth:be,innerHeight:Rn,paddingLeft:Ut,paddingRight:ce,paddingTop:an,paddingBottom:cn,marginLeft:F,marginBottom:N,marginTop:z,marginRight:G,x:m,y:x,z:w}}function Itt(t){const{height:e,width:r,padding:i=0,paddingLeft:l=i,paddingRight:u=i,paddingTop:h=i,paddingBottom:p=i,margin:g=16,marginLeft:m=g,marginRight:x=g,marginTop:w=g,marginBottom:M=g,inset:O=0,insetLeft:A=O,insetRight:E=O,insetTop:P=O,insetBottom:I=O}=t,F=G=>G==="auto"?20:G,N=r-F(l)-F(u)-m-x-A-E,z=e-F(h)-F(p)-w-M-P-I;return{width:N,height:z}}function Rtt(t,e,r,i){const{coordinates:l}=e;if(!Ap(l)&&!I2(l))return e;const u=t.filter(I=>typeof I.type=="string"&&I.type.startsWith("axis"));if(u.length===0)return e;const h=u.map(I=>{const F=I.type==="axisArc"?"arc":"linear";return YW(I,F,r)}),p=zr(h,I=>{var F;return(F=I.labelSpacing)!==null&&F!==void 0?F:0}),g=u.flatMap((I,F)=>{const N=h[F],z=hk(I,i);return dk(N,z)}).filter(yi),m=zr(g,I=>I.height)+p,x=u.flatMap((I,F)=>{const N=h[F];return pk(N)}).filter(I=>I!==null),w=x.length===0?0:zr(x,I=>I.height),{inset:M=m,insetLeft:O=M,insetBottom:A=M,insetTop:E=M+w,insetRight:P=M}=e;return Object.assign(Object.assign({},e),{insetLeft:O,insetBottom:A,insetTop:E,insetRight:P})}function XW(t,e,r,i,l,u,h){const p=oi(t,A=>A.position),{padding:g=u.padding,paddingLeft:m=g,paddingRight:x=g,paddingBottom:w=g,paddingTop:M=g}=l,O={paddingBottom:w,paddingLeft:m,paddingTop:M,paddingRight:x};for(const A of i){const E=`padding${sd(SB(A))}`,P=`inset${sd(SB(A))}`,I=p.get(A)||[],F=O[E],N=X=>{X.size===void 0&&(X.size=X.defaultSize)},z=X=>{X.type==="group"?(X.children.forEach(N),X.size=zr(X.children,$=>$.size)):X.size=X.defaultSize},G=X=>{X.size||(F!=="auto"?z(X):(HW(X,e,r,A,u,h),N(X)))},W=A==="bottom"||A==="top",Y=Co(I,X=>X.order),U=I.filter(X=>X.type.startsWith("axis")&&X.order==Y);if(U.length&&(U[0].crossPadding=0),typeof F=="number")I.forEach(N);else if(I.length===0)O[E]=0;else{const X=W?e+r[0]+r[1]:e,$=VW(I,X);$.forEach(G);const Q=$.reduce((ft,{size:ot,crossPadding:J=12})=>ft+ot+J,0);O[E]=Q}}return O}function Ftt(t,e,r){const i=oi(t,W=>`${W.plane||"xy"}-${W.position}`),{paddingLeft:l,paddingRight:u,paddingTop:h,paddingBottom:p,marginLeft:g,marginTop:m,marginBottom:x,marginRight:w,innerHeight:M,innerWidth:O,insetBottom:A,insetLeft:E,insetRight:P,insetTop:I,height:F,width:N,depth:z}=r,G={xy:$N({width:N,height:F,paddingLeft:l,paddingRight:u,paddingTop:h,paddingBottom:p,marginLeft:g,marginTop:m,marginBottom:x,marginRight:w,innerHeight:M,innerWidth:O,insetBottom:A,insetLeft:E,insetRight:P,insetTop:I}),yz:$N({width:z,height:F,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:z,innerHeight:F,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:$N({width:N,height:z,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:N,innerHeight:z,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[W,Y]of i.entries()){const[U,X]=W.split("-"),$=G[U][X],[Q,ft]=p_(Y,ot=>typeof ot.type!="string"?!1:!!(X==="center"||ot.type.startsWith("axis")&&["inner","outer"].includes(X)));Q.length&&Dtt(Q,e,$,X),ft.length&&Ytt(Y,e,$)}}function $N({width:t,height:e,paddingLeft:r,paddingRight:i,paddingTop:l,paddingBottom:u,marginLeft:h,marginTop:p,marginBottom:g,marginRight:m,innerHeight:x,innerWidth:w,insetBottom:M,insetLeft:O,insetRight:A,insetTop:E}){const P=r+h,I=l+p,F=i+m,N=u+g,z=t-h-m,G=[P+O,I+E,w-O-A,x-E-M,"center",null,null];return{top:[P,0,w,I,"vertical",!0,Ci,h,z],right:[t-F,I,F,x,"horizontal",!1,Ci],bottom:[P,e-N,w,N,"vertical",!1,Ci,h,z],left:[0,I,P,x,"horizontal",!0,Ci],"top-left":[P,0,w,I,"vertical",!0,Ci],"top-right":[P,0,w,I,"vertical",!0,Ci],"bottom-left":[P,e-N,w,N,"vertical",!1,Ci],"bottom-right":[P,e-N,w,N,"vertical",!1,Ci],center:G,inner:G,outer:G}}function Dtt(t,e,r,i){const[l,u]=p_(t,h=>!!(typeof h.type=="string"&&h.type.startsWith("axis")));Btt(l,e,r,i),Utt(u,e,r)}function Btt(t,e,r,i){i==="center"?PL(e)?Htt(t,e,r,i):ai(e)?jtt(t,e,r):jo(e)&&Gtt(t,e,r,t[0].orientation):i==="inner"?Ntt(t,e,r):i==="outer"&&ztt(t,e,r)}function Ntt(t,e,r){const[i,l,,u]=r,[h,p]=e.getCenter(),[g]=Lm(e),m=u/2,x=g*m,w=h-x,M=p-x;for(let O=0;O<t.length;O++){const A=t[O];A.bbox={x:i+w,y:l+M,width:x*2,height:x*2}}}function ztt(t,e,r){const[i,l,u,h]=r;for(const p of t)p.bbox={x:i,y:l,width:u,height:h}}function jtt(t,e,r){const[i,l,u,h]=r;for(const p of t)p.bbox={x:i,y:l,width:u,height:h}}function Gtt(t,e,r,i){i==="horizontal"?Vtt(t,e,r):i==="vertical"&&Wtt(t,e,r)}function Wtt(t,e,r){const[i,l,,u]=r,h=new Array(t.length).fill(0),g=e.map(h).filter((m,x)=>x%2===0).map(m=>m+i);for(let m=0;m<t.length;m++){const x=t[m],w=g[m],M=g[m+1]-w;x.bbox={x:w,y:l,width:M,height:u}}}function Vtt(t,e,r){const[i,l,u]=r,h=new Array(t.length).fill(0),g=e.map(h).filter((m,x)=>x%2===1).map(m=>m+l);for(let m=0;m<t.length;m++){const x=t[m],w=g[m],M=g[m+1]-w;x.bbox={x:i,y:w,width:u,height:M}}}function Htt(t,e,r,i){const[l,u,h,p]=r;for(const g of t)g.bbox={x:l,y:u,width:h,height:p},g.radar={index:t.indexOf(g),count:t.length}}function Ytt(t,e,r){const[i,l,u,h,p,g,m,x,w]=r,[M,O,A,E,P,I,F,N]=p==="vertical"?["y",l,"x",i,"height",h,"width",u]:["x",i,"y",l,"width",u,"height",h];t.sort((X,$)=>m==null?void 0:m(X.order,$.order));const z=X=>X==="title"||X==="group"||X.startsWith("legend"),G=(X,$,Q)=>Q===void 0?$:z(X)?Q:$,W=(X,$,Q)=>Q===void 0?$:z(X)?Q:$,Y=g?O+I:O;for(let X=0,$=Y;X<t.length;X++){const Q=t[X],{crossPadding:ft=0,type:ot}=Q,{size:J}=Q;Q.bbox={[M]:g?$-J-ft:$+ft,[A]:W(ot,E,x),[P]:J,[F]:G(ot,N,w)},$+=(J+ft)*(g?-1:1)}const U=t.filter(X=>X.type==="group");for(const X of U){const{bbox:$,children:Q}=X,ft=$[F],ot=ft/Q.length,J=Q.reduce((St,Ut)=>{var ce;const be=(ce=Ut.layout)===null||ce===void 0?void 0:ce.justifyContent;return be||St},"flex-start"),st=Q.map((St,Ut)=>{const{length:ce=ot,padding:be=0}=St;return ce+(Ut===Q.length-1?0:be)}),gt=Xs(st),Mt=ft-gt,At=J==="flex-start"?0:J==="center"?Mt/2:Mt;for(let St=0,Ut=$[A]+At;St<Q.length;St++){const ce=Q[St],{padding:be=0}=ce,Le=St===Q.length-1?0:be;ce.bbox={[P]:$[P],[M]:$[M],[A]:Ut,[F]:st[St]-Le},sn(ce,{layout:{justifyContent:J}}),Ut+=st[St]}}}function Utt(t,e,r){if(t.length===0)return;const[i,l,u,h]=r,[p]=Lm(e),g=h/2*p/Math.sqrt(2),m=i+u/2,x=l+h/2;for(let w=0;w<t.length;w++){const M=t[w];M.bbox={x:m-g,y:x-g,width:g*2,height:g*2}}}var Xtt=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},Xg=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function Ztt(t,e,r){const{encode:i={},scale:l={},transform:u=[]}=e,h=Xg(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},h),{encode:i,scale:l,transform:u})]}function ZW(t,e,r){return Xtt(this,void 0,void 0,function*(){const{library:i}=r,{data:l}=e,[u]=Ai("data",i),h=set(l),{transform:p=[]}=h,x=[Xg(h,["transform"]),...p].map(u),w=yield zm(x)(l),M=l&&!Array.isArray(l)&&!Array.isArray(w)?{value:w}:w;return[Array.isArray(w)?Ya(w):[],Object.assign(Object.assign({},e),{data:M})]})}function qtt(t,e,r){const{encode:i}=e;if(!i)return[t,e];const l={};for(const[u,h]of Object.entries(i))if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=`${u}${p===0?"":p}`;l[g]=h[p]}else l[u]=h;return[t,Object.assign(Object.assign({},e),{encode:l})]}function $tt(t,e,r){const{encode:i,data:l}=e;if(!i)return[t,e];const u=Jl(i,h=>iet(h)?h:{type:aet(l,h),value:h});return[t,Object.assign(Object.assign({},e),{encode:u})]}function Ktt(t,e,r){const{encode:i}=e;if(!i)return[t,e];const l=Jl(i,(u,h)=>{const{type:p}=u;return p!=="constant"||ntt(h)?u:Object.assign(Object.assign({},u),{constant:!0})});return[t,Object.assign(Object.assign({},e),{encode:l})]}function Jtt(t,e,r){const{encode:i,data:l}=e;if(!i)return[t,e];const{library:u}=r,h=fet(u),p=Jl(i,g=>h(l,g));return[t,Object.assign(Object.assign({},e),{encode:p})]}function Qtt(t,e,r){const{tooltip:i={}}=e;return Ps(i)?[t,e]:Array.isArray(i)?[t,Object.assign(Object.assign({},e),{tooltip:{items:i}})]:mf(i)&&q7(i)?[t,Object.assign(Object.assign({},e),{tooltip:i})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[i]}})]}function tet(t,e,r){const{data:i,encode:l,tooltip:u={}}=e;if(Ps(u))return[t,e];const h=w=>{if(!w)return w;if(typeof w=="string")return t.map(M=>({name:w,value:i[M][w]}));if(mf(w)){const{field:M,channel:O,color:A,name:E=M,valueFormatter:P=W=>W}=w,I=typeof P=="string"?ko(P):P,F=O&&l[O],N=F&&l[O].field,z=E||N||O,G=[];for(const W of t){const Y=M?i[W][M]:F?l[O].value[W]:null;G[W]={name:z,color:A,value:I(Y)}}return G}if(typeof w=="function"){const M=[];for(const O of t){const A=w(i[O],O,i,l);mf(A)?M[O]=A:M[O]={value:A}}return M}return w},{title:p,items:g=[]}=u,m=Xg(u,["title","items"]),x=Object.assign({title:h(p),items:Array.isArray(g)?g.map(h):[]},m);return[t,Object.assign(Object.assign({},e),{tooltip:x})]}function eet(t,e,r){const{encode:i}=e,l=Xg(e,["encode"]);if(!i)return[t,e];const u=Object.entries(i),h=u.filter(([,g])=>{const{value:m}=g;return Array.isArray(m[0])}).flatMap(([g,m])=>{const x=[[g,new Array(t.length).fill(void 0)]],{value:w}=m,M=Xg(m,["value"]);for(let O=0;O<w.length;O++){const A=w[O];if(Array.isArray(A))for(let E=0;E<A.length;E++){const P=x[E]||[`${g}${E}`,new Array(t).fill(void 0)];P[1][O]=A[E],x[E]=P}}return x.map(([O,A])=>[O,Object.assign({type:"column",value:A},M)])}),p=Object.fromEntries([...u,...h]);return[t,Object.assign(Object.assign({},l),{encode:p})]}function net(t,e,r){const{axis:i={},legend:l={},slider:u={},scrollbar:h={}}=e,p=(m,x)=>{if(typeof m=="boolean")return m?{}:null;const w=m[x];return w===void 0||w?w:null},g=typeof i=="object"?Array.from(new Set(["x","y",...Object.keys(i)])):["x","y"];return sn(e,{scale:Object.assign(Object.assign({},Object.fromEntries(g.map(m=>{const x=p(h,m);return[m,Object.assign({guide:p(i,m),slider:p(u,m),scrollbar:x},x&&{ratio:x.ratio===void 0?.5:x.ratio})]}))),{color:{guide:p(l,"color")},size:{guide:p(l,"size")},shape:{guide:p(l,"shape")},opacity:{guide:p(l,"opacity")}})}),[t,e]}function ret(t,e,r){const{animate:i}=e;return i||i===void 0?[t,e]:(sn(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e])}function iet(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:e}=t;return yi(e)}function aet(t,e){return typeof e=="function"?"transform":typeof e=="string"&&oet(t,e)?"field":"constant"}function oet(t,e){return Array.isArray(t)?t.some(r=>r[e]!==void 0):!1}function set(t){if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,r=Xg(t,["type"]);return Object.assign(Object.assign({},r),{type:e})}var qW=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},cet=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function uet(t,e,r){return qW(this,void 0,void 0,function*(){const i={library:r},[l,u]=yield het(t,e,i),{encode:h,scale:p,data:g,tooltip:m}=u;if(Array.isArray(g)===!1)return null;const{channels:x}=e,w=a0(Object.entries(h).filter(([,O])=>yi(O)),O=>O.map(([A,E])=>Object.assign({name:A},E)),([O])=>{var A;const E=(A=/([^\d]+)\d*$/.exec(O))===null||A===void 0?void 0:A[1],P=x.find(I=>I.name===E);return P!=null&&P.independent?O:E}),M=x.filter(O=>{const{name:A,required:E}=O;if(w.find(([P])=>P===A))return!0;if(E)throw new Error(`Missing encoding for channel: ${A}.`);return!1}).flatMap(O=>{const{name:A,scale:E,scaleKey:P,range:I,quantitative:F,ordinal:N}=O;return w.filter(([G])=>G.startsWith(A)).map(([G,W],Y)=>{const U=W.some(Mt=>Mt.visual),X=W.some(Mt=>Mt.constant),$=p[G]||{},{independent:Q=!1,key:ft=P||G,type:ot=X?"constant":U?"identity":E}=$,J=cet($,["independent","key","type"]),st=ot==="constant",gt=st?void 0:I;return{name:G,values:W,scaleKey:Q||st?Symbol("independent"):ft,scale:Object.assign(Object.assign({type:ot,range:gt},J),{quantitative:F,ordinal:N})}})});return[u,Object.assign(Object.assign({},e),{index:l,channels:M,tooltip:m})]})}function fet(t){const[e]=Ai("encode",t);return(r,i)=>i===void 0||r===void 0?null:Object.assign(Object.assign({},i),{type:"column",value:e(i)(r),field:det(i)})}function het(t,e,r){return qW(this,void 0,void 0,function*(){const{library:i}=r,[l]=Ai("transform",i),{preInference:u=[],postInference:h=[]}=e,{transform:p=[]}=t,g=[Ztt,ZW,qtt,$tt,Ktt,Jtt,eet,ret,net,Qtt,...u.map(l),...p.map(l),...h.map(l),tet];let m=[],x=t;for(const w of g)[m,x]=yield w(m,x,r);return[m,x]})}function det(t){const{type:e,value:r}=t;return e==="field"&&typeof r=="string"?r:null}var Ru=function(t,e,r,i){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(w){h(w)}}function g(x){try{m(i.throw(x))}catch(w){h(w)}}function m(x){x.done?u(x.value):l(x.value).then(p,g)}m((i=i.apply(t,e||[])).next())})},fh=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};function KN(t,e,r,i){var l,u;return Ru(this,void 0,void 0,function*(){const[h]=Ai("composition",r),[p]=Ai("interaction",r),g=new Set(Object.keys(r).map(J=>{var st;return(st=/mark\.(.*)/.exec(J))===null||st===void 0?void 0:st[1]}).filter(yi)),m=new Set(Object.keys(r).map(J=>{var st;return(st=/component\.(.*)/.exec(J))===null||st===void 0?void 0:st[1]}).filter(yi)),x=J=>{const{type:st}=J;if(typeof st=="function"){const{props:gt={}}=st,{composite:Mt=!0}=gt;if(Mt)return"mark"}return typeof st!="string"?st:g.has(st)||m.has(st)?"mark":st},w=J=>x(J)==="mark",M=J=>x(J)==="standardView",O=J=>{const{type:st}=J;return typeof st!="string"?!1:!!m.has(st)},A=J=>{if(M(J))return[J];const st=x(J);return h({type:st,static:O(J)})(J)},E=[],P=new Map,I=new Map,F=[t],N=[];for(;F.length;){const J=F.shift();if(M(J)){const st=I.get(J),[gt,Mt]=st?QW(st,J,r):yield KW(J,r);P.set(gt,J),E.push(gt);const At=Mt.flatMap(A).map(St=>$G(St,r));if(F.push(...At),At.every(M)){const St=yield Promise.all(At.map(Ut=>JW(Ut,r)));FQ(St);for(let Ut=0;Ut<At.length;Ut++){const ce=At[Ut],be=St[Ut];I.set(ce,be)}}}else{const st=w(J)?J:yield rV(J,r),gt=A(st);Array.isArray(gt)?F.push(...gt):typeof gt=="function"&&N.push(gt())}}i.emitter.emit(ti.BEFORE_PAINT);const z=new Map,G=new Map,W=[];e.selectAll(Ac(q)).data(E,J=>J.key).join(J=>J.append("g").attr("className",q).attr("id",st=>st.key).call($W).each(function(st,gt,Mt){JN(st,Jn(Mt),W,r,i),z.set(st,Mt)}),J=>J.call($W).each(function(st,gt,Mt){JN(st,Jn(Mt),W,r,i),G.set(st,Mt)}),J=>J.each(function(st,gt,Mt){const At=Mt.nameInteraction.values();for(const St of At)St.destroy()}).remove());const Y=J=>Array.from(J.entries()).map(([st,gt])=>{const Mt=new Map,At=(ce,be=Le=>Le)=>Mt.set(ce,be),St=pet(Jn(gt),r,i),Ut=P.get(st);return{view:st,container:gt,options:Ut,setState:At,update:()=>Ru(this,void 0,void 0,function*(){const be=Nm(Array.from(Mt.values()))(Ut);return yield St(be)})}}),U=Y(z);for(const J of U){const{options:st}=J,gt=new Map;J.container.nameInteraction=gt;for(const Mt of t6(st)){const[At,St]=Mt;if(St){const ce=p(Object.assign({type:At},St))(J,U,i.emitter);gt.set(At,{destroy:ce})}}}const X=Y(G);for(const J of X){const{options:st,container:gt}=J,Mt=gt.nameInteraction;for(const At of t6(st)){const[St,Ut]=At,ce=Mt.get(St);if(ce&&((l=ce.destroy)===null||l===void 0||l.call(ce)),Ut){const Le=p(Object.assign({type:St},Ut))(J,X,i.emitter);Mt.set(St,{destroy:Le})}}}const{width:$,height:Q}=t,ft=[];for(const J of N){const st=new Promise(gt=>Ru(this,void 0,void 0,function*(){for(const Mt of J){const At=Object.assign({width:$,height:Q},Mt);yield KN(At,e,r,i)}gt()}));ft.push(st)}i.views=E,(u=i.animations)===null||u===void 0||u.forEach(J=>J==null?void 0:J.cancel()),i.animations=W,i.emitter.emit(ti.AFTER_PAINT);const ot=W.filter(yi).map(ket).map(J=>J.finished);return Promise.all([...ot,...ft])})}function $W(t){t.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function pet(t,e,r){return i=>Ru(this,void 0,void 0,function*(){const l=[],[u,h]=yield KW(i,e);JN(u,t,l,e,r),vet(t,i,u,e,r);for(const p of h)KN(p,t,e,r);return{options:i,view:u}})}function vet(t,e,r,i,l){var u;const[h]=Ai("interaction",i),g=t.node().nameInteraction,m=t6(e).find(([O])=>O==="tooltip"),x=g.get("tooltip");if(!x||((u=x.destroy)===null||u===void 0||u.call(x),!m[1]))return;const w=h(Object.assign({type:"tooltip"},m[1])),M={options:e,view:r,container:t.node(),update:O=>Promise.resolve(O)};w(M,[],l.emitter)}function KW(t,e){return Ru(this,void 0,void 0,function*(){const r=yield yet(t,e),i=get(r);t.interaction=i.interaction,t.coordinate=i.coordinate;const l=$G(i,e),u=yield JW(l,e);return QW(u,l,e)})}function get(t){const{coordinate:e={},interaction:r={},style:i={},marks:l}=t,u=fh(t,["coordinate","interaction","style","marks"]),h=l.map(M=>M.coordinate||{}),p=l.map(M=>M.interaction||{}),g=l.map(M=>M.viewStyle||{}),m=[...h,e].reduceRight((M,O)=>sn(M,O),{}),x=[r,...p].reduce((M,O)=>sn(M,O),{}),w=[...g,i].reduce((M,O)=>sn(M,O),{});return Object.assign(Object.assign({},u),{marks:l,coordinate:m,interaction:x,style:w})}function yet(t,e){return Ru(this,void 0,void 0,function*(){const[r,i]=Ai("mark",e),l=new Set(Object.keys(e).map(M=>{var O;return(O=/component\.(.*)/.exec(M))===null||O===void 0?void 0:O[1]}).filter(yi)),{marks:u}=t,h=[],p=[],g=[...u],{width:m,height:x}=Itt(t),w={options:t,width:m,height:x};for(;g.length;){const[M]=g.splice(0,1),O=yield rV(M,e),{type:A=s0("G2Mark type is required."),key:E}=O;if(l.has(A))p.push(O);else{const{props:P={}}=i(A),{composite:I=!0}=P;if(!I)h.push(O);else{const{data:F}=O,N=Object.assign(Object.assign({},O),{data:F&&(Array.isArray(F)?F:F.value)}),z=yield r(N,w),G=Array.isArray(z)?z:[z];g.unshift(...G.map((W,Y)=>Object.assign(Object.assign({},W),{key:`${E}-${Y}`})))}}}return Object.assign(Object.assign({},t),{marks:h,components:p})})}function JW(t,e){return Ru(this,void 0,void 0,function*(){const[r]=Ai("theme",e),[,i]=Ai("mark",e),{theme:l,marks:u,coordinates:h=[]}=t,p=r(nV(l)),g=new Map;for(const x of u){const{type:w}=x,{props:M={}}=i(w),O=yield uet(x,M,e);if(O){const[A,E]=O;g.set(A,E)}}const m=oi(Array.from(g.values()).flatMap(x=>x.channels),({scaleKey:x})=>x);for(const x of m.values()){const w=x.reduce((N,{scale:z})=>sn(N,z),{}),{scaleKey:M}=x[0],{values:O}=x[0],A=Array.from(new Set(O.map(N=>N.field).filter(yi))),E=sn({guide:{title:A.length===0?void 0:A},field:A[0]},w),{name:P}=x[0],I=x.flatMap(({values:N})=>N.map(z=>z.value)),F=Object.assign(Object.assign({},PQ(P,I,E,h,p,e)),{key:M});x.forEach(N=>N.scale=F)}return g})}function QW(t,e,r){const[i]=Ai("mark",r),[l]=Ai("theme",r),[u]=Ai("labelTransform",r),{key:h,frame:p=!1,theme:g,clip:m,style:x={},labelTransform:w=[]}=e,M=l(nV(g)),O=Array.from(t.values()),A=IQ(O,e),E=ctt(ltt(Ret(Array.from(A),O,t),e,r)),P=Ltt(E,e,M,r),I=_J(P,e,r),F=p?sn({mainLineWidth:1,mainStroke:"#000"},x):x;Ftt(VW(E),I,P),Ptt(E);const N={};for(const W of E){const{scales:Y=[]}=W,U=[];for(const X of Y){const{name:$}=X,Q=LW(X,r);U.push(Q),PW(N,{[$]:Q})}W.scaleInstances=U}const z=[];for(const[W,Y]of t.entries()){const{children:U,dataDomain:X,modifier:$,key:Q}=W,{index:ft,channels:ot,tooltip:J}=Y,st=Object.fromEntries(ot.map(({name:an,scale:Rn})=>[an,Rn])),gt=Jl(st,an=>LW(an,r));PW(N,gt);const Mt=LQ(ot,gt),At=i(W),[St,Ut,ce]=bet(At(ft,gt,Mt,I)),be=X||St.length,Le=$?$(Ut,be,P):[],nn=an=>{var Rn,Tn;return(Tn=(Rn=J.title)===null||Rn===void 0?void 0:Rn[an])===null||Tn===void 0?void 0:Tn.value},De=an=>J.items.map(Rn=>Rn[an]),en=St.map((an,Rn)=>{const Tn=Object.assign({points:Ut[Rn],transform:Le[Rn],index:an,markKey:Q,viewKey:h},J&&{title:nn(an),items:De(an)});for(const[Vn,ur]of Object.entries(Mt))Tn[Vn]=ur[an],ce&&(Tn[`series${hc(Vn)}`]=ce[Rn].map(Fn=>ur[Fn]));return ce&&(Tn.seriesIndex=ce[Rn]),ce&&J&&(Tn.seriesItems=ce[Rn].map(Vn=>De(Vn)),Tn.seriesTitle=ce[Rn].map(Vn=>nn(Vn))),Tn});Y.data=en,Y.index=St;const cn=U==null?void 0:U(en,gt,P);z.push(...cn||[])}return[{layout:P,theme:M,coordinate:I,markState:t,key:h,clip:m,scale:N,style:F,components:E,labelTransform:Nm(w.map(u))},z]}function JN(t,e,r,i,l){return Ru(this,void 0,void 0,function*(){const{components:u,theme:h,layout:p,markState:g,coordinate:m,key:x,style:w,clip:M,scale:O}=t,{x:A,y:E,width:P,height:I}=p,F=fh(p,["x","y","width","height"]),N=["view","plot","main","content"],z=N.map((At,St)=>St),G=["a","margin","padding","inset"],W=N.map(At=>wS(Object.assign({},h.view,w),At)),Y=G.map(At=>kn(F,At)),U=At=>At.style("x",St=>ot[St].x).style("y",St=>ot[St].y).style("width",St=>ot[St].width).style("height",St=>ot[St].height).each(function(St,Ut,ce){Fet(Jn(ce),W[St])});let X=0,$=0,Q=P,ft=I;const ot=z.map(At=>{const St=Y[At],{left:Ut=0,top:ce=0,bottom:be=0,right:Le=0}=St;return X+=Ut,$+=ce,Q-=Ut+Le,ft-=ce+be,{x:X,y:$,width:Q,height:ft}});e.selectAll(Ac(Jt)).data(z.filter(At=>yi(W[At])),At=>N[At]).join(At=>At.append("rect").attr("className",Jt).style("zIndex",-2).call(U),At=>At.call(U),At=>At.remove());const J=Oet(g),st=J?{duration:J[1]}:!1;for(const[,At]of i0(u,St=>`${St.type}-${St.position}`))At.forEach((St,Ut)=>St.index=Ut);const gt=e.selectAll(Ac(Ct)).data(u,At=>`${At.type}-${At.position}-${At.index}`).join(At=>At.append("g").style("zIndex",({zIndex:St})=>St||-1).attr("className",Ct).append(St=>WW(sn({animate:st,scale:O},St),m,h,i,g)),At=>At.transition(function(St,Ut,ce){const{preserve:be=!1}=St;if(be)return;const Le=WW(sn({animate:st,scale:O},St),m,h,i,g),{attributes:nn}=Le,[De]=ce.childNodes;return De.update(nn)})).transitions();r.push(...gt.flat().filter(yi));const Mt=e.selectAll(Ac(K)).data([p],()=>x).join(At=>At.append("rect").style("zIndex",0).style("fill","transparent").attr("className",K).call(iV).call(oV,Array.from(g.keys())).call(sV,M),At=>At.call(oV,Array.from(g.keys())).call(St=>J?Iet(St,J):iV(St)).call(sV,M)).transitions();r.push(...Mt.flat());for(const[At,St]of g.entries()){const{data:Ut}=St,{key:ce,class:be,type:Le}=At,nn=e.select(`#${ce}`),De=Tet(At,St,t,i,l),en=Eet(At,St,t,i),cn=Pet(At,St,t,i),an=Let(At,St,t,i),Rn=Cet(e,nn,be,"element"),Tn=nn.selectAll(Ac(Z)).selectFacetAll(Rn).data(Ut,Vn=>Vn.key,Vn=>Vn.groupKey).join(Vn=>Vn.append(De).attr("className",Z).attr("markType",Le).transition(function(ur,Fn,Gn){return en(ur,[Gn])}),Vn=>Vn.call(ur=>{const Fn=ur.parent(),Gn=DL(lr=>{const[dr,Yr]=lr.getBounds().min;return[dr,Yr]});ur.transition(function(lr,dr,Yr){Aet(Yr,Fn,Gn);const jr=De(lr,dr),$i=cn(lr,[Yr],[jr]);return $i!==null||(Yr.nodeName===jr.nodeName?jm(Yr,jr):(Yr.parentNode.replaceChild(jr,Yr),jr.className=Z,jr.markType=Le)),$i}).attr("markType",Le).attr("className",Z)}),Vn=>Vn.each(function(ur,Fn,Gn){Gn.__removed__=!0}).transition(function(ur,Fn,Gn){return an(ur,[Gn])}).remove(),Vn=>Vn.append(De).attr("className",Z).attr("markType",Le).transition(function(ur,Fn,Gn){const{__fromElements__:lr}=Gn,dr=cn(ur,lr,[Gn]);return new Ii(lr,null,Gn.parentNode).transition(dr).remove(),dr}),Vn=>Vn.transition(function(ur,Fn,Gn){const dr=new Ii([],Gn.__toData__,Gn.parentNode).append(De).attr("className",Z).attr("markType",Le).nodes();return cn(ur,[Gn],dr)}).remove()).transitions();r.push(...Tn.flat())}met(t,e,r,i,l)})}function met(t,e,r,i,l){const[u]=Ai("labelTransform",i),{markState:h,labelTransform:p}=t,g=e.select(Ac(H)).node(),m=new Map,x=new Map,w=Array.from(h.entries()).flatMap(([E,P])=>{const{labels:I=[],key:F}=E,N=_et(E,P,t,i,l),z=e.select(`#${F}`).selectAll(Ac(Z)).nodes().filter(G=>!G.__removed__);return I.flatMap((G,W)=>{const{transform:Y=[]}=G,U=fh(G,["transform"]);return z.flatMap(X=>{const $=xet(U,W,X);return $.forEach(Q=>{m.set(Q,N),x.set(Q,G)}),$})})}),M=Jn(g).selectAll(Ac(Ft)).data(w,E=>E.key).join(E=>E.append(P=>m.get(P)(P)).attr("className",Ft),E=>E.each(function(P,I,F){const z=m.get(P)(P);jm(F,z)}),E=>E.remove()).nodes(),O=oi(M,E=>x.get(E.__data__)),{coordinate:A}=t;for(const[E,P]of O){const{transform:I=[]}=E;Nm(I.map(u))(P,A)}p&&p(M,A)}function xet(t,e,r){const{seriesIndex:i,seriesKey:l,points:u,key:h,index:p}=r.__data__,g=Met(r);if(!i)return[Object.assign(Object.assign({},t),{key:`${h}-${e}`,bounds:g,index:p,points:u,dependentElement:r})];const m=wet(t),x=i.map((w,M)=>Object.assign(Object.assign({},t),{key:`${l[M]}-${e}`,bounds:[u[M]],index:w,points:u,dependentElement:r}));return m?m(x):x}function bet([t,e,r]){if(r)return[t,e,r];const i=[],l=[];for(let u=0;u<t.length;u++){const h=t[u],p=e[u];p.every(([g,m])=>yi(g)&&yi(m))&&(i.push(h),l.push(p))}return[i,l]}function wet(t){const{selector:e}=t;if(!e)return null;if(typeof e=="function")return e;if(e==="first")return r=>[r[0]];if(e==="last")return r=>[r[r.length-1]];throw new Error(`Unknown selector: ${e}`)}function Met(t){const e=t.cloneNode(),r=t.getAnimations();e.style.visibility="hidden",r.forEach(h=>{const p=h.effect.getKeyframes();e.attr(p[p.length-1])}),t.parentNode.appendChild(e);const i=e.getLocalBounds();e.destroy();const{min:l,max:u}=i;return[l,u]}function _et(t,e,r,i,l){const[u]=Ai("shape",i),{data:h}=t,{data:p,defaultLabelShape:g}=e,m=p.map(O=>O.points),{theme:x,coordinate:w}=r,M=Object.assign(Object.assign({},l),{document:ZG(l),theme:x,coordinate:w});return O=>{const{index:A,points:E}=O,P=h[A],{formatter:I=st=>`${st}`,transform:F,style:N,render:z}=O,G=fh(O,["formatter","transform","style","render"]),W=Jl(Object.assign(Object.assign({},G),N),st=>tV(st,P,A,h)),{shape:Y=g,text:U}=W,X=fh(W,["shape","text"]),$=typeof I=="string"?ko(I):I,Q=Object.assign(Object.assign({},X),{text:$(U,P,A,h),datum:P}),ft=Object.assign({type:`label.${Y}`,render:z},X),ot=u(ft,M),J=eV(x,"label",Y,"label");return ot(E,Q,J,m)}}function tV(t,e,r,i){return typeof t=="function"?t(e,r,i):typeof t!="string"?t:e[t]!==void 0?e[t]:t}function Oet(t){let e=-1/0,r=1/0;for(const[i,l]of t){const{animate:u={}}=i,{data:h}=l,{enter:p={},update:g={},exit:m={}}=u,{type:x,duration:w=300,delay:M=0}=g,{type:O,duration:A=300,delay:E=0}=p,{type:P,duration:I=300,delay:F=0}=m;for(const N of h){const{updateType:z=x,updateDuration:G=w,updateDelay:W=M,enterType:Y=O,enterDuration:U=A,enterDelay:X=E,exitDuration:$=I,exitDelay:Q=F,exitType:ft=P}=N;(z===void 0||z)&&(e=Math.max(e,G+W),r=Math.min(r,W)),(ft===void 0||ft)&&(e=Math.max(e,$+Q),r=Math.min(r,Q)),(Y===void 0||Y)&&(e=Math.max(e,U+X),r=Math.min(r,X))}}return e===-1/0?null:[r,e-r]}function Cet(t,e,r,i){return t.node().parentElement.findAll(u=>u.style.facet!==void 0&&u.style.facet===r&&u!==e.node()).flatMap(u=>u.getElementsByClassName(i))}function Aet(t,e,r){if(!t.__facet__)return;const i=t.parentNode.parentNode,l=e.parentNode,[u,h]=r(i),[p,g]=r(l),m=`translate(${u-p}, ${h-g})`;BL(t,m),e.append(t)}function Tet(t,e,r,i,l){const[u]=Ai("shape",i),{data:h}=t,{defaultShape:p,data:g,shape:m}=e,x=g.map(P=>P.points),{theme:w,coordinate:M}=r,{type:O,style:A={}}=t,E=Object.assign(Object.assign({},l),{document:ZG(l),coordinate:M,theme:w});return P=>{const{shape:I=p}=A,{shape:F=I,points:N,seriesIndex:z,index:G}=P,W=fh(P,["shape","points","seriesIndex","index"]),Y=Object.assign(Object.assign({},W),{index:G}),U=z?z.map(ot=>h[ot]):h[G],X=z||G,$=Jl(A,ot=>tV(ot,U,X,h)),Q=m[F]?m[F]($,E):u(Object.assign(Object.assign({},$),{type:aV(t,F)}),E),ft=eV(w,O,F,p);return Q(N,Y,ft,x)}}function eV(t,e,r,i){if(typeof e!="string")return;const{color:l}=t,u=t[e]||{},h=u[r]||u[i];return Object.assign({color:l},h)}function QN(t,e,r,i,l){var u,h;const[,p]=Ai("shape",l),[g]=Ai("animation",l),{defaultShape:m,shape:x}=r,{theme:w,coordinate:M}=i,A=`default${hc(t)}Animation`,{[A]:E}=((u=x[m])===null||u===void 0?void 0:u.props)||p(aV(e,m)).props,{[t]:P={}}=w,I=((h=e.animate)===null||h===void 0?void 0:h[t])||{},F={coordinate:M};return(N,z,G)=>{const{[`${t}Type`]:W,[`${t}Delay`]:Y,[`${t}Duration`]:U,[`${t}Easing`]:X}=N,$=Object.assign({type:W||E},I);if(!$.type)return null;const ot=g($,F)(z,G,sn(P,{delay:Y,duration:U,easing:X}));return Array.isArray(ot)?ot:[ot]}}function Eet(t,e,r,i){return QN("enter",t,e,r,i)}function ket(t){return t.finished.then(()=>{t.cancel()}),t}function Pet(t,e,r,i){return QN("update",t,e,r,i)}function Let(t,e,r,i){return QN("exit",t,e,r,i)}function nV(t={}){if(typeof t=="string")return{type:t};const{type:e="light"}=t,r=fh(t,["type"]);return Object.assign(Object.assign({},r),{type:e})}function t6(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:r={}}=t;return Object.entries(sn(e,r))}function rV(t,e){return Ru(this,void 0,void 0,function*(){const r={library:e},{data:i}=t,l=fh(t,["data"]);if(i==null)return t;const[,{data:u}]=yield ZW([],{data:i},r);return Object.assign({data:u},l)})}function iV(t){t.style("x",e=>e.paddingLeft+e.marginLeft).style("y",e=>e.paddingTop+e.marginTop).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function Iet(t,e){const[r,i]=e;t.transition(function(l,u,h){const{x:p,y:g,width:m,height:x}=h.style,{paddingLeft:w,paddingTop:M,innerWidth:O,innerHeight:A,marginLeft:E,marginTop:P}=l,I=[{x:p,y:g,width:m,height:x},{x:w+E,y:M+P,width:O,height:A}];return h.animate(I,{delay:r,duration:i,fill:"both"})})}function aV(t,e){const{type:r}=t;return typeof e=="string"?`${r}.${e}`:e}function oV(t,e){const r=u=>u.class!==void 0?`${u.class}`:"";t.nodes().length===0||(t.selectAll(Ac(j)).data(e,u=>u.key).join(u=>u.append("g").attr("className",j).attr("id",h=>h.key).style("facet",r).style("fill","transparent").style("zIndex",h=>{var p;return(p=h.zIndex)!==null&&p!==void 0?p:0}),u=>u.style("facet",r).style("fill","transparent").style("zIndex",h=>{var p;return(p=h.zIndex)!==null&&p!==void 0?p:0}),u=>u.remove()),t.select(Ac(H)).node())||t.append("g").attr("className",H).style("zIndex",0)}function Ac(...t){return t.map(e=>`.${e}`).join("")}function sV(t,e){t.node()&&t.style("clipPath",r=>{if(!e)return null;const{paddingTop:i,paddingLeft:l,marginLeft:u,marginTop:h,innerWidth:p,innerHeight:g}=r;return new qc({style:{x:l+u,y:i+h,width:p,height:g}})})}function Ret(t,e,r){var i;for(const[m]of r.entries())if(m.type==="cell")return t.filter(x=>x.name!=="shape");if(e.length!==1||t.some(m=>m.name==="shape"))return t;const{defaultShape:l}=e[0];if(!["point","line","rect","hollow"].includes(l))return t;const h={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},g={field:((i=t.find(m=>m.name==="color"))===null||i===void 0?void 0:i.field)||null,name:"shape",type:"constant",domain:[],range:[h[l]]};return[...t,g]}function Fet(t,e){for(const[r,i]of Object.entries(e))t.style(r,i)}function lV(t){const e=sn({},t),r=new Map([[e,null]]),i=new Map([[null,-1]]),l=[e];for(;l.length;){const u=l.shift();if(u.key===void 0){const p=r.get(u),g=i.get(u),m=p===null?"0":`${p.key}-${g}`;u.key=m}const{children:h=[]}=u;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=sn({},h[p]);h[p]=g,r.set(g,u),i.set(g,p),l.push(g)}}return e}function Det(t,e){const r=new kG;return r.registerPlugin(new PG),new Oa({width:t,height:e,container:document.createElement("div"),renderer:r})}function Bet(t,e={},r=()=>{},i=l=>{throw l}){const{width:l=640,height:u=480,depth:h=0}=t,p=lV(t),{canvas:g=Det(l,u),emitter:m=new LG.Z,library:x}=e;e.canvas=g,e.emitter=m;const{width:w,height:M}=g.getConfig();(w!==l||M!==u)&&g.resize(l,u),m.emit(ti.BEFORE_RENDER);const O=Jn(g.document.documentElement);return g.ready.then(()=>KN(Object.assign(Object.assign({},p),{width:l,height:u,depth:h}),O,x,e)).then(()=>{if(h){const[A,E]=g.document.documentElement.getPosition();g.document.documentElement.setPosition(A,E,-h/2)}g.requestAnimationFrame(()=>{m.emit(ti.AFTER_RENDER),r==null||r()})}).catch(A=>{i==null||i(A)}),zet(g.getConfig().container)}function Vnt(t,e={},r=()=>{},i=l=>{throw l}){const{width:l=640,height:u=480}=t,h=lV(t),{group:p=new Group,emitter:g=new EventEmitter,library:m}=e;p!=null&&p.parentElement||error("renderToMountedElement can't render chart to unmounted group.");const x=select(p);return e.group=p,e.emitter=g,g.emit(ChartEvent.BEFORE_RENDER),plot(Object.assign(Object.assign({},h),{width:l,height:u}),x,m,e).then(()=>{p.ownerDocument.defaultView.requestAnimationFrame(()=>{g.emit(ChartEvent.AFTER_RENDER),r==null||r()})}).catch(w=>{i==null||i(w)}),p}function cV(t,e={},r=!1){const{canvas:i,emitter:l}=e;i&&(Net(i),r?i.destroy():i.destroyChildren()),l.off()}function Net(t){const e=t.getRoot().querySelectorAll(`.${q}`);e==null||e.forEach(r=>{const{nameInteraction:i=new Map}=r;(i==null?void 0:i.size)>0&&Array.from(i==null?void 0:i.values()).forEach(l=>{l==null||l.destroy()})})}function zet(t){return typeof t=="string"?document.getElementById(t):t}const Zg=t=>t?parseInt(t):0;function jet(t){const e=getComputedStyle(t),r=t.clientWidth||Zg(e.width),i=t.clientHeight||Zg(e.height),l=Zg(e.paddingLeft)+Zg(e.paddingRight),u=Zg(e.paddingTop)+Zg(e.paddingBottom);return{width:r-l,height:i-u,depth:r}}function Hnt(t){const{height:e,width:r,padding:i=0,paddingLeft:l=i,paddingRight:u=i,paddingTop:h=i,paddingBottom:p=i,margin:g=0,marginLeft:m=g,marginRight:x=g,marginTop:w=g,marginBottom:M=g,inset:O=0,insetLeft:A=O,insetRight:E=O,insetTop:P=O,insetBottom:I=O}=t,F=G=>G==="auto"?20:G,N=r-F(l)-F(u)-m-x-A-E,z=e-F(h)-F(p)-w-M-P-I;return{width:N,height:z}}var uV=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const fV=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title"];function Get(t){return t===void 0?document.createElement("div"):typeof t=="string"?document.getElementById(t):t}function Wet(t){const e=t.parentNode;e&&e.removeChild(t)}function Vet(t){if(t.type!==null)return t;const e=t.children[t.children.length-1];for(const r of fV)e.attr(r,t.attr(r));return e}function hV(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function e6(t,e){const{autoFit:r}=t;if(r)return jet(e);const{width:i=640,height:l=480,depth:u=0}=t;return{width:i,height:l,depth:u}}function Het(t){const e=Vet(t),r=[e],i=new Map;for(i.set(e,hV(e));r.length;){const l=r.pop(),u=i.get(l),{children:h=[]}=l;for(const p of h){const g=hV(p),{children:m=[]}=u;m.push(g),r.push(p),i.set(p,g),u.children=m}}return i.get(e)}function Yet(t,e){return typeof t=="function"?!0:new Set(Object.keys(e)).has(t)}function Uet(t,e,r,i){const{type:l}=t,{type:u=r||l}=e;if(u==="view"||!Yet(u,i))return e;const h={type:"view"},p=Object.assign({},e);for(const g of fV)p[g]!==void 0&&(h[g]=p[g],delete p[g]);return Object.assign(Object.assign({},h),{children:[p]})}function Xet(t,e,r){if(typeof t=="function")return e.mark;const l=Object.assign(Object.assign({},e),r)[t];if(!l)throw new Error(`Unknown mark: ${t}.`);return l}function Zet(t,e,r){const{type:i,children:l}=t,u=uV(t,["type","children"]),h=Xet(i,e,r),p=new h;return p.value=u,p.type=i,p}function qet(t,e){const{type:r,children:i}=e,l=uV(e,["type","children"]);t.type===r||r===void 0?MS(t.value,l):typeof r=="string"&&(t.type=r,t.value=l)}function $et(t,e,r,i){if(!t)return;const l=[[t,e]];for(;l.length;){const[u,h]=l.shift(),p=Zet(h,r,i);Array.isArray(u.children)&&u.push(p);const{children:g}=h;if(Array.isArray(g))for(const m of g)l.push([p,m])}}function Ket(t,e,r,i,l){const u=Uet(t,e,r,i),h=[[null,t,u]];for(;h.length;){const[p,g,m]=h.shift();if(!g)$et(p,m,i,l);else if(!m)g.remove();else{qet(g,m);const{children:x}=m,{children:w}=g;if(Array.isArray(x)&&Array.isArray(w)){const M=Math.max(x.length,w.length);for(let O=0;O<M;O++){const A=x[O],E=w[O];h.push([g,E,A])}}}}}function Jet(){let t,e;return[new Promise((i,l)=>{e=i,t=l}),e,t]}function n6(t,e){const r=[t];for(;r.length;){const i=r.shift();e&&e(i);const l=i.children||[];for(const u of l)r.push(u)}}class dV{constructor(e={},r){this.parentNode=null,this.children=[],this.index=0,this.type=r,this.value=e}map(e=r=>r){const r=e(this.value);return this.value=r,this}attr(e,r){return arguments.length===1?this.value[e]:this.map(i=>(i[e]=r,i))}append(e){const r=new e({});return r.children=[],this.push(r),r}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){const e=this.parentNode;if(e){const{children:r}=e,i=r.findIndex(l=>l===this);r.splice(i,1)}return this}getNodeByKey(e){let r=null;return n6(this,l=>{e===l.attr("key")&&(r=l)}),r}getNodesByType(e){const r=[];return n6(this,l=>{e===l.type&&r.push(l)}),r}getNodeByType(e){let r=null;return n6(this,i=>{r||e===i.type&&(r=i)}),r}call(e,...r){return e(this.map(),...r),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}function Qet(t,e,{key:r=e}){t.prototype[e]=function(i){return arguments.length===0?this.attr(r):this.attr(r,i)}}function tnt(t,e,{key:r=e}){t.prototype[e]=function(i){if(arguments.length===0)return this.attr(r);if(Array.isArray(i))return this.attr(r,i);const l=[...this.attr(r)||[],i];return this.attr(r,l)}}function ent(t,e,{key:r=e}){t.prototype[e]=function(i,l){if(arguments.length===0)return this.attr(r);if(arguments.length===1&&typeof i!="string")return this.attr(r,i);const u=this.attr(r)||{};return u[i]=arguments.length===1?!0:l,this.attr(r,u)}}function nnt(t,e,r){t.prototype[e]=function(i){if(arguments.length===0)return this.attr(e);if(Array.isArray(i))return this.attr(e,{items:i});if(mf(i)&&(i.title!==void 0||i.items!==void 0))return this.attr(e,i);if(i===null||i===!1)return this.attr(e,i);const l=this.attr(e)||{},{items:u=[]}=l;return u.push(i),l.items=u,this.attr(e,l)}}function rnt(t,e,{ctor:r}){t.prototype[e]=function(i){const l=this.append(r);return e==="mark"&&(l.type=i),l}}function int(t,e,{ctor:r}){t.prototype[e]=function(){return this.type=null,this.append(r)}}function gk(t){return e=>{for(const[r,i]of Object.entries(t)){const{type:l}=i;l==="value"?Qet(e,r,i):l==="array"?tnt(e,r,i):l==="object"?ent(e,r,i):l==="node"?rnt(e,r,i):l==="container"?int(e,r,i):l==="mix"&&nnt(e,r,i)}return e}}function pV(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,{type:"node",ctor:r}]))}const vV={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},ant=Object.assign(Object.assign({},vV),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),ont=Object.assign(Object.assign({},vV),{labelTransform:{type:"array"}});var snt=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u};let yk=class extends dV{changeData(e){var r;const i=this.getRoot();if(i)return this.attr("data",e),!((r=this.children)===null||r===void 0)&&r.length&&this.children.forEach(l=>{l.attr("data",e)}),i==null?void 0:i.render()}getView(){const e=this.getRoot(),{views:r}=e.getContext();if(r!=null&&r.length)return r.find(i=>i.key===this._key)}getScale(){var e;return(e=this.getView())===null||e===void 0?void 0:e.scale}getScaleByChannel(e){const r=this.getScale();if(r)return r[e]}getCoordinate(){var e;return(e=this.getView())===null||e===void 0?void 0:e.coordinate}getTheme(){var e;return(e=this.getView())===null||e===void 0?void 0:e.theme}getGroup(){const e=this._key;return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}show(){const e=this.getGroup();e&&!e.isVisible()&&vn(e)}hide(){const e=this.getGroup();e&&e.isVisible()&&tn(e)}};yk=snt([gk(ont)],yk);var lnt=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u};let r6=class extends dV{changeData(e){const r=this.getRoot();if(r)return this.attr("data",e),r==null?void 0:r.render()}getMark(){var e;const r=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!r)return;const{markState:i}=r,l=Array.from(i.keys()).find(u=>u.key===this.attr("key"));return i.get(l)}getScale(){var e;const r=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(r)return r==null?void 0:r.scale}getScaleByChannel(e){var r,i;const l=(r=this.getRoot())===null||r===void 0?void 0:r.getView();if(l)return(i=l==null?void 0:l.scale)===null||i===void 0?void 0:i[e]}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}};r6=lnt([gk(ant)],r6);var cnt=function(t,e,r,i){var l=arguments.length,u=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(u=(l<3?h(u):l>3?h(e,r,u):h(e,r))||u);return l>3&&u&&Object.defineProperty(e,r,u),u},unt=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r};const fnt="G2_CHART_KEY";class hnt extends yk{constructor(e){const{container:r,canvas:i,renderer:l,plugins:u,lib:h}=e,p=unt(e,["container","canvas","renderer","plugins","lib"]);super(p,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=aJ(()=>{this.forceFit()},300),this._renderer=l||new kG,this._plugins=u||[],this._container=Get(r),this._emitter=new LG.Z,this._context={library:h,emitter:this._emitter,canvas:i},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const e=new Promise((u,h)=>Bet(this._computedOptions(),this._context,this._createResolve(u),this._createReject(h))),[r,i,l]=Jet();return e.then(i).catch(l).then(()=>this._renderTrailing()),r}options(e){if(arguments.length===0)return Het(this);const{type:r}=e;return r&&(this._previousDefinedType=r),Ket(this,e,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(e,r,i){return this._emitter.on(e,r,i),this}once(e,r){return this._emitter.once(e,r),this}emit(e,...r){return this._emitter.emit(e,...r),this}off(e,r){return this._emitter.off(e,r),this}clear(){const e=this.options();this.emit(ti.BEFORE_CLEAR),this._reset(),cV(e,this._context,!1),this.emit(ti.AFTER_CLEAR)}destroy(){const e=this.options();this.emit(ti.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),cV(e,this._context,!0),Wet(this._container),this.emit(ti.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:e,height:r}=e6(this.options(),this._container);if(e===this._width&&r===this._height)return Promise.resolve(this);this.emit(ti.BEFORE_CHANGE_SIZE);const i=this.render();return i.then(()=>{this.emit(ti.AFTER_CHANGE_SIZE)}),i}changeSize(e,r){if(e===this._width&&r===this._height)return Promise.resolve(this);this.emit(ti.BEFORE_CHANGE_SIZE),this.attr("width",e),this.attr("height",r);const i=this.render();return i.then(()=>{this.emit(ti.AFTER_CHANGE_SIZE)}),i}_create(){const{library:e}=this._context,r=u=>u.startsWith("mark.")||u==="component.axisX"||u==="component.axisY"||u==="component.legends",i=["mark.mark",...Object.keys(e).filter(r)];this._marks={};for(const u of i){const h=u.split(".").pop();class p extends r6{constructor(){super({},h)}}this._marks[h]=p,this[h]=function(g){const m=this.append(p);return h==="mark"&&(m.type=g),m}}const l=["composition.view",...Object.keys(e).filter(u=>u.startsWith("composition.")&&u!=="composition.mark")];this._compositions=Object.fromEntries(l.map(u=>{const h=u.split(".").pop();let p=class extends yk{constructor(){super({},h)}};return p=cnt([gk(pV(this._marks))],p),[h,p]}));for(const u of Object.values(this._compositions))gk(pV(this._compositions))(u);for(const u of l){const h=u.split(".").pop();this[h]=function(){const p=this._compositions[h];return this.type=null,this.append(p)}}}_reset(){const e=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([r])=>r.startsWith("margin")||r.startsWith("padding")||r.startsWith("inset")||e.includes(r))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const e=this._trailingResolve.bind(this);this._trailingResolve=null,e(this)}).catch(e=>{const r=this._trailingReject.bind(this);this._trailingReject=null,r(e)}))}_createResolve(e){return()=>{this._rendering=!1,e(this)}}_createReject(e){return r=>{this._rendering=!1,e(r)}}_computedOptions(){const e=this.options(),{key:r=fnt}=e,{width:i,height:l,depth:u}=e6(e,this._container);return this._width=i,this._height=l,this._key=r,Object.assign(Object.assign({key:this._key},e),{width:i,height:l,depth:u})}_createCanvas(){const{width:e,height:r}=e6(this.options(),this._container);this._plugins.push(new PG),this._plugins.forEach(i=>this._renderer.registerPlugin(i)),this._context.canvas=new Oa({container:this._container,width:e,height:r,renderer:this._renderer})}_addToTrailing(){var e;return(e=this._trailingResolve)===null||e===void 0||e.call(this,this),this._trailing=!0,new Promise((i,l)=>{this._trailingResolve=i,this._trailingReject=l})}_bindAutoFit(){const e=this.options(),{autoFit:r}=e;if(this._hasBindAutoFit){r||this._unbindAutoFit();return}r&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const dnt=nS(hnt,SG);Ke.enableCSSParsing=!1},79558:function(Dn,mn,kt){"use strict";kt.d(mn,{VT:function(){return iD},G2:function(){return de},V2:function(){return XC}});var Te={};kt.r(Te),kt.d(Te,{Arc:function(){return jc},DataMarker:function(){return c6},DataRegion:function(){return iw},Html:function(){return nv},Image:function(){return fy},Line:function(){return xs},Region:function(){return rw},RegionFilter:function(){return f6},Shape:function(){return ow},Text:function(){return ew}});var ne={};kt.r(ne),kt.d(ne,{ellipsisHead:function(){return Ah},ellipsisMiddle:function(){return zk},ellipsisTail:function(){return hy},getDefault:function(){return v6}});var Ge={};kt.r(Ge),kt.d(Ge,{equidistance:function(){return Gc},equidistanceWithReverseBoth:function(){return Tl},getDefault:function(){return jk},reserveBoth:function(){return Ye},reserveFirst:function(){return pw},reserveLast:function(){return Gk}});var je={};kt.r(je),kt.d(je,{fixedAngle:function(){return Eh},getDefault:function(){return py},unfixedAngle:function(){return vw}});var Ee={};kt.r(Ee),kt.d(Ee,{autoEllipsis:function(){return ne},autoHide:function(){return Ge},autoRotate:function(){return je}});var B={};kt.r(B),kt.d(B,{Base:function(){return Ja},Circle:function(){return Xk},Html:function(){return es},Line:function(){return Yk}});var Gt={};kt.r(Gt),kt.d(Gt,{CONTAINER_CLASS:function(){return Ms},CROSSHAIR_X:function(){return Fh},CROSSHAIR_Y:function(){return yy},LIST_CLASS:function(){return zi},LIST_ITEM_CLASS:function(){return xn},MARKER_CLASS:function(){return Sa},NAME_CLASS:function(){return av},TITLE_CLASS:function(){return Ss},VALUE_CLASS:function(){return Rh}});var fe={};kt.r(fe),kt.d(fe,{Base:function(){return as},Circle:function(){return yL},Ellipse:function(){return mL},Image:function(){return iS},Line:function(){return gf},Marker:function(){return Bm},Path:function(){return zm},Polygon:function(){return jm},Polyline:function(){return z6},Rect:function(){return wS},Text:function(){return NL}});var rt={};kt.r(rt),kt.d(rt,{Canvas:function(){return Jn},Group:function(){return wm},Shape:function(){return fe},getArcParams:function(){return uf},version:function(){return Ii}});var ue={};kt.r(ue),kt.d(ue,{Base:function(){return oo},Circle:function(){return OS},Dom:function(){return cd},Ellipse:function(){return fd},Image:function(){return bf},Line:function(){return H6},Marker:function(){return qL},Path:function(){return X6},Polygon:function(){return q6},Polyline:function(){return zS},Rect:function(){return J6},Text:function(){return r4}});var se={};kt.r(se),kt.d(se,{Canvas:function(){return b4},Group:function(){return ld},Shape:function(){return ue},version:function(){return w4}});var de={};kt.r(de),kt.d(de,{Action:function(){return Rr},BRUSH_FILTER_EVENTS:function(){return Aa},Chart:function(){return Va},ComponentController:function(){return As},Coordinate:function(){return Up},DIRECTION:function(){return Lt},ELEMENT_RANGE_HIGHLIGHT_EVENTS:function(){return ls},Element:function(){return em},Event:function(){return $r},Facet:function(){return Il},Geometry:function(){return Gl},GeometryLabel:function(){return Uh},Interaction:function(){return Wh},InteractionAction:function(){return Rr},LAYER:function(){return Ht},Scale:function(){return on},TooltipController:function(){return jl},Util:function(){return ia},VERSION:function(){return Nv},VIEW_LIFE_CIRCLE:function(){return jt},View:function(){return Tv},getActionClass:function(){return Qu},getAnimation:function(){return tm},getEngine:function(){return Ue},getFacet:function(){return Lw},getGeometryLabel:function(){return RM},getGeometryLabelLayout:function(){return FM},getInteraction:function(){return ra},getShapeFactory:function(){return nm},getTheme:function(){return of},registerAction:function(){return In},registerAnimation:function(){return ro},registerComponentController:function(){return pr},registerEngine:function(){return Ie},registerFacet:function(){return Rl},registerGeometry:function(){return no},registerGeometryLabel:function(){return lf},registerGeometryLabelLayout:function(){return Oa},registerInteraction:function(){return Zn},registerShape:function(){return Or},registerShapeFactory:function(){return el},registerTheme:function(){return wM}});var Kt={};kt.r(Kt),kt.d(Kt,{cluster:function(){return WD},hierarchy:function(){return Mu},pack:function(){return SA},packEnclose:function(){return yA},packSiblings:function(){return wA},partition:function(){return zD},stratify:function(){return r9},tree:function(){return c9},treemap:function(){return XD},treemapBinary:function(){return u9},treemapDice:function(){return mg},treemapResquarify:function(){return ZD},treemapSlice:function(){return xg},treemapSliceDice:function(){return f9},treemapSquarify:function(){return UD}});var L=kt(97582),_=kt(45098),Ht;(function(o){o.FORE="fore",o.MID="mid",o.BG="bg"})(Ht||(Ht={}));var Lt;(function(o){o.TOP="top",o.TOP_LEFT="top-left",o.TOP_RIGHT="top-right",o.RIGHT="right",o.RIGHT_TOP="right-top",o.RIGHT_BOTTOM="right-bottom",o.LEFT="left",o.LEFT_TOP="left-top",o.LEFT_BOTTOM="left-bottom",o.BOTTOM="bottom",o.BOTTOM_LEFT="bottom-left",o.BOTTOM_RIGHT="bottom-right",o.RADIUS="radius",o.CIRCLE="circle",o.NONE="none"})(Lt||(Lt={}));var Oe;(function(o){o.AXIS="axis",o.GRID="grid",o.LEGEND="legend",o.TOOLTIP="tooltip",o.ANNOTATION="annotation",o.SLIDER="slider",o.SCROLLBAR="scrollbar",o.OTHER="other"})(Oe||(Oe={}));var Ae={FORE:3,MID:2,BG:1},jt;(function(o){o.BEFORE_RENDER="beforerender",o.AFTER_RENDER="afterrender",o.BEFORE_PAINT="beforepaint",o.AFTER_PAINT="afterpaint",o.BEFORE_CHANGE_DATA="beforechangedata",o.AFTER_CHANGE_DATA="afterchangedata",o.BEFORE_CLEAR="beforeclear",o.AFTER_CLEAR="afterclear",o.BEFORE_DESTROY="beforedestroy",o.BEFORE_CHANGE_SIZE="beforechangesize",o.AFTER_CHANGE_SIZE="afterchangesize"})(jt||(jt={}));var le;(function(o){o.BEFORE_DRAW_ANIMATE="beforeanimate",o.AFTER_DRAW_ANIMATE="afteranimate",o.BEFORE_RENDER_LABEL="beforerenderlabel",o.AFTER_RENDER_LABEL="afterrenderlabel"})(le||(le={}));var Ce;(function(o){o.MOUSE_ENTER="plot:mouseenter",o.MOUSE_DOWN="plot:mousedown",o.MOUSE_MOVE="plot:mousemove",o.MOUSE_UP="plot:mouseup",o.MOUSE_LEAVE="plot:mouseleave",o.TOUCH_START="plot:touchstart",o.TOUCH_MOVE="plot:touchmove",o.TOUCH_END="plot:touchend",o.TOUCH_CANCEL="plot:touchcancel",o.CLICK="plot:click",o.DBLCLICK="plot:dblclick",o.CONTEXTMENU="plot:contextmenu",o.LEAVE="plot:leave",o.ENTER="plot:enter"})(Ce||(Ce={}));var Ve;(function(o){o.ACTIVE="active",o.INACTIVE="inactive",o.SELECTED="selected",o.DEFAULT="default"})(Ve||(Ve={}));var qe=["color","shape","size"],Xe="_origin",On=1,ve=1,Ne=.25,Qe={};function Ue(o){var a=Qe[o];if(!a)throw new Error("G engine '".concat(o,"' is not exist, please register it at first."));return a}function Ie(o,a){Qe[o]=a}var zt=kt(6056);function ye(o,a){if(o)for(var n in a)a.hasOwnProperty(n)&&(o.style[n]=a[n]);return o}function nt(o){var a=getComputedStyle(o);return{width:(o.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(o.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}}function Et(o){return typeof o=="number"&&!isNaN(o)}function ie(o,a,n,s){var c=n,f=s;if(a){var d=nt(o);c=d.width?d.width:c,f=d.height?d.height:f}return{width:Math.max(Et(c)?c:On,On),height:Math.max(Et(f)?f:ve,ve)}}function He(o){var a=o.parentNode;a&&a.removeChild(o)}var Je=kt(90494),tt=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this)||this;s.destroyed=!1;var c=n.visible,f=c===void 0?!0:c;return s.visible=f,s}return a.prototype.show=function(){var n=this.visible;n||this.changeVisible(!0)},a.prototype.hide=function(){var n=this.visible;n&&this.changeVisible(!1)},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(n){this.visible!==n&&(this.visible=n)},a}(Je.Z),ct=tt,Ot=kt(98190),yt=0,Yt=1/2,qt=1/2,we=.05,xe=function(){function o(a){var n=a.xField,s=a.yField,c=a.adjustNames,f=c===void 0?["x","y"]:c,d=a.dimValuesMap;this.adjustNames=f,this.xField=n,this.yField=s,this.dimValuesMap=d}return o.prototype.isAdjust=function(a){return this.adjustNames.indexOf(a)>=0},o.prototype.getAdjustRange=function(a,n,s){var c=this.yField,f=s.indexOf(n),d=s.length,v,y;return!c&&this.isAdjust("y")?(v=0,y=1):d>1?(v=s[f===0?0:f-1],y=s[f===d-1?d-1:f+1],f!==0?v+=(n-v)/2:v-=(y-n)/2,f!==d-1?y-=(y-n)/2:y+=(n-s[d-2])/2):(v=n===0?0:n-.5,y=n===0?1:n+.5),{pre:v,next:y}},o.prototype.adjustData=function(a,n){var s=this,c=this.getDimValues(n);_.S6(a,function(f,d){_.S6(c,function(v,y){s.adjustDim(y,v,f,d)})})},o.prototype.groupData=function(a,n){return _.S6(a,function(s){s[n]===void 0&&(s[n]=yt)}),_.vM(a,n)},o.prototype.adjustDim=function(a,n,s,c){},o.prototype.getDimValues=function(a){var n=this,s=n.xField,c=n.yField,f=_.f0({},this.dimValuesMap),d=[];if(s&&this.isAdjust("x")&&d.push(s),c&&this.isAdjust("y")&&d.push(c),d.forEach(function(y){f&&f[y]||(f[y]=_.I(a,y).sort(function(b,S){return b-S}))}),!c&&this.isAdjust("y")){var v="y";f[v]=[yt,1]}return f},o}(),xt=xe,Wt={},re=function(o){return Wt[o.toLowerCase()]},wt=function(o,a){if(re(o))throw new Error("Adjust type '"+o+"' existed.");Wt[o.toLowerCase()]=a},vt=kt(52677),Bt=kt.n(vt);var Zt=function(a,n){return Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)c.hasOwnProperty(f)&&(s[f]=c[f])},Zt(a,n)};function at(o,a){Zt(o,a);function n(){this.constructor=o}o.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var mt=function(){return mt=Object.assign||function(n){for(var s,c=1,f=arguments.length;c<f;c++){s=arguments[c];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},mt.apply(this,arguments)};function It(o,a){var n={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&a.indexOf(s)<0&&(n[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(o);c<s.length;c++)a.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(o,s[c])&&(n[s[c]]=o[s[c]]);return n}function te(o,a,n,s){var c=arguments.length,f=c<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,n):s,d;if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,n,s);else for(var v=o.length-1;v>=0;v--)(d=o[v])&&(f=(c<3?d(f):c>3?d(a,n,f):d(a,n))||f);return c>3&&f&&Object.defineProperty(a,n,f),f}function Qt(o,a){return function(n,s){a(n,s,o)}}function ee(o,a){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,a)}function me(o,a,n,s){function c(f){return f instanceof n?f:new n(function(d){d(f)})}return new(n||(n=Promise))(function(f,d){function v(S){try{b(s.next(S))}catch(C){d(C)}}function y(S){try{b(s.throw(S))}catch(C){d(C)}}function b(S){S.done?f(S.value):c(S.value).then(v,y)}b((s=s.apply(o,a||[])).next())})}function dt(o,a){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,c,f,d;return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(b){return function(S){return y([b,S])}}function y(b){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,c&&(f=b[0]&2?c.return:b[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,b[1])).done)return f;switch(c=0,f&&(b=[b[0]&2,f.value]),b[0]){case 0:case 1:f=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,c=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!f||b[1]>f[0]&&b[1]<f[3])){n.label=b[1];break}if(b[0]===6&&n.label<f[1]){n.label=f[1],f=b;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(b);break}f[2]&&n.ops.pop(),n.trys.pop();continue}b=a.call(o,n)}catch(S){b=[6,S],c=0}finally{s=f=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function it(o,a,n,s){s===void 0&&(s=n),o[s]=a[n]}function Tt(o,a){for(var n in o)n!=="default"&&!a.hasOwnProperty(n)&&(a[n]=o[n])}function _t(o){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&o[a],s=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(o,a){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var s=n.call(o),c,f=[],d;try{for(;(a===void 0||a-- >0)&&!(c=s.next()).done;)f.push(c.value)}catch(v){d={error:v}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(d)throw d.error}}return f}function $t(){for(var o=[],a=0;a<arguments.length;a++)o=o.concat(Dt(arguments[a]));return o}function bt(){for(var o=0,a=0,n=arguments.length;a<n;a++)o+=arguments[a].length;for(var s=Array(o),c=0,a=0;a<n;a++)for(var f=arguments[a],d=0,v=f.length;d<v;d++,c++)s[c]=f[d];return s}function lt(o){return this instanceof lt?(this.v=o,this):new lt(o)}function pt(o,a,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(o,a||[]),c,f=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(T){s[T]&&(c[T]=function(k){return new Promise(function(R,D){f.push([T,k,R,D])>1||v(T,k)})})}function v(T,k){try{y(s[T](k))}catch(R){C(f[0][3],R)}}function y(T){T.value instanceof lt?Promise.resolve(T.value.v).then(b,S):C(f[0][2],T)}function b(T){v("next",T)}function S(T){v("throw",T)}function C(T,k){T(k),f.shift(),f.length&&v(f[0][0],f[0][1])}}function Rt(o){var a,n;return a={},s("next"),s("throw",function(c){throw c}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(c,f){a[c]=o[c]?function(d){return(n=!n)?{value:lt(o[c](d)),done:c==="return"}:f?f(d):d}:f}}function Nt(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o[Symbol.asyncIterator],n;return a?a.call(o):(o=typeof _t=="function"?_t(o):o[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(f){n[f]=o[f]&&function(d){return new Promise(function(v,y){d=o[f](d),c(v,y,d.done,d.value)})}}function c(f,d,v,y){Promise.resolve(y).then(function(b){f({value:b,done:v})},d)}}function he(o,a){return Object.defineProperty?Object.defineProperty(o,"raw",{value:a}):o.raw=a,o}function Pe(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var n in o)Object.hasOwnProperty.call(o,n)&&(a[n]=o[n]);return a.default=o,a}function Fe(o){return o&&o.__esModule?o:{default:o}}function rn(o,a){if(!a.has(o))throw new TypeError("attempted to get private field on non-instance");return a.get(o)}function un(o,a,n){if(!a.has(o))throw new TypeError("attempted to set private field on non-instance");return a.set(o,n),n}var En=function(o){at(a,o);function a(n){var s=o.call(this,n)||this;s.cacheMap={},s.adjustDataArray=[],s.mergeData=[];var c=n.marginRatio,f=c===void 0?Yt:c,d=n.dodgeRatio,v=d===void 0?qt:d,y=n.dodgeBy,b=n.intervalPadding,S=n.dodgePadding,C=n.xDimensionLength,T=n.groupNum,k=n.defaultSize,R=n.maxColumnWidth,D=n.minColumnWidth,V=n.columnWidthRatio,j=n.customOffset;return s.marginRatio=f,s.dodgeRatio=v,s.dodgeBy=y,s.intervalPadding=b,s.dodgePadding=S,s.xDimensionLegenth=C,s.groupNum=T,s.defaultSize=k,s.maxColumnWidth=R,s.minColumnWidth=D,s.columnWidthRatio=V,s.customOffset=j,s}return a.prototype.process=function(n){var s=_.d9(n),c=_.xH(s),f=this.dodgeBy,d=f?_.ru(c,f):s;return this.cacheMap={},this.adjustDataArray=d,this.mergeData=c,this.adjustData(d,c),this.adjustDataArray=[],this.mergeData=[],s},a.prototype.adjustDim=function(n,s,c,f){var d=this,v=this.customOffset,y=this.getDistribution(n),b=this.groupData(c,n);return _.S6(b,function(S,C){var T;s.length===1?T={pre:s[0]-1,next:s[0]+1}:T=d.getAdjustRange(n,parseFloat(C),s),_.S6(S,function(k){var R=k[n],D=y[R],V=D.indexOf(f);if(_.UM(v))k[n]=d.getDodgeOffset(T,V,D.length);else{var j=T.pre,H=T.next;k[n]=_.mf(v)?v(k,T):(j+H)/2+v}})}),[]},a.prototype.getDodgeOffset=function(n,s,c){var f=this,d=f.dodgeRatio,v=f.marginRatio,y=f.intervalPadding,b=f.dodgePadding,S=n.pre,C=n.next,T=C-S,k;if(!_.UM(y)&&_.UM(b)&&y>=0){var R=this.getIntervalOnlyOffset(c,s);k=S+R}else if(!_.UM(b)&&_.UM(y)&&b>=0){var R=this.getDodgeOnlyOffset(c,s);k=S+R}else if(!_.UM(y)&&!_.UM(b)&&y>=0&&b>=0){var R=this.getIntervalAndDodgeOffset(c,s);k=S+R}else{var D=T*d/c,V=v*D,R=1/2*(T-c*D-(c-1)*V)+((s+1)*D+s*V)-1/2*D-1/2*T;k=(S+C)/2+R}return k},a.prototype.getIntervalOnlyOffset=function(n,s){var c=this,f=c.defaultSize,d=c.intervalPadding,v=c.xDimensionLegenth,y=c.groupNum,b=c.dodgeRatio,S=c.maxColumnWidth,C=c.minColumnWidth,T=c.columnWidthRatio,k=d/v,R=(1-(y-1)*k)/y*b/(n-1),D=((1-k*(y-1))/y-R*(n-1))/n;if(D=_.UM(T)?D:1/y/n*T,!_.UM(S)){var V=S/v;D=Math.min(D,V)}if(!_.UM(C)){var j=C/v;D=Math.max(D,j)}D=f?f/v:D,R=((1-(y-1)*k)/y-n*D)/(n-1);var H=((1/2+s)*D+s*R+1/2*k)*y-k/2;return H},a.prototype.getDodgeOnlyOffset=function(n,s){var c=this,f=c.defaultSize,d=c.dodgePadding,v=c.xDimensionLegenth,y=c.groupNum,b=c.marginRatio,S=c.maxColumnWidth,C=c.minColumnWidth,T=c.columnWidthRatio,k=d/v,R=1*b/(y-1),D=((1-R*(y-1))/y-k*(n-1))/n;if(D=T?1/y/n*T:D,!_.UM(S)){var V=S/v;D=Math.min(D,V)}if(!_.UM(C)){var j=C/v;D=Math.max(D,j)}D=f?f/v:D,R=(1-(D*n+k*(n-1))*y)/(y-1);var H=((1/2+s)*D+s*k+1/2*R)*y-R/2;return H},a.prototype.getIntervalAndDodgeOffset=function(n,s){var c=this,f=c.intervalPadding,d=c.dodgePadding,v=c.xDimensionLegenth,y=c.groupNum,b=f/v,S=d/v,C=((1-b*(y-1))/y-S*(n-1))/n,T=((1/2+s)*C+s*S+1/2*b)*y-b/2;return T},a.prototype.getDistribution=function(n){var s=this.adjustDataArray,c=this.cacheMap,f=c[n];return f||(f={},_.S6(s,function(d,v){var y=_.I(d,n);y.length||y.push(0),_.S6(y,function(b){f[b]||(f[b]=[]),f[b].push(v)})}),c[n]=f),f},a}(xt),qn=En;function _r(o,a){return(a-o)*Math.random()+o}var fr=function(o){at(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.process=function(n){var s=_.d9(n),c=_.xH(s);return this.adjustData(s,c),s},a.prototype.adjustDim=function(n,s,c){var f=this,d=this.groupData(c,n);return _.S6(d,function(v,y){return f.adjustGroup(v,n,parseFloat(y),s)})},a.prototype.getAdjustOffset=function(n){var s=n.pre,c=n.next,f=(c-s)*we;return _r(s+f,c-f)},a.prototype.adjustGroup=function(n,s,c,f){var d=this,v=this.getAdjustRange(s,c,f);return _.S6(n,function(y){y[s]=d.getAdjustOffset(v)}),n},a}(xt),Ur=fr,Li=_.Ct,Hi=function(o){at(a,o);function a(n){var s=o.call(this,n)||this,c=n.adjustNames,f=c===void 0?["y"]:c,d=n.height,v=d===void 0?NaN:d,y=n.size,b=y===void 0?10:y,S=n.reverseOrder,C=S===void 0?!1:S;return s.adjustNames=f,s.height=v,s.size=b,s.reverseOrder=C,s}return a.prototype.process=function(n){var s=this,c=s.yField,f=s.reverseOrder,d=c?this.processStack(n):this.processOneDimStack(n);return f?this.reverse(d):d},a.prototype.reverse=function(n){return n.slice(0).reverse()},a.prototype.processStack=function(n){var s=this,c=s.xField,f=s.yField,d=s.reverseOrder,v=d?this.reverse(n):n,y=new Li,b=new Li;return v.map(function(S){return S.map(function(C){var T,k=_.U2(C,c,0),R=_.U2(C,[f]),D=k.toString();if(R=_.kJ(R)?R[1]:R,!_.UM(R)){var V=R>=0?y:b;V.has(D)||V.set(D,0);var j=V.get(D),H=R+j;return V.set(D,H),mt(mt({},C),(T={},T[f]=[j,H],T))}return C})})},a.prototype.processOneDimStack=function(n){var s=this,c=this,f=c.xField,d=c.height,v=c.reverseOrder,y="y",b=v?this.reverse(n):n,S=new Li;return b.map(function(C){return C.map(function(T){var k,R=s.size,D=T[f],V=R*2/d;S.has(D)||S.set(D,V/2);var j=S.get(D);return S.set(D,j+V),mt(mt({},T),(k={},k[y]=j,k))})})},a}(xt),Ra=Hi,Fa=function(o){at(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.process=function(n){var s=_.xH(n),c=this,f=c.xField,d=c.yField,v=this.getXValuesMaxMap(s),y=Math.max.apply(Math,Object.keys(v).map(function(b){return v[b]}));return _.UI(n,function(b){return _.UI(b,function(S){var C,T,k=S[d],R=S[f];if(_.kJ(k)){var D=(y-v[R])/2;return mt(mt({},S),(C={},C[d]=_.UI(k,function(j){return D+j}),C))}var V=(y-k)/2;return mt(mt({},S),(T={},T[d]=[V,k+V],T))})})},a.prototype.getXValuesMaxMap=function(n){var s=this,c=this,f=c.xField,d=c.yField,v=_.vM(n,function(y){return y[f]});return _.Q8(v,function(y){return s.getDimMaxValue(y,d)})},a.prototype.getDimMaxValue=function(n,s){var c=_.UI(n,function(d){return _.U2(d,s,[])}),f=_.xH(c);return Math.max.apply(Math,f)},a}(xt),Da=Fa;wt("Dodge",qn),wt("Jitter",Ur),wt("Stack",Ra),wt("Symmetric",Da);var Jo=function(o,a){return(0,_.HD)(a)?a:o.invert(o.scale(a))},Ba=function(){function o(a){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(a)}return o.prototype.mapping=function(){for(var a=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var c=n.map(function(f,d){return a._toOriginParam(f,a.scales[d])});return this.callback.apply(this,c)},o.prototype.getLinearValue=function(a){var n=this.values.length-1,s=Math.floor(n*a),c=n*a-s,f=this.values[s],d=s===n?f:this.values[s+1];return f+(d-f)*c},o.prototype.getNames=function(){for(var a=this.scales,n=this.names,s=Math.min(a.length,n.length),c=[],f=0;f<s;f+=1)c.push(n[f]);return c},o.prototype.getFields=function(){return this.scales.map(function(a){return a.field})},o.prototype.getScale=function(a){return this.scales[this.names.indexOf(a)]},o.prototype.defaultCallback=function(){for(var a=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.length===0?this.values:n.map(function(c,f){var d=a.scales[f];return d.type==="identity"?d.values[0]:a._getAttributeValue(d,c)})},o.prototype._parseCfg=function(a){var n=this,s=a.type,c=s===void 0?"base":s,f=a.names,d=f===void 0?[]:f,v=a.scales,y=v===void 0?[]:v,b=a.values,S=b===void 0?[]:b,C=a.callback;this.type=c,this.scales=y,this.values=S,this.names=d,this.callback=function(){for(var T=[],k=0;k<arguments.length;k++)T[k]=arguments[k];if(C){var R=C.apply(void 0,T);if(!(0,_.UM)(R))return[R]}return n.defaultCallback.apply(n,T)}},o.prototype._getAttributeValue=function(a,n){if(a.isCategory&&!this.linear){var s=a.translate(n);return this.values[s%this.values.length]}var c=a.scale(n);return this.getLinearValue(c)},o.prototype._toOriginParam=function(a,n){return n.isLinear?a:(0,_.kJ)(a)?a.map(function(s){return Jo(n,s)}):Jo(n,a)},o}(),Fo=Ba,Do=/rgba?\(([\s.,0-9]+)\)/,hh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,vs=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,wl=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Tc=function(o){return/^[r,R,L,l]{1}[\s]*\(/.test(o)},Pp=function(){var o=document.createElement("i");return o.title="Web Colour Picker",o.style.display="none",document.body.appendChild(o),o},dh=function(o,a,n,s){return o[s]+(a[s]-o[s])*n};function Lp(o){return"#"+Fu(o[0])+Fu(o[1])+Fu(o[2])}var ph=function(o){return[parseInt(o.substr(1,2),16),parseInt(o.substr(3,2),16),parseInt(o.substr(5,2),16)]},Fu=function(o){var a=Math.round(o).toString(16);return a.length===1?"0"+a:a},Ip=function(o,a){var n=isNaN(Number(a))||a<0?0:a>1?1:Number(a),s=o.length-1,c=Math.floor(s*n),f=s*n-c,d=o[c],v=c===s?d:o[c+1];return Lp([dh(d,v,f,0),dh(d,v,f,1),dh(d,v,f,2)])},Ec,Ki=function(o){if(o[0]==="#"&&o.length===7)return o;Ec||(Ec=Pp()),Ec.style.color=o;var a=document.defaultView.getComputedStyle(Ec,"").getPropertyValue("color"),n=Do.exec(a),s=n[1].split(/\s*,\s*/).map(function(c){return Number(c)});return a=Lp(s),a},ya=function(o){var a=(0,_.HD)(o)?o.split("-"):o,n=(0,_.UI)(a,function(s){return ph(s.indexOf("#")===-1?Ki(s):s)});return function(s){return Ip(n,s)}},et=function(o){if(Tc(o)){var a,n=void 0;if(o[0]==="l"){var s=hh.exec(o),c=+s[1]+90;n=s[2],a="linear-gradient("+c+"deg, "}else if(o[0]==="r"){a="radial-gradient(";var s=vs.exec(o);n=s[4]}var f=n.match(wl);return(0,_.S6)(f,function(d,v){var y=d.split(":");a+=y[1]+" "+y[0]*100+"%",v!==f.length-1&&(a+=", ")}),a+=")",a}return o},ut={rgb2arr:ph,gradient:ya,toRGB:(0,_.HP)(Ki),toCSSGradient:et},Pt=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.type="color",s.names=["color"],(0,_.HD)(s.values)&&(s.linear=!0),s.gradient=ut.gradient(s.values),s}return a.prototype.getLinearValue=function(n){return this.gradient(n)},a}(Fo),Xt=Pt,Se=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.type="opacity",s.names=["opacity"],s}return a}(Fo),Me=Se,ae=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.names=["x","y"],s.type="position",s}return a.prototype.mapping=function(n,s){var c=this.scales,f=c[0],d=c[1];return(0,_.UM)(n)||(0,_.UM)(s)?[]:[(0,_.kJ)(n)?n.map(function(v){return f.scale(v)}):f.scale(n),(0,_.kJ)(s)?s.map(function(v){return d.scale(v)}):d.scale(s)]},a}(Fo),oe=ae,ze=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.type="shape",s.names=["shape"],s}return a.prototype.getLinearValue=function(n){var s=Math.round((this.values.length-1)*n);return this.values[s]},a}(Fo),We=ze,pn=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.type="size",s.names=["size"],s}return a}(Fo),gn=pn,Ln={};function hn(o){return Ln[o]}function wn(o,a){Ln[o]=a}var _n=function(){function o(a){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=a,this.initCfg(),this.init()}return o.prototype.translate=function(a){return a},o.prototype.change=function(a){(0,_.f0)(this.__cfg__,a),this.init()},o.prototype.clone=function(){return this.constructor(this.__cfg__)},o.prototype.getTicks=function(){var a=this;return(0,_.UI)(this.ticks,function(n,s){return(0,_.Kn)(n)?n:{text:a.getText(n,s),tickValue:n,value:a.scale(n)}})},o.prototype.getText=function(a,n){var s=this.formatter,c=s?s(a,n):a;return(0,_.UM)(c)||!(0,_.mf)(c.toString)?"":c.toString()},o.prototype.getConfig=function(a){return this.__cfg__[a]},o.prototype.init=function(){(0,_.f0)(this,this.__cfg__),this.setDomain(),(0,_.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},o.prototype.initCfg=function(){},o.prototype.setDomain=function(){},o.prototype.calculateTicks=function(){var a=this.tickMethod,n=[];if((0,_.HD)(a)){var s=hn(a);if(!s)throw new Error("There is no method to to calculate ticks!");n=s(this)}else(0,_.mf)(a)&&(n=a(this));return n},o.prototype.rangeMin=function(){return this.range[0]},o.prototype.rangeMax=function(){return this.range[1]},o.prototype.calcPercent=function(a,n,s){return(0,_.hj)(a)?(a-n)/(s-n):NaN},o.prototype.calcValue=function(a,n,s){return n+a*(s-n)},o}(),on=_n,Hn=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="cat",n.isCategory=!0,n}return a.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var n=0;n<this.values.length;n++)this.translateIndexMap.set(this.values[n],n)}},a.prototype.translate=function(n){this.buildIndexMap();var s=this.translateIndexMap.get(n);return s===void 0&&(s=(0,_.hj)(n)?n:NaN),s},a.prototype.scale=function(n){var s=this.translate(n),c=this.calcPercent(s,this.min,this.max);return this.calcValue(c,this.rangeMin(),this.rangeMax())},a.prototype.invert=function(n){var s=this.max-this.min,c=this.calcPercent(n,this.rangeMin(),this.rangeMax()),f=Math.round(s*c)+this.min;return f<this.min||f>this.max?NaN:this.values[f]},a.prototype.getText=function(n){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];var f=n;return(0,_.hj)(n)&&!this.values.includes(n)&&(f=this.values[f]),o.prototype.getText.apply(this,(0,L.pr)([f],s))},a.prototype.initCfg=function(){this.tickMethod="cat"},a.prototype.setDomain=function(){if((0,_.UM)(this.getConfig("min"))&&(this.min=0),(0,_.UM)(this.getConfig("max"))){var n=this.values.length;this.max=n>1?n-1:n}this.translateIndexMap&&(this.translateIndexMap=void 0)},a}(on),Cn=Hn,Yn=kt(19432);function An(o){return function(a,n,s,c){for(var f=(0,_.UM)(s)?0:s,d=(0,_.UM)(c)?a.length:c;f<d;){var v=f+d>>>1;o(a[v])>n?d=v:f=v+1}return f}}var zn="format";function or(o,a){var n=Yn[zn]||Yn.default[zn];return n(o,a)}function Yi(o){return(0,_.HD)(o)&&(o.indexOf("T")>0?o=new Date(o).getTime():o=new Date(o.replace(/-/gi,"/")).getTime()),(0,_.J_)(o)&&(o=o.getTime()),o}var ci=1e3,li=60*ci,bi=60*li,Ti=24*bi,Xr=Ti*31,ei=Ti*365,Qo=[["HH:mm:ss",ci],["HH:mm:ss",ci*10],["HH:mm:ss",ci*30],["HH:mm",li],["HH:mm",li*10],["HH:mm",li*30],["HH",bi],["HH",bi*6],["HH",bi*12],["YYYY-MM-DD",Ti],["YYYY-MM-DD",Ti*4],["YYYY-WW",Ti*7],["YYYY-MM",Xr],["YYYY-MM",Xr*4],["YYYY-MM",Xr*6],["YYYY",Ti*380]];function Rp(o,a,n){var s=(a-o)/n,c=An(function(d){return d[1]})(Qo,s)-1,f=Qo[c];return c<0?f=Qo[0]:c>=Qo.length&&(f=(0,_.Z$)(Qo)),f}var Ml=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="timeCat",n}return a.prototype.translate=function(n){n=Yi(n);var s=this.values.indexOf(n);return s===-1&&((0,_.hj)(n)&&n<this.values.length?s=n:s=NaN),s},a.prototype.getText=function(n,s){var c=this.translate(n);if(c>-1){var f=this.values[c],d=this.formatter;return f=d?d(f,s):or(f,this.mask),f}return n},a.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},a.prototype.setDomain=function(){var n=this.values;(0,_.S6)(n,function(s,c){n[c]=Yi(s)}),n.sort(function(s,c){return s-c}),o.prototype.setDomain.call(this)},a}(Cn),ma=Ml,Di=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.isContinuous=!0,n}return a.prototype.scale=function(n){if((0,_.UM)(n))return NaN;var s=this.rangeMin(),c=this.rangeMax(),f=this.max,d=this.min;if(f===d)return s;var v=this.getScalePercent(n);return s+v*(c-s)},a.prototype.init=function(){o.prototype.init.call(this);var n=this.ticks,s=(0,_.YM)(n),c=(0,_.Z$)(n);s<this.min&&(this.min=s),c>this.max&&(this.max=c),(0,_.UM)(this.minLimit)||(this.min=s),(0,_.UM)(this.maxLimit)||(this.max=c)},a.prototype.setDomain=function(){var n=(0,_.rx)(this.values),s=n.min,c=n.max;(0,_.UM)(this.min)&&(this.min=s),(0,_.UM)(this.max)&&(this.max=c),this.min>this.max&&(this.min=s,this.max=c)},a.prototype.calculateTicks=function(){var n=this,s=o.prototype.calculateTicks.call(this);return this.nice||(s=(0,_.hX)(s,function(c){return c>=n.min&&c<=n.max})),s},a.prototype.getScalePercent=function(n){var s=this.max,c=this.min;return(n-c)/(s-c)},a.prototype.getInvertPercent=function(n){return(n-this.rangeMin())/(this.rangeMax()-this.rangeMin())},a}(on),gs=Di,kc=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="linear",n.isLinear=!0,n}return a.prototype.invert=function(n){var s=this.getInvertPercent(n);return this.min+s*(this.max-this.min)},a.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},a}(gs),ts=kc;function Ji(o,a){var n=Math.E,s;return a>=0?s=Math.pow(n,Math.log(a)/o):s=Math.pow(n,Math.log(-a)/o)*-1,s}function Qi(o,a){return o===1?1:Math.log(a)/Math.log(o)}function Fp(o,a,n){(0,_.UM)(n)&&(n=Math.max.apply(null,o));var s=n;return(0,_.S6)(o,function(c){c>0&&c<s&&(s=c)}),s===n&&(s=n/a),s>1&&(s=1),s}function Dp(o){var a=o.toString().split(/[eE]/),n=(a[0].split(".")[1]||"").length-+(a[1]||0);return n>0?n:0}function vh(o,a){var n=Dp(o),s=Dp(a),c=Math.pow(10,Math.max(n,s));return(o*c+a*c)/c}var B2=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="log",n}return a.prototype.invert=function(n){var s=this.base,c=Qi(s,this.max),f=this.rangeMin(),d=this.rangeMax()-f,v,y=this.positiveMin;if(y){if(n===0)return 0;v=Qi(s,y/s);var b=1/(c-v)*d;if(n<b)return n/b*y}else v=Qi(s,this.min);var S=(n-f)/d,C=S*(c-v)+v;return Math.pow(s,C)},a.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},a.prototype.setDomain=function(){o.prototype.setDomain.call(this);var n=this.min;if(n<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");n===0&&(this.positiveMin=Fp(this.values,this.base,this.max))},a.prototype.getScalePercent=function(n){var s=this.max,c=this.min;if(s===c||n<=0)return 0;var f=this.base,d=this.positiveMin;d&&(c=d*1/f);var v;return n<d?v=n/d/(Qi(f,s)-Qi(f,c)):v=(Qi(f,n)-Qi(f,c))/(Qi(f,s)-Qi(f,c)),v},a}(gs),Sl=B2,la=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="pow",n}return a.prototype.invert=function(n){var s=this.getInvertPercent(n),c=this.exponent,f=Ji(c,this.max),d=Ji(c,this.min),v=s*(f-d)+d,y=v>=0?1:-1;return Math.pow(v,c)*y},a.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},a.prototype.getScalePercent=function(n){var s=this.max,c=this.min;if(s===c)return 0;var f=this.exponent,d=(Ji(f,n)-Ji(f,c))/(Ji(f,s)-Ji(f,c));return d},a}(gs),qg=la,nr=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="time",n}return a.prototype.getText=function(n,s){var c=this.translate(n),f=this.formatter;return f?f(c,s):or(c,this.mask)},a.prototype.scale=function(n){var s=n;return((0,_.HD)(s)||(0,_.J_)(s))&&(s=this.translate(s)),o.prototype.scale.call(this,s)},a.prototype.translate=function(n){return Yi(n)},a.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},a.prototype.setDomain=function(){var n=this.values,s=this.getConfig("min"),c=this.getConfig("max");if((!(0,_.UM)(s)||!(0,_.hj)(s))&&(this.min=this.translate(this.min)),(!(0,_.UM)(c)||!(0,_.hj)(c))&&(this.max=this.translate(this.max)),n&&n.length){var f=[],d=1/0,v=d,y=0;(0,_.S6)(n,function(b){var S=Yi(b);if(isNaN(S))throw new TypeError("Invalid Time: "+b+" in time scale!");d>S?(v=d,d=S):v>S&&(v=S),y<S&&(y=S),f.push(S)}),n.length>1&&(this.minTickInterval=v-d),(0,_.UM)(s)&&(this.min=d),(0,_.UM)(c)&&(this.max=y)}},a}(ts),ys=nr,Bp=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="quantize",n}return a.prototype.invert=function(n){var s=this.ticks,c=s.length,f=this.getInvertPercent(n),d=Math.floor(f*(c-1));if(d>=c-1)return(0,_.Z$)(s);if(d<0)return(0,_.YM)(s);var v=s[d],y=s[d+1],b=d/(c-1),S=(d+1)/(c-1);return v+(f-b)/(S-b)*(y-v)},a.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},a.prototype.calculateTicks=function(){var n=o.prototype.calculateTicks.call(this);return this.nice||((0,_.Z$)(n)!==this.max&&n.push(this.max),(0,_.YM)(n)!==this.min&&n.unshift(this.min)),n},a.prototype.getScalePercent=function(n){var s=this.ticks;if(n<(0,_.YM)(s))return 0;if(n>(0,_.Z$)(s))return 1;var c=0;return(0,_.S6)(s,function(f,d){if(n>=f)c=d;else return!1}),c/(s.length-1)},a}(gs),_l=Bp,Ol=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="quantile",n}return a.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},a}(_l),Np=Ol,gh={};function yh(o){return gh[o]}function Bo(o,a){if(yh(o))throw new Error("type '"+o+"' existed.");gh[o]=a}var zp=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="identity",n.isIdentity=!0,n}return a.prototype.calculateTicks=function(){return this.values},a.prototype.scale=function(n){return this.values[0]!==n&&(0,_.hj)(n)?n:this.range[0]},a.prototype.invert=function(n){var s=this.range;return n<s[0]||n>s[1]?NaN:this.values[0]},a}(on),$g=zp;function jp(o){var a=o.values,n=o.tickInterval,s=o.tickCount,c=o.showLast;if((0,_.hj)(n)){var f=(0,_.hX)(a,function(R,D){return D%n===0}),d=(0,_.Z$)(a);return c&&(0,_.Z$)(f)!==d&&f.push(d),f}var v=a.length,y=o.min,b=o.max;if((0,_.UM)(y)&&(y=0),(0,_.UM)(b)&&(b=a.length-1),!(0,_.hj)(s)||s>=v)return a.slice(y,b+1);if(s<=0||b<=0)return[];for(var S=s===1?v:Math.floor(v/(s-1)),C=[],T=y,k=0;k<s&&!(T>=b);k++)T=Math.min(y+k*S,b),k===s-1&&c?C.push(a[b]):C.push(a[T]);return C}function Cl(o){var a=o.min,n=o.max,s=o.nice,c=o.tickCount,f=new Jg;return f.domain([a,n]),s&&f.nice(c),f.ticks(c)}var mh=5,Du=Math.sqrt(50),Pc=Math.sqrt(10),Kg=Math.sqrt(2),Jg=function(){function o(){this._domain=[0,1]}return o.prototype.domain=function(a){return a?(this._domain=Array.from(a,Number),this):this._domain.slice()},o.prototype.nice=function(a){var n,s;a===void 0&&(a=mh);var c=this._domain.slice(),f=0,d=this._domain.length-1,v=this._domain[f],y=this._domain[d],b;return y<v&&(n=[y,v],v=n[0],y=n[1],s=[d,f],f=s[0],d=s[1]),b=Bu(v,y,a),b>0?(v=Math.floor(v/b)*b,y=Math.ceil(y/b)*b,b=Bu(v,y,a)):b<0&&(v=Math.ceil(v*b)/b,y=Math.floor(y*b)/b,b=Bu(v,y,a)),b>0?(c[f]=Math.floor(v/b)*b,c[d]=Math.ceil(y/b)*b,this.domain(c)):b<0&&(c[f]=Math.ceil(v*b)/b,c[d]=Math.floor(y*b)/b,this.domain(c)),this},o.prototype.ticks=function(a){return a===void 0&&(a=mh),Qg(this._domain[0],this._domain[this._domain.length-1],a||mh)},o}();function Qg(o,a,n){var s,c=-1,f,d,v;if(a=+a,o=+o,n=+n,o===a&&n>0)return[o];if((s=a<o)&&(f=o,o=a,a=f),(v=Bu(o,a,n))===0||!isFinite(v))return[];if(v>0)for(o=Math.ceil(o/v),a=Math.floor(a/v),d=new Array(f=Math.ceil(a-o+1));++c<f;)d[c]=(o+c)*v;else for(o=Math.floor(o*v),a=Math.ceil(a*v),d=new Array(f=Math.ceil(o-a+1));++c<f;)d[c]=(o-c)/v;return s&&d.reverse(),d}function Bu(o,a,n){var s=(a-o)/Math.max(0,n),c=Math.floor(Math.log(s)/Math.LN10),f=s/Math.pow(10,c);return c>=0?(f>=Du?10:f>=Pc?5:f>=Kg?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(f>=Du?10:f>=Pc?5:f>=Kg?2:1)}function Gp(o,a,n){var s;return n==="ceil"?s=Math.ceil(o/a):n==="floor"?s=Math.floor(o/a):s=Math.round(o/a),s*a}function Lc(o,a,n){var s=Gp(o,n,"floor"),c=Gp(a,n,"ceil");s=(0,_.ri)(s,n),c=(0,_.ri)(c,n);for(var f=[],d=Math.max((c-s)/(Math.pow(2,12)-1),n),v=s;v<=c;v=v+d){var y=(0,_.ri)(v,d);f.push(y)}return{min:s,max:c,ticks:f}}function Nu(o,a,n){var s,c=o.minLimit,f=o.maxLimit,d=o.min,v=o.max,y=o.tickCount,b=y===void 0?5:y,S=(0,_.UM)(c)?(0,_.UM)(a)?d:a:c,C=(0,_.UM)(f)?(0,_.UM)(n)?v:n:f;if(S>C&&(s=[S,C],C=s[0],S=s[1]),b<=2)return[S,C];for(var T=(C-S)/(b-1),k=[],R=0;R<b;R++)k.push(S+T*R);return k}function zu(o){var a=o.min,n=o.max,s=o.tickInterval,c=o.minLimit,f=o.maxLimit,d=Cl(o);return!(0,_.UM)(c)||!(0,_.UM)(f)?Nu(o,(0,_.YM)(d),(0,_.Z$)(d)):s?Lc(a,n,s).ticks:d}function xa(o){return Math.abs(o)<1e-15?o:parseFloat(o.toFixed(15))}var xh=[1,5,2,2.5,4,3],ty=null,Wp=Number.EPSILON*100;function ey(o,a){return(o%a+a)%a}function ny(o){return Math.round(o*1e12)/1e12}function Ic(o,a,n,s,c,f){var d=(0,_.dp)(a),v=(0,_.cq)(a,o),y=0,b=ey(s,f);return(b<Wp||f-b<Wp)&&s<=0&&c>=0&&(y=1),1-v/(d-1)-n+y}function ry(o,a,n){var s=(0,_.dp)(a),c=(0,_.cq)(a,o),f=1;return 1-c/(s-1)-n+f}function iy(o,a,n,s,c,f){var d=(o-1)/(f-c),v=(a-1)/(Math.max(f,s)-Math.min(n,c));return 2-Math.max(d/v,v/d)}function Vp(o,a){return o>=a?2-(o-1)/(a-1):1}function ay(o,a,n,s){var c=a-o;return 1-.5*(Math.pow(a-s,2)+Math.pow(o-n,2))/Math.pow(.1*c,2)}function Rc(o,a,n){var s=a-o;if(n>s){var c=(n-s)/2;return 1-Math.pow(c,2)/Math.pow(.1*s,2)}return 1}function Fc(){return 1}function Hp(o,a,n,s,c,f){n===void 0&&(n=5),s===void 0&&(s=!0),c===void 0&&(c=xh),f===void 0&&(f=[.25,.2,.5,.05]);var d=n<0?0:Math.round(n);if(Number.isNaN(o)||Number.isNaN(a)||typeof o!="number"||typeof a!="number"||!d)return{min:0,max:0,ticks:[]};if(a-o<1e-15||d===1)return{min:o,max:a,ticks:[o]};if(a-o>1e148){var v=n||5,y=(a-o)/v;return{min:o,max:a,ticks:Array(v).fill(null).map(function(Bn,tr){return xa(o+y*tr)})}}for(var b={score:-2,lmin:0,lmax:0,lstep:0},S=1;S<1/0;){for(var C=0;C<c.length;C+=1){var T=c[C],k=ry(T,c,S);if(f[0]*k+f[1]+f[2]+f[3]<b.score){S=1/0;break}for(var R=2;R<1/0;){var D=Vp(R,d);if(f[0]*k+f[1]+f[2]*D+f[3]<b.score)break;for(var V=(a-o)/(R+1)/S/T,j=Math.ceil(Math.log10(V));j<1/0;){var H=S*T*Math.pow(10,j),Z=Rc(o,a,H*(R-1));if(f[0]*k+f[1]*Z+f[2]*D+f[3]<b.score)break;var q=Math.floor(a/H)*S-(R-1)*S,K=Math.ceil(o/H)*S;if(q<=K)for(var v=K-q,Ct=0;Ct<=v;Ct+=1){var Ft=q+Ct,Jt=Ft*(H/S),_e=Jt+H*(R-1),ge=H,Be=Ic(T,c,S,Jt,_e,ge),tn=ay(o,a,Jt,_e),vn=iy(R,d,o,a,Jt,_e),Mn=Fc(),Pn=f[0]*Be+f[1]*tn+f[2]*vn+f[3]*Mn;Pn>b.score&&(!s||Jt<=o&&_e>=a)&&(b.lmin=Jt,b.lmax=_e,b.lstep=ge,b.score=Pn)}j+=1}R+=1}}S+=1}var Ze=xa(b.lmax),ln=xa(b.lmin),dn=xa(b.lstep),fn=Math.floor(ny((Ze-ln)/dn))+1,bn=new Array(fn);bn[0]=xa(ln);for(var C=1;C<fn;C++)bn[C]=xa(bn[C-1]+dn);return{min:Math.min(o,(0,_.YM)(bn)),max:Math.max(a,(0,_.Z$)(bn)),ticks:bn}}function oy(o){var a=o.min,n=o.max,s=o.tickCount,c=o.nice,f=o.tickInterval,d=o.minLimit,v=o.maxLimit,y=Hp(a,n,s,c).ticks;return!(0,_.UM)(d)||!(0,_.UM)(v)?Nu(o,(0,_.YM)(y),(0,_.Z$)(y)):f?Lc(a,n,f).ticks:y}function sy(o){var a=o.base,n=o.tickCount,s=o.min,c=o.max,f=o.values,d,v=Qi(a,c);if(s>0)d=Math.floor(Qi(a,s));else{var y=Fp(f,a,c);d=Math.floor(Qi(a,y))}for(var b=v-d,S=Math.ceil(b/n),C=[],T=d;T<v+S;T=T+S)C.push(Math.pow(a,T));return s<=0&&C.unshift(0),C}function ht(o,a,n){if(n===void 0&&(n=5),o===a)return{max:a,min:o,ticks:[o]};var s=n<0?0:Math.round(n);if(s===0)return{max:a,min:o,ticks:[]};var c=1.5,f=.5+1.5*c,d=a-o,v=d/s,y=Math.pow(10,Math.floor(Math.log10(v))),b=y;2*y-v<c*(v-b)&&(b=2*y,5*y-v<f*(v-b)&&(b=5*y,10*y-v<c*(v-b)&&(b=10*y)));for(var S=Math.ceil(a/b),C=Math.floor(o/b),T=Math.max(S*b,a),k=Math.min(C*b,o),R=Math.floor((T-k)/b)+1,D=new Array(R),V=0;V<R;V++)D[V]=xa(k+V*b);return{min:k,max:T,ticks:D}}function Vt(o){var a=o.exponent,n=o.tickCount,s=Math.ceil(Ji(a,o.max)),c=Math.floor(Ji(a,o.min)),f=ht(c,s,n).ticks;return f.map(function(d){var v=d>=0?1:-1;return Math.pow(d,a)*v})}function pe(o,a){var n=o.length*a;return a===1?o[o.length-1]:a===0?o[0]:n%1!==0?o[Math.ceil(n)-1]:o.length%2===0?(o[n-1]+o[n])/2:o[n]}function ke(o){var a=o.tickCount,n=o.values;if(!n||!n.length)return[];for(var s=n.slice().sort(function(v,y){return v-y}),c=[],f=0;f<a;f++){var d=f/(a-1);c.push(pe(s,d))}return c}function $e(o){var a=o.min,n=o.max,s=o.tickCount,c=o.tickInterval,f=o.minLimit,d=o.maxLimit,v=ht(a,n,s).ticks;return!(0,_.UM)(f)||!(0,_.UM)(d)?Nu(o,(0,_.YM)(v),(0,_.Z$)(v)):c?Lc(a,n,c).ticks:v}function yn(o){var a=o.min,n=o.max,s=o.minTickInterval,c=o.tickInterval,f=o.tickCount;if(c)f=Math.ceil((n-a)/c);else{c=Rp(a,n,f)[1];var d=(n-a)/c,v=d/f;v>1&&(c=c*Math.ceil(v)),s&&c<s&&(c=s)}c=Math.max(Math.floor((n-a)/(Math.pow(2,12)-1)),c);for(var y=[],b=a;b<n+c;b+=c)y.push(b);return y}function Wn(o){var a=jp((0,L.pi)({showLast:!0},o));return a}function wr(o){return new Date(o).getFullYear()}function ba(o){return new Date(o,0,1).getTime()}function ta(o){return new Date(o).getMonth()}function go(o,a){var n=wr(o),s=wr(a),c=ta(o),f=ta(a);return(s-n)*12+(f-c)%12}function ju(o,a){return new Date(o,a,1).getTime()}function N2(o,a){return Math.ceil((a-o)/Ti)}function xk(o,a){return Math.ceil((a-o)/bi)}function bk(o,a){return Math.ceil((a-o)/(60*1e3))}function z2(o){var a=o.min,n=o.max,s=o.minTickInterval,c=o.tickCount,f=o.tickInterval,d=[];f||(f=(n-a)/c,s&&f<s&&(f=s)),f=Math.max(Math.floor((n-a)/(Math.pow(2,12)-1)),f);var v=wr(a);if(f>ei)for(var y=wr(n),b=Math.ceil(f/ei),S=v;S<=y+b;S=S+b)d.push(ba(S));else if(f>Xr)for(var C=Math.ceil(f/Xr),T=ta(a),k=go(a,n),S=0;S<=k+C;S=S+C)d.push(ju(v,S+T));else if(f>Ti)for(var R=new Date(a),D=R.getFullYear(),V=R.getMonth(),j=R.getDate(),H=Math.ceil(f/Ti),Z=N2(a,n),S=0;S<Z+H;S=S+H)d.push(new Date(D,V,j+S).getTime());else if(f>bi)for(var R=new Date(a),D=R.getFullYear(),V=R.getMonth(),H=R.getDate(),q=R.getHours(),K=Math.ceil(f/bi),Ct=xk(a,n),S=0;S<=Ct+K;S=S+K)d.push(new Date(D,V,H,q+S).getTime());else if(f>li)for(var Ft=bk(a,n),Jt=Math.ceil(f/li),S=0;S<=Ft+Jt;S=S+Jt)d.push(a+S*li);else{var _e=f;_e<ci&&(_e=ci);for(var ge=Math.floor(a/ci)*ci,Be=Math.ceil((n-a)/ci),tn=Math.ceil(_e/ci),S=0;S<Be+tn;S=S+tn)d.push(ge+S*ci)}return d.length>=512&&console.warn("Notice: current ticks length("+d.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+f+") is too small, increase the value to solve the problem!"),d}wn("cat",jp),wn("time-cat",Wn),wn("wilkinson-extended",oy),wn("r-pretty",$e),wn("time",yn),wn("time-pretty",z2),wn("log",sy),wn("pow",Vt),wn("quantile",ke),wn("d3-linear",zu),Bo("cat",Cn),Bo("category",Cn),Bo("identity",$g),Bo("linear",ts),Bo("log",Sl),Bo("pow",qg),Bo("time",ys),Bo("timeCat",ma),Bo("quantize",_l),Bo("quantile",Np);var j2={},G2=function(o){return j2[o.toLowerCase()]},bh=function(o,a){if(G2(o))throw new Error("Attribute type '".concat(o,"' existed."));j2[o.toLowerCase()]=a};bh("Color",Xt),bh("Opacity",Me),bh("Position",oe),bh("Shape",We),bh("Size",gn);var wh=kt(77160),wk=kt(35600),Dr=kt(31506),Yp=function(){function o(a){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var n=a.start,s=a.end,c=a.matrix,f=c===void 0?[1,0,0,0,1,0,0,0,1]:c,d=a.isTransposed,v=d===void 0?!1:d;this.start=n,this.end=s,this.matrix=f,this.originalMatrix=(0,L.ev)([],f),this.isTransposed=v}return o.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},o.prototype.update=function(a){(0,_.f0)(this,a),this.initial()},o.prototype.convertDim=function(a,n){var s,c=this[n],f=c.start,d=c.end;return this.isReflect(n)&&(s=[d,f],f=s[0],d=s[1]),f+a*(d-f)},o.prototype.invertDim=function(a,n){var s,c=this[n],f=c.start,d=c.end;return this.isReflect(n)&&(s=[d,f],f=s[0],d=s[1]),(a-f)/(d-f)},o.prototype.applyMatrix=function(a,n,s){s===void 0&&(s=0);var c=this.matrix,f=[a,n,s];return wh.kK(f,f,c),f},o.prototype.invertMatrix=function(a,n,s){s===void 0&&(s=0);var c=this.matrix,f=wk.U_([0,0,0,0,0,0,0,0,0],c),d=[a,n,s];return f&&wh.kK(d,d,f),d},o.prototype.convert=function(a){var n=this.convertPoint(a),s=n.x,c=n.y,f=this.applyMatrix(s,c,1);return{x:f[0],y:f[1]}},o.prototype.invert=function(a){var n=this.invertMatrix(a.x,a.y,1);return this.invertPoint({x:n[0],y:n[1]})},o.prototype.rotate=function(a){var n=this.matrix,s=this.center;return Dr.m$(n,n,[-s.x,-s.y]),Dr.zu(n,n,a),Dr.m$(n,n,[s.x,s.y]),this},o.prototype.reflect=function(a){return a==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},o.prototype.scale=function(a,n){var s=this.matrix,c=this.center;return Dr.m$(s,s,[-c.x,-c.y]),Dr.lh(s,s,[a,n]),Dr.m$(s,s,[c.x,c.y]),this},o.prototype.translate=function(a,n){var s=this.matrix;return Dr.m$(s,s,[a,n]),this},o.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},o.prototype.getCenter=function(){return this.center},o.prototype.getWidth=function(){return this.width},o.prototype.getHeight=function(){return this.height},o.prototype.getRadius=function(){return this.radius},o.prototype.isReflect=function(a){return a==="x"?this.isReflectX:this.isReflectY},o.prototype.resetMatrix=function(a){this.matrix=a||(0,L.ev)([],this.originalMatrix)},o}(),Up=Yp,wi=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.isRect=!0,s.type="cartesian",s.initial(),s}return a.prototype.initial=function(){o.prototype.initial.call(this);var n=this.start,s=this.end;this.x={start:n.x,end:s.x},this.y={start:n.y,end:s.y}},a.prototype.convertPoint=function(n){var s,c=n.x,f=n.y;return this.isTransposed&&(s=[f,c],c=s[0],f=s[1]),{x:this.convertDim(c,"x"),y:this.convertDim(f,"y")}},a.prototype.invertPoint=function(n){var s,c=this.invertDim(n.x,"x"),f=this.invertDim(n.y,"y");return this.isTransposed&&(s=[f,c],c=s[0],f=s[1]),{x:c,y:f}},a}(Up),W2=wi,Nn=kt(31437),V2=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.isHelix=!0,s.type="helix";var c=n.startAngle,f=c===void 0?1.25*Math.PI:c,d=n.endAngle,v=d===void 0?7.25*Math.PI:d,y=n.innerRadius,b=y===void 0?0:y,S=n.radius;return s.startAngle=f,s.endAngle=v,s.innerRadius=b,s.radius=S,s.initial(),s}return a.prototype.initial=function(){o.prototype.initial.call(this);var n=(this.endAngle-this.startAngle)/(2*Math.PI)+1,s=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(s=s*this.radius),this.d=Math.floor(s*(1-this.innerRadius)/n),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*s,end:this.innerRadius*s+this.d*.99}},a.prototype.convertPoint=function(n){var s,c=n.x,f=n.y;this.isTransposed&&(s=[f,c],c=s[0],f=s[1]);var d=this.convertDim(c,"x"),v=this.a*d,y=this.convertDim(f,"y");return{x:this.center.x+Math.cos(d)*(v+y),y:this.center.y+Math.sin(d)*(v+y)}},a.prototype.invertPoint=function(n){var s,c=this.d+this.y.start,f=Nn.$X([0,0],[n.x,n.y],[this.center.x,this.center.y]),d=Dr.Dg(f,[1,0],!0),v=d*this.a;Nn.kE(f)<v&&(v=Nn.kE(f));var y=Math.floor((Nn.kE(f)-v)/c);d=2*y*Math.PI+d;var b=this.a*d,S=Nn.kE(f)-b;S=(0,_.vQ)(S,0)?0:S;var C=this.invertDim(d,"x"),T=this.invertDim(S,"y");return C=(0,_.vQ)(C,0)?0:C,T=(0,_.vQ)(T,0)?0:T,this.isTransposed&&(s=[T,C],C=s[0],T=s[1]),{x:C,y:T}},a}(Up),Mh=V2,Sh=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.isPolar=!0,s.type="polar";var c=n.startAngle,f=c===void 0?-Math.PI/2:c,d=n.endAngle,v=d===void 0?Math.PI*3/2:d,y=n.innerRadius,b=y===void 0?0:y,S=n.radius;return s.startAngle=f,s.endAngle=v,s.innerRadius=b,s.radius=S,s.initial(),s}return a.prototype.initial=function(){for(o.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var n=this.getOneBox(),s=n.maxX-n.minX,c=n.maxY-n.minY,f=Math.abs(n.minX)/s,d=Math.abs(n.minY)/c,v;this.height/c>this.width/s?(v=this.width/s,this.circleCenter={x:this.center.x-(.5-f)*this.width,y:this.center.y-(.5-d)*v*c}):(v=this.height/c,this.circleCenter={x:this.center.x-(.5-f)*v*s,y:this.center.y-(.5-d)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=v*this.radius:(this.radius<=0||this.radius>v)&&(this.polarRadius=v):this.polarRadius=v,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},a.prototype.getRadius=function(){return this.polarRadius},a.prototype.convertPoint=function(n){var s,c=this.getCenter(),f=n.x,d=n.y;return this.isTransposed&&(s=[d,f],f=s[0],d=s[1]),f=this.convertDim(f,"x"),d=this.convertDim(d,"y"),{x:c.x+Math.cos(f)*d,y:c.y+Math.sin(f)*d}},a.prototype.invertPoint=function(n){var s,c=this.getCenter(),f=[n.x-c.x,n.y-c.y],d=this,v=d.startAngle,y=d.endAngle;this.isReflect("x")&&(s=[y,v],v=s[0],y=s[1]);var b=[1,0,0,0,1,0,0,0,1];Dr.zu(b,b,v);var S=[1,0,0];wh.kK(S,S,b);var C=[S[0],S[1]],T=Dr.Dg(C,f,y<v);(0,_.vQ)(T,Math.PI*2)&&(T=0);var k=Nn.kE(f),R=T/(y-v);R=y-v>0?R:-R;var D=this.invertDim(k,"y"),V={x:0,y:0};return V.x=this.isTransposed?D:R,V.y=this.isTransposed?R:D,V},a.prototype.getCenter=function(){return this.circleCenter},a.prototype.getOneBox=function(){var n=this.startAngle,s=this.endAngle;if(Math.abs(s-n)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var c=[0,Math.cos(n),Math.cos(s)],f=[0,Math.sin(n),Math.sin(s)],d=Math.min(n,s);d<Math.max(n,s);d+=Math.PI/18)c.push(Math.cos(d)),f.push(Math.sin(d));return{minX:Math.min.apply(Math,c),maxX:Math.max.apply(Math,c),minY:Math.min.apply(Math,f),maxY:Math.max.apply(Math,f)}},a}(Up),Xp=Sh,Dc={},_h=function(o){return Dc[o.toLowerCase()]},yo=function(o,a){Dc[o.toLowerCase()]=a};yo("rect",W2),yo("cartesian",W2),yo("polar",Xp),yo("helix",Mh);function H2(o,a,n){var s=new Ot.Event(a,n);s.target=o,s.propagationPath.push(o),o.emitDelegation(a,s);for(var c=o.getParent();c;)c.emitDelegation(a,s),s.propagationPath.push(c),c=c.getParent()}var Y2=[1,0,0,0,1,0,0,0,1];function Bc(o,a,n){if(n===void 0&&(n=Y2),!a)return null;var s=Dr.vs(n,[["t",-o.x,-o.y],["r",a],["t",o.x,o.y]]);return s}function ly(o,a){return!o.x&&!o.y?null:Dr.vs(a||Y2,[["t",o.x,o.y]])}function Mk(o){var a=[1,0,0],n=[0,0,0];return wh.kK(n,a,o),Math.atan2(n[1],n[0])}function Zp(o,a){var n=[0,0];return Nn.kK(n,a,o),n}function Sk(o,a){var n=Zp(o,[a.minX,a.minY]),s=Zp(o,[a.maxX,a.minY]),c=Zp(o,[a.minX,a.maxY]),f=Zp(o,[a.maxX,a.maxY]),d=Math.min(n[0],s[0],c[0],f[0]),v=Math.max(n[0],s[0],c[0],f[0]),y=Math.min(n[1],s[1],c[1],f[1]),b=Math.max(n[1],s[1],c[1],f[1]);return{x:d,y,minX:d,minY:y,maxX:v,maxY:b,width:v-d,height:b-y}}function cy(o,a,n,s){if(a){var c=Bc({x:n,y:s},a,o.getMatrix());o.setMatrix(c)}}function qp(o,a,n){var s=ly({x:a,y:n});o.attr("matrix",s)}function $p(o){var a=0,n=0,s=0,c=0;return(0,_.hj)(o)?a=n=s=c=o:(0,_.kJ)(o)&&(a=o[0],s=(0,_.UM)(o[1])?o[0]:o[1],c=(0,_.UM)(o[2])?o[0]:o[2],n=(0,_.UM)(o[3])?s:o[3]),[a,s,c,n]}function Kp(o){for(var a=o.childNodes,n=a.length,s=n-1;s>=0;s--)o.removeChild(a[s])}function Jp(o,a){return!!o.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function Gu(o){var a=o.start,n=o.end,s=Math.min(a.x,n.x),c=Math.min(a.y,n.y),f=Math.max(a.x,n.x),d=Math.max(a.y,n.y);return{x:s,y:c,minX:s,minY:c,maxX:f,maxY:d,width:f-s,height:d-c}}function Qp(o){var a=o.map(function(v){return v.x}),n=o.map(function(v){return v.y}),s=Math.min.apply(Math,a),c=Math.min.apply(Math,n),f=Math.max.apply(Math,a),d=Math.max.apply(Math,n);return{x:s,y:c,minX:s,minY:c,maxX:f,maxY:d,width:f-s,height:d-c}}function Oh(o,a,n,s){var c=o+n,f=a+s;return{x:o,y:a,width:n,height:s,minX:o,minY:a,maxX:isNaN(c)?0:c,maxY:isNaN(f)?0:f}}function Nc(o,a,n){return(1-n)*o+a*n}function ea(o,a,n){return{x:o.x+Math.cos(n)*a,y:o.y+Math.sin(n)*a}}function U2(o,a){var n=a.x-o.x,s=a.y-o.y;return Math.sqrt(n*n+s*s)}var _k=function(o){return new Promise(function(a){setTimeout(a,o)})},Wu=function(o,a,n){return n===void 0&&(n=Math.pow(Number.EPSILON,.5)),[o,a].includes(1/0)?Math.abs(o)===Math.abs(a):Math.abs(o-a)<n};function X2(o,a){var n=Math.max(o.minX,a.minX),s=Math.max(o.minY,a.minY),c=Math.min(o.maxX,a.maxX),f=Math.min(o.maxY,a.maxY);return Oh(n,s,c-n,f-s)}function Ok(o,a){var n=Math.min(o.minX,a.minX),s=Math.min(o.minY,a.minY),c=Math.max(o.maxX,a.maxX),f=Math.max(o.maxY,a.maxY);return Oh(n,s,c-n,f-s)}function Z2(o){var a=o.getClip(),n=a&&a.getBBox(),s;if(!o.isGroup())s=o.getBBox();else{var c=1/0,f=-1/0,d=1/0,v=-1/0,y=o.getChildren();y.length>0?(0,_.S6)(y,function(b){if(b.get("visible")){if(b.isGroup()&&b.get("children").length===0)return!0;var S=Z2(b),C=b.applyToMatrix([S.minX,S.minY,1]),T=b.applyToMatrix([S.minX,S.maxY,1]),k=b.applyToMatrix([S.maxX,S.minY,1]),R=b.applyToMatrix([S.maxX,S.maxY,1]),D=Math.min(C[0],T[0],k[0],R[0]),V=Math.max(C[0],T[0],k[0],R[0]),j=Math.min(C[1],T[1],k[1],R[1]),H=Math.max(C[1],T[1],k[1],R[1]);D<c&&(c=D),V>f&&(f=V),j<d&&(d=j),H>v&&(v=H)}}):(c=0,f=0,d=0,v=0),s=Oh(c,d,f-c,v-d)}return n?X2(s,n):s}function ms(o,a){if(!(!o.getClip()&&!a.getClip())){var n=a.getClip();if(!n){o.setClip(null);return}var s={type:n.get("type"),attrs:n.attr()};o.setClip(s)}}function wa(o){return o+"px"}function q2(o,a,n,s){var c=U2(o,a),f=s/c,d=0;return n==="start"?d=0-f:n==="end"&&(d=1+f),{x:Nc(o.x,a.x,d),y:Nc(o.y,a.y,d)}}var tv={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Ma=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.initCfg(),s}return a.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},a.prototype.clear=function(){},a.prototype.update=function(n){var s=this,c=this.get("defaultCfg")||{};(0,_.S6)(n,function(f,d){var v=s.get(d),y=f;v!==f&&((0,_.Kn)(f)&&c[d]&&(y=(0,_.b$)({},c[d],f)),s.set(d,y))}),this.updateInner(n),this.afterUpdate(n)},a.prototype.updateInner=function(n){},a.prototype.afterUpdate=function(n){(0,_.wH)(n,"visible")&&(n.visible?this.show():this.hide()),(0,_.wH)(n,"capture")&&this.setCapture(n.capture)},a.prototype.getLayoutBBox=function(){return this.getBBox()},a.prototype.getLocationType=function(){return this.get("locationType")},a.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},a.prototype.setOffset=function(n,s){this.update({offsetX:n,offsetY:s})},a.prototype.setLocation=function(n){var s=(0,L.pi)({},n);this.update(s)},a.prototype.getLocation=function(){var n=this,s={},c=this.get("locationType"),f=tv[c];return(0,_.S6)(f,function(d){s[d]=n.get(d)}),s},a.prototype.isList=function(){return!1},a.prototype.isSlider=function(){return!1},a.prototype.init=function(){},a.prototype.initCfg=function(){var n=this,s=this.get("defaultCfg");(0,_.S6)(s,function(c,f){var d=n.get(f);if((0,_.Kn)(d)){var v=(0,_.b$)({},c,d);n.set(f,v)}})},a}(Ot.Base),Ch=Ma,Al="update_status",$2=["visible","tip","delegateObject"],Ck=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Ak=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},a.prototype.remove=function(){this.clear();var n=this.get("group");n.remove()},a.prototype.clear=function(){var n=this.get("group");n.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},a.prototype.getChildComponentById=function(n){var s=this.getElementById(n),c=s&&s.get("component");return c},a.prototype.getElementById=function(n){return this.get("shapesMap")[n]},a.prototype.getElementByLocalId=function(n){var s=this.getElementId(n);return this.getElementById(s)},a.prototype.getElementsByName=function(n){var s=[];return(0,_.S6)(this.get("shapesMap"),function(c){c.get("name")===n&&s.push(c)}),s},a.prototype.getContainer=function(){return this.get("container")},a.prototype.updateInner=function(n){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},a.prototype.render=function(){var n=this.get("offScreenGroup");n||(n=this.offScreenRender());var s=this.get("group");this.updateElements(n,s),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},a.prototype.show=function(){var n=this.get("group");n.show(),this.set("visible",!0)},a.prototype.hide=function(){var n=this.get("group");n.hide(),this.set("visible",!1)},a.prototype.setCapture=function(n){var s=this.get("group");s.set("capture",n),this.set("capture",n)},a.prototype.destroy=function(){this.removeEvent(),this.remove(),o.prototype.destroy.call(this)},a.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},a.prototype.getLayoutBBox=function(){var n=this.get("group"),s=this.getInnerLayoutBBox(),c=n.getTotalMatrix();return c&&(s=Sk(c,s)),s},a.prototype.on=function(n,s,c){var f=this.get("group");return f.on(n,s,c),this},a.prototype.off=function(n,s){var c=this.get("group");return c&&c.off(n,s),this},a.prototype.emit=function(n,s){var c=this.get("group");c.emit(n,s)},a.prototype.init=function(){o.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},a.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},a.prototype.delegateEmit=function(n,s){var c=this.get("group");s.target=c,c.emit(n,s),H2(c,n,s)},a.prototype.createOffScreenGroup=function(){var n=this.get("group"),s=n.getGroupBase(),c=new s({delegateObject:this.getDelegateObject()});return c},a.prototype.applyOffset=function(){var n=this.get("offsetX"),s=this.get("offsetY");this.moveElementTo(this.get("group"),{x:n,y:s})},a.prototype.initGroup=function(){var n=this.get("container");this.set("group",n.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},a.prototype.offScreenRender=function(){this.clearOffScreenCache();var n=this.createOffScreenGroup();return this.renderInner(n),this.set("offScreenGroup",n),this.set("offScreenBBox",Z2(n)),n},a.prototype.addGroup=function(n,s){this.appendDelegateObject(n,s);var c=n.addGroup(s);return this.get("isRegister")&&this.registerElement(c),c},a.prototype.addShape=function(n,s){this.appendDelegateObject(n,s);var c=n.addShape(s);return this.get("isRegister")&&this.registerElement(c),c},a.prototype.addComponent=function(n,s){var c=s.id,f=s.component,d=(0,L._T)(s,["id","component"]),v=new f((0,L.pi)((0,L.pi)({},d),{id:c,container:n,updateAutoRender:this.get("updateAutoRender")}));return v.init(),v.render(),this.get("isRegister")&&this.registerElement(v.get("group")),v},a.prototype.initEvent=function(){},a.prototype.removeEvent=function(){var n=this.get("group");n.off()},a.prototype.getElementId=function(n){var s=this.get("id"),c=this.get("name");return s+"-"+c+"-"+n},a.prototype.registerElement=function(n){var s=n.get("id");this.get("shapesMap")[s]=n},a.prototype.unregisterElement=function(n){var s=n.get("id");delete this.get("shapesMap")[s]},a.prototype.moveElementTo=function(n,s){var c=ly(s);n.attr("matrix",c)},a.prototype.addAnimation=function(n,s,c){var f=s.attr("opacity");(0,_.UM)(f)&&(f=1),s.attr("opacity",0),s.animate({opacity:f},c)},a.prototype.removeAnimation=function(n,s,c){s.animate({opacity:0},c)},a.prototype.updateAnimation=function(n,s,c,f){s.animate(c,f)},a.prototype.updateElements=function(n,s){var c=this,f=this.get("animate"),d=this.get("animateOption"),v=n.getChildren().slice(0),y;(0,_.S6)(v,function(b){var S=b.get("id"),C=c.getElementById(S),T=b.get("name");if(C)if(b.get("isComponent")){var k=b.get("component"),R=C.get("component"),D=(0,_.ei)(k.cfg,(0,_.e5)((0,_.XP)(k.cfg),Ck));R.update(D),C.set(Al,"update")}else{var V=c.getReplaceAttrs(C,b);f&&d.update?c.updateAnimation(T,C,V,d.update):C.attr(V),b.isGroup()&&c.updateElements(b,C),(0,_.S6)($2,function(q){C.set(q,b.get(q))}),ms(C,b),y=C,C.set(Al,"update")}else{s.add(b);var j=s.getChildren();if(j.splice(j.length-1,1),y){var H=j.indexOf(y);j.splice(H+1,0,b)}else j.unshift(b);if(c.registerElement(b),b.set(Al,"add"),b.get("isComponent")){var k=b.get("component");k.set("container",s)}else b.isGroup()&&c.registerNewGroup(b);if(y=b,f){var Z=c.get("isInit")?d.appear:d.enter;Z&&c.addAnimation(T,b,Z)}}})},a.prototype.clearUpdateStatus=function(n){var s=n.getChildren();(0,_.S6)(s,function(c){c.set(Al,null)})},a.prototype.clearOffScreenCache=function(){var n=this.get("offScreenGroup");n&&n.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},a.prototype.getDelegateObject=function(){var n,s=this.get("name"),c=(n={},n[s]=this,n.component=this,n);return c},a.prototype.appendDelegateObject=function(n,s){var c=n.get("delegateObject");s.delegateObject||(s.delegateObject={}),(0,_.CD)(s.delegateObject,c)},a.prototype.getReplaceAttrs=function(n,s){var c=n.attr(),f=s.attr();return(0,_.S6)(c,function(d,v){f[v]===void 0&&(f[v]=void 0)}),f},a.prototype.registerNewGroup=function(n){var s=this,c=n.getChildren();(0,_.S6)(c,function(f){s.registerElement(f),f.set(Al,"add"),f.isGroup()&&s.registerNewGroup(f)})},a.prototype.deleteElements=function(){var n=this,s=this.get("shapesMap"),c=[];(0,_.S6)(s,function(v,y){!v.get(Al)||v.destroyed?c.push([y,v]):v.set(Al,null)});var f=this.get("animate"),d=this.get("animateOption");(0,_.S6)(c,function(v){var y=v[0],b=v[1];if(!b.destroyed){var S=b.get("name");if(f&&d.leave){var C=(0,_.CD)({callback:function(){n.removeElement(b)}},d.leave);n.removeAnimation(S,b,C)}else n.removeElement(b)}delete s[y]})},a.prototype.removeElement=function(n){if(n.get("isGroup")){var s=n.get("component");s&&s.destroy()}n.remove()},a}(Ch),ca=Ak,uy="\u2026";function Tk(o){for(var a=0,n=0;n<o.length;n++)a+=zc(o,n);return a}function zc(o,a){return o.charCodeAt(a)>0&&o.charCodeAt(a)<128?1:2}function Ek(o,a,n){n===void 0&&(n="tail");var s=o.length,c="";if(n==="tail"){for(var f=0,d=0;f<a;){var v=zc(o,d);if(f+v<=a)c+=o[d],f+=zc(o,d),d++;else break}c+=uy}else if(n==="head"){for(var f=0,d=s-1;f<a;){var v=zc(o,d);if(f+v<=a)c+=o[d],f+=zc(o,d),d--;else break}c=uy+c}else{for(var y="",b="",f=0,S=0,C=s-1;f<a;){var T=zc(o,S),k=!1;T+f<=a&&(y+=o[S],S++,f+=T,k=!0);var R=zc(o,C);if(R+f<=a&&(b=o[C]+b,f+=R,C--,k=!0),!k)break}c=y+uy+b}return c}var kk="\u2026",K2=2,J2=400;function Pk(o){for(var a=o.map(function(y){var b=y.attr("text");return(0,_.UM)(b)?"":""+b}),n=0,s=0,c=0;c<a.length;c+=1){for(var f=0,d=0;d<=a[c].length;d+=1){var v=a[c].charCodeAt(d);v>=19968&&v<=40869?f+=2:f+=1}f>n&&(n=f,s=c)}return o[s].getBBox().width}function Q2(o){if(o.length>J2)return Pk(o);var a=0;return(0,_.S6)(o,function(n){var s=n.getBBox(),c=s.width;a<c&&(a=c)}),a}function o6(o,a){var n=a.getCanvasBBox();return o?n.width:n.height}function s6(o,a){return o.getBBox().width<a}function Vu(o,a,n,s){var c;s===void 0&&(s="tail");var f=(c=a.attr("text"))!==null&&c!==void 0?c:"";if(s==="tail"){var d=(0,_.ei)(a.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),v=(0,_.Lo)(f,n,d,"\u2026");return f!==v?(a.attr("text",v),a.set("tip",f),!0):(a.set("tip",null),!1)}var y=o6(o,a),b=Tk(f),S=!1;if(n<y){var C=Math.floor(n/y*b)-K2,T=void 0;C>=0?T=Ek(f,C,s):T=kk,T&&(a.attr("text",T),S=!0)}return S?a.set("tip",f):a.set("tip",null),S}function ev(o,a){var n=a.x,s=a.y,c=a.content,f=a.style,d=a.id,v=a.name,y=a.rotate,b=a.maxLength,S=a.autoEllipsis,C=a.isVertical,T=a.ellipsisPosition,k=a.background,R=o.addGroup({id:d+"-group",name:v+"-group",attrs:{x:n,y:s}}),D=R.addShape({type:"text",id:d,name:v,attrs:(0,L.pi)({x:0,y:0,text:c},f)}),V=$p((0,_.U2)(k,"padding",0));if(b&&S){var j=b-(V[1]+V[3]);Vu(!C,D,j,T)}if(k){var H=(0,_.U2)(k,"style",{}),Z=D.getCanvasBBox(),q=Z.minX,K=Z.minY,Ct=Z.width,Ft=Z.height,Jt=R.addShape("rect",{id:d+"-bg",name:d+"-bg",attrs:(0,L.pi)({x:q-V[3],y:K-V[0],width:Ct+V[1]+V[3],height:Ft+V[0]+V[2]},H)});Jt.toBack()}qp(R,n,s),cy(R,y,n,s)}var cr={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},tw=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:cr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:cr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:cr.lineColor,lineWidth:1}}}})},a.prototype.renderInner=function(n){this.renderLine(n),this.get("text")&&this.renderLabel(n)},a.prototype.renderLine=function(n){var s=this.get("start"),c=this.get("end"),f=this.get("style");this.addShape(n,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,L.pi)({x1:s.x,y1:s.y,x2:c.x,y2:c.y},f)})},a.prototype.getLabelPoint=function(n,s,c){var f;return c==="start"?f=0:c==="center"?f=.5:(0,_.HD)(c)&&c.indexOf("%")!==-1?f=parseInt(c,10)/100:(0,_.hj)(c)?f=c:f=1,(f>1||f<0)&&(f=1),{x:Nc(n.x,s.x,f),y:Nc(n.y,s.y,f)}},a.prototype.renderLabel=function(n){var s=this.get("text"),c=this.get("start"),f=this.get("end"),d=s.position,v=s.content,y=s.style,b=s.offsetX,S=s.offsetY,C=s.autoRotate,T=s.maxLength,k=s.autoEllipsis,R=s.ellipsisPosition,D=s.background,V=s.isVertical,j=V===void 0?!1:V,H=this.getLabelPoint(c,f,d),Z=H.x+b,q=H.y+S,K={id:this.getElementId("line-text"),name:"annotation-line-text",x:Z,y:q,content:v,style:y,maxLength:T,autoEllipsis:k,ellipsisPosition:R,background:D,isVertical:j};if(C){var Ct=[f.x-c.x,f.y-c.y];K.rotate=Math.atan2(Ct[1],Ct[0])}ev(n,K)},a}(ca),xs=tw,Lk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:cr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:cr.fontFamily}}})},a.prototype.setLocation=function(n){this.set("x",n.x),this.set("y",n.y),this.resetLocation()},a.prototype.renderInner=function(n){var s=this.getLocation(),c=s.x,f=s.y,d=this.get("content"),v=this.get("style"),y=this.getElementId("text"),b=this.get("name")+"-text",S=this.get("maxLength"),C=this.get("autoEllipsis"),T=this.get("isVertical"),k=this.get("ellipsisPosition"),R=this.get("background"),D=this.get("rotate"),V={id:y,name:b,x:c,y:f,content:d,style:v,maxLength:S,autoEllipsis:C,isVertical:T,ellipsisPosition:k,background:R,rotate:D};ev(n,V)},a.prototype.resetLocation=function(){var n=this.getElementByLocalId("text-group");if(n){var s=this.getLocation(),c=s.x,f=s.y,d=this.get("rotate");qp(n,c,f),cy(n,d,c,f)}},a}(ca),ew=Lk,l6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},a.prototype.renderInner=function(n){this.renderArc(n)},a.prototype.getArcPath=function(){var n=this.getLocation(),s=n.center,c=n.radius,f=n.startAngle,d=n.endAngle,v=ea(s,c,f),y=ea(s,c,d),b=d-f>Math.PI?1:0,S=[["M",v.x,v.y]];if(d-f===Math.PI*2){var C=ea(s,c,f+Math.PI);S.push(["A",c,c,0,b,1,C.x,C.y]),S.push(["A",c,c,0,b,1,y.x,y.y])}else S.push(["A",c,c,0,b,1,y.x,y.y]);return S},a.prototype.renderArc=function(n){var s=this.getArcPath(),c=this.get("style");this.addShape(n,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,L.pi)({path:s},c)})},a}(ca),jc=l6,nw=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:cr.regionColor,opacity:.4}}})},a.prototype.renderInner=function(n){this.renderRegion(n)},a.prototype.renderRegion=function(n){var s=this.get("start"),c=this.get("end"),f=this.get("style"),d=Gu({start:s,end:c});this.addShape(n,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,L.pi)({x:d.x,y:d.y,width:d.width,height:d.height},f)})},a}(ca),rw=nw,Ik=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},a.prototype.renderInner=function(n){this.renderImage(n)},a.prototype.getImageAttrs=function(){var n=this.get("start"),s=this.get("end"),c=this.get("style"),f=Gu({start:n,end:s}),d=this.get("src");return(0,L.pi)({x:f.x,y:f.y,img:d,width:f.width,height:f.height},c)},a.prototype.renderImage=function(n){this.addShape(n,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},a}(ca),fy=Ik,Rk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:cr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:cr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:cr.fontFamily}}}})},a.prototype.renderInner=function(n){(0,_.U2)(this.get("line"),"display")&&this.renderLine(n),(0,_.U2)(this.get("text"),"display")&&this.renderText(n),(0,_.U2)(this.get("point"),"display")&&this.renderPoint(n),this.get("autoAdjust")&&this.autoAdjust(n)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},a.prototype.renderPoint=function(n){var s=this.getShapeAttrs().point;this.addShape(n,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:s})},a.prototype.renderLine=function(n){var s=this.getShapeAttrs().line;this.addShape(n,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:s})},a.prototype.renderText=function(n){var s=this.getShapeAttrs().text,c=s.x,f=s.y,d=s.text,v=(0,L._T)(s,["x","y","text"]),y=this.get("text"),b=y.background,S=y.maxLength,C=y.autoEllipsis,T=y.isVertival,k=y.ellipsisPosition,R={x:c,y:f,id:this.getElementId("text"),name:"annotation-text",content:d,style:v,background:b,maxLength:S,autoEllipsis:C,isVertival:T,ellipsisPosition:k};ev(n,R)},a.prototype.autoAdjust=function(n){var s=this.get("direction"),c=this.get("x"),f=this.get("y"),d=(0,_.U2)(this.get("line"),"length",0),v=this.get("coordinateBBox"),y=n.getBBox(),b=y.minX,S=y.maxX,C=y.minY,T=y.maxY,k=n.findById(this.getElementId("text-group")),R=n.findById(this.getElementId("text")),D=n.findById(this.getElementId("line"));if(v&&k){var V=k.attr("x"),j=k.attr("y"),H=R.getCanvasBBox(),Z=H.width,q=H.height,K=0,Ct=0;if(c+b<=v.minX)if(s==="leftward")K=1;else{var Ft=v.minX-(c+b);V=k.attr("x")+Ft}else if(c+S>=v.maxX)if(s==="rightward")K=-1;else{var Ft=c+S-v.maxX;V=k.attr("x")-Ft}if(K&&(D&&D.attr("path",[["M",0,0],["L",d*K,0]]),V=(d+2+Z)*K),f+C<=v.minY)if(s==="upward")Ct=1;else{var Ft=v.minY-(f+C);j=k.attr("y")+Ft}else if(f+T>=v.maxY)if(s==="downward")Ct=-1;else{var Ft=f+T-v.maxY;j=k.attr("y")-Ft}Ct&&(D&&D.attr("path",[["M",0,0],["L",0,d*Ct]]),j=(d+2+q)*Ct),(V!==k.attr("x")||j!==k.attr("y"))&&qp(k,V,j)}},a.prototype.getShapeAttrs=function(){var n=(0,_.U2)(this.get("line"),"display"),s=(0,_.U2)(this.get("point"),"style",{}),c=(0,_.U2)(this.get("line"),"style",{}),f=(0,_.U2)(this.get("text"),"style",{}),d=this.get("direction"),v=n?(0,_.U2)(this.get("line"),"length",0):0,y=0,b=0,S="top",C="start";switch(d){case"upward":b=-1,S="bottom";break;case"downward":b=1,S="top";break;case"leftward":y=-1,C="end";break;case"rightward":y=1,C="start";break}return{point:(0,L.pi)({x:0,y:0},s),line:(0,L.pi)({path:[["M",0,0],["L",v*y,v*b]]},c),text:(0,L.pi)({x:(v+2)*y,y:(v+2)*b,text:(0,_.U2)(this.get("text"),"content",""),textBaseline:S,textAlign:C},f)}},a}(ca),c6=Rk,Fk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:cr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:cr.textColor,fontFamily:cr.fontFamily}}}})},a.prototype.renderInner=function(n){var s=(0,_.U2)(this.get("region"),"style",{}),c=(0,_.U2)(this.get("text"),"style",{}),f=this.get("lineLength")||0,d=this.get("points");if(d.length){var v=Qp(d),y=[];y.push(["M",d[0].x,v.minY-f]),d.forEach(function(S){y.push(["L",S.x,S.y])}),y.push(["L",d[d.length-1].x,d[d.length-1].y-f]),this.addShape(n,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,L.pi)({path:y},s)});var b=(0,L.pi)({id:this.getElementId("text"),name:"annotation-text",x:(v.minX+v.maxX)/2,y:v.minY-f},this.get("text"));ev(n,b)}},a}(ca),iw=Fk,u6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},a.prototype.renderInner=function(n){var s=this,c=this.get("start"),f=this.get("end"),d=this.addGroup(n,{id:this.getElementId("region-filter"),capture:!1});(0,_.S6)(this.get("shapes"),function(y,b){var S=y.get("type"),C=(0,_.d9)(y.attr());s.adjustShapeAttrs(C),s.addShape(d,{id:s.getElementId("shape-"+S+"-"+b),capture:!1,type:S,attrs:C})});var v=Gu({start:c,end:f});d.setClip({type:"rect",attrs:{x:v.minX,y:v.minY,width:v.width,height:v.height}})},a.prototype.adjustShapeAttrs=function(n){var s=this.get("color");n.fill&&(n.fill=n.fillStyle=s),n.stroke=n.strokeStyle=s},a}(ca),f6=u6,aw=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"shape",draw:_.ZT})},a.prototype.renderInner=function(n){var s=this.get("render");(0,_.mf)(s)&&s(n)},a}(ca),ow=aw;function Na(o,a,n){var s;try{s=window.getComputedStyle?window.getComputedStyle(o,null)[a]:o.style[a]}catch(c){}finally{s=s===void 0?n:s}return s}function sw(o,a){var n=Na(o,"width",a);return n==="auto"&&(n=o.offsetWidth),parseFloat(n)}function lw(o,a){var n=sw(o,a),s=parseFloat(Na(o,"borderLeftWidth"))||0,c=parseFloat(Na(o,"paddingLeft"))||0,f=parseFloat(Na(o,"paddingRight"))||0,d=parseFloat(Na(o,"borderRightWidth"))||0,v=parseFloat(Na(o,"marginRight"))||0,y=parseFloat(Na(o,"marginLeft"))||0;return n+s+d+c+f+y+v}function Dk(o,a){var n=Na(o,"height",a);return n==="auto"&&(n=o.offsetHeight),parseFloat(n)}function Bk(o,a){var n=Dk(o,a),s=parseFloat(Na(o,"borderTopWidth"))||0,c=parseFloat(Na(o,"paddingTop"))||0,f=parseFloat(Na(o,"paddingBottom"))||0,d=parseFloat(Na(o,"borderBottomWidth"))||0,v=parseFloat(Na(o,"marginTop"))||0,y=parseFloat(Na(o,"marginBottom"))||0;return n+s+d+c+f+v+y}var h6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},a.prototype.getContainer=function(){return this.get("container")},a.prototype.show=function(){var n=this.get("container");n.style.display="",this.set("visible",!0)},a.prototype.hide=function(){var n=this.get("container");n.style.display="none",this.set("visible",!1)},a.prototype.setCapture=function(n){var s=this.getContainer(),c=n?"auto":"none";s.style.pointerEvents=c,this.set("capture",n)},a.prototype.getBBox=function(){var n=this.getContainer(),s=parseFloat(n.style.left)||0,c=parseFloat(n.style.top)||0;return Oh(s,c,n.clientWidth,n.clientHeight)},a.prototype.clear=function(){var n=this.get("container");Kp(n)},a.prototype.destroy=function(){this.removeEvent(),this.removeDom(),o.prototype.destroy.call(this)},a.prototype.init=function(){o.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},a.prototype.initCapture=function(){this.setCapture(this.get("capture"))},a.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},a.prototype.initDom=function(){},a.prototype.initContainer=function(){var n=this.get("container");if((0,_.UM)(n)){n=this.createDom();var s=this.get("parent");(0,_.HD)(s)&&(s=document.getElementById(s),this.set("parent",s)),s.appendChild(n),this.get("containerId")&&n.setAttribute("id",this.get("containerId")),this.set("container",n)}else(0,_.HD)(n)&&(n=document.getElementById(n),this.set("container",n));this.get("parent")||this.set("parent",n.parentNode)},a.prototype.resetStyles=function(){var n=this.get("domStyles"),s=this.get("defaultStyles");n?n=(0,_.b$)({},s,n):n=s,this.set("domStyles",n)},a.prototype.applyStyles=function(){var n=this.get("domStyles");if(n){var s=this.getContainer();this.applyChildrenStyles(s,n);var c=this.get("containerClassName");if(c&&Jp(s,c)){var f=n[c];ye(s,f)}}},a.prototype.applyChildrenStyles=function(n,s){(0,_.S6)(s,function(c,f){var d=n.getElementsByClassName(f);(0,_.S6)(d,function(v){ye(v,c)})})},a.prototype.applyStyle=function(n,s){var c=this.get("domStyles");ye(s,c[n])},a.prototype.createDom=function(){var n=this.get("containerTpl");return(0,zt.Z)(n)},a.prototype.initEvent=function(){},a.prototype.removeDom=function(){var n=this.get("container");n&&n.parentNode&&n.parentNode.removeChild(n)},a.prototype.removeEvent=function(){},a.prototype.updateInner=function(n){(0,_.wH)(n,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},a.prototype.resetPosition=function(){},a}(Ch),cw=h6,d6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},a.prototype.render=function(){var n=this.getContainer(),s=this.get("html");Kp(n);var c=(0,_.mf)(s)?s(n):s;if((0,_.kK)(c))n.appendChild(c);else if((0,_.HD)(c)||(0,_.hj)(c)){var f=(0,zt.Z)(""+c);f&&n.appendChild(f)}this.resetPosition()},a.prototype.resetPosition=function(){var n=this.getContainer(),s=this.getLocation(),c=s.x,f=s.y,d=this.get("alignX"),v=this.get("alignY"),y=this.get("offsetX"),b=this.get("offsetY"),S=lw(n),C=Bk(n),T={x:c,y:f};d==="middle"?T.x-=Math.round(S/2):d==="right"&&(T.x-=Math.round(S)),v==="middle"?T.y-=Math.round(C/2):v==="bottom"&&(T.y-=Math.round(C)),y&&(T.x+=y),b&&(T.y+=b),ye(n,{position:"absolute",left:T.x+"px",top:T.y+"px",zIndex:this.get("zIndex")})},a}(cw),nv=d6;function rv(o,a,n){var s=a+"Style",c=null;return(0,_.S6)(n,function(f,d){o[d]&&f[s]&&(c||(c={}),(0,_.CD)(c,f[s]))}),c}var p6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:cr.lineColor}},tickLine:{style:{lineWidth:1,stroke:cr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:cr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:cr.textColor,fontFamily:cr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:cr.textColor,textBaseline:"middle",fontFamily:cr.fontFamily,textAlign:"center"},iconStyle:{fill:cr.descriptionIconFill,stroke:cr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:cr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},a.prototype.renderInner=function(n){this.get("line")&&this.drawLine(n),this.drawTicks(n),this.get("title")&&this.drawTitle(n)},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("ticks")},a.prototype.setItems=function(n){this.update({ticks:n})},a.prototype.updateItem=function(n,s){(0,_.CD)(n,s),this.clear(),this.render()},a.prototype.clearItems=function(){var n=this.getElementByLocalId("label-group");n&&n.clear()},a.prototype.setItemState=function(n,s,c){n[s]=c,this.updateTickStates(n)},a.prototype.hasState=function(n,s){return!!n[s]},a.prototype.getItemStates=function(n){var s=this.get("tickStates"),c=[];return(0,_.S6)(s,function(f,d){n[d]&&c.push(d)}),c},a.prototype.clearItemsState=function(n){var s=this,c=this.getItemsByState(n);(0,_.S6)(c,function(f){s.setItemState(f,n,!1)})},a.prototype.getItemsByState=function(n){var s=this,c=this.getItems();return(0,_.hX)(c,function(f){return s.hasState(f,n)})},a.prototype.getSidePoint=function(n,s){var c=this,f=c.getSideVector(s,n);return{x:n.x+f[0],y:n.y+f[1]}},a.prototype.getTextAnchor=function(n){var s;return(0,_.vQ)(n[0],0)?s="center":n[0]>0?s="start":n[0]<0&&(s="end"),s},a.prototype.getTextBaseline=function(n){var s;return(0,_.vQ)(n[1],0)?s="middle":n[1]>0?s="top":n[1]<0&&(s="bottom"),s},a.prototype.processOverlap=function(n){},a.prototype.drawLine=function(n){var s=this.getLinePath(),c=this.get("line");this.addShape(n,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,_.CD)({path:s},c.style)})},a.prototype.getTickLineItems=function(n){var s=this,c=[],f=this.get("tickLine"),d=f.alignTick,v=f.length,y=1,b=n.length;return b>=2&&(y=n[1].value-n[0].value),(0,_.S6)(n,function(S){var C=S.point;d||(C=s.getTickPoint(S.value-y/2));var T=s.getSidePoint(C,v);c.push({startPoint:C,tickValue:S.value,endPoint:T,tickId:S.id,id:"tickline-"+S.id})}),c},a.prototype.getSubTickLineItems=function(n){var s=[],c=this.get("subTickLine"),f=c.count,d=n.length;if(d>=2)for(var v=0;v<d-1;v++)for(var y=n[v],b=n[v+1],S=0;S<f;S++){var C=(S+1)/(f+1),T=(1-C)*y.tickValue+C*b.tickValue,k=this.getTickPoint(T),R=this.getSidePoint(k,c.length);s.push({startPoint:k,endPoint:R,tickValue:T,id:"sub-"+y.id+"-"+S})}return s},a.prototype.getTickLineAttrs=function(n,s,c,f){var d=this.get(s).style,v={points:[n.startPoint,n.endPoint]},y=(0,_.U2)(this.get("theme"),["tickLine","style"],{});d=(0,_.mf)(d)?(0,_.CD)({},y,d(v,c,f)):d;var b=n.startPoint,S=n.endPoint;return(0,L.pi)({x1:b.x,y1:b.y,x2:S.x,y2:S.y},d)},a.prototype.drawTick=function(n,s,c,f,d){this.addShape(s,{type:"line",id:this.getElementId(n.id),name:"axis-"+c,attrs:this.getTickLineAttrs(n,c,f,d)})},a.prototype.drawTickLines=function(n){var s=this,c=this.get("ticks"),f=this.get("subTickLine"),d=this.getTickLineItems(c),v=this.addGroup(n,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),y=this.get("tickLine");if((0,_.S6)(d,function(S,C){if(y.displayWithLabel){var T=s.getElementId("label-"+S.tickId);n.findById(T)&&s.drawTick(S,v,"tickLine",C,d)}else s.drawTick(S,v,"tickLine",C,d)}),f){var b=this.getSubTickLineItems(d);(0,_.S6)(b,function(S,C){s.drawTick(S,v,"subTickLine",C,b)})}},a.prototype.processTicks=function(){var n=this,s=this.get("ticks");(0,_.S6)(s,function(c){c.point=n.getTickPoint(c.value),(0,_.UM)(c.id)&&(c.id=c.name)})},a.prototype.drawTicks=function(n){var s=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(n),this.get("tickLine")&&this.drawTickLines(n);var c=this.get("ticks");(0,_.S6)(c,function(f){s.applyTickStates(f,n)})},a.prototype.optimizeTicks=function(){var n=this.get("optimize"),s=this.get("ticks");if(n&&n.enable&&n.threshold>0){var c=(0,_.dp)(s);if(c>n.threshold){var f=Math.ceil(c/n.threshold),d=s.filter(function(v,y){return y%f===0});this.set("ticks",d),this.set("originalTicks",s)}}},a.prototype.getLabelAttrs=function(n,s,c){var f=this.get("label"),d=f.offset,v=f.offsetX,y=f.offsetY,b=f.rotate,S=f.formatter,C=this.getSidePoint(n.point,d),T=this.getSideVector(d,C),k=S?S(n.name,n,s):n.name,R=f.style;R=(0,_.mf)(R)?(0,_.U2)(this.get("theme"),["label","style"],{}):R;var D=(0,_.CD)({x:C.x+v,y:C.y+y,text:k,textAlign:this.getTextAnchor(T),textBaseline:this.getTextBaseline(T)},R);return b&&(D.matrix=Bc(C,b)),D},a.prototype.drawLabels=function(n){var s=this,c=this.get("ticks"),f=this.addGroup(n,{name:"axis-label-group",id:this.getElementId("label-group")});(0,_.S6)(c,function(T,k){s.addShape(f,{type:"text",name:"axis-label",id:s.getElementId("label-"+T.id),attrs:s.getLabelAttrs(T,k,c),delegateObject:{tick:T,item:T,index:k}})}),this.processOverlap(f);var d=f.getChildren(),v=(0,_.U2)(this.get("theme"),["label","style"],{}),y=this.get("label"),b=y.style,S=y.formatter;if((0,_.mf)(b)){var C=d.map(function(T){return(0,_.U2)(T.get("delegateObject"),"tick")});(0,_.S6)(d,function(T,k){var R=T.get("delegateObject").tick,D=S?S(R.name,R,k):R.name,V=(0,_.CD)({},v,b(D,k,C));T.attr(V)})}},a.prototype.getTitleAttrs=function(){var n=this.get("title"),s=n.style,c=n.position,f=n.offset,d=n.spacing,v=d===void 0?0:d,y=n.autoRotate,b=s.fontSize,S=.5;c==="start"?S=0:c==="end"&&(S=1);var C=this.getTickPoint(S),T=this.getSidePoint(C,f||v+b/2),k=(0,_.CD)({x:T.x,y:T.y,text:n.text},s),R=n.rotate,D=R;if((0,_.UM)(R)&&y){var V=this.getAxisVector(C),j=[1,0];D=Dr.Dg(V,j,!0)}if(D){var H=Bc(T,D);k.matrix=H}return k},a.prototype.drawTitle=function(n){var s,c=this.getTitleAttrs(),f=this.addShape(n,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:c});!((s=this.get("title"))===null||s===void 0)&&s.description&&this.drawDescriptionIcon(n,f,c.matrix)},a.prototype.drawDescriptionIcon=function(n,s,c){var f=this.addGroup(n,{name:"axis-description",id:this.getElementById("description")}),d=s.getBBox(),v=d.maxX,y=d.maxY,b=d.height,S=this.get("title").iconStyle,C=4,T=b/2,k=T/6,R=v+C,D=y-b/2,V=[R+T,D-T],j=V[0],H=V[1],Z=[j+T,H+T],q=Z[0],K=Z[1],Ct=[j,K+T],Ft=Ct[0],Jt=Ct[1],_e=[R,H+T],ge=_e[0],Be=_e[1],tn=[R+T,D-b/4],vn=tn[0],Mn=tn[1],Pn=[vn,Mn+k],Ze=Pn[0],ln=Pn[1],dn=[Ze,ln+k],fn=dn[0],bn=dn[1],Bn=[fn,bn+T*3/4],tr=Bn[0],sr=Bn[1];this.addShape(f,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,L.pi)({path:[["M",j,H],["A",T,T,0,0,1,q,K],["A",T,T,0,0,1,Ft,Jt],["A",T,T,0,0,1,ge,Be],["A",T,T,0,0,1,j,H],["M",vn,Mn],["L",Ze,ln],["M",fn,bn],["L",tr,sr]],lineWidth:k,matrix:c},S)}),this.addShape(f,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:R,y:D-b/2,width:b,height:b,stroke:"#000",fill:"#000",opacity:0,matrix:c,cursor:"pointer"}})},a.prototype.applyTickStates=function(n,s){var c=this.getItemStates(n);if(c.length){var f=this.get("tickStates"),d=this.getElementId("label-"+n.id),v=s.findById(d);if(v){var y=rv(n,"label",f);y&&v.attr(y)}var b=this.getElementId("tickline-"+n.id),S=s.findById(b);if(S){var C=rv(n,"tickLine",f);C&&S.attr(C)}}},a.prototype.updateTickStates=function(n){var s=this.getItemStates(n),c=this.get("tickStates"),f=this.get("label"),d=this.getElementByLocalId("label-"+n.id),v=this.get("tickLine"),y=this.getElementByLocalId("tickline-"+n.id);if(s.length){if(d){var b=rv(n,"label",c);b&&d.attr(b)}if(y){var S=rv(n,"tickLine",c);S&&y.attr(S)}}else d&&d.attr(f.style),y&&y.attr(v.style)},a}(ca),Nk=p6;function uw(o,a,n,s){var c=a.getChildren(),f=!1;return(0,_.S6)(c,function(d){var v=Vu(o,d,n,s);f=f||v}),f}function v6(){return hy}function Ah(o,a,n){return uw(o,a,n,"head")}function hy(o,a,n){return uw(o,a,n,"tail")}function zk(o,a,n){return uw(o,a,n,"middle")}function dy(o){var a=o.attr("matrix");return a&&a[0]!==1}function fw(o){var a=dy(o)?Mk(o.attr("matrix")):0;return a%360}function hw(o,a,n,s){var c=!1,f=fw(a),d=Math.abs(o?n.attr("y")-a.attr("y"):n.attr("x")-a.attr("x")),v=(o?n.attr("y")>a.attr("y"):n.attr("x")>a.attr("x"))?a.getBBox():n.getBBox();if(o){var y=Math.abs(Math.cos(f));Wu(y,0,Math.PI/180)?c=v.width+s>d:c=v.height/y+s>d}else{var y=Math.abs(Math.sin(f));Wu(y,0,Math.PI/180)?c=v.width+s>d:c=v.height/y+s>d}return c}function Th(o,a,n,s){var c=(s==null?void 0:s.minGap)||0,f=a.getChildren().slice().filter(function(R){return R.get("visible")});if(!f.length)return!1;var d=!1;n&&f.reverse();for(var v=f.length,y=f[0],b=y,S=1;S<v;S++){var C=f[S],T=C.getBBox(),k=hw(o,b,C,c);k?(C.hide(),d=!0):b=C}return d}function dw(o,a,n){var s=(n==null?void 0:n.minGap)||0,c=a.getChildren().slice();if(c.length<2)return!1;var f=!1,d=c[0],v=d.getBBox(),y=c[1],b=c.length,S=fw(d),C=Math.abs(o?y.attr("y")-d.attr("y"):y.attr("x")-d.attr("x")),T=0;if(o){var k=Math.abs(Math.cos(S));if(Wu(k,0,Math.PI/180)){var R=Q2(c);T=(R+s)/C}else T=(v.height/k+s)/C}else{var k=Math.abs(Math.sin(S));if(Wu(k,0,Math.PI/180)){var R=Q2(c);T=(R+s)/C}else T=(v.height/k+s)/C}if(T>1){T=Math.ceil(T);for(var D=0;D<b;D++)D%T!==0&&(c[D].hide(),f=!0)}return f}function jk(){return Gc}function pw(o,a,n,s){return Th(o,a,!1,s)}function Gk(o,a,n,s){return Th(o,a,!0,s)}function Ye(o,a,n,s){var c=(s==null?void 0:s.minGap)||0,f=a.getChildren().slice();if(f.length<=2)return!1;for(var d=!1,v=f.length,y=f[0],b=f[v-1],S=y,C=1;C<v-1;C++){var T=f[C],k=T.getBBox(),R=hw(o,S,T,c);R?(T.hide(),d=!0):S=T}var D=hw(o,S,b,c);return D&&(S.hide(),d=!0),d}function Gc(o,a,n,s){var c=dw(o,a,s);return Th(o,a,!1)&&(c=!0),c}function Tl(o,a,n,s){var c=a.getChildren().slice(),f=dw(o,a,s);if(c.length>2){var d=c[0],v=c[c.length-1];d.get("visible")||(d.show(),Th(o,a,!1,s)&&(f=!0)),v.get("visible")||(v.show(),Th(o,a,!0,s)&&(f=!0))}return f}function Wk(o,a){(0,_.S6)(o,function(n){var s=n.attr("x"),c=n.attr("y"),f=Bc({x:s,y:c},a);n.attr("matrix",f)})}function Wc(o,a,n,s){var c=a.getChildren();if(!c.length||!o&&c.length<2)return!1;var f=Q2(c),d=!1;if(o)d=!!n&&f>n;else{var v=Math.abs(c[1].attr("x")-c[0].attr("x"));d=f>v}if(d){var y=s(n,f);Wk(c,y)}return d}function py(){return Eh}function Eh(o,a,n,s){return Wc(o,a,n,function(){return(0,_.hj)(s)?s:o?cr.verticalAxisRotate:cr.horizontalAxisRotate})}function vw(o,a,n){return Wc(o,a,n,function(s,c){if(!s)return o?cr.verticalAxisRotate:cr.horizontalAxisRotate;if(o)return-Math.acos(s/c);var f=0;return s>c?f=Math.PI/4:(f=Math.asin(s/c),f>Math.PI/4&&(f=Math.PI/4)),f})}var Vk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getLinePath=function(){var n=this.get("start"),s=this.get("end"),c=[];return c.push(["M",n.x,n.y]),c.push(["L",s.x,s.y]),c},a.prototype.getInnerLayoutBBox=function(){var n=this.get("start"),s=this.get("end"),c=o.prototype.getInnerLayoutBBox.call(this),f=Math.min(n.x,s.x,c.x),d=Math.min(n.y,s.y,c.y),v=Math.max(n.x,s.x,c.maxX),y=Math.max(n.y,s.y,c.maxY);return{x:f,y:d,minX:f,minY:d,maxX:v,maxY:y,width:v-f,height:y-d}},a.prototype.isVertical=function(){var n=this.get("start"),s=this.get("end");return(0,_.vQ)(n.x,s.x)},a.prototype.isHorizontal=function(){var n=this.get("start"),s=this.get("end");return(0,_.vQ)(n.y,s.y)},a.prototype.getTickPoint=function(n){var s=this,c=s.get("start"),f=s.get("end"),d=f.x-c.x,v=f.y-c.y;return{x:c.x+d*n,y:c.y+v*n}},a.prototype.getSideVector=function(n){var s=this.getAxisVector(),c=Nn.Fv([0,0],s),f=this.get("verticalFactor"),d=[c[1],c[0]*-1];return Nn.bA([0,0],d,n*f)},a.prototype.getAxisVector=function(){var n=this.get("start"),s=this.get("end");return[s.x-n.x,s.y-n.y]},a.prototype.processOverlap=function(n){var s=this,c=this.isVertical(),f=this.isHorizontal();if(!(!c&&!f)){var d=this.get("label"),v=this.get("title"),y=this.get("verticalLimitLength"),b=d.offset,S=y,C=0,T=0;v&&(C=v.style.fontSize,T=v.spacing),S&&(S=S-b-T-C);var k=this.get("overlapOrder");if((0,_.S6)(k,function(V){d[V]&&s.canProcessOverlap(V)&&s.autoProcessOverlap(V,d[V],n,S)}),v&&(0,_.UM)(v.offset)){var R=n.getCanvasBBox(),D=c?R.width:R.height;v.offset=b+D+T+C/2}}},a.prototype.canProcessOverlap=function(n){var s=this.get("label");return n==="autoRotate"?(0,_.UM)(s.rotate):!0},a.prototype.autoProcessOverlap=function(n,s,c,f){var d=this,v=this.isVertical(),y=!1,b=Ee[n];if(s===!0){var S=this.get("label");y=b.getDefault()(v,c,f)}else if((0,_.mf)(s))y=s(v,c,f);else if((0,_.Kn)(s)){var C=s;b[C.type]&&(y=b[C.type](v,c,f,C.cfg))}else b[s]&&(y=b[s](v,c,f));if(n==="autoRotate"){if(y){var T=c.getChildren(),k=this.get("verticalFactor");(0,_.S6)(T,function(D){var V=D.attr("textAlign");if(V==="center"){var j=k>0?"end":"start";D.attr("textAlign",j)}})}}else if(n==="autoHide"){var R=c.getChildren().slice(0);(0,_.S6)(R,function(D){D.get("visible")||(d.get("isRegister")&&d.unregisterElement(D),D.remove())})}},a}(Nk),Hk=Vk,Hu=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},a.prototype.getLinePath=function(){var n=this.get("center"),s=n.x,c=n.y,f=this.get("radius"),d=f,v=this.get("startAngle"),y=this.get("endAngle"),b=[];if(Math.abs(y-v)===Math.PI*2)b=[["M",s,c-d],["A",f,d,0,1,1,s,c+d],["A",f,d,0,1,1,s,c-d],["Z"]];else{var S=this.getCirclePoint(v),C=this.getCirclePoint(y),T=Math.abs(y-v)>Math.PI?1:0,k=v>y?0:1;b=[["M",s,c],["L",S.x,S.y],["A",f,d,0,T,k,C.x,C.y],["L",s,c]]}return b},a.prototype.getTickPoint=function(n){var s=this.get("startAngle"),c=this.get("endAngle"),f=s+(c-s)*n;return this.getCirclePoint(f)},a.prototype.getSideVector=function(n,s){var c=this.get("center"),f=[s.x-c.x,s.y-c.y],d=this.get("verticalFactor"),v=Nn.kE(f);return Nn.bA(f,f,d*n/v),f},a.prototype.getAxisVector=function(n){var s=this.get("center"),c=[n.x-s.x,n.y-s.y];return[c[1],-1*c[0]]},a.prototype.getCirclePoint=function(n,s){var c=this.get("center");return s=s||this.get("radius"),{x:c.x+Math.cos(n)*s,y:c.y+Math.sin(n)*s}},a.prototype.canProcessOverlap=function(n){var s=this.get("label");return n==="autoRotate"?(0,_.UM)(s.rotate):!0},a.prototype.processOverlap=function(n){var s=this,c=this.get("label"),f=this.get("title"),d=this.get("verticalLimitLength"),v=c.offset,y=d,b=0,S=0;f&&(b=f.style.fontSize,S=f.spacing),y&&(y=y-v-S-b);var C=this.get("overlapOrder");if((0,_.S6)(C,function(k){c[k]&&s.canProcessOverlap(k)&&s.autoProcessOverlap(k,c[k],n,y)}),f&&(0,_.UM)(f.offset)){var T=n.getCanvasBBox().height;f.offset=v+T+S+b/2}},a.prototype.autoProcessOverlap=function(n,s,c,f){var d=this,v=!1,y=Ee[n];if(f>0)if(s===!0)v=y.getDefault()(!1,c,f);else if((0,_.mf)(s))v=s(!1,c,f);else if((0,_.Kn)(s)){var b=s;y[b.type]&&(v=y[b.type](!1,c,f,b.cfg))}else y[s]&&(v=y[s](!1,c,f));if(n==="autoRotate"){if(v){var S=c.getChildren(),C=this.get("verticalFactor");(0,_.S6)(S,function(k){var R=k.attr("textAlign");if(R==="center"){var D=C>0?"end":"start";k.attr("textAlign",D)}})}}else if(n==="autoHide"){var T=c.getChildren().slice(0);(0,_.S6)(T,function(k){k.get("visible")||(d.get("isRegister")&&d.unregisterElement(k),k.remove())})}},a}(Nk),za=Hu,pi=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:cr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:cr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:cr.fontFamily}},textBackground:{padding:5,style:{stroke:cr.lineColor}}}})},a.prototype.renderInner=function(n){this.get("line")&&this.renderLine(n),this.get("text")&&(this.renderText(n),this.renderBackground(n))},a.prototype.renderText=function(n){var s=this.get("text"),c=s.style,f=s.autoRotate,d=s.content;if(!(0,_.UM)(d)){var v=this.getTextPoint(),y=null;if(f){var b=this.getRotateAngle();y=Bc(v,b)}this.addShape(n,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,L.pi)((0,L.pi)((0,L.pi)({},v),{text:d,matrix:y}),c)})}},a.prototype.renderLine=function(n){var s=this.getLinePath(),c=this.get("line"),f=c.style;this.addShape(n,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,L.pi)({path:s},f)})},a.prototype.renderBackground=function(n){var s=this.getElementId("text"),c=n.findById(s),f=this.get("textBackground");if(f&&c){var d=c.getBBox(),v=$p(f.padding),y=f.style,b=this.addShape(n,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,L.pi)({x:d.x-v[3],y:d.y-v[0],width:d.width+v[1]+v[3],height:d.height+v[0]+v[2],matrix:c.attr("matrix")},y)});b.toBack()}},a}(ca),Ja=pi,g6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getRotateAngle=function(){var n=this.getLocation(),s=n.start,c=n.end,f=this.get("text").position,d=Math.atan2(c.y-s.y,c.x-s.x),v=f==="start"?d-Math.PI/2:d+Math.PI/2;return v},a.prototype.getTextPoint=function(){var n=this.getLocation(),s=n.start,c=n.end,f=this.get("text"),d=f.position,v=f.offset;return q2(s,c,d,v)},a.prototype.getLinePath=function(){var n=this.getLocation(),s=n.start,c=n.end;return[["M",s.x,s.y],["L",c.x,c.y]]},a}(Ja),Yk=g6,Uk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},a.prototype.getRotateAngle=function(){var n=this.getLocation(),s=n.startAngle,c=n.endAngle,f=this.get("text").position,d=f==="start"?s+Math.PI/2:c-Math.PI/2;return d},a.prototype.getTextPoint=function(){var n=this.get("text"),s=n.position,c=n.offset,f=this.getLocation(),d=f.center,v=f.radius,y=f.startAngle,b=f.endAngle,S=s==="start"?y:b,C=this.getRotateAngle()-Math.PI,T=ea(d,v,S),k=Math.cos(C)*c,R=Math.sin(C)*c;return{x:T.x+k,y:T.y+R}},a.prototype.getLinePath=function(){var n=this.getLocation(),s=n.center,c=n.radius,f=n.startAngle,d=n.endAngle,v=null;if(d-f===Math.PI*2){var y=s.x,b=s.y;v=[["M",y,b-c],["A",c,c,0,1,1,y,b+c],["A",c,c,0,1,1,y,b-c],["Z"]]}else{var S=ea(s,c,f),C=ea(s,c,d),T=Math.abs(d-f)>Math.PI?1:0,k=f>d?0:1;v=[["M",S.x,S.y],["A",c,c,0,T,k,C.x,C.y]]}return v},a}(Ja),Xk=Uk,kh="g2-crosshair",Ph=kh+"-line",vy=kh+"-text",Lh,gw=(Lh={},Lh[""+kh]={position:"relative"},Lh[""+Ph]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Lh[""+vy]={position:"absolute",color:cr.textColor,fontFamily:cr.fontFamily},Lh),bs=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+kh+'"></div>',crosshairTpl:'<div class="'+Ph+'"></div>',textTpl:'<span class="'+vy+'">{content}</span>',domStyles:null,containerClassName:kh,defaultStyles:gw,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},a.prototype.render=function(){this.resetText(),this.resetPosition()},a.prototype.initCrossHair=function(){var n=this.getContainer(),s=this.get("crosshairTpl"),c=(0,zt.Z)(s);n.appendChild(c),this.applyStyle(Ph,c),this.set("crosshairEl",c)},a.prototype.getTextPoint=function(){var n=this.getLocation(),s=n.start,c=n.end,f=this.get("text"),d=f.position,v=f.offset;return q2(s,c,d,v)},a.prototype.resetText=function(){var n=this.get("text"),s=this.get("textEl");if(n){var c=n.content;if(!s){var f=this.getContainer(),d=(0,_.ng)(this.get("textTpl"),n);s=(0,zt.Z)(d),f.appendChild(s),this.applyStyle(vy,s),this.set("textEl",s)}s.innerHTML=c}else s&&s.remove()},a.prototype.isVertical=function(n,s){return n.x===s.x},a.prototype.resetPosition=function(){var n=this.get("crosshairEl");n||(this.initCrossHair(),n=this.get("crosshairEl"));var s=this.get("start"),c=this.get("end"),f=Math.min(s.x,c.x),d=Math.min(s.y,c.y);this.isVertical(s,c)?ye(n,{width:"1px",height:wa(Math.abs(c.y-s.y))}):ye(n,{height:"1px",width:wa(Math.abs(c.x-s.x))}),ye(n,{top:wa(d),left:wa(f)}),this.alignText()},a.prototype.alignText=function(){var n=this.get("textEl");if(n){var s=this.get("text").align,c=n.clientWidth,f=this.getTextPoint();switch(s){case"center":f.x=f.x-c/2;break;case"right":f.x=f.x-c;case"left":break}ye(n,{top:wa(f.y),left:wa(f.x)})}},a.prototype.updateInner=function(n){(0,_.wH)(n,"text")&&this.resetText(),o.prototype.updateInner.call(this,n)},a}(cw),es=bs,Ih=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:cr.lineColor}}}})},a.prototype.getLineType=function(){var n=this.get("line")||this.get("defaultCfg").line;return n.type},a.prototype.renderInner=function(n){this.drawGrid(n)},a.prototype.getAlternatePath=function(n,s){var c=this.getGridPath(n),f=s.slice(0).reverse(),d=this.getGridPath(f,!0),v=this.get("closed");return v?c=c.concat(d):(d[0][0]="L",c=c.concat(d),c.push(["Z"])),c},a.prototype.getPathStyle=function(){return this.get("line").style},a.prototype.drawGrid=function(n){var s=this,c=this.get("line"),f=this.get("items"),d=this.get("alternateColor"),v=null;(0,_.S6)(f,function(y,b){var S=y.id||b;if(c){var C=s.getPathStyle();C=(0,_.mf)(C)?C(y,b,f):C;var T=s.getElementId("line-"+S),k=s.getGridPath(y.points);s.addShape(n,{type:"path",name:"grid-line",id:T,attrs:(0,_.CD)({path:k},C)})}if(d&&b>0){var R=s.getElementId("region-"+S),D=b%2===0;if((0,_.HD)(d))D&&s.drawAlternateRegion(R,n,v.points,y.points,d);else{var V=D?d[1]:d[0];s.drawAlternateRegion(R,n,v.points,y.points,V)}}v=y})},a.prototype.drawAlternateRegion=function(n,s,c,f,d){var v=this.getAlternatePath(c,f);this.addShape(s,{type:"path",id:n,name:"grid-region",attrs:{path:v,fill:d}})},a}(ca),rr=Ih;function yw(o,a,n,s){var c=n-o,f=s-a;return Math.sqrt(c*c+f*f)}var Zk=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"circle",center:null,closed:!0})},a.prototype.getGridPath=function(n,s){var c=this.getLineType(),f=this.get("closed"),d=[];if(n.length)if(c==="circle"){var v=this.get("center"),y=n[0],b=yw(v.x,v.y,y.x,y.y),S=s?0:1;f?(d.push(["M",v.x,v.y-b]),d.push(["A",b,b,0,0,S,v.x,v.y+b]),d.push(["A",b,b,0,0,S,v.x,v.y-b]),d.push(["Z"])):(0,_.S6)(n,function(C,T){T===0?d.push(["M",C.x,C.y]):d.push(["A",b,b,0,0,S,C.x,C.y])})}else(0,_.S6)(n,function(C,T){T===0?d.push(["M",C.x,C.y]):d.push(["L",C.x,C.y])}),f&&d.push(["Z"]);return d},a}(rr),qk=Zk,$k=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"line"})},a.prototype.getGridPath=function(n){var s=[];return(0,_.S6)(n,function(c,f){f===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s},a}(rr),gy=$k,Bi=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},a.prototype.getLayoutBBox=function(){var n=o.prototype.getLayoutBBox.call(this),s=this.get("maxWidth"),c=this.get("maxHeight"),f=n.width,d=n.height;return s&&(f=Math.min(f,s)),c&&(d=Math.min(d,c)),Oh(n.minX,n.minY,f,d)},a.prototype.setLocation=function(n){this.set("x",n.x),this.set("y",n.y),this.resetLocation()},a.prototype.resetLocation=function(){var n=this.get("x"),s=this.get("y"),c=this.get("offsetX"),f=this.get("offsetY");this.moveElementTo(this.get("group"),{x:n+c,y:s+f})},a.prototype.applyOffset=function(){this.resetLocation()},a.prototype.getDrawPoint=function(){return this.get("currentPoint")},a.prototype.setDrawPoint=function(n){return this.set("currentPoint",n)},a.prototype.renderInner=function(n){this.resetDraw(),this.get("title")&&this.drawTitle(n),this.drawLegendContent(n),this.get("background")&&this.drawBackground(n)},a.prototype.drawBackground=function(n){var s=this.get("background"),c=n.getBBox(),f=$p(s.padding),d=(0,L.pi)({x:0,y:0,width:c.width+f[1]+f[3],height:c.height+f[0]+f[2]},s.style),v=this.addShape(n,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:d});v.toBack()},a.prototype.drawTitle=function(n){var s=this.get("currentPoint"),c=this.get("title"),f=c.spacing,d=c.style,v=c.text,y=this.addShape(n,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,L.pi)({text:v,x:s.x,y:s.y},d)}),b=y.getBBox();this.set("currentPoint",{x:s.x,y:b.maxY+f})},a.prototype.resetDraw=function(){var n=this.get("background"),s={x:0,y:0};if(n){var c=$p(n.padding);s.x=c[3],s.y=c[0]}this.set("currentPoint",s)},a}(ca),mw=Bi,ws={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},iv={fill:cr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:cr.fontFamily,fontWeight:"normal",lineHeight:12},Ni="navigation-arrow-right",Js="navigation-arrow-left",Gr={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Yu=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.currentPageIndex=1,n.totalPagesCnt=1,n.pageWidth=0,n.pageHeight=0,n.startX=0,n.startY=0,n.onNavigationBack=function(){var s=n.getElementByLocalId("item-group");if(n.currentPageIndex>1){n.currentPageIndex-=1,n.updateNavigation();var c=n.getCurrentNavigationMatrix();n.get("animate")?s.animate({matrix:c},100):s.attr({matrix:c})}},n.onNavigationAfter=function(){var s=n.getElementByLocalId("item-group");if(n.currentPageIndex<n.totalPagesCnt){n.currentPageIndex+=1,n.updateNavigation();var c=n.getCurrentNavigationMatrix();n.get("animate")?s.animate({matrix:c},100):s.attr({matrix:c})}},n}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:cr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:cr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:ws,itemName:{spacing:16,style:iv},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:iv,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:cr.uncheckedColor},markerStyle:{fill:cr.uncheckedColor,stroke:cr.uncheckedColor}},inactive:{nameStyle:{fill:cr.uncheckedColor},markerStyle:{opacity:.2}}}}})},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("items")},a.prototype.setItems=function(n){this.update({items:n})},a.prototype.updateItem=function(n,s){(0,_.CD)(n,s),this.clear(),this.render()},a.prototype.clearItems=function(){var n=this.getElementByLocalId("item-group");n&&n.clear()},a.prototype.setItemState=function(n,s,c){n[s]=c;var f=this.getElementByLocalId("item-"+n.id);if(f){var d=this.getItems(),v=d.indexOf(n),y=this.createOffScreenGroup(),b=this.drawItem(n,v,this.getItemHeight(),y);this.updateElements(b,f),this.clearUpdateStatus(f)}},a.prototype.hasState=function(n,s){return!!n[s]},a.prototype.getItemStates=function(n){var s=this.get("itemStates"),c=[];return(0,_.S6)(s,function(f,d){n[d]&&c.push(d)}),c},a.prototype.clearItemsState=function(n){var s=this,c=this.getItemsByState(n);(0,_.S6)(c,function(f){s.setItemState(f,n,!1)})},a.prototype.getItemsByState=function(n){var s=this,c=this.getItems();return(0,_.hX)(c,function(f){return s.hasState(f,n)})},a.prototype.drawLegendContent=function(n){this.processItems(),this.drawItems(n)},a.prototype.processItems=function(){var n=this.get("items");(0,_.S6)(n,function(s){s.id||(s.id=s.name)})},a.prototype.drawItems=function(n){var s=this,c=this.addGroup(n,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),f=this.addGroup(c,{id:this.getElementId("item-group"),name:"legend-item-group"}),d=this.getItemHeight(),v=this.get("itemWidth"),y=this.get("itemSpacing"),b=this.get("itemMarginBottom"),S=this.get("currentPoint"),C=S.x,T=S.y,k=this.get("layout"),R=this.get("items"),D=!1,V=0,j=this.get("maxWidth"),H=this.get("maxHeight");(0,_.S6)(R,function(Z,q){var K=s.drawItem(Z,q,d,f),Ct=K.getBBox(),Ft=v||Ct.width;Ft>V&&(V=Ft),k==="horizontal"?(j&&j<S.x+Ft-C&&(D=!0,S.x=C,S.y+=d+b),s.moveElementTo(K,S),S.x+=Ft+y):(H&&H<S.y+d+b-T&&(D=!0,S.x+=V+y,S.y=T,V=0),s.moveElementTo(K,S),S.y+=d+b)}),D&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=C,this.startY=T,this.adjustNavigation(n,f))},a.prototype.getItemHeight=function(){var n=this.get("itemHeight");if(!n){var s=(this.get("itemName")||{}).style;if((0,_.mf)(s)){var c=this.getItems();c.forEach(function(f,d){var v=(0,L.pi)((0,L.pi)({},iv),s(f,d,c)).fontSize;n<v&&(n=v)})}else s&&(n=s.fontSize)}return n},a.prototype.drawMarker=function(n,s,c,f){var d=(0,L.pi)((0,L.pi)((0,L.pi)({x:0,y:f/2},s.style),{symbol:(0,_.U2)(c.marker,"symbol","circle")}),(0,_.U2)(c.marker,"style",{})),v=this.addShape(n,{type:"marker",id:this.getElementId("item-"+c.id+"-marker"),name:"legend-item-marker",attrs:d}),y=v.getBBox();v.attr("x",y.width/2);var b=v.attr(),S=b.stroke,C=b.fill;return S&&v.set("isStroke",!0),C&&v.set("isFill",!0),v},a.prototype.drawItemText=function(n,s,c,f,d,v,y){var b=c.formatter,S=c.style,C=(0,L.pi)((0,L.pi)({x:v,y:d/2,text:b?b(f[s],f,y):f[s]},iv),(0,_.mf)(S)?S(f,y,this.getItems()):S);return this.addShape(n,{type:"text",id:this.getElementId("item-"+f.id+"-"+s),name:"legend-item-"+s,attrs:C})},a.prototype.drawRadio=function(n,s,c,f,d){var v,y,b=s.style||{},S=(v=b.r)!==null&&v!==void 0?v:f/2,C=S*3.6/8,T=[d+S,f/2-S],k=T[0],R=T[1],D=[k+S,R+S],V=D[0],j=D[1],H=[k,j+S],Z=H[0],q=H[1],K=[d,R+S],Ct=K[0],Ft=K[1],Jt=c.showRadio,_e=(0,L.pi)((0,L.pi)({path:[["M",k,R],["A",S,S,0,0,1,V,j],["L",V-C,j],["L",V,j],["A",S,S,0,0,1,Z,q],["L",Z,q-C],["L",Z,q],["A",S,S,0,0,1,Ct,Ft],["L",Ct+C,Ft],["L",Ct,Ft],["A",S,S,0,0,1,k,R],["L",k,R+C]],stroke:"#000000",fill:"#ffffff"},b),{opacity:Jt?(y=b==null?void 0:b.opacity)!==null&&y!==void 0?y:.45:0}),ge=this.addShape(n,{type:"path",id:this.getElementId("item-"+c.id+"-radio"),name:"legend-item-radio",attrs:_e});return ge.set("tip",s.tip),ge},a.prototype.drawItem=function(n,s,c,f){var d="item-"+n.id,v=this.addGroup(f,{name:"legend-item-container",id:this.getElementId("item-container-"+d),delegateObject:{item:n,index:s}}),y=this.addGroup(v,{name:"legend-item",id:this.getElementId(d),delegateObject:{item:n,index:s}}),b=this.get("marker"),S=this.get("itemName"),C=this.get("itemValue"),T=this.get("itemBackground"),k=this.get("radio"),R=this.getLimitItemWidth(),D=0;if(b){var V=this.drawMarker(y,b,n,c),j=b.spacing,H=(0,_.U2)(n,["marker","spacing"]);(0,_.hj)(H)&&(j=H),D=V.getBBox().maxX+j}if(S){var Z=this.drawItemText(y,"name",S,n,c,D,s);R&&Vu(!0,Z,(0,_.uZ)(R-D,0,R)),D=Z.getBBox().maxX+S.spacing}if(C){var q=this.drawItemText(y,"value",C,n,c,D,s);R&&(C.alignRight?(q.attr({textAlign:"right",x:R}),Vu(!0,q,(0,_.uZ)(R-D,0,R),"head")):Vu(!0,q,(0,_.uZ)(R-D,0,R))),D=q.getBBox().maxX+C.spacing}if(k&&this.drawRadio(y,k,n,c,D),T){var K=y.getBBox(),Ct=this.addShape(y,{type:"rect",name:"legend-item-background",id:this.getElementId(d+"-background"),attrs:(0,L.pi)({x:0,y:0,width:K.width,height:c},T.style)});Ct.toBack()}return this.applyItemStates(n,y),y},a.prototype.adjustNavigation=function(n,s){var c=this,f=this.startX,d=this.startY,v=this.get("layout"),y=s.findAll(function(tn){return tn.get("name")==="legend-item"}),b=this.get("maxWidth"),S=this.get("maxHeight"),C=this.get("itemWidth"),T=this.get("itemSpacing"),k=this.getItemHeight(),R=(0,_.b$)({},ws,this.get("pageNavigator")),D=this.drawNavigation(n,v,"00/00",R),V=D.getBBox(),j={x:f,y:d},H=1,Z=0,q=0,K=0,Ct=this.get("itemMarginBottom");function Ft(tn,vn){var Mn=tn.getBBox(),Pn=C||Mn.width,Ze=vn.x+Pn+T+V.width;return Ze>b}if(v==="horizontal"){var Jt=this.get("maxRow")||1,_e=k+(Jt===1?0:Ct),ge=b-T-V.width-V.minX;this.pageHeight=_e*Jt,this.pageWidth=ge,(0,_.S6)(y,function(tn){var vn=tn.getBBox(),Mn=C||vn.width;(Z&&Z<j.x+Mn+T||Ft(tn,j))&&(H===1&&(Z=j.x+T,c.moveElementTo(D,{x:ge,y:j.y+k/2-V.height/2-V.minY})),H+=1,j.x=f,j.y+=_e),c.moveElementTo(tn,j),tn.getParent().setClip({type:"rect",attrs:{x:j.x,y:j.y,width:Mn+T,height:k}}),j.x+=Mn+T})}else{(0,_.S6)(y,function(tn){var vn=tn.getBBox();vn.width>q&&(q=vn.width)}),K=q,q+=T,b&&(q=Math.min(b,q),K=Math.min(b,K)),this.pageWidth=q,this.pageHeight=S-Math.max(V.height,k+Ct);var Be=Math.floor(this.pageHeight/(k+Ct));(0,_.S6)(y,function(tn,vn){vn!==0&&vn%Be===0&&(H+=1,j.x+=q,j.y=d),c.moveElementTo(tn,j),tn.getParent().setClip({type:"rect",attrs:{x:j.x,y:j.y,width:q,height:k}}),j.y+=k+Ct}),this.totalPagesCnt=H,this.moveElementTo(D,{x:f+K/2-V.width/2-V.minX,y:S-V.height-V.minY})}this.pageHeight&&this.pageWidth&&s.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),v==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(H/this.get("maxRow")):this.totalPagesCnt=H,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(D),s.attr("matrix",this.getCurrentNavigationMatrix())},a.prototype.drawNavigation=function(n,s,c,f){var d={x:0,y:0},v=this.addGroup(n,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),y=(0,_.U2)(f.marker,"style",{}),b=y.size,S=b===void 0?12:b,C=(0,L._T)(y,["size"]),T=this.drawArrow(v,d,Js,s==="horizontal"?"up":"left",S,C);T.on("click",this.onNavigationBack);var k=T.getBBox();d.x+=k.width+2;var R=this.addShape(v,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,L.pi)({x:d.x,y:d.y+S/2,text:c,textBaseline:"middle"},(0,_.U2)(f.text,"style"))}),D=R.getBBox();d.x+=D.width+2;var V=this.drawArrow(v,d,Ni,s==="horizontal"?"down":"right",S,C);return V.on("click",this.onNavigationAfter),v},a.prototype.updateNavigation=function(n){var s=(0,_.b$)({},ws,this.get("pageNavigator")),c=s.marker.style,f=c.fill,d=c.opacity,v=c.inactiveFill,y=c.inactiveOpacity,b=this.currentPageIndex+"/"+this.totalPagesCnt,S=n?n.getChildren()[1]:this.getElementByLocalId("navigation-text"),C=n?n.findById(this.getElementId(Js)):this.getElementByLocalId(Js),T=n?n.findById(this.getElementId(Ni)):this.getElementByLocalId(Ni);S.attr("text",b),C.attr("opacity",this.currentPageIndex===1?y:d),C.attr("fill",this.currentPageIndex===1?v:f),C.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),T.attr("opacity",this.currentPageIndex===this.totalPagesCnt?y:d),T.attr("fill",this.currentPageIndex===this.totalPagesCnt?v:f),T.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var k=C.getBBox().maxX+2;S.attr("x",k),k+=S.getBBox().width+2,this.updateArrowPath(T,{x:k,y:0})},a.prototype.drawArrow=function(n,s,c,f,d,v){var y=s.x,b=s.y,S=this.addShape(n,{type:"path",id:this.getElementId(c),name:c,attrs:(0,L.pi)({size:d,direction:f,path:[["M",y+d/2,b],["L",y,b+d],["L",y+d,b+d],["Z"]],cursor:"pointer"},v)});return S.attr("matrix",Bc({x:y+d/2,y:b+d/2},Gr[f])),S},a.prototype.updateArrowPath=function(n,s){var c=s.x,f=s.y,d=n.attr(),v=d.size,y=d.direction,b=Bc({x:c+v/2,y:f+v/2},Gr[y]);n.attr("path",[["M",c+v/2,f],["L",c,f+v],["L",c+v,f+v],["Z"]]),n.attr("matrix",b)},a.prototype.getCurrentNavigationMatrix=function(){var n=this,s=n.currentPageIndex,c=n.pageWidth,f=n.pageHeight,d=this.get("layout"),v=d==="horizontal"?{x:0,y:f*(1-s)}:{x:c*(1-s),y:0};return ly(v)},a.prototype.applyItemStates=function(n,s){var c=this.getItemStates(n),f=c.length>0;if(f){var d=s.getChildren(),v=this.get("itemStates");(0,_.S6)(d,function(y){var b=y.get("name"),S=b.split("-")[2],C=rv(n,S,v);C&&(y.attr(C),S==="marker"&&!(y.get("isStroke")&&y.get("isFill"))&&(y.get("isStroke")&&y.attr("fill",null),y.get("isFill")&&y.attr("stroke",null)))})}},a.prototype.getLimitItemWidth=function(){var n=this.get("itemWidth"),s=this.get("maxItemWidth");return s?n&&(s=n<=s?n:s):n&&(s=n),s},a}(mw),Kk=Yu,Nr=1.4,Uu=.4,Qa=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:cr.textColor,textBaseline:"middle",fontFamily:cr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:cr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},a.prototype.isSlider=function(){return!0},a.prototype.getValue=function(){return this.getCurrentValue()},a.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},a.prototype.setRange=function(n,s){this.update({min:n,max:s})},a.prototype.setValue=function(n){var s=this.getValue();this.set("value",n);var c=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(c),this.delegateEmit("valuechanged",{originValue:s,value:n})},a.prototype.initEvent=function(){var n=this.get("group");this.bindSliderEvent(n),this.bindRailEvent(n),this.bindTrackEvent(n)},a.prototype.drawLegendContent=function(n){this.drawRail(n),this.drawLabels(n),this.fixedElements(n),this.resetTrack(n),this.resetTrackClip(n),this.get("slidable")&&this.resetHandlers(n)},a.prototype.bindSliderEvent=function(n){this.bindHandlersEvent(n)},a.prototype.bindHandlersEvent=function(n){var s=this;n.on("legend-handler-min:drag",function(c){var f=s.getValueByCanvasPoint(c.x,c.y),d=s.getCurrentValue(),v=d[1];v<f&&(v=f),s.setValue([f,v])}),n.on("legend-handler-max:drag",function(c){var f=s.getValueByCanvasPoint(c.x,c.y),d=s.getCurrentValue(),v=d[0];v>f&&(v=f),s.setValue([v,f])})},a.prototype.bindRailEvent=function(n){},a.prototype.bindTrackEvent=function(n){var s=this,c=null;n.on("legend-track:dragstart",function(f){c={x:f.x,y:f.y}}),n.on("legend-track:drag",function(f){if(c){var d=s.getValueByCanvasPoint(c.x,c.y),v=s.getValueByCanvasPoint(f.x,f.y),y=s.getCurrentValue(),b=y[1]-y[0],S=s.getRange(),C=v-d;C<0?y[0]+C>S.min?s.setValue([y[0]+C,y[1]+C]):s.setValue([S.min,S.min+b]):C>0&&(C>0&&y[1]+C<S.max?s.setValue([y[0]+C,y[1]+C]):s.setValue([S.max-b,S.max])),c={x:f.x,y:f.y}}}),n.on("legend-track:dragend",function(f){c=null})},a.prototype.drawLabels=function(n){this.drawLabel("min",n),this.drawLabel("max",n)},a.prototype.drawLabel=function(n,s){var c=this.get("label"),f=c.style,d=c.align,v=c.formatter,y=this.get(n),b=this.getLabelAlignAttrs(n,d),S="label-"+n;this.addShape(s,{type:"text",id:this.getElementId(S),name:"legend-label-"+n,attrs:(0,L.pi)((0,L.pi)({x:0,y:0,text:(0,_.mf)(v)?v(y):y},f),b)})},a.prototype.getLabelAlignAttrs=function(n,s){var c=this.isVertical(),f="center",d="middle";return c?(f="start",s!=="rail"?n==="min"?d="top":d="bottom":d="top"):s!=="rail"?(d="top",n==="min"?f="start":f="end"):(f="start",d="middle"),{textAlign:f,textBaseline:d}},a.prototype.getRailPath=function(n,s,c,f){var d=this.get("rail"),v=d.size,y=d.defaultLength,b=d.type,S=this.isVertical(),C=y,T=c,k=f;T||(T=S?v:C),k||(k=S?C:v);var R=[];return b==="color"?(R.push(["M",n,s]),R.push(["L",n+T,s]),R.push(["L",n+T,s+k]),R.push(["L",n,s+k]),R.push(["Z"])):(R.push(["M",n+T,s]),R.push(["L",n+T,s+k]),R.push(["L",n,s+k]),R.push(["Z"])),R},a.prototype.drawRail=function(n){var s=this.get("rail"),c=s.style;this.addShape(n,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,L.pi)({path:this.getRailPath(0,0)},c)})},a.prototype.getTrackColor=function(n){var s=n.length;if(!s)return null;if(s===1)return n[0];var c;this.isVertical()?c="l(90)":c="l(0)";for(var f=0;f<s;f++){var d=f/(s-1);c+=" "+d+":"+n[f]}return c},a.prototype.getTrackPath=function(n){var s=this.getRailShape(n),c=s.attr("path");return(0,_.d9)(c)},a.prototype.getClipTrackAttrs=function(n){var s=this.getCurrentValue(),c=s[0],f=s[1],d=this.getRailBBox(n),v=this.getPointByValue(c,n),y=this.getPointByValue(f,n),b=this.isVertical(),S,C,T,k;return b?(S=d.minX,C=v.y,T=d.width,k=y.y-v.y):(S=v.x,C=d.minY,T=y.x-v.x,k=d.height),{x:S,y:C,width:T,height:k}},a.prototype.getTrackAttrs=function(n){var s=this.get("track"),c=this.get("colors"),f=this.getTrackPath(n);return(0,_.CD)({path:f,fill:this.getTrackColor(c)},s.style)},a.prototype.resetTrackClip=function(n){var s=n||this.get("group"),c=this.getElementId("track"),f=s.findById(c),d=f.getClip(),v=this.getClipTrackAttrs(n);d?d.attr(v):f.setClip({type:"rect",attrs:v})},a.prototype.resetTrack=function(n){var s=this.getElementId("track"),c=n.findById(s),f=this.getTrackAttrs(n);c?c.attr(f):this.addShape(n,{type:"path",id:s,draggable:this.get("slidable"),name:"legend-track",attrs:f})},a.prototype.getPointByValue=function(n,s){var c=this.getRange(),f=c.min,d=c.max,v=(n-f)/(d-f),y=this.getRailBBox(s),b=this.isVertical(),S={x:0,y:0};return b?(S.x=y.minX+y.width/2,S.y=Nc(y.minY,y.maxY,v)):(S.x=Nc(y.minX,y.maxX,v),S.y=y.minY+y.height/2),S},a.prototype.getRailShape=function(n){var s=n||this.get("group");return s.findById(this.getElementId("rail"))},a.prototype.getRailBBox=function(n){var s=this.getRailShape(n),c=s.getBBox();return c},a.prototype.getRailCanvasBBox=function(){var n=this.get("group"),s=n.findById(this.getElementId("rail")),c=s.getCanvasBBox();return c},a.prototype.isVertical=function(){return this.get("layout")==="vertical"},a.prototype.getValueByCanvasPoint=function(n,s){var c=this.getRange(),f=c.min,d=c.max,v=this.getRailCanvasBBox(),y=this.isVertical(),b=this.get("step"),S;y?S=(s-v.minY)/v.height:S=(n-v.minX)/v.width;var C=Nc(f,d,S);if(b){var T=Math.round((C-f)/b);C=f+T*b}return C>d&&(C=d),C<f&&(C=f),C},a.prototype.getCurrentValue=function(){var n=this.get("value");if(!n){var s=this.get("values");return s?[Math.max(Math.min.apply(Math,(0,L.pr)(s,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,L.pr)(s,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return n},a.prototype.resetHandlers=function(n){var s=this.getCurrentValue(),c=s[0],f=s[1];this.resetHandler(n,"min",c),this.resetHandler(n,"max",f)},a.prototype.getHandlerPath=function(n,s){var c=this.isVertical(),f=[],d=n.size,v=s.x,y=s.y,b=d*Nr,S=d/2,C=d/6;if(c){var T=v+b*Uu;f.push(["M",v,y]),f.push(["L",T,y+S]),f.push(["L",v+b,y+S]),f.push(["L",v+b,y-S]),f.push(["L",T,y-S]),f.push(["Z"]),f.push(["M",T,y+C]),f.push(["L",v+b-2,y+C]),f.push(["M",T,y-C]),f.push(["L",v+b-2,y-C])}else{var k=y+b*Uu;f.push(["M",v,y]),f.push(["L",v-S,k]),f.push(["L",v-S,y+b]),f.push(["L",v+S,y+b]),f.push(["L",v+S,k]),f.push(["Z"]),f.push(["M",v-C,k]),f.push(["L",v-C,y+b-2]),f.push(["M",v+C,k]),f.push(["L",v+C,y+b-2])}return f},a.prototype.resetHandler=function(n,s,c){var f=this.getPointByValue(c,n),d=this.get("handler"),v=this.getHandlerPath(d,f),y=this.getElementId("handler-"+s),b=n.findById(y),S=this.isVertical();b?b.attr("path",v):this.addShape(n,{type:"path",name:"legend-handler-"+s,draggable:!0,id:y,attrs:(0,L.pi)((0,L.pi)({path:v},d.style),{cursor:S?"ns-resize":"ew-resize"})})},a.prototype.fixedElements=function(n){var s=n.findById(this.getElementId("rail")),c=n.findById(this.getElementId("label-min")),f=n.findById(this.getElementId("label-max")),d=this.getDrawPoint();this.isVertical()?this.fixedVertail(c,f,s,d):this.fixedHorizontal(c,f,s,d)},a.prototype.fitRailLength=function(n,s,c,f){var d=this.isVertical(),v=d?"height":"width",y=this.get("label"),b=y.align,S=y.spacing,C=this.get("max"+(0,_.jC)(v));if(C){var T=b==="rail"?c[v]+n[v]+s[v]+S*2:c[v],k=T-C;k>0&&this.changeRailLength(f,v,c[v]-k)}},a.prototype.changeRailLength=function(n,s,c){var f=n.getBBox(),d;s==="height"?d=this.getRailPath(f.x,f.y,f.width,c):d=this.getRailPath(f.x,f.y,c,f.height),n.attr("path",d)},a.prototype.changeRailPosition=function(n,s,c){var f=n.getBBox(),d=this.getRailPath(s,c,f.width,f.height);n.attr("path",d)},a.prototype.fixedHorizontal=function(n,s,c,f){var d=this.get("label"),v=d.align,y=d.spacing,b=c.getBBox(),S=n.getBBox(),C=s.getBBox(),T=b.height;this.fitRailLength(S,C,b,c),b=c.getBBox(),v==="rail"?(n.attr({x:f.x,y:f.y+T/2}),this.changeRailPosition(c,f.x+S.width+y,f.y),s.attr({x:f.x+S.width+b.width+y*2,y:f.y+T/2})):v==="top"?(n.attr({x:f.x,y:f.y}),s.attr({x:f.x+b.width,y:f.y}),this.changeRailPosition(c,f.x,f.y+S.height+y)):(this.changeRailPosition(c,f.x,f.y),n.attr({x:f.x,y:f.y+b.height+y}),s.attr({x:f.x+b.width,y:f.y+b.height+y}))},a.prototype.fixedVertail=function(n,s,c,f){var d=this.get("label"),v=d.align,y=d.spacing,b=c.getBBox(),S=n.getBBox(),C=s.getBBox();if(this.fitRailLength(S,C,b,c),b=c.getBBox(),v==="rail")n.attr({x:f.x,y:f.y}),this.changeRailPosition(c,f.x,f.y+S.height+y),s.attr({x:f.x,y:f.y+S.height+b.height+y*2});else if(v==="right")n.attr({x:f.x+b.width+y,y:f.y}),this.changeRailPosition(c,f.x,f.y),s.attr({x:f.x+b.width+y,y:f.y+b.height});else{var T=Math.max(S.width,C.width);n.attr({x:f.x,y:f.y}),this.changeRailPosition(c,f.x+T+y,f.y),s.attr({x:f.x,y:f.y+b.height})}},a}(mw),xw=Qa,Ms="g2-tooltip",Ss="g2-tooltip-title",zi="g2-tooltip-list",xn="g2-tooltip-list-item",Sa="g2-tooltip-marker",Rh="g2-tooltip-value",av="g2-tooltip-name",Fh="g2-tooltip-crosshair-x",yy="g2-tooltip-crosshair-y",ua,Jk=(ua={},ua[""+Ms]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:cr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},ua[""+Ss]={marginBottom:"4px"},ua[""+zi]={margin:"0px",listStyleType:"none",padding:"0px"},ua[""+xn]={listStyleType:"none",marginBottom:"4px"},ua[""+Sa]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},ua[""+Rh]={display:"inline-block",float:"right",marginLeft:"30px"},ua[""+Fh]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ua[""+yy]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ua);function Qk(o,a,n,s,c){var f={left:o<c.x,right:o+n>c.x+c.width,top:a<c.y,bottom:a+s>c.y+c.height};return f}function tP(o,a,n,s,c,f){var d=o,v=a;switch(f){case"left":d=o-s-n,v=a-c/2;break;case"right":d=o+n,v=a-c/2;break;case"top":d=o-s/2,v=a-c-n;break;case"bottom":d=o-s/2,v=a+n;break;default:d=o+n,v=a-c-n;break}return{x:d,y:v}}function eP(o,a,n,s,c,f,d){var v=tP(o,a,n,s,c,f);if(d){var y=Qk(v.x,v.y,s,c,d);f==="auto"?(y.right&&(v.x=Math.max(0,o-s-n)),y.top&&(v.y=Math.max(0,a-c-n))):f==="top"||f==="bottom"?(y.left&&(v.x=d.x),y.right&&(v.x=d.x+d.width-s),f==="top"&&y.top&&(v.y=a+n),f==="bottom"&&y.bottom&&(v.y=a-c-n)):(y.top&&(v.y=d.y),y.bottom&&(v.y=d.y+d.height-c),f==="left"&&y.left&&(v.x=o+n),f==="right"&&y.right&&(v.x=o-s-n))}return v}function bw(o,a){var n=!1;return(0,_.S6)(a,function(s){if((0,_.wH)(o,s))return n=!0,!1}),n}var my=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Ms+'"><div class="'+Ss+'"></div><ul class="'+zi+'"></ul></div>',itemTpl:'<li class="'+xn+`" data-index={index}>
          <span class="`+Sa+`" style="background:{color}"></span>
          <span class="`+av+`">{name}</span>:
          <span class="`+Rh+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Fh+'"></div>',yCrosshairTpl:'<div class="'+yy+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Ms,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Jk})},a.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},a.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},a.prototype.show=function(){var n=this.getContainer();!n||this.destroyed||(this.set("visible",!0),ye(n,{visibility:"visible"}),this.setCrossHairsVisible(!0))},a.prototype.hide=function(){var n=this.getContainer();!n||this.destroyed||(this.set("visible",!1),ye(n,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},a.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},a.prototype.setLocation=function(n){this.set("x",n.x),this.set("y",n.y),this.resetPosition()},a.prototype.setCrossHairsVisible=function(n){var s=n?"":"none",c=this.get("xCrosshairDom"),f=this.get("yCrosshairDom");c&&ye(c,{display:s}),f&&ye(f,{display:s})},a.prototype.initContainer=function(){if(o.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var n=this.getHtmlContentNode();this.get("parent").appendChild(n),this.set("container",n),this.resetStyles(),this.applyStyles()}},a.prototype.updateInner=function(n){this.get("customContent")?this.renderCustomContent():(bw(n,["title","showTitle"])&&this.resetTitle(),(0,_.wH)(n,"items")&&this.renderItems()),o.prototype.updateInner.call(this,n)},a.prototype.initDom=function(){this.cacheDoms()},a.prototype.removeDom=function(){o.prototype.removeDom.call(this),this.clearCrosshairs()},a.prototype.resetPosition=function(){var n=this.get("x"),s=this.get("y"),c=this.get("offset"),f=this.getOffset(),d=f.offsetX,v=f.offsetY,y=this.get("position"),b=this.get("region"),S=this.getContainer(),C=this.getBBox(),T=C.width,k=C.height,R;b&&(R=Gu(b));var D=eP(n,s,c,T,k,y,R);ye(S,{left:wa(D.x+d),top:wa(D.y+v)}),this.resetCrosshairs()},a.prototype.renderCustomContent=function(){var n=this.getHtmlContentNode(),s=this.get("parent"),c=this.get("container");c&&c.parentNode===s?s.replaceChild(n,c):s.appendChild(n),this.set("container",n),this.resetStyles(),this.applyStyles()},a.prototype.getHtmlContentNode=function(){var n,s=this.get("customContent");if(s){var c=s(this.get("title"),this.get("items"));(0,_.kK)(c)?n=c:n=(0,zt.Z)(c)}return n},a.prototype.cacheDoms=function(){var n=this.getContainer(),s=n.getElementsByClassName(Ss)[0],c=n.getElementsByClassName(zi)[0];this.set("titleDom",s),this.set("listDom",c)},a.prototype.resetTitle=function(){var n=this.get("title"),s=this.get("showTitle");s&&n?this.setTitle(n):this.setTitle("")},a.prototype.setTitle=function(n){var s=this.get("titleDom");s&&(s.innerText=n)},a.prototype.resetCrosshairs=function(){var n=this.get("crosshairsRegion"),s=this.get("crosshairs");if(!n||!s)this.clearCrosshairs();else{var c=Gu(n),f=this.get("xCrosshairDom"),d=this.get("yCrosshairDom");s==="x"?(this.resetCrosshair("x",c),d&&(d.remove(),this.set("yCrosshairDom",null))):s==="y"?(this.resetCrosshair("y",c),f&&(f.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",c),this.resetCrosshair("y",c)),this.setCrossHairsVisible(this.get("visible"))}},a.prototype.resetCrosshair=function(n,s){var c=this.checkCrosshair(n),f=this.get(n);n==="x"?ye(c,{left:wa(f),top:wa(s.y),height:wa(s.height)}):ye(c,{top:wa(f),left:wa(s.x),width:wa(s.width)})},a.prototype.checkCrosshair=function(n){var s=n+"CrosshairDom",c=n+"CrosshairTpl",f="CROSSHAIR_"+n.toUpperCase(),d=Gt[f],v=this.get(s),y=this.get("parent");return v||(v=(0,zt.Z)(this.get(c)),this.applyStyle(d,v),y.appendChild(v),this.set(s,v)),v},a.prototype.renderItems=function(){this.clearItemDoms();var n=this.get("items"),s=this.get("itemTpl"),c=this.get("listDom");c&&((0,_.S6)(n,function(f){var d=ut.toCSSGradient(f.color),v=(0,L.pi)((0,L.pi)({},f),{color:d}),y=(0,_.ng)(s,v),b=(0,zt.Z)(y);c.appendChild(b)}),this.applyChildrenStyles(c,this.get("domStyles")))},a.prototype.clearItemDoms=function(){this.get("listDom")&&Kp(this.get("listDom"))},a.prototype.clearCrosshairs=function(){var n=this.get("xCrosshairDom"),s=this.get("yCrosshairDom");n&&n.remove(),s&&s.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},a}(cw),ov=my,nP={opacity:0},_s={stroke:"#C5C5C5",strokeOpacity:.85},sv={fill:"#CACED4",opacity:.85},to=kt(23077);function rP(o){return(0,_.UI)(o,function(a,n){var s=n===0?"M":"L",c=a[0],f=a[1];return[s,c,f]})}function xy(o){return rP(o)}function iP(o){if(o.length<=2)return xy(o);var a=[];(0,_.S6)(o,function(d){(0,_.Xy)(d,a.slice(a.length-2))||a.push(d[0],d[1])});var n=(0,to.e9)(a,!1),s=(0,_.YM)(o),c=s[0],f=s[1];return n.unshift(["M",c,f]),n}function Xu(o,a,n,s){s===void 0&&(s=!0);var c=new ts({values:o}),f=new Cn({values:(0,_.UI)(o,function(v,y){return y})}),d=(0,_.UI)(o,function(v,y){return[f.scale(y)*a,n-c.scale(v)*n]});return s?iP(d):xy(d)}function aP(o,a){var n=new ts({values:o}),s=n.max<0?n.max:Math.max(0,n.min);return a-n.scale(s)*a}function y6(o,a,n,s){var c=(0,L.pr)(o),f=aP(s,n);return c.push(["L",a,f]),c.push(["L",0,f]),c.push(["Z"]),c}var oP=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:nP,lineStyle:_s,areaStyle:sv})},a.prototype.renderInner=function(n){var s=this.cfg,c=s.width,f=s.height,d=s.data,v=s.smooth,y=s.isArea,b=s.backgroundStyle,S=s.lineStyle,C=s.areaStyle;this.addShape(n,{id:this.getElementId("background"),type:"rect",attrs:(0,L.pi)({x:0,y:0,width:c,height:f},b)});var T=Xu(d,c,f,v);if(this.addShape(n,{id:this.getElementId("line"),type:"path",attrs:(0,L.pi)({path:T},S)}),y){var k=y6(T,c,f,d);this.addShape(n,{id:this.getElementId("area"),type:"path",attrs:(0,L.pi)({path:k},C)})}},a.prototype.applyOffset=function(){var n=this.cfg,s=n.x,c=n.y;this.moveElementTo(this.get("group"),{x:s,y:c})},a}(ca),ww=null,Mw={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},lv=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"handler",x:0,y:0,width:10,height:24,style:Mw})},a.prototype.renderInner=function(n){var s=this.cfg,c=s.width,f=s.height,d=s.style,v=d.fill,y=d.stroke,b=d.radius,S=d.opacity,C=d.cursor;this.addShape(n,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:c,height:f,fill:v,stroke:y,radius:b,opacity:S,cursor:C}});var T=1/3*c,k=2/3*c,R=1/4*f,D=3/4*f;this.addShape(n,{id:this.getElementId("line-left"),type:"line",attrs:{x1:T,y1:R,x2:T,y2:D,stroke:y,cursor:C}}),this.addShape(n,{id:this.getElementId("line-right"),type:"line",attrs:{x1:k,y1:R,x2:k,y2:D,stroke:y,cursor:C}})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.bindEvents=function(){var n=this;this.get("group").on("mouseenter",function(){var s=n.get("style").highLightFill;n.getElementByLocalId("background").attr("fill",s),n.draw()}),this.get("group").on("mouseleave",function(){var s=n.get("style").fill;n.getElementByLocalId("background").attr("fill",s),n.draw()})},a.prototype.draw=function(){var n=this.get("container").get("canvas");n&&n.draw()},a}(ca),Zr=null,na={fill:"#416180",opacity:.05},Qs={fill:"#5B8FF9",opacity:.15,cursor:"move"},Zu=10,ni={width:Zu,height:24},sP={textBaseline:"middle",fill:"#000",opacity:.45},lP="sliderchange",by=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.onMouseDown=function(s){return function(c){n.currentTarget=s;var f=c.originalEvent;f.stopPropagation(),f.preventDefault(),n.prevX=(0,_.U2)(f,"touches.0.pageX",f.pageX),n.prevY=(0,_.U2)(f,"touches.0.pageY",f.pageY);var d=n.getContainerDOM();d.addEventListener("mousemove",n.onMouseMove),d.addEventListener("mouseup",n.onMouseUp),d.addEventListener("mouseleave",n.onMouseUp),d.addEventListener("touchmove",n.onMouseMove),d.addEventListener("touchend",n.onMouseUp),d.addEventListener("touchcancel",n.onMouseUp)}},n.onMouseMove=function(s){var c=n.cfg.width,f=[n.get("start"),n.get("end")];s.stopPropagation(),s.preventDefault();var d=(0,_.U2)(s,"touches.0.pageX",s.pageX),v=(0,_.U2)(s,"touches.0.pageY",s.pageY),y=d-n.prevX,b=n.adjustOffsetRange(y/c);n.updateStartEnd(b),n.updateUI(n.getElementByLocalId("foreground"),n.getElementByLocalId("minText"),n.getElementByLocalId("maxText")),n.prevX=d,n.prevY=v,n.draw(),n.emit(lP,[n.get("start"),n.get("end")].sort()),n.delegateEmit("valuechanged",{originValue:f,value:[n.get("start"),n.get("end")]})},n.onMouseUp=function(){n.currentTarget&&(n.currentTarget=void 0);var s=n.getContainerDOM();s&&(s.removeEventListener("mousemove",n.onMouseMove),s.removeEventListener("mouseup",n.onMouseUp),s.removeEventListener("mouseleave",n.onMouseUp),s.removeEventListener("touchmove",n.onMouseMove),s.removeEventListener("touchend",n.onMouseUp),s.removeEventListener("touchcancel",n.onMouseUp))},n}return a.prototype.setRange=function(n,s){this.set("minLimit",n),this.set("maxLimit",s);var c=this.get("start"),f=this.get("end"),d=(0,_.uZ)(c,n,s),v=(0,_.uZ)(f,n,s);!this.get("isInit")&&(c!==d||f!==v)&&this.setValue([d,v])},a.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},a.prototype.setValue=function(n){var s=this.getRange();if((0,_.kJ)(n)&&n.length===2){var c=[this.get("start"),this.get("end")];this.update({start:(0,_.uZ)(n[0],s.min,s.max),end:(0,_.uZ)(n[1],s.min,s.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:c,value:n})}},a.prototype.getValue=function(){return[this.get("start"),this.get("end")]},a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:na,foregroundStyle:Qs,handlerStyle:ni,textStyle:sP}})},a.prototype.update=function(n){var s=n.start,c=n.end,f=(0,L.pi)({},n);(0,_.UM)(s)||(f.start=(0,_.uZ)(s,0,1)),(0,_.UM)(c)||(f.end=(0,_.uZ)(c,0,1)),o.prototype.update.call(this,f),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},a.prototype.init=function(){this.set("start",(0,_.uZ)(this.get("start"),0,1)),this.set("end",(0,_.uZ)(this.get("end"),0,1)),o.prototype.init.call(this)},a.prototype.render=function(){o.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},a.prototype.renderInner=function(n){var s=this.cfg,c=s.start,f=s.end,d=s.width,v=s.height,y=s.trendCfg,b=y===void 0?{}:y,S=s.minText,C=s.maxText,T=s.backgroundStyle,k=T===void 0?{}:T,R=s.foregroundStyle,D=R===void 0?{}:R,V=s.textStyle,j=V===void 0?{}:V,H=(0,_.b$)({},Mw,this.cfg.handlerStyle),Z=c*d,q=f*d;(0,_.dp)((0,_.U2)(b,"data"))&&(this.trend=this.addComponent(n,(0,L.pi)({component:oP,id:this.getElementId("trend"),x:0,y:0,width:d,height:v},b))),this.addShape(n,{id:this.getElementId("background"),type:"rect",attrs:(0,L.pi)({x:0,y:0,width:d,height:v},k)});var K=this.addShape(n,{id:this.getElementId("minText"),type:"text",attrs:(0,L.pi)({y:v/2,textAlign:"right",text:S,silent:!1},j)}),Ct=this.addShape(n,{id:this.getElementId("maxText"),type:"text",attrs:(0,L.pi)({y:v/2,textAlign:"left",text:C,silent:!1},j)}),Ft=this.addShape(n,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,L.pi)({y:0,height:v},D)}),Jt=(0,_.U2)(H,"width",Zu),_e=(0,_.U2)(H,"height",24);this.minHandler=this.addComponent(n,{component:lv,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(v-_e)/2,width:Jt,height:_e,cursor:"ew-resize",style:H}),this.maxHandler=this.addComponent(n,{component:lv,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(v-_e)/2,width:Jt,height:_e,cursor:"ew-resize",style:H})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.updateUI=function(n,s,c){var f=this.cfg,d=f.start,v=f.end,y=f.width,b=f.minText,S=f.maxText,C=f.handlerStyle,T=f.height,k=d*y,R=v*y;this.trend&&(this.trend.update({width:y,height:T}),this.get("updateAutoRender")||this.trend.render()),n.attr("x",k),n.attr("width",R-k);var D=(0,_.U2)(C,"width",Zu);s.attr("text",b),c.attr("text",S);var V=this._dodgeText([k,R],s,c),j=V[0],H=V[1];this.minHandler&&(this.minHandler.update({x:k-D/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,_.S6)(j,function(Z,q){return s.attr(q,Z)}),this.maxHandler&&(this.maxHandler.update({x:R-D/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,_.S6)(H,function(Z,q){return c.attr(q,Z)})},a.prototype.bindEvents=function(){var n=this.get("group");n.on("handler-min:mousedown",this.onMouseDown("minHandler")),n.on("handler-min:touchstart",this.onMouseDown("minHandler")),n.on("handler-max:mousedown",this.onMouseDown("maxHandler")),n.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var s=n.findById(this.getElementId("foreground"));s.on("mousedown",this.onMouseDown("foreground")),s.on("touchstart",this.onMouseDown("foreground"))},a.prototype.adjustOffsetRange=function(n){var s=this.cfg,c=s.start,f=s.end;switch(this.currentTarget){case"minHandler":{var d=0-c,v=1-c;return Math.min(v,Math.max(d,n))}case"maxHandler":{var d=0-f,v=1-f;return Math.min(v,Math.max(d,n))}case"foreground":{var d=0-c,v=1-f;return Math.min(v,Math.max(d,n))}}},a.prototype.updateStartEnd=function(n){var s=this.cfg,c=s.start,f=s.end;switch(this.currentTarget){case"minHandler":c+=n;break;case"maxHandler":f+=n;break;case"foreground":c+=n,f+=n;break}this.set("start",c),this.set("end",f)},a.prototype._dodgeText=function(n,s,c){var f,d,v=this.cfg,y=v.handlerStyle,b=v.width,S=2,C=(0,_.U2)(y,"width",Zu),T=n[0],k=n[1],R=!1;T>k&&(f=[k,T],T=f[0],k=f[1],d=[c,s],s=d[0],c=d[1],R=!0);var D=s.getBBox(),V=c.getBBox(),j=D.width>T-S?{x:T+C/2+S,textAlign:"left"}:{x:T-C/2-S,textAlign:"right"},H=V.width>b-k-S?{x:k-C/2-S,textAlign:"right"}:{x:k+C/2+S,textAlign:"left"};return R?[H,j]:[j,H]},a.prototype.draw=function(){var n=this.get("container"),s=n&&n.get("canvas");s&&s.draw()},a.prototype.getContainerDOM=function(){var n=this.get("container"),s=n&&n.get("canvas");return s&&s.get("container")},a}(ca),Sw=null;function El(o,a,n){if(o){if(typeof o.addEventListener=="function")return o.addEventListener(a,n,!1),{remove:function(){o.removeEventListener(a,n,!1)}};if(typeof o.attachEvent=="function")return o.attachEvent("on"+a,n),{remove:function(){o.detachEvent("on"+a,n)}}}}var _w={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},wy={default:_w,hover:{thumbColor:"rgba(0,0,0,0.2)"}},vi=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.clearEvents=_.ZT,n.onStartEvent=function(s){return function(c){n.isMobile=s,c.originalEvent.preventDefault();var f=s?(0,_.U2)(c.originalEvent,"touches.0.clientX"):c.clientX,d=s?(0,_.U2)(c.originalEvent,"touches.0.clientY"):c.clientY;n.startPos=n.cfg.isHorizontal?f:d,n.bindLaterEvent()}},n.bindLaterEvent=function(){var s=n.getContainerDOM(),c=[];n.isMobile?c=[El(s,"touchmove",n.onMouseMove),El(s,"touchend",n.onMouseUp),El(s,"touchcancel",n.onMouseUp)]:c=[El(s,"mousemove",n.onMouseMove),El(s,"mouseup",n.onMouseUp),El(s,"mouseleave",n.onMouseUp)],n.clearEvents=function(){c.forEach(function(f){f.remove()})}},n.onMouseMove=function(s){var c=n.cfg,f=c.isHorizontal,d=c.thumbOffset;s.preventDefault();var v=n.isMobile?(0,_.U2)(s,"touches.0.clientX"):s.clientX,y=n.isMobile?(0,_.U2)(s,"touches.0.clientY"):s.clientY,b=f?v:y,S=b-n.startPos;n.startPos=b,n.updateThumbOffset(d+S)},n.onMouseUp=function(s){s.preventDefault(),n.clearEvents()},n.onTrackClick=function(s){var c=n.cfg,f=c.isHorizontal,d=c.x,v=c.y,y=c.thumbLen,b=n.getContainerDOM(),S=b.getBoundingClientRect(),C=s.clientX,T=s.clientY,k=f?C-S.left-d-y/2:T-S.top-v-y/2,R=n.validateRange(k);n.updateThumbOffset(R)},n.onThumbMouseOver=function(){var s=n.cfg.theme.hover.thumbColor;n.getElementByLocalId("thumb").attr("stroke",s),n.draw()},n.onThumbMouseOut=function(){var s=n.cfg.theme.default.thumbColor;n.getElementByLocalId("thumb").attr("stroke",s),n.draw()},n}return a.prototype.setRange=function(n,s){this.set("minLimit",n),this.set("maxLimit",s);var c=this.getValue(),f=(0,_.uZ)(c,n,s);c!==f&&!this.get("isInit")&&this.setValue(f)},a.prototype.getRange=function(){var n=this.get("minLimit")||0,s=this.get("maxLimit")||1;return{min:n,max:s}},a.prototype.setValue=function(n){var s=this.getRange(),c=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,_.uZ)(n,s.min,s.max)}),this.delegateEmit("valuechange",{originalValue:c,value:this.getValue()})},a.prototype.getValue=function(){return(0,_.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return(0,L.pi)((0,L.pi)({},n),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:wy})},a.prototype.renderInner=function(n){this.renderTrackShape(n),this.renderThumbShape(n)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.renderTrackShape=function(n){var s=this.cfg,c=s.trackLen,f=s.theme,d=f===void 0?{default:{}}:f,v=(0,_.b$)({},wy,d).default,y=v.lineCap,b=v.trackColor,S=v.size,C=(0,_.U2)(this.cfg,"size",S),T=this.get("isHorizontal")?{x1:0+C/2,y1:C/2,x2:c-C/2,y2:C/2,lineWidth:C,stroke:b,lineCap:y}:{x1:C/2,y1:0+C/2,x2:C/2,y2:c-C/2,lineWidth:C,stroke:b,lineCap:y};return this.addShape(n,{id:this.getElementId("track"),name:"track",type:"line",attrs:T})},a.prototype.renderThumbShape=function(n){var s=this.cfg,c=s.thumbOffset,f=s.thumbLen,d=s.theme,v=(0,_.b$)({},wy,d).default,y=v.size,b=v.lineCap,S=v.thumbColor,C=(0,_.U2)(this.cfg,"size",y),T=this.get("isHorizontal")?{x1:c+C/2,y1:C/2,x2:c+f-C/2,y2:C/2,lineWidth:C,stroke:S,lineCap:b,cursor:"default"}:{x1:C/2,y1:c+C/2,x2:C/2,y2:c+f-C/2,lineWidth:C,stroke:S,lineCap:b,cursor:"default"};return this.addShape(n,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:T})},a.prototype.bindEvents=function(){var n=this.get("group");n.on("mousedown",this.onStartEvent(!1)),n.on("mouseup",this.onMouseUp),n.on("touchstart",this.onStartEvent(!0)),n.on("touchend",this.onMouseUp);var s=n.findById(this.getElementId("track"));s.on("click",this.onTrackClick);var c=n.findById(this.getElementId("thumb"));c.on("mouseover",this.onThumbMouseOver),c.on("mouseout",this.onThumbMouseOut)},a.prototype.getContainerDOM=function(){var n=this.get("container"),s=n&&n.get("canvas");return s&&s.get("container")},a.prototype.validateRange=function(n){var s=this.cfg,c=s.thumbLen,f=s.trackLen,d=n;return n+c>f?d=f-c:n+c<c&&(d=0),d},a.prototype.draw=function(){var n=this.get("container"),s=n&&n.get("canvas");s&&s.draw()},a.prototype.updateThumbOffset=function(n){var s=this.cfg,c=s.thumbOffset,f=s.isHorizontal,d=s.thumbLen,v=s.size,y=this.validateRange(n);if(y!==c){var b=this.getElementByLocalId("thumb");f?b.attr({x1:y+v/2,x2:y+d-v/2}):b.attr({y1:y+v/2,y2:y+d-v/2}),this.emitOffsetChange(y)}},a.prototype.emitOffsetChange=function(n){var s=this.cfg,c=s.thumbOffset,f=s.trackLen,d=s.thumbLen;this.cfg.thumbOffset=n,this.emit("scrollchange",{thumbOffset:n,ratio:(0,_.uZ)(n/(f-d),0,1)}),this.delegateEmit("valuechange",{originalValue:c,value:n})},a}(ca),cv=Hk,My=za,qu=gy,Ow=qk,Sn=Kk,cP=xw,uv=ov;function uP(o){if((0,_.xb)(o))return null;var a=o[0].x,n=o[0].x,s=o[0].y,c=o[0].y;return(0,_.S6)(o,function(f){a=a>f.x?f.x:a,n=n<f.x?f.x:n,s=s>f.y?f.y:s,c=c<f.y?f.y:c}),{minX:a,maxX:n,minY:s,maxY:c,centerX:(a+n)/2,centerY:(s+c)/2}}function Cw(o){return Array.from(new Set(o)).length===1}function Aw(o){return((0,_.VV)(o)+(0,_.Fp)(o))/2}function Ei(o,a,n,s){return{x:o+n*Math.cos(s),y:a+n*Math.sin(s)}}function kl(o,a,n,s,c,f){f===void 0&&(f=0);var d=Ei(o,a,n,s),v=Ei(o,a,n,c),y=Ei(o,a,f,s),b=Ei(o,a,f,c);if(c-s===Math.PI*2){var S=Ei(o,a,n,s+Math.PI),C=Ei(o,a,f,s+Math.PI),T=[["M",d.x,d.y],["A",n,n,0,1,1,S.x,S.y],["A",n,n,0,1,1,v.x,v.y],["M",y.x,y.y]];return f&&(T.push(["A",f,f,0,1,0,C.x,C.y]),T.push(["A",f,f,0,1,0,b.x,b.y])),T.push(["M",d.x,d.y]),T.push(["Z"]),T}var k=c-s<=Math.PI?0:1,R=[["M",d.x,d.y],["A",n,n,0,k,1,v.x,v.y],["L",b.x,b.y]];return f&&R.push(["A",f,f,0,k,0,y.x,y.y]),R.push(["L",d.x,d.y]),R.push(["Z"]),R}function Sy(o,a,n,s,c){var f=Ei(o,a,n,s),d=Ei(o,a,n,c);if((0,_.vQ)(c-s,Math.PI*2)){var v=Ei(o,a,n,s+Math.PI);return[["M",f.x,f.y],["A",n,n,0,1,1,v.x,v.y],["A",n,n,0,1,1,f.x,f.y],["A",n,n,0,1,0,v.x,v.y],["A",n,n,0,1,0,f.x,f.y],["Z"]]}var y=c-s<=Math.PI?0:1;return[["M",f.x,f.y],["A",n,n,0,y,1,d.x,d.y]]}function Dh(o,a){var n=o.points,s=uP(n),c,f,d=a.startAngle,v=a.endAngle,y=v-d;return a.isTransposed?(c=s.maxY*y,f=s.minY*y):(c=s.maxX*y,f=s.minX*y),c+=d,f+=d,{startAngle:f,endAngle:c}}function fP(o,a){if((0,_.hj)(o)&&(0,_.hj)(a))return[o,a];if(o=o,a=a,Cw(o)||Cw(a))return[Aw(o),Aw(a)];for(var n=-1,s=0,c=0,f,d=o.length-1,v,y=0;++n<o.length;)f=d,d=n,y+=v=o[f]*a[d]-o[d]*a[f],s+=(o[f]+o[d])*v,c+=(a[f]+a[d])*v;return y*=3,[s/y,c/y]}function Tw(o,a){var n=o.attr(),s=a.attr();return(0,_.S6)(n,function(c,f){s[f]===void 0&&(s[f]=void 0)}),s}function $u(o,a,n){var s=Math.min(a,n),c=Math.max(a,n);return o>=s&&o<=c}function hP(o,a,n){if((0,_.HD)(o))return o.padEnd(a,n);if((0,_.kJ)(o)){var s=o.length;if(s<a)for(var c=a-s,f=0;f<c;f++)o.push(n)}return o}function eo(o,a){return typeof o=="object"&&a.forEach(function(n){delete o[n]}),o}function Pl(o,a,n){var s,c;a===void 0&&(a=[]),n===void 0&&(n=new Map);try{for(var f=(0,L.XA)(o),d=f.next();!d.done;d=f.next()){var v=d.value;n.has(v)||(a.push(v),n.set(v,!0))}}catch(y){s={error:y}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return a}var ja=function(){function o(a,n,s,c){a===void 0&&(a=0),n===void 0&&(n=0),s===void 0&&(s=0),c===void 0&&(c=0),this.x=a,this.y=n,this.height=c,this.width=s}return o.fromRange=function(a,n,s,c){return new o(a,n,s-a,c-n)},o.fromObject=function(a){return new o(a.minX,a.minY,a.width,a.height)},Object.defineProperty(o.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height},o.prototype.contains=function(a){return a.minX>=this.minX&&a.maxX<=this.maxX&&a.minY>=this.minY&&a.maxY<=this.maxY},o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.add=function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var s=this.clone();return(0,_.S6)(a,function(c){s.x=Math.min(c.x,s.x),s.y=Math.min(c.y,s.y),s.width=Math.max(c.maxX,s.maxX)-s.x,s.height=Math.max(c.maxY,s.maxY)-s.y}),s},o.prototype.merge=function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var s=this.clone();return(0,_.S6)(a,function(c){s.x=Math.max(c.x,s.x),s.y=Math.max(c.y,s.y),s.width=Math.min(c.maxX,s.maxX)-s.x,s.height=Math.min(c.maxY,s.maxY)-s.y}),s},o.prototype.cut=function(a,n){var s=a.width,c=a.height;switch(n){case Lt.TOP:case Lt.TOP_LEFT:case Lt.TOP_RIGHT:return o.fromRange(this.minX,this.minY+c,this.maxX,this.maxY);case Lt.RIGHT:case Lt.RIGHT_TOP:case Lt.RIGHT_BOTTOM:return o.fromRange(this.minX,this.minY,this.maxX-s,this.maxY);case Lt.BOTTOM:case Lt.BOTTOM_LEFT:case Lt.BOTTOM_RIGHT:return o.fromRange(this.minX,this.minY,this.maxX,this.maxY-c);case Lt.LEFT:case Lt.LEFT_TOP:case Lt.LEFT_BOTTOM:return o.fromRange(this.minX+s,this.minY,this.maxX,this.maxY);default:return this}},o.prototype.shrink=function(a){var n=(0,L.CR)(a,4),s=n[0],c=n[1],f=n[2],d=n[3];return new o(this.x+d,this.y+s,this.width-d-c,this.height-s-f)},o.prototype.expand=function(a){var n=(0,L.CR)(a,4),s=n[0],c=n[1],f=n[2],d=n[3];return new o(this.x-d,this.y-s,this.width+d+c,this.height+s+f)},o.prototype.exceed=function(a){return[Math.max(-this.minY+a.minY,0),Math.max(this.maxX-a.maxX,0),Math.max(this.maxY-a.maxY,0),Math.max(-this.minX+a.minX,0)]},o.prototype.collide=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},o.prototype.size=function(){return this.width*this.height},o.prototype.isPointIn=function(a){return a.x>=this.minX&&a.x<=this.maxX&&a.y>=this.minY&&a.y<=this.maxY},o}(),fv=function(o,a){var n=a.start,s=a.end;return new ja(o.x+o.width*n.x,o.y+o.height*n.y,o.width*Math.abs(s.x-n.x),o.height*Math.abs(s.y-n.y))};function hv(o){return[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}function mo(o){if(o.isPolar&&!o.isTransposed)return(o.endAngle-o.startAngle)*o.getRadius();var a=o.convert({x:0,y:0}),n=o.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2))}function dP(o){if(o.isPolar){var a=o.startAngle,n=o.endAngle;return n-a===Math.PI*2}return!1}function Ll(o,a){var n=o.getCenter();return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))}function pP(o,a){var n=!1;if(o)if(o.type==="theta"){var s=o.start,c=o.end;n=$u(a.x,s.x,c.x)&&$u(a.y,s.y,c.y)}else{var f=o.invert(a);n=$u(f.x,0,1)&&$u(f.y,0,1)}return n}function ns(o,a){var n=o.getCenter();return Math.atan2(a.y-n.y,a.x-n.x)}function dv(o,a){a===void 0&&(a=0);var n=o.start,s=o.end,c=o.getWidth(),f=o.getHeight();if(o.isPolar){var d=o.startAngle,v=o.endAngle,y=o.getCenter(),b=o.getRadius();return{type:"path",startState:{path:kl(y.x,y.y,b+a,d,d)},endState:function(C){var T=(v-d)*C+d,k=kl(y.x,y.y,b+a,d,T);return{path:k}},attrs:{path:kl(y.x,y.y,b+a,d,v)}}}var S;return o.isTransposed?S={height:f+a*2}:S={width:c+a*2},{type:"rect",startState:{x:n.x-a,y:s.y-a,width:o.isTransposed?c+a*2:0,height:o.isTransposed?0:f+a*2},endState:S,attrs:{x:n.x-a,y:s.y-a,width:c+a*2,height:f+a*2}}}function vP(o,a){a===void 0&&(a=0);var n=o.start,s=o.end,c=o.getWidth(),f=o.getHeight(),d=Math.min(n.x,s.x),v=Math.min(n.y,s.y);return ja.fromRange(d-a,v-a,d+c+a,v+f+a)}var xo=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function _y(o){var a="linear";return xo.test(o)?a="timeCat":(0,_.HD)(o)&&(a="cat"),a}function Oy(o,a,n,s){return a===void 0&&(a={}),a.type?a.type:o.type!=="identity"&&qe.includes(n)&&["interval"].includes(s)||o.isCategory?"cat":o.type}function bo(o,a,n){var s=a||[];if((0,_.hj)(o)||(0,_.UM)((0,_.Wx)(s,o))&&(0,_.xb)(n)){var c=yh("identity");return new c({field:o.toString(),values:[o]})}var f=(0,_.I)(s,o),d=(0,_.U2)(n,"type",_y(f[0])),v=yh(d);return new v((0,L.pi)({field:o,values:f},n))}function gP(o,a){if(o.type!=="identity"&&a.type!=="identity"){var n={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s]);o.change(n)}}function Bh(o){return o.alias||o.field}function Cy(o,a,n){var s=o.values,c=s.length,f;if(c===1)f=[.5,1];else{var d=1,v=0;dP(a)?a.isTransposed?(d=(0,_.U2)(n,"widthRatio.multiplePie",1/1.3),v=1/c*d,f=[v/2,1-v/2]):f=[0,1-1/c]:(v=1/c/2,f=[v,1-v])}return f}function Ew(o){var a=o.values.filter(function(n){return!(0,_.UM)(n)&&!isNaN(n)});return Math.max.apply(Math,(0,L.ev)((0,L.ev)([],(0,L.CR)(a),!1),[(0,_.UM)(o.max)?-1/0:o.max],!1))}function Vc(o){var a,n;switch(o){case Lt.TOP:a={x:0,y:1},n={x:1,y:1};break;case Lt.RIGHT:a={x:1,y:0},n={x:1,y:1};break;case Lt.BOTTOM:a={x:0,y:0},n={x:1,y:0};break;case Lt.LEFT:a={x:0,y:0},n={x:0,y:1};break;default:a=n={x:0,y:0}}return{start:a,end:n}}function Ay(o){var a,n;return o.isTransposed?(a={x:0,y:0},n={x:1,y:0}):(a={x:0,y:0},n={x:0,y:1}),{start:a,end:n}}function Ku(o,a){var n={start:{x:0,y:0},end:{x:0,y:0}};o.isRect?n=Vc(a):o.isPolar&&(n=Ay(o));var s=n.start,c=n.end;return{start:o.convert(s),end:o.convert(c)}}function yP(o,a){if(o.isRect)return o.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(a)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(a)?-1:1;if(o.isPolar){var n=o.x.start;return n<0?-1:1}return 1}function pv(o){var a=o.start,n=o.end;return a.x===n.x}function kw(o,a){var n=o.start,s=o.end,c=pv(o);return c?(n.y-s.y)*(a.x-n.x)>0?1:-1:(s.x-n.x)*(n.y-a.y)>0?-1:1}function vv(o,a){var n=(0,_.U2)(o,["components","axis"],{});return(0,_.b$)({},(0,_.U2)(n,["common"],{}),(0,_.b$)({},(0,_.U2)(n,[a],{})))}function Pw(o,a,n){var s=(0,_.U2)(o,["components","axis"],{});return(0,_.b$)({},(0,_.U2)(s,["common","title"],{}),(0,_.b$)({},(0,_.U2)(s,[a,"title"],{})),n)}function Ju(o){var a=o.x,n=o.y,s=o.circleCenter,c=n.start>n.end,f=o.isTransposed?o.convert({x:c?0:1,y:0}):o.convert({x:0,y:c?0:1}),d=[f.x-s.x,f.y-s.y],v=[1,0],y=f.y>s.y?Nn.EU(d,v):Nn.EU(d,v)*-1,b=y+(a.end-a.start),S=Math.sqrt(Math.pow(f.x-s.x,2)+Math.pow(f.y-s.y,2));return{center:s,radius:S,startAngle:y,endAngle:b}}function gv(o,a){return(0,_.jn)(o)?o===!1?!1:{}:(0,_.U2)(o,[a])}function Nh(o,a){return(0,_.U2)(o,"position",a)}function Ty(o,a){return(0,_.U2)(a,["title","text"],Bh(o))}var Il=function(){function o(a,n){this.destroyed=!1,this.facets=[],this.view=a,this.cfg=(0,_.b$)({},this.getDefaultCfg(),n)}return o.prototype.init=function(){this.container||(this.container=this.createContainer());var a=this.view.getData();this.facets=this.generateFacets(a)},o.prototype.render=function(){this.renderViews()},o.prototype.update=function(){},o.prototype.clear=function(){this.clearFacetViews()},o.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},o.prototype.facetToView=function(a){var n=a.region,s=a.data,c=a.padding,f=c===void 0?this.cfg.padding:c,d=this.view.createView({region:n,padding:f});d.data(s||[]),a.view=d,this.beforeEachView(d,a);var v=this.cfg.eachView;return v&&v(d,a),this.afterEachView(d,a),d},o.prototype.createContainer=function(){var a=this.view.getLayer(Ht.FORE);return a.addGroup()},o.prototype.renderViews=function(){this.createFacetViews()},o.prototype.createFacetViews=function(){var a=this;return this.facets.map(function(n){return a.facetToView(n)})},o.prototype.clearFacetViews=function(){var a=this;(0,_.S6)(this.facets,function(n){n.view&&(a.view.removeView(n.view),n.view=void 0)})},o.prototype.parseSpacing=function(){var a=this.view.viewBBox,n=a.width,s=a.height,c=this.cfg.spacing;return c.map(function(f,d){return(0,_.hj)(f)?f/(d===0?n:s):parseFloat(f)/100})},o.prototype.getFieldValues=function(a,n){var s=[],c={};return(0,_.S6)(a,function(f){var d=f[n];!(0,_.UM)(d)&&!c[d]&&(s.push(d),c[d]=!0)}),s},o.prototype.getRegion=function(a,n,s,c){var f=(0,L.CR)(this.parseSpacing(),2),d=f[0],v=f[1],y=(1+d)/(n===0?1:n)-d,b=(1+v)/(a===0?1:a)-v,S={x:(y+d)*s,y:(b+v)*c},C={x:S.x+y,y:S.y+b};return{start:S,end:C}},o.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},o.prototype.getDefaultTitleCfg=function(){var a=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:a}}},o.prototype.processAxis=function(a,n){var s=a.getOptions(),c=s.coordinate,f=a.geometries,d=(0,_.U2)(c,"type","rect");if(d==="rect"&&f.length){(0,_.UM)(s.axes)&&(s.axes={});var v=s.axes,y=(0,L.CR)(f[0].getXYFields(),2),b=y[0],S=y[1],C=gv(v,b),T=gv(v,S);C!==!1&&(s.axes[b]=this.getXAxisOption(b,v,C,n)),T!==!1&&(s.axes[S]=this.getYAxisOption(S,v,T,n))}},o.prototype.getFacetDataFilter=function(a){return function(n){return(0,_.yW)(a,function(s){var c=s.field,f=s.value;return!(0,_.UM)(f)&&c?n[c]===f:!0})}},o}(),Ey={},Lw=function(o){return Ey[(0,_.vl)(o)]},Rl=function(o,a){Ey[(0,_.vl)(o)]=a},yv=function(){function o(a,n){this.context=a,this.cfg=n,a.addAction(this)}return o.prototype.applyCfg=function(a){(0,_.f0)(this,a)},o.prototype.init=function(){this.applyCfg(this.cfg)},o.prototype.destroy=function(){this.context.removeAction(this),this.context=null},o}(),Rr=yv,Iw=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.execute=function(){this.callback&&this.callback(this.context)},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.callback=null},a}(Rr),mP=Iw,mv={};function xP(o,a){var n=mv[o],s=null;if(n){var c=n.ActionClass,f=n.cfg;s=new c(a,f),s.name=o,s.init()}return s}function Qu(o){var a=mv[o];return(0,_.U2)(a,"ActionClass")}function In(o,a,n){mv[o]={ActionClass:a,cfg:n}}function m6(o){delete mv[o]}function Rw(o,a){var n=new mP(a);return n.callback=o,n.name="callback",n}function x6(o,a){var n=[];if(o.length){n.push(["M",o[0].x,o[0].y]);for(var s=1,c=o.length;s<c;s+=1){var f=o[s];n.push(["L",f.x,f.y])}a&&n.push(["Z"])}return n}function xv(o,a){for(var n=[o[0]],s=1,c=o.length;s<c;s=s+2){var f=a.convert({x:o[s],y:o[s+1]});n.push(f.x,f.y)}return n}function Fw(o,a){var n=a.isTransposed,s=o[1],c=o[6],f=o[7],d=a.convert({x:c,y:f}),v=n?0:1;return["A",s,s,0,0,v,d.x,d.y]}function ky(o,a,n){var s=n.isTransposed,c=n.startAngle,f=n.endAngle,d=o[0].toLowerCase()==="a"?{x:o[6],y:o[7]}:{x:o[1],y:o[2]},v={x:a[1],y:a[2]},y=[],b=s?"y":"x",S=Math.abs(v[b]-d[b])*(f-c),C=v[b]>=d[b]?1:0,T=S>Math.PI?1:0,k=n.convert(v),R=Ll(n,k);if(R>=.5)if(S===Math.PI*2){var D={x:(v.x+d.x)/2,y:(v.y+d.y)/2},V=n.convert(D);y.push(["A",R,R,0,T,C,V.x,V.y]),y.push(["A",R,R,0,T,C,k.x,k.y])}else y.push(["A",R,R,0,T,C,k.x,k.y]);return y}function bP(o){(0,_.S6)(o,function(a,n){var s=a;if(s[0].toLowerCase()==="a"){var c=o[n-1],f=o[n+1];f&&f[0].toLowerCase()==="a"?c&&c[0].toLowerCase()==="l"&&(c[0]="M"):c&&c[0].toLowerCase()==="a"&&f&&f[0].toLowerCase()==="l"&&(f[0]="M")}})}var Dw=function(o,a,n,s){var c,f=[],d=!!s,v,y,b,S,C,T,k;if(d){c=(0,L.CR)(s,2),b=c[0],S=c[1];for(var R=0,D=o.length;R<D;R++){var V=o[R];b=Nn.VV([0,0],b,V),S=Nn.Fp([0,0],S,V)}}for(var R=0,j=o.length;R<j;R++){var V=o[R];if(R===0&&!n)k=V;else if(R===j-1&&!n)T=V,f.push(k),f.push(T);else{v=o[n?R?R-1:j-1:R-1],y=o[n?(R+1)%j:R+1];var H=[0,0];H=Nn.lu(H,y,v),H=Nn.bA(H,H,a);var Z=Nn.TE(V,v),q=Nn.TE(V,y),K=Z+q;K!==0&&(Z/=K,q/=K);var Ct=Nn.bA([0,0],H,-Z),Ft=Nn.bA([0,0],H,q);T=Nn.IH([0,0],V,Ct),C=Nn.IH([0,0],V,Ft),C=Nn.VV([0,0],C,Nn.Fp([0,0],y,V)),C=Nn.Fp([0,0],C,Nn.VV([0,0],y,V)),Ct=Nn.lu([0,0],C,V),Ct=Nn.bA([0,0],Ct,-Z/q),T=Nn.IH([0,0],V,Ct),T=Nn.VV([0,0],T,Nn.Fp([0,0],v,V)),T=Nn.Fp([0,0],T,Nn.VV([0,0],v,V)),Ft=Nn.lu([0,0],V,T),Ft=Nn.bA([0,0],Ft,q/Z),C=Nn.IH([0,0],V,Ft),d&&(T=Nn.Fp([0,0],T,b),T=Nn.VV([0,0],T,S),C=Nn.Fp([0,0],C,b),C=Nn.VV([0,0],C,S)),f.push(k),f.push(T),k=C}}return n&&f.push(f.shift()),f};function Bw(o,a,n){for(var s=!!a,c=[],f=0,d=o.length;f<d;f+=2)c.push([o[f],o[f+1]]);for(var v=Dw(c,.4,s,n),y=c.length,b=[],S,C,T,f=0;f<y-1;f++)S=v[f*2],C=v[f*2+1],T=c[f+1],b.push(["C",S[0],S[1],C[0],C[1],T[0],T[1]]);return s&&(S=v[y],C=v[y+1],T=c[0],b.push(["C",S[0],S[1],C[0],C[1],T[0],T[1]])),b}function ri(o,a){return x6(o,a)}function fa(o,a,n){var s=[],c=o[0],f=null;if(o.length<=2)return ri(o,a);for(var d=0,v=o.length;d<v;d++){var y=o[d];(!f||!(f.x===y.x&&f.y===y.y))&&(s.push(y.x),s.push(y.y),f=y)}var b=n||[[0,0],[1,1]],S=Bw(s,a,b);return S.unshift(["M",c.x,c.y]),S}function Hc(o,a){var n=[];return(0,_.S6)(a,function(s){var c=s[0];switch(c.toLowerCase()){case"m":case"l":case"c":n.push(xv(s,o));break;case"a":n.push(Fw(s,o));break;case"z":default:n.push(s);break}}),n}function Py(o,a){var n=[],s,c,f,d;return(0,_.S6)(a,function(v,y){var b=v[0];switch(b.toLowerCase()){case"m":case"c":case"q":n.push(xv(v,o));break;case"l":s=a[y-1],c=v,f=o.isTransposed,d=f?s[s.length-2]===c[1]:s[s.length-1]===c[2],d?n=n.concat(ky(s,c,o)):n.push(xv(v,o));break;case"a":n.push(Fw(v,o));break;case"z":default:n.push(v);break}}),bP(n),n}var bv=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,wP=/[^\s\,]+/ig;function b6(o){var a=o||[];if(isArray(a))return a;if(isString(a))return a=a.match(bv),each(a,function(n,s){if(n=n.match(wP),n[0].length>1){var c=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=c}each(n,function(f,d){isNaN(f)||(n[d]=+f)}),a[s]=n}),a}var w6=null;function Nw(o,a,n){var s=null,c=n;return a<c&&(c=a,s="add"),o<c&&(c=o,s="del"),{type:s,min:c}}var MP=function(o,a){var n=o.length,s=a.length,c,f,d=0;if(n===0||s===0)return null;for(var v=[],y=0;y<=n;y++)v[y]=[],v[y][0]={min:y};for(var b=0;b<=s;b++)v[0][b]={min:b};for(var y=1;y<=n;y++){c=o[y-1];for(var b=1;b<=s;b++){f=a[b-1],isEqual(c,f)?d=0:d=1;var S=v[y-1][b].min+1,C=v[y][b-1].min+1,T=v[y-1][b-1].min+d;v[y][b]=Nw(S,C,T)}}return v};function M6(o,a){var n=MP(o,a),s=o.length,c=a.length,f=[],d=1,v=1;if(n[s][c]!==s){for(var y=1;y<=s;y++){var b=n[y][y].min;v=y;for(var S=d;S<=c;S++)n[y][S].min<b&&(b=n[y][S].min,v=S);d=v,n[y][d].type&&f.push({index:y-1,type:n[y][d].type})}for(var y=f.length-1;y>=0;y--)d=f[y].index,f[y].type==="add"?o.splice(d,0,[].concat(o[d])):o.splice(d,1)}if(s=o.length,s<c)for(var y=0;y<c-s;y++)o[s-1][0]==="z"||o[s-1][0]==="Z"?o.splice(s-2,0,o[s-2]):o.push(o[s-1]);return o}var Yc=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,SP=new RegExp("([a-z])["+Yc+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Yc+"]*,?["+Yc+"]*)+)","ig"),_P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Yc+"]*,?["+Yc+"]*","ig");function Ly(o){if(!o)return null;if((0,_.kJ)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(o).replace(SP,function(s,c,f){var d=[],v=c.toLowerCase();if(f.replace(_P,function(y,b){b&&d.push(+b)}),v==="m"&&d.length>2&&(n.push([c].concat(d.splice(0,2))),v="l",c=c==="m"?"l":"L"),v==="o"&&d.length===1&&n.push([c,d[0]]),v==="r")n.push([c].concat(d));else for(;d.length>=a[v]&&(n.push([c].concat(d.splice(0,a[v]))),!!a[v]););return""}),n}var Iy=/[a-z]/;function zw(o,a){return[a[0]+(a[0]-o[0]),a[1]+(a[1]-o[1])]}function S6(o){var a=parsePathString(o);if(!a||!a.length)return[["M",0,0]];for(var n=!1,s=0;s<a.length;s++){var c=a[s][0];if(Iy.test(c)||["V","H","T","S"].indexOf(c)>=0){n=!0;break}}if(!n)return a;var f=[],d=0,v=0,y=0,b=0,S=0,C,T,k=a[0];(k[0]==="M"||k[0]==="m")&&(d=+k[1],v=+k[2],y=d,b=v,S++,f[0]=["M",d,v]);for(var s=S,R=a.length;s<R;s++){var D=a[s],V=f[s-1],j=[],c=D[0],H=c.toUpperCase();if(c!==H)switch(j[0]=H,H){case"A":j[1]=D[1],j[2]=D[2],j[3]=D[3],j[4]=D[4],j[5]=D[5],j[6]=+D[6]+d,j[7]=+D[7]+v;break;case"V":j[1]=+D[1]+v;break;case"H":j[1]=+D[1]+d;break;case"M":y=+D[1]+d,b=+D[2]+v,j[1]=y,j[2]=b;break;default:for(var Z=1,q=D.length;Z<q;Z++)j[Z]=+D[Z]+(Z%2?d:v)}else j=a[s];switch(H){case"Z":d=+y,v=+b;break;case"H":d=j[1],j=["L",d,v];break;case"V":v=j[1],j=["L",d,v];break;case"T":d=j[1],v=j[2];var K=zw([V[1],V[2]],[V[3],V[4]]);j=["Q",K[0],K[1],d,v];break;case"S":d=j[j.length-2],v=j[j.length-1];var Ct=V.length,Ft=zw([V[Ct-4],V[Ct-3]],[V[Ct-2],V[Ct-1]]);j=["C",Ft[0],Ft[1],j[1],j[2],d,v];break;case"M":y=j[j.length-2],b=j[j.length-1];break;default:d=j[j.length-2],v=j[j.length-1]}f.push(j)}return f}var tf=Math.PI*2,wv=function(o,a,n,s,c,f,d){var v=o.x,y=o.y;v*=a,y*=n;var b=s*v-c*y,S=c*v+s*y;return{x:b+f,y:S+d}},Ry=function(o,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),s=Math.cos(o),c=Math.sin(o),f=Math.cos(o+a),d=Math.sin(o+a);return[{x:s-c*n,y:c+s*n},{x:f+d*n,y:d-f*n},{x:f,y:d}]},Fy=function(o,a,n,s){var c=o*s-a*n<0?-1:1,f=o*n+a*s;return f>1&&(f=1),f<-1&&(f=-1),c*Math.acos(f)},Fl=function(o,a,n,s,c,f,d,v,y,b,S,C){var T=Math.pow(c,2),k=Math.pow(f,2),R=Math.pow(S,2),D=Math.pow(C,2),V=T*k-T*D-k*R;V<0&&(V=0),V/=T*D+k*R,V=Math.sqrt(V)*(d===v?-1:1);var j=V*c/f*C,H=V*-f/c*S,Z=b*j-y*H+(o+n)/2,q=y*j+b*H+(a+s)/2,K=(S-j)/c,Ct=(C-H)/f,Ft=(-S-j)/c,Jt=(-C-H)/f,_e=Fy(1,0,K,Ct),ge=Fy(K,Ct,Ft,Jt);return v===0&&ge>0&&(ge-=tf),v===1&&ge<0&&(ge+=tf),[Z,q,_e,ge]},ef=function(o){var a=o.px,n=o.py,s=o.cx,c=o.cy,f=o.rx,d=o.ry,v=o.xAxisRotation,y=v===void 0?0:v,b=o.largeArcFlag,S=b===void 0?0:b,C=o.sweepFlag,T=C===void 0?0:C,k=[];if(f===0||d===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];var R=Math.sin(y*tf/360),D=Math.cos(y*tf/360),V=D*(a-s)/2+R*(n-c)/2,j=-R*(a-s)/2+D*(n-c)/2;if(V===0&&j===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];f=Math.abs(f),d=Math.abs(d);var H=Math.pow(V,2)/Math.pow(f,2)+Math.pow(j,2)/Math.pow(d,2);H>1&&(f*=Math.sqrt(H),d*=Math.sqrt(H));var Z=Fl(a,n,s,c,f,d,S,T,R,D,V,j),q=Z[0],K=Z[1],Ct=Z[2],Ft=Z[3],Jt=Math.abs(Ft)/(tf/4);Math.abs(1-Jt)<1e-7&&(Jt=1);var _e=Math.max(Math.ceil(Jt),1);Ft/=_e;for(var ge=0;ge<_e;ge++)k.push(Ry(Ct,Ft)),Ct+=Ft;return k.map(function(Be){var tn=wv(Be[0],f,d,D,R,q,K),vn=tn.x,Mn=tn.y,Pn=wv(Be[1],f,d,D,R,q,K),Ze=Pn.x,ln=Pn.y,dn=wv(Be[2],f,d,D,R,q,K),fn=dn.x,bn=dn.y;return{x1:vn,y1:Mn,x2:Ze,y2:ln,x:fn,y:bn}})};function _6(o,a,n,s,c,f,d,v,y){var b=ef({px:o,py:a,cx:v,cy:y,rx:n,ry:s,xAxisRotation:c,largeArcFlag:f,sweepFlag:d});return b.reduce(function(S,C){var T=C.x1,k=C.y1,R=C.x2,D=C.y2,V=C.x,j=C.y;return S.push(T,k,R,D,V,j),S},[])}function O6(o,a){"TQ".indexOf(o[0])<0&&(a.qx=null,a.qy=null);var n=o.slice(1),s=n[0],c=n[1];switch(o[0]){case"M":return a.x=s,a.y=c,o;case"A":return["C"].concat(arcToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"Q":return a.qx=s,a.qy=c,["C"].concat(quadToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"L":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],o[2]));case"H":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],a.y1));case"V":return["C"].concat(lineToCubic(a.x1,a.y1,a.x1,o[1]));case"Z":return["C"].concat(lineToCubic(a.x1,a.y1,a.x,a.y));default:}return o}function C6(o,a){a===void 0&&(a=!1);for(var n=path2Absolute(o),s={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},c=[],f="",d=n.length,v,y,b=[],S=0;S<d;S+=1)n[S]&&(f=n[S][0]),c[S]=f,n[S]=segmentToCubic(n[S],s),OP(n,c,S),d=n.length,f==="Z"&&b.push(S),v=n[S],y=v.length,s.x1=+v[y-2],s.y1=+v[y-1],s.x2=+v[y-4]||s.x1,s.y2=+v[y-3]||s.y1;return a?[n,b]:n}function OP(o,a,n){if(o[n].length>7){o[n].shift();for(var s=o[n],c=n;s.length;)a[n]="A",o.splice(c+=1,0,["C"].concat(s.splice(0,6)));o.splice(n,1)}}var jw=function(o,a,n,s,c){var f=-3*a+9*n-9*s+3*c,d=o*f+6*a-12*n+6*s;return o*d-3*a+3*n},Gw=function(o,a,n,s,c,f,d,v,y){y===null&&(y=1),y=y>1?1:y<0?0:y;for(var b=y/2,S=12,C=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],T=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,R=0;R<S;R++){var D=b*C[R]+b,V=jw(D,o,n,c,d),j=jw(D,a,s,f,v),H=V*V+j*j;k+=T[R]*Math.sqrt(H)}return b*k},Ww=function(o,a,n,s,c,f,d,v){for(var y=[],b=[[],[]],S,C,T,k,R=0;R<2;++R){if(R===0?(C=6*o-12*n+6*c,S=-3*o+9*n-9*c+3*d,T=3*n-3*o):(C=6*a-12*s+6*f,S=-3*a+9*s-9*f+3*v,T=3*s-3*a),Math.abs(S)<1e-12){if(Math.abs(C)<1e-12)continue;k=-T/C,k>0&&k<1&&y.push(k);continue}var D=C*C-4*T*S,V=Math.sqrt(D);if(!(D<0)){var j=(-C+V)/(2*S);j>0&&j<1&&y.push(j);var H=(-C-V)/(2*S);H>0&&H<1&&y.push(H)}}for(var Z=y.length,q=Z,K;Z--;)k=y[Z],K=1-k,b[0][Z]=K*K*K*o+3*K*K*k*n+3*K*k*k*c+k*k*k*d,b[1][Z]=K*K*K*a+3*K*K*k*s+3*K*k*k*f+k*k*k*v;return b[0][q]=o,b[1][q]=a,b[0][q+1]=d,b[1][q+1]=v,b[0].length=b[1].length=q+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}},Dy=function(o,a,n,s,c,f,d,v){if(!(Math.max(o,n)<Math.min(c,d)||Math.min(o,n)>Math.max(c,d)||Math.max(a,s)<Math.min(f,v)||Math.min(a,s)>Math.max(f,v))){var y=(o*s-a*n)*(c-d)-(o-n)*(c*v-f*d),b=(o*s-a*n)*(f-v)-(a-s)*(c*v-f*d),S=(o-n)*(f-v)-(a-s)*(c-d);if(S){var C=y/S,T=b/S,k=+C.toFixed(2),R=+T.toFixed(2);if(!(k<+Math.min(o,n).toFixed(2)||k>+Math.max(o,n).toFixed(2)||k<+Math.min(c,d).toFixed(2)||k>+Math.max(c,d).toFixed(2)||R<+Math.min(a,s).toFixed(2)||R>+Math.max(a,s).toFixed(2)||R<+Math.min(f,v).toFixed(2)||R>+Math.max(f,v).toFixed(2)))return{x:C,y:T}}}},Dl=function(o,a,n){return a>=o.x&&a<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},By=function(o,a,n,s){return o===null&&(o=a=n=s=0),a===null&&(a=o.y,n=o.width,s=o.height,o=o.x),{x:o,y:a,width:n,w:n,height:s,h:s,x2:o+n,y2:a+s,cx:o+n/2,cy:a+s/2,r1:Math.min(n,s)/2,r2:Math.max(n,s)/2,r0:Math.sqrt(n*n+s*s)/2,path:rectPath(o,a,n,s),vb:[o,a,n,s].join(" ")}},zh=function(o,a){return o=By(o),a=By(a),Dl(a,o.x,o.y)||Dl(a,o.x2,o.y)||Dl(a,o.x,o.y2)||Dl(a,o.x2,o.y2)||Dl(o,a.x,a.y)||Dl(o,a.x2,a.y)||Dl(o,a.x,a.y2)||Dl(o,a.x2,a.y2)||(o.x<a.x2&&o.x>a.x||a.x<o.x2&&a.x>o.x)&&(o.y<a.y2&&o.y>a.y||a.y<o.y2&&a.y>o.y)},Mv=function(o,a,n,s,c,f,d,v){isArray(o)||(o=[o,a,n,s,c,f,d,v]);var y=Ww.apply(null,o);return By(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},Vw=function(o,a,n,s,c,f,d,v,y){var b=1-y,S=Math.pow(b,3),C=Math.pow(b,2),T=y*y,k=T*y,R=S*o+C*3*y*n+b*3*y*y*c+k*d,D=S*a+C*3*y*s+b*3*y*y*f+k*v,V=o+2*y*(n-o)+T*(c-2*n+o),j=a+2*y*(s-a)+T*(f-2*s+a),H=n+2*y*(c-n)+T*(d-2*c+n),Z=s+2*y*(f-s)+T*(v-2*f+s),q=b*o+y*n,K=b*a+y*s,Ct=b*c+y*d,Ft=b*f+y*v,Jt=90-Math.atan2(V-H,j-Z)*180/Math.PI;return{x:R,y:D,m:{x:V,y:j},n:{x:H,y:Z},start:{x:q,y:K},end:{x:Ct,y:Ft},alpha:Jt}},CP=function(o,a,n){var s=Mv(o),c=Mv(a);if(!zh(s,c))return n?0:[];for(var f=Gw.apply(0,o),d=Gw.apply(0,a),v=~~(f/8),y=~~(d/8),b=[],S=[],C={},T=n?0:[],k=0;k<v+1;k++){var R=Vw.apply(0,o.concat(k/v));b.push({x:R.x,y:R.y,t:k/v})}for(var k=0;k<y+1;k++){var R=Vw.apply(0,a.concat(k/y));S.push({x:R.x,y:R.y,t:k/y})}for(var k=0;k<v;k++)for(var D=0;D<y;D++){var V=b[k],j=b[k+1],H=S[D],Z=S[D+1],q=Math.abs(j.x-V.x)<.001?"y":"x",K=Math.abs(Z.x-H.x)<.001?"y":"x",Ct=Dy(V.x,V.y,j.x,j.y,H.x,H.y,Z.x,Z.y);if(Ct){if(C[Ct.x.toFixed(4)]===Ct.y.toFixed(4))continue;C[Ct.x.toFixed(4)]=Ct.y.toFixed(4);var Ft=V.t+Math.abs((Ct[q]-V[q])/(j[q]-V[q]))*(j.t-V.t),Jt=H.t+Math.abs((Ct[K]-H[K])/(Z[K]-H[K]))*(Z.t-H.t);Ft>=0&&Ft<=1&&Jt>=0&&Jt<=1&&(n?T++:T.push({x:Ct.x,y:Ct.y,t1:Ft,t2:Jt}))}}return T},AP=function(o,a,n){o=path2Curve(o),a=path2Curve(a);for(var s,c,f,d,v,y,b,S,C,T,k=n?0:[],R=0,D=o.length;R<D;R++){var V=o[R];if(V[0]==="M")s=v=V[1],c=y=V[2];else{V[0]==="C"?(C=[s,c].concat(V.slice(1)),s=C[6],c=C[7]):(C=[s,c,s,c,v,y,v,y],s=v,c=y);for(var j=0,H=a.length;j<H;j++){var Z=a[j];if(Z[0]==="M")f=b=Z[1],d=S=Z[2];else{Z[0]==="C"?(T=[f,d].concat(Z.slice(1)),f=T[6],d=T[7]):(T=[f,d,f,d,b,S,b,S],f=b,d=S);var q=CP(C,T,n);if(n)k+=q;else{for(var K=0,Ct=q.length;K<Ct;K++)q[K].segment1=R,q[K].segment2=j,q[K].bez1=C,q[K].bez2=T;k=k.concat(q)}}}}}return k};function A6(o,a){return AP(o,a)}function Sv(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Ny(o,a){return Sv(o)*Sv(a)?(o[0]*a[0]+o[1]*a[1])/(Sv(o)*Sv(a)):1}function Hw(o,a){return(o[0]*a[1]<o[1]*a[0]?-1:1)*Math.acos(Ny(o,a))}function Yw(o,a){return o[0]===a[0]&&o[1]===a[1]}function T6(o,a){var n=a[1],s=a[2],c=mod(toRadian(a[3]),Math.PI*2),f=a[4],d=a[5],v=o[0],y=o[1],b=a[6],S=a[7],C=Math.cos(c)*(v-b)/2+Math.sin(c)*(y-S)/2,T=-1*Math.sin(c)*(v-b)/2+Math.cos(c)*(y-S)/2,k=C*C/(n*n)+T*T/(s*s);k>1&&(n*=Math.sqrt(k),s*=Math.sqrt(k));var R=n*n*(T*T)+s*s*(C*C),D=R?Math.sqrt((n*n*(s*s)-R)/R):1;f===d&&(D*=-1),isNaN(D)&&(D=0);var V=s?D*n*T/s:0,j=n?D*-s*C/n:0,H=(v+b)/2+Math.cos(c)*V-Math.sin(c)*j,Z=(y+S)/2+Math.sin(c)*V+Math.cos(c)*j,q=[(C-V)/n,(T-j)/s],K=[(-1*C-V)/n,(-1*T-j)/s],Ct=Hw([1,0],q),Ft=Hw(q,K);return Ny(q,K)<=-1&&(Ft=Math.PI),Ny(q,K)>=1&&(Ft=0),d===0&&Ft>0&&(Ft=Ft-2*Math.PI),d===1&&Ft<0&&(Ft=Ft+2*Math.PI),{cx:H,cy:Z,rx:Yw(o,[b,S])?0:n,ry:Yw(o,[b,S])?0:s,startAngle:Ct,endAngle:Ct+Ft,xRotation:c,arcFlag:f,sweepFlag:d}}function Uw(o,a){return[a[0]+(a[0]-o[0]),a[1]+(a[1]-o[1])]}function Xw(o){o=parsePath(o);for(var a=[],n=null,s=null,c=null,f=0,d=o.length,v=0;v<d;v++){var y=o[v];s=o[v+1];var b=y[0],S={command:b,prePoint:n,params:y,startTangent:null,endTangent:null};switch(b){case"M":c=[y[1],y[2]],f=v;break;case"A":var C=getArcParams(n,y);S.arcParams=C;break;default:break}if(b==="Z")n=c,s=o[f+1];else{var T=y.length;n=[y[T-2],y[T-1]]}s&&s[0]==="Z"&&(s=o[f],a[f]&&(a[f].prePoint=n)),S.currentPoint=n,a[f]&&isSamePoint(n,a[f].currentPoint)&&(a[f].prePoint=S.prePoint);var k=s?[s[s.length-2],s[s.length-1]]:null;S.nextPoint=k;var R=S.prePoint;if(["L","H","V"].includes(b))S.startTangent=[R[0]-n[0],R[1]-n[1]],S.endTangent=[n[0]-R[0],n[1]-R[1]];else if(b==="Q"){var D=[y[1],y[2]];S.startTangent=[R[0]-D[0],R[1]-D[1]],S.endTangent=[n[0]-D[0],n[1]-D[1]]}else if(b==="T"){var V=a[v-1],D=Uw(V.currentPoint,R);V.command==="Q"?(S.command="Q",S.startTangent=[R[0]-D[0],R[1]-D[1]],S.endTangent=[n[0]-D[0],n[1]-D[1]]):(S.command="TL",S.startTangent=[R[0]-n[0],R[1]-n[1]],S.endTangent=[n[0]-R[0],n[1]-R[1]])}else if(b==="C"){var j=[y[1],y[2]],H=[y[3],y[4]];S.startTangent=[R[0]-j[0],R[1]-j[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]],S.startTangent[0]===0&&S.startTangent[1]===0&&(S.startTangent=[j[0]-H[0],j[1]-H[1]]),S.endTangent[0]===0&&S.endTangent[1]===0&&(S.endTangent=[H[0]-j[0],H[1]-j[1]])}else if(b==="S"){var V=a[v-1],j=Uw(V.currentPoint,R),H=[y[1],y[2]];V.command==="C"?(S.command="C",S.startTangent=[R[0]-j[0],R[1]-j[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]]):(S.command="SQ",S.startTangent=[R[0]-H[0],R[1]-H[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]])}else if(b==="A"){var Z=.001,q=S.arcParams||{},K=q.cx,Ct=K===void 0?0:K,Ft=q.cy,Jt=Ft===void 0?0:Ft,_e=q.rx,ge=_e===void 0?0:_e,Be=q.ry,tn=Be===void 0?0:Be,vn=q.sweepFlag,Mn=vn===void 0?0:vn,Pn=q.startAngle,Ze=Pn===void 0?0:Pn,ln=q.endAngle,dn=ln===void 0?0:ln;Mn===0&&(Z*=-1);var fn=ge*Math.cos(Ze-Z)+Ct,bn=tn*Math.sin(Ze-Z)+Jt;S.startTangent=[fn-c[0],bn-c[1]];var Bn=ge*Math.cos(Ze+dn+Z)+Ct,tr=tn*Math.sin(Ze+dn-Z)+Jt;S.endTangent=[R[0]-Bn,R[1]-tr]}a.push(S)}return a}var TP=1e-6;function zy(o){return Math.abs(o)<TP?0:o<0?-1:1}function jh(o,a,n){return(n[0]-o[0])*(a[1]-o[1])===(a[0]-o[0])*(n[1]-o[1])&&Math.min(o[0],a[0])<=n[0]&&n[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=n[1]&&n[1]<=Math.max(o[1],a[1])}function Zw(o,a,n){var s=!1,c=o.length;if(c<=2)return!1;for(var f=0;f<c;f++){var d=o[f],v=o[(f+1)%c];if(jh(d,v,[a,n]))return!0;zy(d[1]-n)>0!=zy(v[1]-n)>0&&zy(a-(n-d[1])*(d[0]-v[0])/(d[1]-v[1])-d[0])<0&&(s=!s)}return s}var qw=function(o,a,n){return o>=a&&o<=n};function $w(o,a,n,s){var c=.001,f={x:n.x-o.x,y:n.y-o.y},d={x:a.x-o.x,y:a.y-o.y},v={x:s.x-n.x,y:s.y-n.y},y=d.x*v.y-d.y*v.x,b=y*y,S=d.x*d.x+d.y*d.y,C=v.x*v.x+v.y*v.y,T=null;if(b>c*S*C){var k=(f.x*v.y-f.y*v.x)/y,R=(f.x*d.y-f.y*d.x)/y;qw(k,0,1)&&qw(R,0,1)&&(T={x:o.x+k*d.x,y:o.y+k*d.y})}return T}function jy(o){for(var a=[],n=o.length,s=0;s<n-1;s++){var c=o[s],f=o[s+1];a.push({from:{x:c[0],y:c[1]},to:{x:f[0],y:f[1]}})}if(a.length>1){var d=o[0],v=o[n-1];a.push({from:{x:v[0],y:v[1]},to:{x:d[0],y:d[1]}})}return a}function Kw(o,a){var n=!1;return(0,_.S6)(o,function(s){if($w(s.from,s.to,a.from,a.to))return n=!0,!1}),n}function Jw(o){var a=o.map(function(s){return s[0]}),n=o.map(function(s){return s[1]});return{minX:Math.min.apply(null,a),maxX:Math.max.apply(null,a),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function Qw(o,a){return!(a.minX>o.maxX||a.maxX<o.minX||a.minY>o.maxY||a.maxY<o.minY)}function EP(o,a){if(o.length<2||a.length<2)return!1;var n=Jw(o),s=Jw(a);if(!Qw(n,s))return!1;var c=!1;if((0,_.S6)(a,function(y){if(Zw(o,y[0],y[1]))return c=!0,!1}),c||((0,_.S6)(o,function(y){if(Zw(a,y[0],y[1]))return c=!0,!1}),c))return!0;var f=jy(o),d=jy(a),v=!1;return(0,_.S6)(d,function(y){if(Kw(f,y))return v=!0,!1}),v}function tM(o,a){var n=o.event,s=n.target;return nM(s,a)}function eM(o,a){var n=o.getCanvasBBox(),s=n.width,c=n.height;return s>0&&c>0&&(s>=a||c>=a)}function nM(o,a){var n=o.getCanvasBBox();return eM(o,a)?n:null}function _v(o,a){var n=o.event.maskShapes;return n.map(function(s){return nM(s,a)}).filter(function(s){return!!s})}function Uc(o,a){var n=o.event,s=n.target;return rM(s,a)}function rM(o,a){return eM(o,a)?o.attr("path"):null}function kP(o,a){var n=o.event.maskShapes;return n.map(function(s){return rM(s,a)})}function ha(o){var a=o.event,n,s=a.target;return s&&(n=s.get("element")),n}function Xc(o){var a=o.event,n=a.target,s;return n&&(s=n.get("delegateObject")),s}function iM(o){var a=o.event.gEvent;return!(a&&a.fromShape&&a.toShape&&a.fromShape.get("element")===a.toShape.get("element"))}function tl(o){return o&&o.component&&o.component.isList()}function Gy(o){return o&&o.component&&o.component.isSlider()}function Gh(o){var a=o.event,n=a.target;return n&&(n==null?void 0:n.get("name"))==="mask"||Ov(o)}function Ov(o){var a;return((a=o.event.target)===null||a===void 0?void 0:a.get("name"))==="multi-mask"}function Wy(o,a){var n=o.event.target;if(Ov(o))return aM(o,a);if(n.get("type")==="path"){var s=Uc(o,a);return s?hM(o.view,s):void 0}var c=tM(o,a);return c?nf(o.view,c):null}function aM(o,a){var n=o.event.target;if(n.get("type")==="path"){var s=kP(o,a);return s.length>0?s.flatMap(function(f){return hM(o.view,f)}):null}var c=_v(o,a);return c.length>0?c.flatMap(function(f){return nf(o.view,f)}):null}function oM(o,a,n){if(Ov(o))return lM(o,a,n);var s=tM(o,n);return s?sM(s,o,a):null}function sM(o,a,n){var s=a.view,c=Hy(s,n,{x:o.x,y:o.y}),f=Hy(s,n,{x:o.maxX,y:o.maxY}),d={minX:c.x,minY:c.y,maxX:f.x,maxY:f.y};return nf(n,d)}function lM(o,a,n){var s=_v(o,n);return s.length>0?s.flatMap(function(c){return sM(c,o,a)}):null}function Ui(o){var a=o.geometries,n=[];return(0,_.S6)(a,function(s){var c=s.elements;n=n.concat(c)}),o.views&&o.views.length&&(0,_.S6)(o.views,function(s){n=n.concat(Ui(s))}),n}function cM(o,a,n){var s=Ui(o);return s.filter(function(c){return rs(c,a)===n})}function uM(o,a){var n=o.geometries,s=[];return(0,_.S6)(n,function(c){var f=c.getElementsBy(function(d){return d.hasState(a)});s=s.concat(f)}),s}function rs(o,a){var n=o.getModel(),s=n.data,c;return(0,_.kJ)(s)?c=s[0][a]:c=s[a],c}function Ga(o,a){return!(a.minX>o.maxX||a.maxX<o.minX||a.minY>o.maxY||a.maxY<o.minY)}function nf(o,a){var n=Ui(o),s=[];return(0,_.S6)(n,function(c){var f=c.shape,d=f.getCanvasBBox();Ga(a,d)&&s.push(c)}),s}function fM(o){var a=[];return(0,_.S6)(o,function(n){var s=n[0];if(s!=="A")for(var c=1;c<n.length;c=c+2)a.push([n[c],n[c+1]]);else{var f=n.length;a.push([n[f-2],n[f-1]])}}),a}function hM(o,a){var n=Ui(o),s=fM(a),c=n.filter(function(f){var d=f.shape,v;if(d.get("type")==="path")v=fM(d.attr("path"));else{var y=d.getCanvasBBox();v=hv(y)}return EP(s,v)});return c}function dM(o){return o.getComponents().map(function(a){return a.component})}function Vy(o,a){var n=a.x-o.x,s=a.y-o.y;return Math.sqrt(n*n+s*s)}function PP(o,a){if(o.length<=2)return ri(o,!1);var n=o[0],s=[];(0,_.S6)(o,function(f){s.push(f.x),s.push(f.y)});var c=Bw(s,a,null);return c.unshift(["M",n.x,n.y]),c}function pM(o,a){return o.x<=a.x&&o.maxX>=a.x&&o.y<=a.y&&o.maxY>a.y}function Os(o){var a=o.parent,n=null;return a&&(n=a.views.filter(function(s){return s!==o})),n}function LP(o,a){var n=o.getCoordinate();return n.invert(a)}function Hy(o,a,n){var s=LP(o,n);return a.getCoordinate().convert(s)}function vM(o,a,n,s){var c=!1;return(0,_.S6)(o,function(f){if(f[n]===a[n]&&f[s]===a[s])return c=!0,!1}),c}function rf(o,a){var n=o.getScaleByField(a);return!n&&o.views&&(0,_.S6)(o.views,function(s){if(n=rf(s,a),n)return!1}),n}var IP=function(){function o(a){this.actions=[],this.event=null,this.cacheMap={},this.view=a}return o.prototype.cache=function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];if(a.length===1)return this.cacheMap[a[0]];a.length===2&&(this.cacheMap[a[0]]=a[1])},o.prototype.getAction=function(a){return this.actions.find(function(n){return n.name===a})},o.prototype.addAction=function(a){this.actions.push(a)},o.prototype.removeAction=function(a){var n=this.actions,s=this.actions.indexOf(a);s>=0&&n.splice(s,1)},o.prototype.getCurrentPoint=function(){var a=this.event;if(a)if(a.target instanceof HTMLElement){var n=this.view.getCanvas(),s=n.getPointByClient(a.clientX,a.clientY);return s}else return{x:a.x,y:a.y};return null},o.prototype.getCurrentShape=function(){return(0,_.U2)(this.event,["gEvent","shape"])},o.prototype.isInPlot=function(){var a=this.getCurrentPoint();return a?this.view.isPointInPlot(a):!1},o.prototype.isInShape=function(a){var n=this.getCurrentShape();return n?n.get("name")===a:!1},o.prototype.isInComponent=function(a){var n=dM(this.view),s=this.getCurrentPoint();return s?!!n.find(function(c){var f=c.getBBox();return a?c.get("name")===a&&pM(f,s):pM(f,s)}):!1},o.prototype.destroy=function(){(0,_.S6)(this.actions.slice(),function(a){a.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},o}(),RP=IP,FP=function(){function o(a,n){this.view=a,this.cfg=n}return o.prototype.init=function(){this.initEvents()},o.prototype.initEvents=function(){},o.prototype.clearEvents=function(){},o.prototype.destroy=function(){this.clearEvents()},o}(),Wh=FP;function Yy(o,a,n){var s=o.split(":"),c=s[0],f=a.getAction(c)||xP(c,a);if(!f)throw new Error("There is no action named ".concat(c));var d=s[1];return{action:f,methodName:d,arg:n}}function Cv(o){var a=o.action,n=o.methodName,s=o.arg;if(a[n])a[n](s);else throw new Error("Action(".concat(a.name,") doesn't have a method called ").concat(n))}var Wa={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},qr=function(o){(0,L.ZT)(a,o);function a(n,s){var c=o.call(this,n,s)||this;return c.callbackCaches={},c.emitCaches={},c.steps=s,c}return a.prototype.init=function(){this.initContext(),o.prototype.init.call(this)},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},a.prototype.initEvents=function(){var n=this;(0,_.S6)(this.steps,function(s,c){(0,_.S6)(s,function(f){var d=n.getActionCallback(c,f);d&&n.bindEvent(f.trigger,d)})})},a.prototype.clearEvents=function(){var n=this;(0,_.S6)(this.steps,function(s,c){(0,_.S6)(s,function(f){var d=n.getActionCallback(c,f);d&&n.offEvent(f.trigger,d)})})},a.prototype.initContext=function(){var n=this.view,s=new RP(n);this.context=s;var c=this.steps;(0,_.S6)(c,function(f){(0,_.S6)(f,function(d){if((0,_.mf)(d.action))d.actionObject={action:Rw(d.action,s),methodName:"execute"};else if((0,_.HD)(d.action))d.actionObject=Yy(d.action,s,d.arg);else if((0,_.kJ)(d.action)){var v=d.action,y=(0,_.kJ)(d.arg)?d.arg:[d.arg];d.actionObject=[],(0,_.S6)(v,function(b,S){d.actionObject.push(Yy(b,s,y[S]))})}})})},a.prototype.isAllowStep=function(n){var s=this.currentStepName,c=this.steps;if(s===n||n===Wa.SHOW_ENABLE)return!0;if(n===Wa.PROCESSING)return s===Wa.START;if(n===Wa.START)return s!==Wa.PROCESSING;if(n===Wa.END)return s===Wa.PROCESSING||s===Wa.START;if(n===Wa.ROLLBACK){if(c[Wa.END])return s===Wa.END;if(s===Wa.START)return!0}return!1},a.prototype.isAllowExecute=function(n,s){if(this.isAllowStep(n)){var c=this.getKey(n,s);return s.once&&this.emitCaches[c]?!1:s.isEnable?s.isEnable(this.context):!0}return!1},a.prototype.enterStep=function(n){this.currentStepName=n,this.emitCaches={}},a.prototype.afterExecute=function(n,s){n!==Wa.SHOW_ENABLE&&this.currentStepName!==n&&this.enterStep(n);var c=this.getKey(n,s);this.emitCaches[c]=!0},a.prototype.getKey=function(n,s){return n+s.trigger+s.action},a.prototype.getActionCallback=function(n,s){var c=this,f=this.context,d=this.callbackCaches,v=s.actionObject;if(s.action&&v){var y=this.getKey(n,s);if(!d[y]){var b=function(S){f.event=S,c.isAllowExecute(n,s)?((0,_.kJ)(v)?(0,_.S6)(v,function(C){f.event=S,Cv(C)}):(f.event=S,Cv(v)),c.afterExecute(n,s),s.callback&&(f.event=S,s.callback(f))):f.event=null};s.debounce?d[y]=(0,_.Ds)(b,s.debounce.wait,s.debounce.immediate):s.throttle?d[y]=(0,_.P2)(b,s.throttle.wait,{leading:s.throttle.leading,trailing:s.throttle.trailing}):d[y]=b}return d[y]}return null},a.prototype.bindEvent=function(n,s){var c=n.split(":");c[0]==="window"?window.addEventListener(c[1],s):c[0]==="document"?document.addEventListener(c[1],s):this.view.on(n,s)},a.prototype.offEvent=function(n,s){var c=n.split(":");c[0]==="window"?window.removeEventListener(c[1],s):c[0]==="document"?document.removeEventListener(c[1],s):this.view.off(n,s)},a}(Wh),gM=qr,Uy={};function ra(o){return Uy[(0,_.vl)(o)]}function Zn(o,a){Uy[(0,_.vl)(o)]=a}function DP(o,a,n){var s=ra(o);if(!s)return null;if((0,_.PO)(s)){var c=(0,_.CD)((0,_.d9)(s),n);return new gM(a,c)}else{var f=s;return new f(a,n)}}function BP(o){return{title:{autoRotate:!0,position:"center",spacing:o.axisTitleSpacing,style:{fill:o.axisTitleTextFillColor,fontSize:o.axisTitleTextFontSize,lineHeight:o.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:o.fontFamily},iconStyle:{fill:o.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:o.axisLabelOffset,style:{fill:o.axisLabelFillColor,fontSize:o.axisLabelFontSize,lineHeight:o.axisLabelLineHeight,fontFamily:o.fontFamily}},line:{style:{lineWidth:o.axisLineBorder,stroke:o.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:o.axisGridBorderColor,lineWidth:o.axisGridBorder,lineDash:o.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:o.axisTickLineBorder,stroke:o.axisTickLineBorderColor},alignTick:!0,length:o.axisTickLineLength},subTickLine:null,animate:!0}}function Zc(o){return{title:null,marker:{symbol:"circle",spacing:o.legendMarkerSpacing,style:{r:o.legendCircleMarkerSize,fill:o.legendMarkerColor}},itemName:{spacing:5,style:{fill:o.legendItemNameFillColor,fontFamily:o.fontFamily,fontSize:o.legendItemNameFontSize,lineHeight:o.legendItemNameLineHeight,fontWeight:o.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:o.legendPageNavigatorMarkerSize,inactiveFill:o.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:o.legendPageNavigatorMarkerInactiveFillOpacity,fill:o.legendPageNavigatorMarkerFillColor,opacity:o.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:o.legendPageNavigatorTextFillColor,fontSize:o.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:o.legendItemSpacing,itemMarginBottom:o.legendItemMarginBottom,padding:o.legendPadding}}function yM(o){var a,n={point:{default:{fill:o.pointFillColor,r:o.pointSize,stroke:o.pointBorderColor,lineWidth:o.pointBorder,fillOpacity:o.pointFillOpacity},active:{stroke:o.pointActiveBorderColor,lineWidth:o.pointActiveBorder},selected:{stroke:o.pointSelectedBorderColor,lineWidth:o.pointSelectedBorder},inactive:{fillOpacity:o.pointInactiveFillOpacity,strokeOpacity:o.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:o.hollowPointFillColor,lineWidth:o.hollowPointBorder,stroke:o.hollowPointBorderColor,strokeOpacity:o.hollowPointBorderOpacity,r:o.hollowPointSize},active:{stroke:o.hollowPointActiveBorderColor,strokeOpacity:o.hollowPointActiveBorderOpacity},selected:{lineWidth:o.hollowPointSelectedBorder,stroke:o.hollowPointSelectedBorderColor,strokeOpacity:o.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:o.hollowPointInactiveBorderOpacity}},area:{default:{fill:o.areaFillColor,fillOpacity:o.areaFillOpacity,stroke:null},active:{fillOpacity:o.areaActiveFillOpacity},selected:{fillOpacity:o.areaSelectedFillOpacity},inactive:{fillOpacity:o.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:o.hollowAreaBorderColor,lineWidth:o.hollowAreaBorder,strokeOpacity:o.hollowAreaBorderOpacity},active:{fill:null,lineWidth:o.hollowAreaActiveBorder},selected:{fill:null,lineWidth:o.hollowAreaSelectedBorder},inactive:{strokeOpacity:o.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:o.intervalFillColor,fillOpacity:o.intervalFillOpacity},active:{stroke:o.intervalActiveBorderColor,lineWidth:o.intervalActiveBorder},selected:{stroke:o.intervalSelectedBorderColor,lineWidth:o.intervalSelectedBorder},inactive:{fillOpacity:o.intervalInactiveFillOpacity,strokeOpacity:o.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:o.hollowIntervalFillColor,stroke:o.hollowIntervalBorderColor,lineWidth:o.hollowIntervalBorder,strokeOpacity:o.hollowIntervalBorderOpacity},active:{stroke:o.hollowIntervalActiveBorderColor,lineWidth:o.hollowIntervalActiveBorder,strokeOpacity:o.hollowIntervalActiveBorderOpacity},selected:{stroke:o.hollowIntervalSelectedBorderColor,lineWidth:o.hollowIntervalSelectedBorder,strokeOpacity:o.hollowIntervalSelectedBorderOpacity},inactive:{stroke:o.hollowIntervalInactiveBorderColor,lineWidth:o.hollowIntervalInactiveBorder,strokeOpacity:o.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:o.lineBorderColor,lineWidth:o.lineBorder,strokeOpacity:o.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:o.lineActiveBorder},selected:{lineWidth:o.lineSelectedBorder},inactive:{strokeOpacity:o.lineInactiveBorderOpacity}}},s=BP(o),c=Zc(o);return{background:o.backgroundColor,defaultColor:o.brandColor,subColor:o.subColor,semanticRed:o.paletteSemanticRed,semanticGreen:o.paletteSemanticGreen,padding:"auto",fontFamily:o.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:o.paletteQualitative10,colors20:o.paletteQualitative20,sequenceColors:o.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(f){var d=f.geometry.coordinate;if(d.isPolar&&d.isTransposed){var v=Dh(f.getModel(),d),y=v.startAngle,b=v.endAngle,S=(y+b)/2,C=7.5,T=C*Math.cos(S),k=C*Math.sin(S);return{matrix:Dr.vs(null,[["t",T,k]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:(0,L.pi)((0,L.pi)({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,L.pi)((0,L.pi)({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,L.pi)((0,L.pi)({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,L.pi)((0,L.pi)({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,L.pi)((0,L.pi)({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,L.pi)((0,L.pi)({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,L.pi)((0,L.pi)({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,L.pi)((0,L.pi)({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:s,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,_.b$)({},s.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,_.b$)({},s.grid,{line:{type:"circle"}})}},legend:{common:c,right:{layout:"vertical",padding:o.legendVerticalPadding},left:{layout:"vertical",padding:o.legendVerticalPadding},top:{layout:"horizontal",padding:o.legendHorizontalPadding},bottom:{layout:"horizontal",padding:o.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:o.sliderRailHeight,defaultLength:o.sliderRailWidth,style:{fill:o.sliderRailFillColor,stroke:o.sliderRailBorderColor,lineWidth:o.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:o.sliderLabelTextFillColor,fontSize:o.sliderLabelTextFontSize,lineHeight:o.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:o.fontFamily}},handler:{size:o.sliderHandlerWidth,style:{fill:o.sliderHandlerFillColor,stroke:o.sliderHandlerBorderColor}},slidable:!0,padding:c.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:o.tooltipCrosshairsBorderColor,lineWidth:o.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(a={},a["".concat(Ms)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:o.tooltipContainerFillColor,opacity:o.tooltipContainerFillOpacity,boxShadow:o.tooltipContainerShadow,borderRadius:"".concat(o.tooltipContainerBorderRadius,"px"),color:o.tooltipTextFillColor,fontSize:"".concat(o.tooltipTextFontSize,"px"),fontFamily:o.fontFamily,lineHeight:"".concat(o.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},a["".concat(Ss)]={marginBottom:"12px",marginTop:"12px"},a["".concat(zi)]={margin:0,listStyleType:"none",padding:0},a["".concat(xn)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},a["".concat(Sa)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},a["".concat(Rh)]={display:"inline-block",float:"right",marginLeft:"30px"},a)},annotation:{arc:{style:{stroke:o.annotationArcBorderColor,lineWidth:o.annotationArcBorder},animate:!0},line:{style:{stroke:o.annotationLineBorderColor,lineDash:o.annotationLineDash,lineWidth:o.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:o.annotationTextFillColor,stroke:o.annotationTextBorderColor,lineWidth:o.annotationTextBorder,fontSize:o.annotationTextFontSize,textAlign:"start",fontFamily:o.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:o.annotationTextFillColor,stroke:o.annotationTextBorderColor,lineWidth:o.annotationTextBorder,fontSize:o.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:o.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:o.annotationRegionBorder,stroke:o.annotationRegionBorderColor,fill:o.annotationRegionFillColor,fillOpacity:o.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:o.brandColor,lineWidth:2}},line:{style:{stroke:o.annotationLineBorderColor,lineWidth:o.annotationLineBorder},length:o.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:o.annotationTextFillColor,stroke:o.annotationTextBorderColor,lineWidth:o.annotationTextBorder,fontSize:o.annotationTextFontSize,fontFamily:o.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:o.annotationRegionFillColor,fillOpacity:o.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:o.annotationTextFillColor,stroke:o.annotationTextBorderColor,lineWidth:o.annotationTextBorder,fontSize:o.annotationTextFontSize,fontFamily:o.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:o.cSliderBackgroundFillColor,opacity:o.cSliderBackgroundFillOpacity},foregroundStyle:{fill:o.cSliderForegroundFillColor,opacity:o.cSliderForegroundFillOpacity},handlerStyle:{width:o.cSliderHandlerWidth,height:o.cSliderHandlerHeight,fill:o.cSliderHandlerFillColor,opacity:o.cSliderHandlerFillOpacity,stroke:o.cSliderHandlerBorderColor,lineWidth:o.cSliderHandlerBorder,radius:o.cSliderHandlerBorderRadius,highLightFill:o.cSliderHandlerHighlightFillColor},textStyle:{fill:o.cSliderTextFillColor,opacity:o.cSliderTextFillOpacity,fontSize:o.cSliderTextFontSize,lineHeight:o.cSliderTextLineHeight,fontWeight:o.cSliderTextFontWeight,stroke:o.cSliderTextBorderColor,lineWidth:o.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:o.scrollbarTrackFillColor,thumbColor:o.scrollbarThumbFillColor}},hover:{style:{thumbColor:o.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:o.labelFillColor,fontSize:o.labelFontSize,fontFamily:o.fontFamily,stroke:o.labelBorderColor,lineWidth:o.labelBorder},fillColorDark:o.labelFillColorDark,fillColorLight:o.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:o.innerLabelFillColor,fontSize:o.innerLabelFontSize,fontFamily:o.fontFamily,stroke:o.innerLabelBorderColor,lineWidth:o.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:o.overflowLabelFillColor,fontSize:o.overflowLabelFontSize,fontFamily:o.fontFamily,stroke:o.overflowLabelBorderColor,lineWidth:o.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:o.labelLineBorder}},autoRotate:!0}}}var Pr={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},af={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Bl=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],$n=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],mM=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],xM=function(o){o===void 0&&(o={});var a=o.paletteQualitative10,n=a===void 0?Bl:a,s=o.paletteQualitative20,c=s===void 0?$n:s,f=o.brandColor,d=f===void 0?n[0]:f,v={backgroundColor:"transparent",brandColor:d,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:n,paletteQualitative20:c,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:mM,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Pr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Pr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:af[85],axisTickLineBorderColor:Pr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Pr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Pr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Pr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Pr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:d,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Pr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Pr[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Pr[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Pr[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Pr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Pr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Pr[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Pr[25],annotationArcBorderColor:Pr[15],annotationArcBorder:1,annotationLineBorderColor:Pr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Pr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Pr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Pr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Pr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Pr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:af[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Pr[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:af[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Pr[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:d,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:af[100],pointBorderOpacity:1,pointActiveBorderColor:Pr[100],pointSelectedBorder:2,pointSelectedBorderColor:Pr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:d,hollowPointBorderOpacity:.95,hollowPointFillColor:af[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Pr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Pr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:d,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:d,areaFillOpacity:.25,areaActiveFillColor:d,areaActiveFillOpacity:.5,areaSelectedFillColor:d,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:d,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Pr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Pr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:d,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Pr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Pr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:d,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:af[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Pr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Pr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,L.pi)((0,L.pi)({},v),o)},E6=xM();function Cs(o){var a=o.styleSheet,n=a===void 0?{}:a,s=(0,L._T)(o,["styleSheet"]),c=xM(n);return(0,_.b$)({},yM(c),s)}var bM=Cs({}),Xy={default:bM};function of(o){return(0,_.U2)(Xy,(0,_.vl)(o),Xy.default)}function wM(o,a){Xy[(0,_.vl)(o)]=Cs(a)}function MM(o,a,n){var s=n.translate(o),c=n.translate(a);return(0,_.vQ)(s,c)}function NP(o,a){var n=a.coordinate,s=a.getXScale(),c=s.range,f=c[c.length-1],d=c[0],v=n.invert(o),y=v.x;return n.isPolar&&y>(1+f)/2&&(y=d),s.translate(s.invert(y))}function SM(o,a,n){var s=n.coordinate,c=n.getYScale(),f=c.field,d=s.invert(a),v=c.invert(d.y),y=(0,_.sE)(o,function(b){var S=b[Xe];return S[f][0]<=v&&S[f][1]>=v});return y||o[o.length-1]}var zP=(0,_.HP)(function(o){if(o.isCategory)return 1;for(var a=o.values,n=a.length,s=o.translate(a[0]),c=s,f=0;f<n;f++){var d=a[f],v=o.translate(d);v<s&&(s=v),v>c&&(c=v)}return(c-s)/(n-1)});function jP(o,a,n){var s=a.getAttribute("position"),c=s.getFields(),f=a.scales,d=(0,_.mf)(n)||!n?c[0]:n,v=f[d],y=v?v.getText(o[d]):o[d]||d;return(0,_.mf)(n)?n(y,o):y}function GP(o){var a=(0,_.VO)(o.attributes);return(0,_.hX)(a,function(n){return(0,_.FX)(qe,n.type)})}function _M(o){var a,n,s=GP(o),c;try{for(var f=(0,L.XA)(s),d=f.next();!d.done;d=f.next()){var v=d.value,y=v.getScale(v.type);if(y&&y.isLinear){var b=(0,_.U2)(o.scaleDefs,y.field),S=Oy(y,b,v.type,o.type);if(S!=="cat"){c=y;break}}}}catch(k){a={error:k}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(a)throw a.error}}var C=o.getXScale(),T=o.getYScale();return c||T||C}function WP(o,a){var n=a.field,s=o[n];if((0,_.kJ)(s)){var c=s.map(function(f){return a.getText(f)});return c.join("-")}return a.getText(s)}function Ke(o,a){var n,s=a.getGroupScales();if(s.length&&(n=s[0]),n){var c=n.field;return n.getText(o[c])}var f=_M(a);return Bh(f)}function OM(o,a,n){if(a.length===0)return null;var s=n.type,c=n.getXScale(),f=n.getYScale(),d=c.field,v=f.field,y=null;if(s==="heatmap"||s==="point"){for(var b=n.coordinate,S=b.invert(o),C=c.invert(S.x),T=f.invert(S.y),k=1/0,R=0;R<a.length;R++){var D=a[R],V=D[Xe],j=Math.pow(V[d]-C,2)+Math.pow(V[v]-T,2);j<k&&(k=j,y=D)}return y}var H=a[0],Z=a[a.length-1],q=NP(o,n),K=H[Xe][d],Ct=H[Xe][v],Ft=Z[Xe][d],Jt=f.isLinear&&(0,_.kJ)(Ct);if((0,_.kJ)(K)){for(var R=0;R<a.length;R++){var _e=a[R],V=_e[Xe];if(c.translate(V[d][0])<=q&&c.translate(V[d][1])>=q)if(Jt)(0,_.kJ)(y)||(y=[]),y.push(_e);else{y=_e;break}}(0,_.kJ)(y)&&(y=SM(y,o,n))}else{var ge=void 0;if(!c.isLinear&&c.type!=="timeCat"){for(var R=0;R<a.length;R++){var _e=a[R],V=_e[Xe];if(MM(V[d],q,c))if(Jt)(0,_.kJ)(y)||(y=[]),y.push(_e);else{y=_e;break}else c.translate(V[d])<=q&&(Z=_e,ge=a[R+1])}(0,_.kJ)(y)&&(y=SM(y,o,n))}else{if((q>c.translate(Ft)||q<c.translate(K))&&(q>c.max||q<c.min))return null;for(var Be=0,tn=a.length-1,vn=void 0;Be<=tn;){vn=Math.floor((Be+tn)/2);var Mn=a[vn][Xe][d];if(MM(Mn,q,c))return a[vn];c.translate(Mn)<=c.translate(q)?(Be=vn+1,Z=a[vn],ge=a[vn+1]):(tn===0&&(Z=a[0]),tn=vn-1)}}Z&&ge&&Math.abs(c.translate(Z[Xe][d])-q)>Math.abs(c.translate(ge[Xe][d])-q)&&(Z=ge)}var Pn=zP(n.getXScale());return!y&&Math.abs(c.translate(Z[Xe][d])-q)<=Pn/2&&(y=Z),y}function Zy(o,a,n,s){var c,f;n===void 0&&(n=""),s===void 0&&(s=!1);var d=o[Xe],v=jP(d,a,n),y=a.tooltipOption,b=a.theme.defaultColor,S=[],C,T;function k(_e,ge){if(s||!(0,_.UM)(ge)&&ge!==""){var Be={title:v,data:d,mappingData:o,name:_e,value:ge,color:o.color||b,marker:!0};S.push(Be)}}if((0,_.Kn)(y)){var R=y.fields,D=y.callback;if(D){var V=R.map(function(_e){return o[Xe][_e]}),j=D.apply(void 0,(0,L.ev)([],(0,L.CR)(V),!1)),H=(0,L.pi)({data:o[Xe],mappingData:o,title:v,color:o.color||b,marker:!0},j);S.push(H)}else{var Z=a.scales;try{for(var q=(0,L.XA)(R),K=q.next();!K.done;K=q.next()){var Ct=K.value;if(!(0,_.UM)(d[Ct])){var Ft=Z[Ct];C=Bh(Ft),T=Ft.getText(d[Ct]),k(C,T)}}}catch(_e){c={error:_e}}finally{try{K&&!K.done&&(f=q.return)&&f.call(q)}finally{if(c)throw c.error}}}}else{var Jt=_M(a);T=WP(d,Jt),C=Ke(d,a),k(C,T)}return S}function CM(o,a,n,s){var c,f,d=s.showNil,v=[],y=o.dataArray;if(!(0,_.xb)(y)){o.sort(y);try{for(var b=(0,L.XA)(y),S=b.next();!S.done;S=b.next()){var C=S.value,T=OM(a,C,o);if(T){var k=o.getElementId(T),R=o.elementsMap[k];if(o.type==="heatmap"||R.visible){var D=Zy(T,o,n,d);D.length&&v.push(D)}}}}catch(V){c={error:V}}finally{try{S&&!S.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}}return v}function qy(o,a,n,s){var c=s.showNil,f=[],d=o.container,v=d.getShape(a.x,a.y);if(v&&v.get("visible")&&v.get("origin")){var y=v.get("origin").mappingData,b=Zy(y,o,n,c);b.length&&f.push(b)}return f}function AM(o,a,n){var s,c,f=[],d=o.geometries,v=n.shared,y=n.title,b=n.reversed;try{for(var S=(0,L.XA)(d),C=S.next();!C.done;C=S.next()){var T=C.value;if(T.visible&&T.tooltipOption!==!1){var k=T.type,R=void 0;["point","edge","polygon"].includes(k)?R=qy(T,a,y,n):["area","line","path","heatmap"].includes(k)||v!==!1?R=CM(T,a,y,n):R=qy(T,a,y,n),R.length&&(b&&R.reverse(),f.push(R))}}}catch(D){s={error:D}}finally{try{C&&!C.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}return f}function TM(o,a,n){var s,c,f=AM(o,a,n);try{for(var d=(0,L.XA)(o.views),v=d.next();!v.done;v=d.next()){var y=v.value;f=f.concat(AM(y,a,n))}}catch(b){s={error:b}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(s)throw s.error}}return f}function EM(o){return!(0,_.hj)(o)&&!(0,_.kJ)(o)}function $y(o){o===void 0&&(o=0);var a=(0,_.kJ)(o)?o:[o];switch(a.length){case 0:a=[0,0,0,0];break;case 1:a=new Array(4).fill(a[0]);break;case 2:a=(0,L.ev)((0,L.ev)([],(0,L.CR)(a),!1),(0,L.CR)(a),!1);break;case 3:a=(0,L.ev)((0,L.ev)([],(0,L.CR)(a),!1),[a[1]],!1);break;default:a=a.slice(0,4);break}return a}var Av={};function pr(o,a){Av[o]=a}function Nl(o){delete Av[o]}function VP(){return Object.keys(Av)}function kM(o){return Av[o]}var HP=function(){function o(a){this.option=this.wrapperOption(a)}return o.prototype.update=function(a){return this.option=this.wrapperOption(a),this},o.prototype.hasAction=function(a){var n=this.option.actions;return(0,_.G)(n,function(s){return s[0]===a})},o.prototype.create=function(a,n){var s=this.option,c=s.type,f=s.cfg,d=c==="theta",v=(0,L.pi)({start:a,end:n},f),y=_h(d?"polar":c);return this.coordinate=new y(v),this.coordinate.type=c,d&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},o.prototype.adjust=function(a,n){return this.coordinate.update({start:a,end:n}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},o.prototype.rotate=function(a){return this.option.actions.push(["rotate",a]),this},o.prototype.reflect=function(a){return this.option.actions.push(["reflect",a]),this},o.prototype.scale=function(a,n){return this.option.actions.push(["scale",a,n]),this},o.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},o.prototype.getOption=function(){return this.option},o.prototype.getCoordinate=function(){return this.coordinate},o.prototype.wrapperOption=function(a){return(0,L.pi)({type:"rect",actions:[],cfg:{}},a)},o.prototype.execActions=function(a){var n=this,s=this.option.actions;(0,_.S6)(s,function(c){var f,d=(0,L.CR)(c),v=d[0],y=d.slice(1),b=(0,_.UM)(a)?!0:a.includes(v);b&&(f=n.coordinate)[v].apply(f,(0,L.ev)([],(0,L.CR)(y),!1))})},o}(),YP=HP,UP=function(){function o(a,n,s){this.view=a,this.gEvent=n,this.data=s,this.type=n.type}return o.fromData=function(a,n,s){return new o(a,new Ot.Event(n,{}),s)},Object.defineProperty(o.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),o.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},o.prototype.clone=function(){return new o(this.view,this.gEvent,this.data)},o}(),$r=UP;function _a(o){var a=o.getController("axis"),n=o.getController("legend"),s=o.getController("annotation"),c=o.getController("slider"),f=o.getController("scrollbar");[a,c,f,n,s].forEach(function(d){d&&d.layout()})}var XP=function(){function o(){this.scales=new Map,this.syncScales=new Map}return o.prototype.createScale=function(a,n,s,c){var f=s,d=this.getScaleMeta(c);if(n.length===0&&d){var v=d.scale,y={type:v.type};v.isCategory&&(y.values=v.values),f=(0,_.b$)(y,d.scaleDef,s)}var b=bo(a,n,f);return this.cacheScale(b,s,c),b},o.prototype.sync=function(a,n){var s=this;this.syncScales.forEach(function(c,f){var d=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,y=[];(0,_.S6)(c,function(b){var S=s.getScale(b);v=(0,_.hj)(S.max)?Math.max(v,S.max):v,d=(0,_.hj)(S.min)?Math.min(d,S.min):d,(0,_.S6)(S.values,function(C){y.includes(C)||y.push(C)})}),(0,_.S6)(c,function(b){var S=s.getScale(b);if(S.isContinuous)S.change({min:d,max:v,values:y});else if(S.isCategory){var C=S.range,T=s.getScaleMeta(b);y&&!(0,_.U2)(T,["scaleDef","range"])&&(C=Cy((0,_.b$)({},S,{values:y}),a,n)),S.change({values:y,range:C})}})})},o.prototype.cacheScale=function(a,n,s){var c=this.getScaleMeta(s);c&&c.scale.type===a.type?(gP(c.scale,a),c.scaleDef=n):(c={key:s,scale:a,scaleDef:n},this.scales.set(s,c));var f=this.getSyncKey(c);if(c.syncKey=f,this.removeFromSyncScales(s),f){var d=this.syncScales.get(f);d||(d=[],this.syncScales.set(f,d)),d.push(s)}},o.prototype.getScale=function(a){var n=this.getScaleMeta(a);if(!n){var s=(0,_.Z$)(a.split("-")),c=this.syncScales.get(s);c&&c.length&&(n=this.getScaleMeta(c[0]))}return n&&n.scale},o.prototype.deleteScale=function(a){var n=this.getScaleMeta(a);if(n){var s=n.syncKey,c=this.syncScales.get(s);if(c&&c.length){var f=c.indexOf(a);f!==-1&&c.splice(f,1)}}this.scales.delete(a)},o.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},o.prototype.removeFromSyncScales=function(a){var n=this;this.syncScales.forEach(function(s,c){var f=s.indexOf(a);if(f!==-1)return s.splice(f,1),s.length===0&&n.syncScales.delete(c),!1})},o.prototype.getSyncKey=function(a){var n=a.scale,s=a.scaleDef,c=n.field,f=(0,_.U2)(s,["sync"]);return f===!0?c:f===!1?void 0:f},o.prototype.getScaleMeta=function(a){return this.scales.get(a)},o}(),zl=function(){function o(a,n,s,c){a===void 0&&(a=0),n===void 0&&(n=0),s===void 0&&(s=0),c===void 0&&(c=0),this.top=a,this.right=n,this.bottom=s,this.left=c}return o.instance=function(a,n,s,c){return a===void 0&&(a=0),n===void 0&&(n=0),s===void 0&&(s=0),c===void 0&&(c=0),new o(a,n,s,c)},o.prototype.max=function(a){var n=(0,L.CR)(a,4),s=n[0],c=n[1],f=n[2],d=n[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,c),this.bottom=Math.max(this.bottom,f),this.left=Math.max(this.left,d),this},o.prototype.shrink=function(a){var n=(0,L.CR)(a,4),s=n[0],c=n[1],f=n[2],d=n[3];return this.top+=s,this.right+=c,this.bottom+=f,this.left+=d,this},o.prototype.inc=function(a,n){var s=a.width,c=a.height;switch(n){case Lt.TOP:case Lt.TOP_LEFT:case Lt.TOP_RIGHT:this.top+=c;break;case Lt.RIGHT:case Lt.RIGHT_TOP:case Lt.RIGHT_BOTTOM:this.right+=s;break;case Lt.BOTTOM:case Lt.BOTTOM_LEFT:case Lt.BOTTOM_RIGHT:this.bottom+=c;break;case Lt.LEFT:case Lt.LEFT_TOP:case Lt.LEFT_BOTTOM:this.left+=s;break;default:break}return this},o.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},o.prototype.clone=function(){return new(o.bind.apply(o,(0,L.ev)([void 0],(0,L.CR)(this.getPadding()),!1)))},o}();function Ky(o){var a=o.padding;if(!EM(a))return new(zl.bind.apply(zl,(0,L.ev)([void 0],(0,L.CR)($y(a)),!1)));var n=o.viewBBox,s=new zl,c=[],f=[],d=[];return(0,_.S6)(o.getComponents(),function(v){var y=v.type;y===Oe.AXIS?c.push(v):[Oe.LEGEND,Oe.SLIDER,Oe.SCROLLBAR].includes(y)?f.push(v):y!==Oe.GRID&&y!==Oe.TOOLTIP&&d.push(v)}),(0,_.S6)(c,function(v){var y=v.component,b=y.getLayoutBBox(),S=new ja(b.x,b.y,b.width,b.height),C=S.exceed(n);s.max(C)}),(0,_.S6)(f,function(v){var y=v.component,b=v.direction,S=y.getLayoutBBox(),C=y.get("padding"),T=new ja(S.x,S.y,S.width,S.height).expand(C);s.inc(T,b)}),(0,_.S6)(d,function(v){var y=v.component,b=v.direction,S=y.getLayoutBBox(),C=new ja(S.x,S.y,S.width,S.height);s.inc(C,b)}),s}function Jy(o,a,n){var s=n.instance();a.forEach(function(c){c.autoPadding=s.max(c.autoPadding.getPadding())})}var da=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,{visible:n.visible})||this;s.views=[],s.geometries=[],s.controllers=[],s.interactions={},s.limitInPlot=!1,s.options={data:[],animate:!0},s.usedControllers=VP(),s.scalePool=new XP,s.layoutFunc=_a,s.isPreMouseInPlot=!1,s.isDataChanged=!1,s.isCoordinateChanged=!1,s.createdScaleKeys=new Map,s.onCanvasEvent=function(Z){var q=Z.name;if(!q.includes(":")){var K=s.createViewEvent(Z);s.doPlotEvent(K),s.emit(q,K)}},s.onDelegateEvents=function(Z){var q=Z.name;if(q.includes(":")){var K=s.createViewEvent(Z);s.emit(q,K)}};var c=n.id,f=c===void 0?(0,_.EL)("view"):c,d=n.parent,v=n.canvas,y=n.backgroundGroup,b=n.middleGroup,S=n.foregroundGroup,C=n.region,T=C===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:C,k=n.padding,R=n.appendPadding,D=n.theme,V=n.options,j=n.limitInPlot,H=n.syncViewPadding;return s.parent=d,s.canvas=v,s.backgroundGroup=y,s.middleGroup=b,s.foregroundGroup=S,s.region=T,s.padding=k,s.appendPadding=R,s.options=(0,L.pi)((0,L.pi)({},s.options),V),s.limitInPlot=j,s.id=f,s.syncViewPadding=H,s.themeObject=(0,_.Kn)(D)?(0,_.b$)({},of("default"),Cs(D)):of(D),s.init(),s}return a.prototype.setLayout=function(n){this.layoutFunc=n},a.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},a.prototype.render=function(n,s){n===void 0&&(n=!1),this.emit(jt.BEFORE_RENDER,$r.fromData(this,jt.BEFORE_RENDER,s)),this.paint(n),this.emit(jt.AFTER_RENDER,$r.fromData(this,jt.AFTER_RENDER,s)),this.visible===!1&&this.changeVisible(!1)},a.prototype.clear=function(){var n=this;this.emit(jt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var s=this.geometries,c=0;c<s.length;c++)s[c].clear(),s[c].container.remove(!0),s[c].labelsContainer.remove(!0);this.geometries=[];for(var f=this.controllers,c=0;c<f.length;c++)f[c].name==="annotation"?f[c].clear(!0):f[c].clear();this.createdScaleKeys.forEach(function(v,y){n.getRootView().scalePool.deleteScale(y)}),this.createdScaleKeys.clear();for(var d=this.views,c=0;c<d.length;c++)d[c].clear();this.emit(jt.AFTER_CLEAR)},a.prototype.destroy=function(){this.emit(jt.BEFORE_DESTROY);var n=this.interactions;(0,_.S6)(n,function(v){v&&v.destroy()}),this.clear();for(var s=this.controllers,c=0,f=s.length;c<f;c++){var d=s[c];d.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),o.prototype.destroy.call(this)},a.prototype.changeVisible=function(n){o.prototype.changeVisible.call(this,n);for(var s=this.geometries,c=0,f=s.length;c<f;c++){var d=s[c];d.changeVisible(n)}for(var v=this.controllers,c=0,f=v.length;c<f;c++){var y=v[c];y.changeVisible(n)}return this.foregroundGroup.set("visible",n),this.middleGroup.set("visible",n),this.backgroundGroup.set("visible",n),this.getCanvas().draw(),this},a.prototype.data=function(n){return(0,_.t8)(this.options,"data",n),this.isDataChanged=!0,this},a.prototype.source=function(n){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(n)},a.prototype.filter=function(n,s){return(0,_.mf)(s)?((0,_.t8)(this.options,["filters",n],s),this):(!s&&(0,_.U2)(this.options,["filters",n])&&delete this.options.filters[n],this)},a.prototype.axis=function(n,s){return(0,_.jn)(n)?(0,_.t8)(this.options,["axes"],n):(0,_.t8)(this.options,["axes",n],s),this},a.prototype.legend=function(n,s){return(0,_.jn)(n)?(0,_.t8)(this.options,["legends"],n):(0,_.HD)(n)?((0,_.t8)(this.options,["legends",n],s),(0,_.PO)(s)&&(s!=null&&s.selected)&&(0,_.t8)(this.options,["filters",n],function(c){var f;return(f=s==null?void 0:s.selected[c])!==null&&f!==void 0?f:!0})):(0,_.t8)(this.options,["legends"],n),this},a.prototype.scale=function(n,s){var c=this;return(0,_.HD)(n)?(0,_.t8)(this.options,["scales",n],s):(0,_.Kn)(n)&&(0,_.S6)(n,function(f,d){(0,_.t8)(c.options,["scales",d],f)}),this},a.prototype.tooltip=function(n){return(0,_.t8)(this.options,"tooltip",n),this},a.prototype.annotation=function(){return this.getController("annotation")},a.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},a.prototype.coordinate=function(n,s){return(0,_.HD)(n)?(0,_.t8)(this.options,"coordinate",{type:n,cfg:s}):(0,_.t8)(this.options,"coordinate",n),this.coordinateController.update(this.options.coordinate),this.coordinateController},a.prototype.coord=function(n,s){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(n,s)},a.prototype.facet=function(n,s){this.facetInstance&&this.facetInstance.destroy();var c=Lw(n);if(!c)throw new Error("facet '".concat(n,"' is not exist!"));return this.facetInstance=new c(this,(0,L.pi)((0,L.pi)({},s),{type:n})),this},a.prototype.animate=function(n){return(0,_.t8)(this.options,"animate",n),this},a.prototype.updateOptions=function(n){return this.clear(),(0,_.CD)(this.options,n),this.views.forEach(function(s){return s.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},a.prototype.option=function(n,s){if(a.prototype[n])throw new Error(`Can't use built in variable name "`.concat(n,'", please change another one.'));return(0,_.t8)(this.options,n,s),this},a.prototype.theme=function(n){return this.themeObject=(0,_.Kn)(n)?(0,_.b$)({},this.themeObject,Cs(n)):of(n),this},a.prototype.interaction=function(n,s){var c=this.interactions[n];c&&c.destroy();var f=DP(n,this,s);return f&&(f.init(),this.interactions[n]=f),this},a.prototype.removeInteraction=function(n){var s=this.interactions[n];s&&(s.destroy(),this.interactions[n]=void 0)},a.prototype.changeData=function(n){this.isDataChanged=!0,this.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this,jt.BEFORE_CHANGE_DATA,null)),this.data(n),this.paint(!0);for(var s=this.views,c=0,f=s.length;c<f;c++){var d=s[c];d.changeData(n)}this.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this,jt.AFTER_CHANGE_DATA,null))},a.prototype.createView=function(n){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var s={data:this.options.data,scales:(0,_.d9)(this.options.scales),axes:(0,_.d9)(this.options.axes),coordinate:(0,_.d9)(this.coordinateController.getOption()),tooltip:(0,_.d9)(this.options.tooltip),legends:(0,_.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},c=new a((0,L.pi)((0,L.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ae.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ae.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ae.FORE}),theme:this.themeObject,padding:this.padding},n),{options:(0,L.pi)((0,L.pi)({},s),(0,_.U2)(n,"options",{}))}));return this.views.push(c),c},a.prototype.view=function(n){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(n)},a.prototype.removeView=function(n){var s=(0,_.Od)(this.views,function(c){return c===n})[0];return s&&s.destroy(),s},a.prototype.getCoordinate=function(){return this.coordinateInstance},a.prototype.getTheme=function(){return this.themeObject},a.prototype.getXScale=function(){var n=this.geometries[0];return n?n.getXScale():null},a.prototype.getYScales=function(){var n={},s=[];return this.geometries.forEach(function(c){var f=c.getYScale(),d=f.field;n[d]||(n[d]=!0,s.push(f))}),s},a.prototype.getScalesByDim=function(n){for(var s=this.geometries,c={},f=0,d=s.length;f<d;f++){var v=s[f],y=n==="x"?v.getXScale():v.getYScale();y&&!c[y.field]&&(c[y.field]=y)}return c},a.prototype.getScale=function(n,s){var c=s||this.getScaleKey(n);return this.getRootView().scalePool.getScale(c)},a.prototype.getScaleByField=function(n,s){return this.getScale(n,s)},a.prototype.getOptions=function(){return this.options},a.prototype.getData=function(){return this.filteredData},a.prototype.getOriginalData=function(){return this.options.data},a.prototype.getPadding=function(){return this.autoPadding.getPadding()},a.prototype.getGeometries=function(){return this.geometries},a.prototype.getElements=function(){return(0,_.u4)(this.geometries,function(n,s){return n.concat(s.getElements())},[])},a.prototype.getElementsBy=function(n){return this.getElements().filter(function(s){return n(s)})},a.prototype.getLayer=function(n){return n===Ht.BG?this.backgroundGroup:n===Ht.MID?this.middleGroup:n===Ht.FORE?this.foregroundGroup:this.foregroundGroup},a.prototype.isPointInPlot=function(n){return pP(this.getCoordinate(),n)},a.prototype.getLegendAttributes=function(){return(0,_.xH)(this.geometries.map(function(n){return n.getGroupAttributes()}))},a.prototype.getGroupScales=function(){var n=this.geometries.map(function(s){return s.getGroupScales()});return Pl((0,_.xH)(n))},a.prototype.getCanvas=function(){return this.getRootView().canvas},a.prototype.getRootView=function(){for(var n=this;;){if(n.parent){n=n.parent;continue}break}return n},a.prototype.getXY=function(n){var s=this.getCoordinate(),c=this.getScalesByDim("x"),f=this.getScalesByDim("y"),d,v;if((0,_.S6)(n,function(y,b){c[b]&&(d=c[b].scale(y)),f[b]&&(v=f[b].scale(y))}),!(0,_.UM)(d)&&!(0,_.UM)(v))return s.convert({x:d,y:v})},a.prototype.getController=function(n){return(0,_.sE)(this.controllers,function(s){return s.name===n})},a.prototype.showTooltip=function(n){var s=this.getController("tooltip");return s&&s.showTooltip(n),this},a.prototype.hideTooltip=function(){var n=this.getController("tooltip");return n&&n.hideTooltip(),this},a.prototype.lockTooltip=function(){var n=this.getController("tooltip");return n&&n.lockTooltip(),this},a.prototype.unlockTooltip=function(){var n=this.getController("tooltip");return n&&n.unlockTooltip(),this},a.prototype.isTooltipLocked=function(){var n=this.getController("tooltip");return n&&n.isTooltipLocked()},a.prototype.getTooltipItems=function(n){var s=this.getController("tooltip");return s?s.getTooltipItems(n):[]},a.prototype.getSnapRecords=function(n){for(var s=this.geometries,c=[],f=0,d=s.length;f<d;f++){var v=s[f],y=v.dataArray;v.sort(y);for(var b=void 0,S=0,C=y.length;S<C;S++){var T=y[S];b=OM(n,T,v),b&&c.push(b)}}for(var k=this.views,f=0,d=k.length;f<d;f++){var R=k[f],D=R.getSnapRecords(n);c=c.concat(D)}return c},a.prototype.getComponents=function(){for(var n=[],s=this.controllers,c=0,f=s.length;c<f;c++){var d=s[c];n=n.concat(d.getComponents())}return n},a.prototype.filterData=function(n){var s=this.options.filters;return(0,_.dp)(s)===0?n:(0,_.hX)(n,function(c,f){var d=Object.keys(s);return d.every(function(v){var y=s[v];return y(c[v],c,f)})})},a.prototype.filterFieldData=function(n,s){var c=this.options.filters,f=(0,_.U2)(c,n);return(0,_.o8)(f)?s:s.filter(function(d,v){return f(d[n],d,v)})},a.prototype.adjustCoordinate=function(){var n=this.getCoordinate(),s=n.start,c=n.end,f=this.coordinateBBox.bl,d=this.coordinateBBox.tr;if((0,_.Xy)(s,f)&&(0,_.Xy)(c,d)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(f,d)},a.prototype.paint=function(n){this.renderDataRecursive(n),this.syncScale(),this.emit(jt.BEFORE_PAINT),this.renderPaddingRecursive(n),this.renderLayoutRecursive(n),this.renderBackgroundStyleShape(),this.renderPaintRecursive(n),this.emit(jt.AFTER_PAINT),this.isDataChanged=!1},a.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var n=(0,_.U2)(this.themeObject,"background");if(n){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var s=this.viewBBox,c=s.x,f=s.y,d=s.width,v=s.height;this.backgroundStyleRectShape.attr({fill:n,x:c,y:f,width:d,height:v})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},a.prototype.renderPaddingRecursive=function(n){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(n),this.autoPadding=Ky(this).shrink($y(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var s=this.controllers.find(function(y){return y.name==="tooltip"});s.update();for(var c=this.views,f=0,d=c.length;f<d;f++){var v=c[f];v.renderPaddingRecursive(n)}},a.prototype.renderLayoutRecursive=function(n){var s=this.syncViewPadding===!0?Jy:(0,_.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;s&&(s(this,this.views,zl),this.views.forEach(function(y){y.coordinateBBox=y.viewBBox.shrink(y.autoPadding.getPadding()),y.adjustCoordinate()})),this.doLayout();for(var c=this.views,f=0,d=c.length;f<d;f++){var v=c[f];v.renderLayoutRecursive(n)}},a.prototype.renderPaintRecursive=function(n){var s=this.middleGroup;if(this.limitInPlot){var c=dv(this.coordinateInstance),f=c.type,d=c.attrs;s.setClip({type:f,attrs:d})}else s.setClip(void 0);this.paintGeometries(n),this.renderComponents(n);for(var v=this.views,y=0,b=v.length;y<b;y++){var S=v[y];S.renderPaintRecursive(n)}},a.prototype.createScale=function(n,s,c,f){var d=(0,_.U2)(this.options.scales,[n]),v=(0,L.pi)((0,L.pi)({},d),c);return this.parent?this.parent.createScale(n,s,v,f):this.scalePool.createScale(n,s,v,f)},a.prototype.renderDataRecursive=function(n){this.doFilterData(),this.createCoordinate(),this.initGeometries(n),this.renderFacet(n);for(var s=this.views,c=0,f=s.length;c<f;c++){var d=s[c];d.renderDataRecursive(n)}},a.prototype.calculateViewBBox=function(){var n,s,c,f;if(this.parent){var d=this.parent.coordinateBBox;n=d.x,s=d.y,c=d.width,f=d.height}else n=0,s=0,c=this.canvas.get("width"),f=this.canvas.get("height");var v=this.region,y=v.start,b=v.end,S=new ja(n+c*y.x,s+f*y.y,c*(b.x-y.x),f*(b.y-y.y));(!this.viewBBox||!this.viewBBox.isEqual(S))&&(this.viewBBox=new ja(n+c*y.x,s+f*y.y,c*(b.x-y.x),f*(b.y-y.y))),this.coordinateBBox=this.viewBBox},a.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},a.prototype.initComponentController=function(){for(var n=this.usedControllers,s=0,c=n.length;s<c;s++){var f=n[s],d=kM(f);d&&this.controllers.push(new d(this))}},a.prototype.createViewEvent=function(n){var s=n.shape,c=n.name,f=s?s.get("origin"):null,d=new $r(this,n,f);return d.type=c,d},a.prototype.doPlotEvent=function(n){var s=n.type,c=n.x,f=n.y,d={x:c,y:f},v=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(v.includes(s)){var y=this.isPointInPlot(d),b=n.clone();if(y){var S="plot:".concat(s);b.type=S,this.emit(S,b),(s==="mouseleave"||s==="touchend")&&(this.isPreMouseInPlot=!1)}s==="mousemove"||s==="touchmove"?(this.isPreMouseInPlot&&!y?(s==="mousemove"&&(b.type=Ce.MOUSE_LEAVE,this.emit(Ce.MOUSE_LEAVE,b)),b.type=Ce.LEAVE,this.emit(Ce.LEAVE,b)):!this.isPreMouseInPlot&&y&&(s==="mousemove"&&(b.type=Ce.MOUSE_ENTER,this.emit(Ce.MOUSE_ENTER,b)),b.type=Ce.ENTER,this.emit(Ce.ENTER,b)),this.isPreMouseInPlot=y):(s==="mouseleave"||s==="touchend")&&this.isPreMouseInPlot&&(s==="mouseleave"&&(b.type=Ce.MOUSE_LEAVE,this.emit(Ce.MOUSE_LEAVE,b)),b.type=Ce.LEAVE,this.emit(Ce.LEAVE,b),this.isPreMouseInPlot=!1)}},a.prototype.doFilterData=function(){var n=this.options.data;this.filteredData=this.filterData(n)},a.prototype.initGeometries=function(n){this.createOrUpdateScales();for(var s=this.getCoordinate(),c=(0,_.U2)(this.options,"scales",{}),f=this.geometries,d=0,v=f.length;d<v;d++){var y=f[d];y.scales=this.getGeometryScales();var b={coordinate:s,scaleDefs:c,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};n?y.update(b):y.init(b)}this.adjustScales()},a.prototype.createOrUpdateScales=function(){for(var n=this.getScaleFields(),s=this.getGroupedFields(),c=this.getOptions(),f=c.data,d=c.scales,v=d===void 0?{}:d,y=this.filteredData,b=0,S=n.length;b<S;b++){var C=n[b],T=v[C],k=this.getScaleKey(C);this.createScale(C,s.includes(C)?f:y,T,k),this.createdScaleKeys.set(k,!0)}},a.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},a.prototype.getGeometryScales=function(){for(var n=this.getScaleFields(),s={},c=0;c<n.length;c++){var f=n[c];s[f]=this.getScaleByField(f)}return s},a.prototype.getScaleFields=function(){for(var n=[],s=new Map,c=this.geometries,f=0;f<c.length;f++){var d=c[f],v=d.getScaleFields();Pl(v,n,s)}return n},a.prototype.getGroupedFields=function(){for(var n=[],s=new Map,c=this.geometries,f=0;f<c.length;f++){var d=c[f],v=d.getGroupFields();Pl(v,n,s)}return n},a.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},a.prototype.adjustCategoryScaleRange=function(){var n=this,s=(0,L.ev)([this.getXScale()],(0,L.CR)(this.getYScales()),!1).filter(function(d){return!!d}),c=this.getCoordinate(),f=this.options.scales;(0,_.S6)(s,function(d){var v=d.field,y=d.values,b=d.isCategory,S=d.isIdentity;(b||S)&&y&&!(0,_.U2)(f,[v,"range"])&&(d.range=Cy(d,c,n.theme))})},a.prototype.initComponents=function(n){for(var s=this.controllers,c=0;c<s.length;c++){var f=s[c];n?f.update():(f.clear(),f.render())}},a.prototype.doLayout=function(){this.layoutFunc(this)},a.prototype.createCoordinate=function(){var n=this.coordinateBBox.bl,s=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(n,s)},a.prototype.paintGeometries=function(n){for(var s=this.options.animate,c=this.getCoordinate(),f={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},d=this.geometries,v=0;v<d.length;v++){var y=d[v];y.coordinate=c,y.canvasRegion=f,s||y.animate(!1),y.paint(n)}},a.prototype.renderComponents=function(n){for(var s=this.getComponents(),c=0;c<s.length;c++){var f=s[c];f.component.render()}},a.prototype.renderFacet=function(n){this.facetInstance&&(n?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},a.prototype.initOptions=function(){var n=this,s=this.options,c=s.geometries,f=c===void 0?[]:c,d=s.interactions,v=d===void 0?[]:d,y=s.views,b=y===void 0?[]:y,S=s.annotations,C=S===void 0?[]:S,T=s.coordinate,k=s.events,R=s.facets;this.coordinateController?T&&this.coordinateController.update(T):this.coordinateController=new YP(T);for(var D=0;D<f.length;D++){var V=f[D];this.createGeometry(V)}for(var j=0;j<v.length;j++){var H=v[j],Z=H.type,q=H.cfg;this.interaction(Z,q)}for(var K=0;K<b.length;K++){var Ct=b[K];this.createView(Ct)}for(var Ft=this.getController("annotation"),Jt=0;Jt<C.length;Jt++){var _e=C[Jt];Ft.annotation(_e)}k&&(0,_.S6)(k,function(ge,Be){n.on(Be,ge)}),R&&(0,_.S6)(R,function(ge){var Be=ge.type,tn=(0,L._T)(ge,["type"]);n.facet(Be,tn)})},a.prototype.createGeometry=function(n){var s=n.type,c=n.cfg,f=c===void 0?{}:c;if(this[s]){var d=this[s](f);(0,_.S6)(n,function(v,y){(0,_.mf)(d[y])&&d[y](v)})}},a.prototype.getScaleKey=function(n){return"".concat(this.id,"-").concat(n)},a}(ct);function no(o,a){da.prototype[o.toLowerCase()]=function(n){n===void 0&&(n={});var s=(0,L.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},n),c=new a(s);return this.geometries.push(c),c}}var Tv=da,Vh=function(o){(0,L.ZT)(a,o);function a(n){var s=this,c=n.container,f=n.width,d=n.height,v=n.autoFit,y=v===void 0?!1:v,b=n.padding,S=n.appendPadding,C=n.renderer,T=C===void 0?"canvas":C,k=n.pixelRatio,R=n.localRefresh,D=R===void 0?!0:R,V=n.visible,j=V===void 0?!0:V,H=n.supportCSSTransform,Z=H===void 0?!1:H,q=n.defaultInteractions,K=q===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:q,Ct=n.options,Ft=n.limitInPlot,Jt=n.theme,_e=n.syncViewPadding,ge=(0,_.HD)(c)?document.getElementById(c):c,Be=(0,zt.Z)('<div style="position:relative;"></div>');ge.appendChild(Be);var tn=ie(ge,y,f,d),vn=Ue(T),Mn=new vn.Canvas((0,L.pi)({container:Be,pixelRatio:k,localRefresh:D,supportCSSTransform:Z},tn));return s=o.call(this,{parent:null,canvas:Mn,backgroundGroup:Mn.addGroup({zIndex:Ae.BG}),middleGroup:Mn.addGroup({zIndex:Ae.MID}),foregroundGroup:Mn.addGroup({zIndex:Ae.FORE}),padding:b,appendPadding:S,visible:j,options:Ct,limitInPlot:Ft,theme:Jt,syncViewPadding:_e})||this,s.onResize=(0,_.Ds)(function(){s.forceFit()},300),s.ele=ge,s.canvas=Mn,s.width=tn.width,s.height=tn.height,s.autoFit=y,s.localRefresh=D,s.renderer=T,s.wrapperElement=Be,s.updateCanvasStyle(),s.bindAutoFit(),s.initDefaultInteractions(K),s}return a.prototype.initDefaultInteractions=function(n){var s=this;(0,_.S6)(n,function(c){s.interaction(c)})},a.prototype.aria=function(n){var s="aria-label";n===!1?this.ele.removeAttribute(s):this.ele.setAttribute(s,n.label)},a.prototype.changeSize=function(n,s){return this.width===n&&this.height===s?this:(this.emit(jt.BEFORE_CHANGE_SIZE),this.width=n,this.height=s,this.canvas.changeSize(n,s),this.render(!0),this.emit(jt.AFTER_CHANGE_SIZE),this)},a.prototype.clear=function(){o.prototype.clear.call(this),this.aria(!1)},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),He(this.wrapperElement),this.wrapperElement=null},a.prototype.changeVisible=function(n){return o.prototype.changeVisible.call(this,n),this.wrapperElement.style.display=n?"":"none",this},a.prototype.forceFit=function(){if(!this.destroyed){var n=ie(this.ele,!0,this.width,this.height),s=n.width,c=n.height;this.changeSize(s,c)}},a.prototype.updateCanvasStyle=function(){ye(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},a.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},a.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},a}(Tv),Va=Vh,As=function(){function o(a){this.visible=!0,this.components=[],this.view=a}return o.prototype.clear=function(a){(0,_.S6)(this.components,function(n){n.component.destroy()}),this.components=[]},o.prototype.destroy=function(){this.clear()},o.prototype.getComponents=function(){return this.components},o.prototype.changeVisible=function(a){this.visible!==a&&(this.components.forEach(function(n){a?n.component.show():n.component.hide()}),this.visible=a)},o}();function Qy(o){for(var a=[],n=function(c){var f=o[c],d=(0,_.sE)(a,function(v){return v.color===f.color&&v.name===f.name&&v.value===f.value&&v.title===f.title});d||a.push(f)},s=0;s<o.length;s++)n(s);return a}var qc=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.isLocked=!1,n}return Object.defineProperty(a.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.isVisible=function(){var n=this.view.getOptions().tooltip;return n!==!1},a.prototype.render=function(){},a.prototype.showTooltip=function(n){if(this.point=n,!!this.isVisible()){var s=this.view,c=this.getTooltipItems(n);if(!c.length){this.hideTooltip();return}var f=this.getTitle(c),d={x:c[0].x,y:c[0].y};s.emit("tooltip:show",$r.fromData(s,"tooltip:show",(0,L.pi)({items:c,title:f},n)));var v=this.getTooltipCfg(),y=v.follow,b=v.showMarkers,S=v.showCrosshairs,C=v.showContent,T=v.marker,k=this.items,R=this.title;if(!(0,_.Xy)(R,f)||!(0,_.Xy)(k,c)?(s.emit("tooltip:change",$r.fromData(s,"tooltip:change",(0,L.pi)({items:c,title:f},n))),((0,_.mf)(C)?C(c):C)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,_.CD)({},v,{items:this.getItemsAfterProcess(c),title:f},y?n:{})),this.tooltip.show()),b&&this.renderTooltipMarkers(c,T)):(this.tooltip&&y&&(this.tooltip.update(n),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=c,this.title=f,S){var D=(0,_.U2)(v,["crosshairs","follow"],!1);this.renderCrosshairs(D?n:d,v)}}},a.prototype.hideTooltip=function(){var n=this.getTooltipCfg().follow;if(!n){this.point=null;return}var s=this.tooltipMarkersGroup;s&&s.hide();var c=this.xCrosshair,f=this.yCrosshair;c&&c.hide(),f&&f.hide();var d=this.tooltip;d&&d.hide(),this.view.emit("tooltip:hide",$r.fromData(this.view,"tooltip:hide",{})),this.point=null},a.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},a.prototype.unlockTooltip=function(){this.isLocked=!1;var n=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(n.capture)},a.prototype.isTooltipLocked=function(){return this.isLocked},a.prototype.clear=function(){var n=this,s=n.tooltip,c=n.xCrosshair,f=n.yCrosshair,d=n.tooltipMarkersGroup;s&&(s.hide(),s.clear()),c&&c.clear(),f&&f.clear(),d&&d.clear(),s!=null&&s.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},a.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},a.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},a.prototype.changeVisible=function(n){if(this.visible!==n){var s=this,c=s.tooltip,f=s.tooltipMarkersGroup,d=s.xCrosshair,v=s.yCrosshair;n?(c&&c.show(),f&&f.show(),d&&d.show(),v&&v.show()):(c&&c.hide(),f&&f.hide(),d&&d.hide(),v&&v.hide()),this.visible=n}},a.prototype.getTooltipItems=function(n){var s,c,f,d,v,y,b=this.findItemsFromView(this.view,n);if(b.length){b=(0,_.xH)(b);try{for(var S=(0,L.XA)(b),C=S.next();!C.done;C=S.next()){var T=C.value;try{for(var k=(f=void 0,(0,L.XA)(T)),R=k.next();!R.done;R=k.next()){var D=R.value,V=D.mappingData,j=V.x,H=V.y;D.x=(0,_.kJ)(j)?j[j.length-1]:j,D.y=(0,_.kJ)(H)?H[H.length-1]:H}}catch(ge){f={error:ge}}finally{try{R&&!R.done&&(d=k.return)&&d.call(k)}finally{if(f)throw f.error}}}}catch(ge){s={error:ge}}finally{try{C&&!C.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}var Z=this.getTooltipCfg().shared;if(Z===!1&&b.length>1){var q=b[0],K=Math.abs(n.y-q[0].y);try{for(var Ct=(0,L.XA)(b),Ft=Ct.next();!Ft.done;Ft=Ct.next()){var Jt=Ft.value,_e=Math.abs(n.y-Jt[0].y);_e<=K&&(q=Jt,K=_e)}}catch(ge){v={error:ge}}finally{try{Ft&&!Ft.done&&(y=Ct.return)&&y.call(Ct)}finally{if(v)throw v.error}}b=[q]}return Qy((0,_.xH)(b))}return[]},a.prototype.layout=function(){},a.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var n=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}})}},a.prototype.isCursorEntered=function(n){if(this.tooltip){var s=this.tooltip.getContainer(),c=this.tooltip.get("capture");if(s&&c){var f=s.getBoundingClientRect(),d=f.x,v=f.y,y=f.width,b=f.height;return new ja(d,v,y,b).isPointIn(n)}}return!1},a.prototype.getTooltipCfg=function(){var n=this.view,s=n.getOptions().tooltip,c=this.processCustomContent(s),f=n.getTheme(),d=(0,_.U2)(f,["components","tooltip"],{}),v=(0,_.U2)(c,"enterable",d.enterable);return(0,_.b$)({},d,c,{capture:!!(v||this.isLocked)})},a.prototype.processCustomContent=function(n){if((0,_.jn)(n)||!(0,_.U2)(n,"customContent"))return n;var s=n.customContent,c=function(f,d){var v=s(f,d)||"";return(0,_.HD)(v)?'<div class="g2-tooltip">'+v+"</div>":v};return(0,L.pi)((0,L.pi)({},n),{customContent:c})},a.prototype.getTitle=function(n){var s=n[0].title||n[0].name;return this.title=s,s},a.prototype.renderTooltip=function(){var n=this.view.getCanvas(),s={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},c=this.getTooltipCfg(),f=new uv((0,L.pi)((0,L.pi)({parent:n.get("el").parentNode,region:s},c),{visible:!1,crosshairs:null}));f.init(),this.tooltip=f},a.prototype.renderTooltipMarkers=function(n,s){var c,f,d=this.getTooltipMarkersGroup(),v=this.view.getRootView(),y=v.limitInPlot;try{for(var b=(0,L.XA)(n),S=b.next();!S.done;S=b.next()){var C=S.value,T=C.x,k=C.y;if(y||d!=null&&d.getClip()){var R=dv(v.getCoordinate()),D=R.type,V=R.attrs;d==null||d.setClip({type:D,attrs:V})}else d==null||d.setClip(void 0);var j=this.view.getTheme(),H=(0,_.U2)(j,["components","tooltip","marker"],{}),Z=(0,L.pi)((0,L.pi)({fill:C.color,symbol:"circle",shadowColor:C.color},(0,_.mf)(s)?(0,L.pi)((0,L.pi)({},H),s(C)):s),{x:T,y:k});d.addShape("marker",{attrs:Z})}}catch(q){c={error:q}}finally{try{S&&!S.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},a.prototype.renderCrosshairs=function(n,s){var c=(0,_.U2)(s,["crosshairs","type"],"x");c==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(n,s)):c==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(n,s)):c==="xy"&&(this.renderXCrosshairs(n,s),this.renderYCrosshairs(n,s))},a.prototype.renderXCrosshairs=function(n,s){var c=this.getViewWithGeometry(this.view).getCoordinate(),f,d;if(c.isRect)c.isTransposed?(f={x:c.start.x,y:n.y},d={x:c.end.x,y:n.y}):(f={x:n.x,y:c.end.y},d={x:n.x,y:c.start.y});else{var v=ns(c,n),y=c.getCenter(),b=c.getRadius();d=Ei(y.x,y.y,b,v),f=y}var S=(0,_.b$)({start:f,end:d,container:this.getTooltipCrosshairsGroup()},(0,_.U2)(s,"crosshairs",{}),this.getCrosshairsText("x",n,s));delete S.type;var C=this.xCrosshair;C?C.update(S):(C=new Yk(S),C.init()),C.render(),C.show(),this.xCrosshair=C},a.prototype.renderYCrosshairs=function(n,s){var c=this.getViewWithGeometry(this.view).getCoordinate(),f,d;if(c.isRect){var v=void 0,y=void 0;c.isTransposed?(v={x:n.x,y:c.end.y},y={x:n.x,y:c.start.y}):(v={x:c.start.x,y:n.y},y={x:c.end.x,y:n.y}),f={start:v,end:y},d="Line"}else f={center:c.getCenter(),radius:Ll(c,n),startAngle:c.startAngle,endAngle:c.endAngle},d="Circle";f=(0,_.b$)({container:this.getTooltipCrosshairsGroup()},f,(0,_.U2)(s,"crosshairs",{}),this.getCrosshairsText("y",n,s)),delete f.type;var b=this.yCrosshair;b?c.isRect&&b.get("type")==="circle"||!c.isRect&&b.get("type")==="line"?(b=new B[d](f),b.init()):b.update(f):(b=new B[d](f),b.init()),b.render(),b.show(),this.yCrosshair=b},a.prototype.getCrosshairsText=function(n,s,c){var f=(0,_.U2)(c,["crosshairs","text"]),d=(0,_.U2)(c,["crosshairs","follow"]),v=this.items;if(f){var y=this.getViewWithGeometry(this.view),b=v[0],S=y.getXScale(),C=y.getYScales()[0],T=void 0,k=void 0;if(d){var R=this.view.getCoordinate().invert(s);T=S.invert(R.x),k=C.invert(R.y)}else T=b.data[S.field],k=b.data[C.field];var D=n==="x"?T:k;return(0,_.mf)(f)?f=f(n,D,v,s):f.content=D,{text:f}}},a.prototype.getGuideGroup=function(){if(!this.guideGroup){var n=this.view.foregroundGroup;this.guideGroup=n.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},a.prototype.getTooltipMarkersGroup=function(){var n=this.tooltipMarkersGroup;return n&&!n.destroyed?(n.clear(),n.show()):(n=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),n.toFront(),this.tooltipMarkersGroup=n),n},a.prototype.getTooltipCrosshairsGroup=function(){var n=this.tooltipCrosshairsGroup;return n||(n=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),n.toBack(),this.tooltipCrosshairsGroup=n),n},a.prototype.findItemsFromView=function(n,s){var c,f;if(n.getOptions().tooltip===!1)return[];var d=this.getTooltipCfg(),v=AM(n,s,d);try{for(var y=(0,L.XA)(n.views),b=y.next();!b.done;b=y.next()){var S=b.value;v=v.concat(this.findItemsFromView(S,s))}}catch(C){c={error:C}}finally{try{b&&!b.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}return v},a.prototype.getViewWithGeometry=function(n){var s=this;return n.geometries.length?n:(0,_.sE)(n.views,function(c){return s.getViewWithGeometry(c)})},a.prototype.getItemsAfterProcess=function(n){var s=this.getTooltipCfg().customItems,c=s||function(f){return f};return c(n)},a}(As),jl=qc,PM={};function tm(o){return PM[o.toLowerCase()]}function ro(o,a){PM[o.toLowerCase()]=a}var sf={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},ZP={interval:function(o){return{enter:{animation:o.isRect?o.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:o.isPolar&&o.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},LM={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(o){var a;return o.isRect?a=o.isTransposed?"grow-in-x":"grow-in-y":(a="grow-in-xy",o.isPolar&&o.isTransposed&&(a="wave-in")),{animation:a}},schema:function(o){var a;return o.isRect?a=o.isTransposed?"grow-in-x":"grow-in-y":a="grow-in-xy",{animation:a}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function qP(o,a){return{delay:(0,_.mf)(o.delay)?o.delay(a):o.delay,easing:(0,_.mf)(o.easing)?o.easing(a):o.easing,duration:(0,_.mf)(o.duration)?o.duration(a):o.duration,callback:o.callback,repeat:o.repeat}}function IM(o,a,n){var s=ZP[o];return s&&((0,_.mf)(s)&&(s=s(a)),s=(0,_.b$)({},sf,s),n)?s[n]:s}function Hh(o,a,n){var s=(0,_.U2)(o.get("origin"),"data",Xe),c=a.animation,f=qP(a,s);if(c){var d=tm(c);d&&d(o,f,n)}else o.animate(n.toAttrs,f)}function io(o,a,n,s,c){if(LM[n]){var f=LM[n](s),d=tm((0,_.U2)(f,"animation",""));if(d){var v=(0,L.pi)((0,L.pi)((0,L.pi)({},sf.appear),f),a);o.stopAnimate(),d(o,v,{coordinate:s,minYPoint:c,toAttrs:null})}}}var Ev="element-background",$P=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.labelShape=[],s.states=[];var c=n.shapeFactory,f=n.container,d=n.offscreenGroup,v=n.elementIndex,y=n.visible,b=y===void 0?!0:y;return s.shapeFactory=c,s.container=f,s.offscreenGroup=d,s.visible=b,s.elementIndex=v,s}return a.prototype.draw=function(n,s){s===void 0&&(s=!1),this.model=n,this.data=n.data,this.shapeType=this.getShapeType(n),this.drawShape(n,s),this.visible===!1&&this.changeVisible(!1)},a.prototype.update=function(n){var s=this,c=s.shapeFactory,f=s.shape;if(f){this.model=n,this.data=n.data,this.shapeType=this.getShapeType(n),this.setShapeInfo(f,n);var d=this.getOffscreenGroup(),v=c.drawShape(this.shapeType,n,d);v.cfg.data=this.data,v.cfg.origin=n,v.cfg.element=this,this.syncShapeStyle(f,v,this.getStates(),this.getAnimateCfg("update"))}},a.prototype.destroy=function(){var n=this,s=n.shapeFactory,c=n.shape;if(c){var f=this.getAnimateCfg("leave");f?Hh(c,f,{coordinate:s.coordinate,toAttrs:(0,L.pi)({},c.attr())}):c.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,o.prototype.destroy.call(this)},a.prototype.changeVisible=function(n){o.prototype.changeVisible.call(this,n),n?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(s){s.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(s){s.hide()}))},a.prototype.setState=function(n,s){var c=this,f=c.states,d=c.shapeFactory,v=c.model,y=c.shape,b=c.shapeType,S=f.indexOf(n);if(s){if(S>-1)return;f.push(n),(n==="active"||n==="selected")&&(y==null||y.toFront())}else{if(S===-1)return;if(f.splice(S,1),n==="active"||n==="selected"){var C=this.geometry,T=C.sortZIndex,k=C.zIndexReversed,R=k?this.geometry.elements.length-this.elementIndex:this.elementIndex;T?y.setZIndex(R):y.set("zIndex",R)}}var D=d.drawShape(b,v,this.getOffscreenGroup());f.length?this.syncShapeStyle(y,D,f,null):this.syncShapeStyle(y,D,["reset"],null),D.remove(!0);var V={state:n,stateStatus:s,element:this,target:this.container};this.container.emit("statechange",V),H2(this.shape,"statechange",V)},a.prototype.clearStates=function(){var n=this,s=this.states;(0,_.S6)(s,function(c){n.setState(c,!1)}),this.states=[]},a.prototype.hasState=function(n){return this.states.includes(n)},a.prototype.getStates=function(){return this.states},a.prototype.getData=function(){return this.data},a.prototype.getModel=function(){return this.model},a.prototype.getBBox=function(){var n=this,s=n.shape,c=n.labelShape,f={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return s&&(f=s.getCanvasBBox()),c&&c.forEach(function(d){var v=d.getCanvasBBox();f.x=Math.min(v.x,f.x),f.y=Math.min(v.y,f.y),f.minX=Math.min(v.minX,f.minX),f.minY=Math.min(v.minY,f.minY),f.maxX=Math.max(v.maxX,f.maxX),f.maxY=Math.max(v.maxY,f.maxY)}),f.width=f.maxX-f.minX,f.height=f.maxY-f.minY,f},a.prototype.getStatesStyle=function(){if(!this.statesStyle){var n=this,s=n.shapeType,c=n.geometry,f=n.shapeFactory,d=c.stateOption,v=f.defaultShapeType,y=f.theme[s]||f.theme[v];this.statesStyle=(0,_.b$)({},y,d)}return this.statesStyle},a.prototype.getStateStyle=function(n,s){var c=this.getStatesStyle(),f=(0,_.U2)(c,[n,"style"],{}),d=f[s]||f;return(0,_.mf)(d)?d(this):d},a.prototype.getAnimateCfg=function(n){var s=this,c=this.animate;if(c){var f=c[n];return f&&(0,L.pi)((0,L.pi)({},f),{callback:function(){var d;(0,_.mf)(f.callback)&&f.callback(),(d=s.geometry)===null||d===void 0||d.emit(le.AFTER_DRAW_ANIMATE)}})}return null},a.prototype.drawShape=function(n,s){var c;s===void 0&&(s=!1);var f=this,d=f.shapeFactory,v=f.container,y=f.shapeType;if(this.shape=d.drawShape(y,n,v),this.shape){this.setShapeInfo(this.shape,n);var b=this.shape.cfg.name;b?(0,_.HD)(b)&&(this.shape.cfg.name=["element",b]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var S=s?"enter":"appear",C=this.getAnimateCfg(S);C&&((c=this.geometry)===null||c===void 0||c.emit(le.BEFORE_DRAW_ANIMATE),Hh(this.shape,C,{coordinate:d.coordinate,toAttrs:(0,L.pi)({},this.shape.attr())}))}},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var n=this.container.getGroupBase();this.offscreenGroup=new n({})}return this.offscreenGroup},a.prototype.setShapeInfo=function(n,s){var c=this;if(n.cfg.origin=s,n.cfg.element=this,n.isGroup()){var f=n.get("children");f.forEach(function(d){c.setShapeInfo(d,s)})}},a.prototype.syncShapeStyle=function(n,s,c,f,d){var v=this,y;if(c===void 0&&(c=[]),d===void 0&&(d=0),!(!n||!s)){var b=n.get("clipShape"),S=s.get("clipShape");if(this.syncShapeStyle(b,S,c,f),n.isGroup())for(var C=n.get("children"),T=s.get("children"),k=0;k<C.length;k++)this.syncShapeStyle(C[k],T[k],c,f,d+k);else{if(!(0,_.xb)(c)&&!(0,_.Xy)(c,["reset"])){var R=n.get("name");(0,_.kJ)(R)&&(R=R[1]),(0,_.S6)(c,function(V){if(s.get("name")!==Ev){var j=v.getStateStyle(V,R||d);s.attr(j)}})}var D=Tw(n,s);this.animate?f?((y=this.geometry)===null||y===void 0||y.emit(le.BEFORE_DRAW_ANIMATE),Hh(n,f,{coordinate:this.shapeFactory.coordinate,toAttrs:D,shapeModel:this.model})):(0,_.xb)(c)?n.attr(D):(n.stopAnimate(),n.animate(D,{duration:300})):n.attr(D)}}},a.prototype.getShapeType=function(n){var s=(0,_.U2)(n,"shape");return(0,_.kJ)(s)?s[0]:s},a}(ct),em=$P,kv={},Pv={};function RM(o){return kv[o.toLowerCase()]}function lf(o,a){kv[o.toLowerCase()]=a}function FM(o){return Pv[o.toLowerCase()]}function Oa(o,a){Pv[o.toLowerCase()]=a}var KP={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(o,a){var n=this.getShape(o);return n.getPoints?n.getPoints(a):this.getDefaultPoints(a)},getShape:function(o){var a=this[o]||this[this.defaultShapeType];return a.coordinate=this.coordinate,a},getDefaultPoints:function(){return[]},getDefaultStyle:function(o){return(0,_.U2)(o,[this.defaultShapeType,"default","style"],{})},getMarker:function(o,a){var n=this.getShape(o);if(!n.getMarker){var s=this.defaultShapeType;n=this.getShape(s)}var c=this.theme,f=(0,_.U2)(c,[o,"default"],{}),d=n.getMarker(a);return(0,_.b$)({},f,d)},drawShape:function(o,a,n){var s=this.getShape(o);return s.draw(a,n)}},JP={coordinate:null,parsePath:function(o){var a=this.coordinate,n=Ly(o);return a.isPolar?n=Py(a,n):n=Hc(a,n),n},parsePoint:function(o){var a=this.coordinate;return a.convert(o)},parsePoints:function(o){var a=this.coordinate;return o.map(function(n){return a.convert(n)})},draw:function(o,a){}},Lv={};function el(o,a){var n=(0,_.jC)(o),s=(0,L.pi)((0,L.pi)((0,L.pi)({},KP),a),{geometryType:o});return Lv[n]=s,s}function Or(o,a,n){var s=(0,_.jC)(o),c=Lv[s],f=(0,L.pi)((0,L.pi)({},JP),n);return c[a]=f,f}function nm(o){var a=(0,_.jC)(o);return Lv[a]}function QP(o,a,n){var s,c;if(n===void 0&&(n={}),!a)return[o];var f=(0,_.Ms)(o,a),d=[];if(a.length===1&&n[a[0]]){var v=n[a[0]];try{for(var y=(0,L.XA)(v),b=y.next();!b.done;b=y.next()){var S=b.value,C=f["_".concat(S)];C&&d.push(C)}}catch(R){s={error:R}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}}else for(var T in f)if(f.hasOwnProperty(T)){var k=f[T];d.push(k)}return d}function rm(o,a){return(0,_.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(n){return!(0,_.Xy)(o[n],a[n])})}function Yh(o){return(0,_.kJ)(o)?o:o.split("*")}function $c(o,a){for(var n=[],s=[],c=[],f=new Map,d=0;d<a.length;d++){var v=a[d];o[v]?s.push(v):n.push(v),f.set(v,!0)}return Object.keys(o).forEach(function(y){f.has(y)||c.push(y)}),{added:n,updated:s,removed:c}}var tL=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.type="base",s.attributes={},s.elements=[],s.elementsMap={},s.animateOption=!0,s.attributeOption={},s.lastElementsMap={},s.generatePoints=!1,s.beforeMappingData=null,s.adjusts={},s.idFields=[],s.hasSorted=!1,s.isCoordinateChanged=!1;var c=n.container,f=n.labelsContainer,d=n.coordinate,v=n.data,y=n.sortable,b=y===void 0?!1:y,S=n.visible,C=S===void 0?!0:S,T=n.theme,k=n.scales,R=k===void 0?{}:k,D=n.scaleDefs,V=D===void 0?{}:D,j=n.intervalPadding,H=n.dodgePadding,Z=n.maxColumnWidth,q=n.minColumnWidth,K=n.columnWidthRatio,Ct=n.roseWidthRatio,Ft=n.multiplePieWidthRatio,Jt=n.zIndexReversed,_e=n.sortZIndex,ge=n.useDeferredLabel;return s.container=c,s.labelsContainer=f,s.coordinate=d,s.data=v,s.sortable=b,s.visible=C,s.userTheme=T,s.scales=R,s.scaleDefs=V,s.intervalPadding=j,s.dodgePadding=H,s.maxColumnWidth=Z,s.minColumnWidth=q,s.columnWidthRatio=K,s.roseWidthRatio=Ct,s.multiplePieWidthRatio=Ft,s.zIndexReversed=Jt,s.sortZIndex=_e,s.useDeferredLabel=ge?typeof ge=="number"?ge:1/0:null,s}return a.prototype.position=function(n){var s=n;(0,_.PO)(n)||(s={fields:Yh(n)});var c=(0,_.U2)(s,"fields");return c.length===1&&(c.unshift("1"),(0,_.t8)(s,"fields",c)),(0,_.t8)(this.attributeOption,"position",s),this},a.prototype.color=function(n,s){return this.createAttrOption("color",n,s),this},a.prototype.shape=function(n,s){return this.createAttrOption("shape",n,s),this},a.prototype.size=function(n,s){return this.createAttrOption("size",n,s),this},a.prototype.adjust=function(n){var s=n;return((0,_.HD)(n)||(0,_.PO)(n))&&(s=[n]),(0,_.S6)(s,function(c,f){(0,_.Kn)(c)||(s[f]={type:c})}),this.adjustOption=s,this},a.prototype.style=function(n,s){if((0,_.HD)(n)){var c=Yh(n);this.styleOption={fields:c,callback:s}}else{var f=n,c=f.fields,d=f.callback,v=f.cfg;c||d||v?this.styleOption=n:this.styleOption={cfg:n}}return this},a.prototype.tooltip=function(n,s){if((0,_.HD)(n)){var c=Yh(n);this.tooltipOption={fields:c,callback:s}}else this.tooltipOption=n;return this},a.prototype.animate=function(n){return this.animateOption=n,this},a.prototype.label=function(n,s,c){if((0,_.HD)(n)){var f={},d=Yh(n);f.fields=d,(0,_.mf)(s)?f.callback=s:(0,_.PO)(s)&&(f.cfg=s),c&&(f.cfg=c),this.labelOption=f}else this.labelOption=n;return this},a.prototype.state=function(n){return this.stateOption=n,this},a.prototype.customInfo=function(n){return this.customOption=n,this},a.prototype.init=function(n){n===void 0&&(n={}),this.setCfg(n),this.initAttributes(),this.processData(this.data),this.adjustScale()},a.prototype.update=function(n){n===void 0&&(n={});var s=n.data,c=n.isDataChanged,f=n.isCoordinateChanged,d=this,v=d.attributeOption,y=d.lastAttributeOption;(0,_.Xy)(v,y)?s&&(c||!(0,_.Xy)(s,this.data))?(this.setCfg(n),this.initAttributes(),this.processData(s)):this.setCfg(n):this.init(n),this.adjustScale(),this.isCoordinateChanged=f},a.prototype.paint=function(n){var s=this;n===void 0&&(n=!1),this.animateOption&&(this.animateOption=(0,_.b$)({},IM(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var c=this.getOffscreenGroup();c.clear();var f=this.beforeMappingData,d=this.beforeMapping(f);this.dataArray=new Array(d.length);for(var v=0;v<d.length;v++){var y=d[v];this.dataArray[v]=this.mapping(y)}if(this.updateElements(this.dataArray,n),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(n)){var b=this.container,S=this.type,C=this.coordinate,T=(0,_.U2)(this.animateOption,"appear"),k=this.getYScale(),R=C.convert({x:0,y:k.scale(this.getYMinValue())});io(b,T,S,C,R)}if(this.labelOption){var D=this.useDeferredLabel,V=function(){return s.renderLabels((0,_.xH)(s.dataArray),n)}.bind(this);if(typeof D=="number"){var j=typeof D=="number"&&D!==1/0?D:0;if(!window.requestIdleCallback)setTimeout(V,j);else{var H=j&&j!==1/0?{timeout:j}:void 0;window.requestIdleCallback(V,H)}}else V()}this.lastAttributeOption=(0,L.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},a.prototype.clear=function(){var n=this,s=n.container,c=n.geometryLabel,f=n.offscreenGroup;s&&s.clear(),c&&c.clear(),f&&f.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},a.prototype.destroy=function(){this.clear();var n=this.container;n.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,o.prototype.destroy.call(this)},a.prototype.getGroupScales=function(){return this.groupScales},a.prototype.getAttribute=function(n){return this.attributes[n]},a.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},a.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},a.prototype.getGroupAttributes=function(){var n=[];return(0,_.S6)(this.attributes,function(s){qe.includes(s.type)&&n.push(s)}),n},a.prototype.getDefaultValue=function(n){var s,c=this.getAttribute(n);return c&&(0,_.xb)(c.scales)&&(s=c.values[0]),s},a.prototype.getAttributeValues=function(n,s){for(var c=[],f=n.scales,d=0,v=f.length;d<v;d++){var y=f[d],b=y.field;y.isIdentity?c.push(y.values):c.push(s[b])}return n.mapping.apply(n,(0,L.ev)([],(0,L.CR)(c),!1))},a.prototype.getAdjust=function(n){return this.adjusts[n]},a.prototype.getCoordinate=function(){return this.coordinate},a.prototype.getData=function(){return this.data},a.prototype.getShapeMarker=function(n,s){var c=this.getShapeFactory();return c.getMarker(n,s)},a.prototype.getElementsBy=function(n){return this.elements.filter(function(s){return n(s)})},a.prototype.getElements=function(){return this.elements},a.prototype.getElementId=function(n){n=(0,_.kJ)(n)?n[0]:n;var s=n[Xe];if(this.idFields.length){for(var c=s[this.idFields[0]],f=1;f<this.idFields.length;f++)c+="-"+s[this.idFields[f]];return c}var d=this.type,v=this.getXScale(),y=this.getYScale(),b=v.field||"x",S=y.field||"y",C=s[S],T;v.type==="identity"?T=v.values[0]:T=s[b];var k;d==="interval"||d==="schema"?k="".concat(T):d==="line"||d==="area"||d==="path"?k=d:k="".concat(T,"-").concat(C);for(var R=this.groupScales,f=0,D=R.length;f<D;f++){var V=R[f],j=V.field;k="".concat(k,"-").concat(s[j])}var H=this.getAdjust("dodge");if(H){var Z=H.dodgeBy;Z&&(k="".concat(k,"-").concat(s[Z]))}return this.getAdjust("jitter")&&(k="".concat(k,"-").concat(n.x,"-").concat(n.y)),k},a.prototype.getScaleFields=function(){var n=[],s=new Map,c=this,f=c.attributeOption,d=c.labelOption,v=c.tooltipOption;for(var y in f)if(f.hasOwnProperty(y)){var b=f[y];b.fields?Pl(b.fields,n,s):b.values&&Pl(b.values,n,s)}return d&&d.fields&&Pl(d.fields,n,s),(0,_.Kn)(v)&&v.fields&&Pl(v.fields,n,s),n},a.prototype.changeVisible=function(n){o.prototype.changeVisible.call(this,n);for(var s=this.elements,c=0,f=s.length;c<f;c++){var d=s[c];d.changeVisible(n)}n?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},a.prototype.getFields=function(){var n=new Map,s=[];return Object.values(this.attributeOption).forEach(function(c){var f=(c==null?void 0:c.fields)||[];f.forEach(function(d){n.has(d)||s.push(d),n.set(d,!0)})},[]),s},a.prototype.getGroupFields=function(){for(var n=[],s=new Map,c=0,f=qe.length;c<f;c++){var d=qe[c],v=this.attributeOption[d];v&&v.fields&&Pl(v.fields,n,s)}return n},a.prototype.getXYFields=function(){var n=(0,L.CR)(this.attributeOption.position.fields,2),s=n[0],c=n[1];return[s,c]},a.prototype.getXField=function(){return(0,_.U2)(this.getXYFields(),[0])},a.prototype.getYField=function(){return(0,_.U2)(this.getXYFields(),[1])},a.prototype.getShapes=function(){return this.elements.map(function(n){return n.shape})},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var n=this.container.getGroupBase();this.offscreenGroup=new n({})}return this.offscreenGroup},a.prototype.sort=function(n){if(!this.hasSorted)for(var s=this.getXScale(),c=s.field,f=0;f<n.length;f++){var d=n[f];d.sort(function(v,y){return s.translate(v[Xe][c])-s.translate(y[Xe][c])})}this.hasSorted=!0},a.prototype.adjustScale=function(){var n=this.getYScale();n&&this.getAdjust("stack")&&this.updateStackRange(n,this.beforeMappingData)},a.prototype.getShapeFactory=function(){var n=this.shapeType;if(nm(n))return this.shapeFactory||(this.shapeFactory=(0,_.d9)(nm(n))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[n]||{},this.shapeFactory},a.prototype.createShapePointsCfg=function(n){var s=this.getXScale(),c=this.getYScale(),f=this.normalizeValues(n[s.field],s),d;return c?d=this.normalizeValues(n[c.field],c):d=n.y?n.y:.1,{x:f,y:d,y0:c?c.scale(this.getYMinValue()):void 0}},a.prototype.createElement=function(n,s,c){c===void 0&&(c=!1);var f=this.container,d=this.getDrawCfg(n),v=this.getShapeFactory(),y=new em({shapeFactory:v,container:f,offscreenGroup:this.getOffscreenGroup(),elementIndex:s});return y.animate=this.animateOption,y.geometry=this,y.draw(d,c),y},a.prototype.getDrawCfg=function(n){var s=n[Xe],c={mappingData:n,data:s,x:n.x,y:n.y,color:n.color,size:n.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},f=n.shape;!f&&this.getShapeFactory()&&(f=this.getShapeFactory().defaultShapeType),c.shape=f;var d=this.theme.geometries[this.shapeType];c.defaultStyle=(0,_.U2)(d,[f,"default"],{}).style,!c.defaultStyle&&this.getShapeFactory()&&(c.defaultStyle=this.getShapeFactory().getDefaultStyle(d));var v=this.styleOption;return v&&(c.style=this.getStyleCfg(v,s)),this.generatePoints&&(c.points=n.points,c.nextPoints=n.nextPoints),c},a.prototype.updateElements=function(n,s){var c,f,d,v,y,b;s===void 0&&(s=!1);for(var S=new Map,C=[],T=new Map,k=0,R=0;R<n.length;R++)for(var D=n[R],V=0;V<D.length;V++){var j=D[V],H=this.getElementId(j),Z=S.has(H)?"".concat(H,"-").concat(R,"-").concat(V):H;C.push(Z),S.set(Z,j),T.set(Z,k),k++}this.elements=new Array(k);var q=$c(this.lastElementsMap,C),K=q.added,Ct=q.updated,Ft=q.removed;try{for(var Jt=(0,L.XA)(K),_e=Jt.next();!_e.done;_e=Jt.next()){var H=_e.value,j=S.get(H),R=T.get(H),ge=this.createElement(j,R,s);this.elements[R]=ge,this.elementsMap[H]=ge,ge.shape&&ge.shape.set("zIndex",this.zIndexReversed?this.elements.length-R:R)}}catch(ln){c={error:ln}}finally{try{_e&&!_e.done&&(f=Jt.return)&&f.call(Jt)}finally{if(c)throw c.error}}try{for(var Be=(0,L.XA)(Ct),tn=Be.next();!tn.done;tn=Be.next()){var H=tn.value,ge=this.lastElementsMap[H],j=S.get(H),vn=this.getDrawCfg(j),Mn=ge.getModel(),R=T.get(H);(this.isCoordinateChanged||rm(vn,Mn))&&(ge.animate=this.animateOption,ge.update(vn)),this.elements[R]=ge,this.elementsMap[H]=ge,ge.shape&&ge.shape.set("zIndex",this.zIndexReversed?this.elements.length-R:R)}}catch(ln){d={error:ln}}finally{try{tn&&!tn.done&&(v=Be.return)&&v.call(Be)}finally{if(d)throw d.error}}this.container&&this.container.sort();try{for(var Pn=(0,L.XA)(Ft),Ze=Pn.next();!Ze.done;Ze=Pn.next()){var H=Ze.value,ge=this.lastElementsMap[H];ge.animate=this.animateOption,ge.destroy()}}catch(ln){y={error:ln}}finally{try{Ze&&!Ze.done&&(b=Pn.return)&&b.call(Pn)}finally{if(y)throw y.error}}},a.prototype.getLabelType=function(){var n=this,s=n.labelOption,c=n.coordinate,f=n.type,d=c.type,v=c.isTransposed,y=(0,_.U2)(s,["cfg","type"]);return y||(d==="polar"?y=v?"pie":"polar":d==="theta"?y="pie":f==="interval"||f==="polygon"?y="interval":y="base"),y},a.prototype.getYMinValue=function(){var n=this.getYScale(),s=n.min,c=n.max,f;return s>=0?f=s:c<=0?f=c:f=0,f},a.prototype.createAttrOption=function(n,s,c){if((0,_.UM)(s)||(0,_.Kn)(s))(0,_.Kn)(s)&&(0,_.Xy)(Object.keys(s),["values"])?(0,_.t8)(this.attributeOption,n,{fields:s.values}):(0,_.t8)(this.attributeOption,n,s);else{var f={};(0,_.hj)(s)?f.values=[s]:f.fields=Yh(s),c&&((0,_.mf)(c)?f.callback=c:f.values=c),(0,_.t8)(this.attributeOption,n,f)}},a.prototype.initAttributes=function(){var n=this,s=this,c=s.attributes,f=s.attributeOption,d=s.theme,v=s.shapeType;this.groupScales=[];var y={},b=function(T){if(f.hasOwnProperty(T)){var k=f[T];if(!k)return{value:void 0};var R=(0,L.pi)({},k),D=R.callback,V=R.values,j=R.fields,H=j===void 0?[]:j,Z=H.map(function(K){var Ct=n.scales[K];if(!y[K]&&qe.includes(T)){var Ft=Oy(Ct,(0,_.U2)(n.scaleDefs,K),T,n.type);Ft==="cat"&&(n.groupScales.push(Ct),y[K]=!0)}return Ct});R.scales=Z,T!=="position"&&Z.length===1&&Z[0].type==="identity"?R.values=Z[0].values:!D&&!V&&(T==="size"?R.values=d.sizes:T==="shape"?R.values=d.shapes[v]||[]:T==="color"&&(Z.length?R.values=Z[0].values.length<=10?d.colors10:d.colors20:R.values=d.colors10));var q=G2(T);c[T]=new q(R)}};for(var S in f){var C=b(S);if(typeof C=="object")return C.value}},a.prototype.processData=function(n){var s,c;this.hasSorted=!1;for(var f=this.getAttribute("position").scales,d=f.filter(function(Ft){return Ft.isCategory}),v=this.groupData(n),y=[],b=0,S=v.length;b<S;b++){for(var C=v[b],T=[],k=0,R=C.length;k<R;k++){var D=C[k],V={};for(var j in D)V[j]=D[j];V[Xe]=D;try{for(var H=(s=void 0,(0,L.XA)(d)),Z=H.next();!Z.done;Z=H.next()){var q=Z.value,K=q.field;V[K]=q.translate(V[K])}}catch(Ft){s={error:Ft}}finally{try{Z&&!Z.done&&(c=H.return)&&c.call(H)}finally{if(s)throw s.error}}T.push(V)}y.push(T)}var Ct=this.adjustData(y);return this.beforeMappingData=Ct,Ct},a.prototype.adjustData=function(n){var s=this.adjustOption,c=this,f=c.intervalPadding,d=c.dodgePadding,v=c.theme,y=this.maxColumnWidth||v.maxColumnWidth,b=this.minColumnWidth||v.minColumnWidth,S=this.columnWidthRatio||v.columnWidthRatio,C=n;if(s){var T=this.getXScale(),k=this.getYScale(),R=T.field,D=k?k.field:null,V=mo(this.coordinate),j=T.values.length,H=this.getAttribute("size"),Z=void 0;H&&(Z=H.values[0]);for(var q=0,K=s.length;q<K;q++){var Ct=s[q],Ft=(0,L.pi)({xField:R,yField:D,intervalPadding:f,dodgePadding:d,xDimensionLength:V,groupNum:j,defaultSize:Z,maxColumnWidth:y,minColumnWidth:b,columnWidthRatio:S},Ct),Jt=Ct.type;if(Jt==="dodge"){var _e=[];if(T.isCategory||T.type==="identity")_e.push("x");else if(!k)_e.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Ft.adjustNames=_e,Ft.dodgeRatio=S}else if(Jt==="stack"){var ge=this.coordinate;if(!k){Ft.height=ge.getHeight();var Be=this.getDefaultValue("size")||3;Ft.size=Be}!ge.isTransposed&&(0,_.UM)(Ft.reverseOrder)&&(Ft.reverseOrder=!0)}var tn=re(Jt);Ft.dimValuesMap={},T&&T.values&&(Ft.dimValuesMap[T.field]=T.values.map(function(Mn){return T.translate(Mn)}));var vn=new tn(Ft);C=vn.process(C),this.adjusts[Jt]=vn}}return C},a.prototype.groupData=function(n){for(var s=this.getGroupScales(),c=this.scaleDefs,f={},d=[],v=0;v<s.length;v++){var y=s[v],b=y.field;d.push(b),(0,_.U2)(c,[b,"values"])&&(f[b]=c[b].values)}return QP(n,d,f)},a.prototype.updateStackRange=function(n,s){for(var c=(0,_.xH)(s),f=n.field,d=n.min,v=n.max,y=0;y<c.length;y++){var b=c[y],S=Math.min.apply(null,b[f]),C=Math.max.apply(null,b[f]);S<d&&(d=S),C>v&&(v=C)}var T=this.scaleDefs,k={};d<n.min&&!(0,_.U2)(T,[f,"min"])&&(k.min=d),v>n.max&&!(0,_.U2)(T,[f,"max"])&&(k.max=v),n.change(k)},a.prototype.beforeMapping=function(n){var s=n;if(this.sortable&&this.sort(s),this.generatePoints)for(var c=0,f=s.length;c<f;c++){var d=s[c];this.generateShapePoints(d);var v=s[c+1];v&&(this.generateShapePoints(v),d[0].nextPoints=v[0].points)}return s},a.prototype.generateShapePoints=function(n){for(var s=this.getShapeFactory(),c=this.getAttribute("shape"),f=0;f<n.length;f++){var d=n[f],v=this.createShapePointsCfg(d),y=c?this.getAttributeValues(c,d):null,b=s.getShapePoints(y,v);d.points=b}},a.prototype.normalizeValues=function(n,s){var c=[];if((0,_.kJ)(n))for(var f=0;f<n.length;f++){var d=n[f];c.push(s.scale(d))}else c=s.scale(n);return c},a.prototype.mapping=function(n){for(var s=this.attributes,c=[],f=0;f<n.length;f++){var d=n[f],v={_origin:d[Xe],points:d.points,nextPoints:d.nextPoints};for(var y in s)if(s.hasOwnProperty(y)){var b=s[y],S=b.names,C=this.getAttributeValues(b,d);if(S.length>1)for(var T=0;T<C.length;T+=1){var k=C[T],R=S[T];v[R]=(0,_.kJ)(k)&&k.length===1?k[0]:k}else v[S[0]]=C.length===1?C[0]:C}this.convertPoint(v),c.push(v)}return c},a.prototype.convertPoint=function(n){var s=n.x,c=n.y,f,d,v,y=this.coordinate;if((0,_.kJ)(s)&&(0,_.kJ)(c)){f=[],d=[];for(var b=0,S=0,C=s.length,T=c.length;b<C&&S<T;b+=1,S+=1)v=y.convert({x:s[b],y:c[S]}),f.push(v.x),d.push(v.y)}else if((0,_.kJ)(c)){d=[];for(var k=0;k<c.length;k++){var R=c[k];v=y.convert({x:s,y:R}),f&&f!==v.x?((0,_.kJ)(f)||(f=[f]),f.push(v.x)):f=v.x,d.push(v.y)}}else if((0,_.kJ)(s)){f=[];for(var k=0;k<s.length;k++){var D=s[k];v=y.convert({x:D,y:c}),d&&d!==v.y?((0,_.kJ)(d)||(d=[d]),d.push(v.y)):d=v.y,f.push(v.x)}}else{var V=y.convert({x:s,y:c});f=V.x,d=V.y}n.x=f,n.y=d},a.prototype.getStyleCfg=function(n,s){var c=n.fields,f=c===void 0?[]:c,d=n.callback,v=n.cfg;if(v)return v;var y=f.map(function(b){return s[b]});return d.apply(void 0,(0,L.ev)([],(0,L.CR)(y),!1))},a.prototype.setCfg=function(n){var s=this,c=n.coordinate,f=n.data,d=n.theme,v=n.scaleDefs;c&&(this.coordinate=c),f&&(this.data=f),v&&(this.scaleDefs=v,this.idFields=[],(0,_.S6)(v,function(y,b){y&&y.key&&s.idFields.push(b)})),d&&(this.theme=this.userTheme?(0,_.b$)({},d,this.userTheme):d)},a.prototype.renderLabels=function(n,s){return s===void 0&&(s=!1),(0,L.mG)(this,void 0,void 0,function(){var c,f,d,v,y,b,S,C,T,k,R,D,V=this;return(0,L.Jh)(this,function(j){switch(j.label){case 0:return c=this.geometryLabel,this.emit(le.BEFORE_RENDER_LABEL),c||(f=this.getLabelType(),d=RM(f),c=new d(this),this.geometryLabel=c),[4,c.render(n,s)];case 1:j.sent(),v=c.labelsRenderer.shapesMap,y=new Map,(0,_.S6)(v,function(H,Z){for(var q=H.getChildren()||[],K=0;K<q.length;K++){var Ct=q[K],Ft=V.elementsMap[Ct.get("elementId")||Z.split(" ")[0]];if(Ft){Ct.cfg.name=["element","label"],Ct.cfg.element=Ft;var Jt=y.get(Ft)||new Set;Jt.add(H),y.set(Ft,Jt)}}});try{for(b=(0,L.XA)(y.entries()),S=b.next();!S.done;S=b.next())C=(0,L.CR)(S.value,2),T=C[0],k=C[1],T.labelShape=(0,L.ev)([],(0,L.CR)(k),!1)}catch(H){R={error:H}}finally{try{S&&!S.done&&(D=b.return)&&D.call(b)}finally{if(R)throw R.error}}return this.emit(le.AFTER_RENDER_LABEL),[2]}})})},a.prototype.canDoGroupAnimation=function(n){return!n&&this.animateOption&&((0,_.U2)(this.animateOption,"appear")===void 0||(0,_.U2)(this.animateOption,"appear")&&(0,_.U2)(this.animateOption,["appear","animation"])===void 0)},a}(ct),Gl=tL,Kc=Dr.vs;function wo(o,a,n){var s=Kc(o.getMatrix(),[["t",a,n]]);o.setMatrix(s)}function DM(o,a){var n=o.attr(),s=n.x,c=n.y,f=Kc(o.getMatrix(),[["t",-s,-c],["r",a],["t",s,c]]);return f}function im(o,a){var n=DM(o,a);o.setMatrix(n)}function k6(){return[1,0,0,0,1,0,0,0,1]}function eL(o,a){var n=o.getBBox(),s=(n.minX+n.maxX)/2,c=(n.minY+n.maxY)/2;o.applyToMatrix([s,c,1]);var f=Kc(o.getMatrix(),[["t",-s,-c],["s",a,a],["t",s,c]]);o.setMatrix(f)}function Wl(o){return o.find(function(a){return a.get("type")==="text"})}function BM(o,a,n){n===void 0&&(n=[0,0,0,0]);var s=o&&o.getChildren()[0];if(s){var c=s.clone();a!=null&&a.rotate&&im(c,-a.rotate);var f=c.getCanvasBBox(),d=f.x,v=f.y,y=f.width,b=f.height;c.destroy();var S=n;return(0,_.UM)(S)?S=[2,2,2,2]:(0,_.hj)(S)&&(S=new Array(4).fill(S)),{x:d-S[3],y:v-S[0],width:y+S[1]+S[3],height:b+S[0]+S[2],rotation:(a==null?void 0:a.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function NM(o,a,n){n===void 0&&(n=0);var s=Math.max(0,Math.min(o.x+o.width+n,a.x+a.width+n)-Math.max(o.x-n,a.x-n)),c=Math.max(0,Math.min(o.y+o.height+n,a.y+a.height+n)-Math.max(o.y-n,a.y-n));return s*c}function am(o,a){var n=o.getBBox();return(0,_.G)(a,function(s){var c=s.getBBox();return NM(n,c,2)>0})}function Iv(o,a,n){var s=n.data,c=n.origin,f=n.animateCfg,d=n.coordinate,v=(0,_.U2)(f,"update");o.set("data",s),o.set("origin",c),o.set("animateCfg",f),o.set("coordinate",d),o.set("visible",a.get("visible")),(o.getChildren()||[]).forEach(function(y,b){var S=a.getChildByIndex(b);if(!S)o.removeChild(y),y.remove(!0);else{y.set("data",s),y.set("origin",c),y.set("animateCfg",f),y.set("coordinate",d);var C=Tw(y,S);v?Hh(y,v,{toAttrs:C,coordinate:d}):y.attr(C),S.isGroup()&&Iv(y,S,n)}}),(0,_.S6)(a.getChildren(),function(y,b){b>=o.getCount()&&(y.destroyed||o.add(y))})}var nL=function(){function o(a){this.shapesMap={};var n=a.layout,s=a.container;this.layout=n,this.container=s}return o.prototype.render=function(a,n,s){return s===void 0&&(s=!1),(0,L.mG)(this,void 0,void 0,function(){var c,f,d,v,y,b,S,C,T=this;return(0,L.Jh)(this,function(k){switch(k.label){case 0:if(c={},f=this.createOffscreenGroup(),!a.length)return[3,2];try{for(d=(0,L.XA)(a),v=d.next();!v.done;v=d.next())y=v.value,y&&(c[y.id]=this.renderLabel(y,f))}catch(R){S={error:R}}finally{try{v&&!v.done&&(C=d.return)&&C.call(d)}finally{if(S)throw S.error}}return[4,this.doLayout(a,n,c)];case 1:k.sent(),this.renderLabelLine(a,c),this.renderLabelBackground(a,c),this.adjustLabel(a,c),k.label=2;case 2:return b=this.shapesMap,(0,_.S6)(c,function(R,D){if(R.destroyed)delete c[D];else{if(b[D]){var V=R.get("data"),j=R.get("origin"),H=R.get("coordinate"),Z=R.get("animateCfg"),q=b[D];Iv(q,c[D],{data:V,origin:j,animateCfg:Z,coordinate:H}),c[D]=q}else{if(T.container.destroyed)return;T.container.add(R);var K=(0,_.U2)(R.get("animateCfg"),s?"enter":"appear");K&&Hh(R,K,{toAttrs:(0,L.pi)({},R.attr()),coordinate:R.get("coordinate")})}delete b[D]}}),(0,_.S6)(b,function(R){var D=(0,_.U2)(R.get("animateCfg"),"leave");D?Hh(R,D,{toAttrs:null,coordinate:R.get("coordinate")}):R.remove(!0)}),this.shapesMap=c,f.destroy(),[2]}})})},o.prototype.clear=function(){this.container.clear(),this.shapesMap={}},o.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},o.prototype.renderLabel=function(a,n){var s=a.id,c=a.elementId,f=a.data,d=a.mappingData,v=a.coordinate,y=a.animate,b=a.content,S=a.capture,C={id:s,elementId:c,capture:S,data:f,origin:(0,L.pi)((0,L.pi)({},d),{data:d[Xe]}),coordinate:v},T=n.addGroup((0,L.pi)({name:"label",animateCfg:this.animate===!1||y===null||y===!1?!1:(0,_.b$)({},this.animate,y)},C)),k;if(b.isGroup&&b.isGroup()||b.isShape&&b.isShape()){var R=b.getCanvasBBox(),D=R.width,V=R.height,j=(0,_.U2)(a,"textAlign","left"),H=a.x,Z=a.y-V/2;j==="center"?H=H-D/2:(j==="right"||j==="end")&&(H=H-D),wo(b,H,Z),k=b,T.add(b)}else{var q=(0,_.U2)(a,["style","fill"]);k=T.addShape("text",(0,L.pi)({attrs:(0,L.pi)((0,L.pi)({x:a.x,y:a.y,textAlign:a.textAlign,textBaseline:(0,_.U2)(a,"textBaseline","middle"),text:a.content},a.style),{fill:(0,_.Ft)(q)?a.color:q})},C))}return a.rotate&&im(k,a.rotate),T},o.prototype.doLayout=function(a,n,s){return(0,L.mG)(this,void 0,void 0,function(){var c,f=this;return(0,L.Jh)(this,function(d){switch(d.label){case 0:return this.layout?(c=(0,_.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(c.map(function(v){var y=FM((0,_.U2)(v,"type",""));if(y){var b=[],S=[];return(0,_.S6)(s,function(C,T){b.push(C),S.push(n[C.get("elementId")])}),y(a,b,S,f.region,v.cfg)}}))]):[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},o.prototype.renderLabelLine=function(a,n){(0,_.S6)(a,function(s){var c=(0,_.U2)(s,"coordinate");if(!(!s||!c)){var f=c.getCenter(),d=c.getRadius();if(s.labelLine){var v=(0,_.U2)(s,"labelLine",{}),y=s.id,b=v.path;if(!b){var S=Ei(f.x,f.y,d,s.angle);b=[["M",S.x,S.y],["L",s.x,s.y]]}var C=n[y];C.destroyed||C.addShape("path",{capture:!1,attrs:(0,L.pi)({path:b,stroke:s.color?s.color:(0,_.U2)(s,["style","fill"],"#000"),fill:null},v.style),id:y,origin:s.mappingData,data:s.data,coordinate:s.coordinate})}}})},o.prototype.renderLabelBackground=function(a,n){(0,_.S6)(a,function(s){var c=(0,_.U2)(s,"coordinate"),f=(0,_.U2)(s,"background");if(!(!f||!c)){var d=s.id,v=n[d];if(!v.destroyed){var y=v.getChildren()[0];if(y){var b=BM(v,s,f.padding),S=b.rotation,C=(0,L._T)(b,["rotation"]),T=v.addShape("rect",{attrs:(0,L.pi)((0,L.pi)({},C),f.style||{}),id:d,origin:s.mappingData,data:s.data,coordinate:s.coordinate});if(T.setZIndex(-1),S){var k=y.getMatrix();T.setMatrix(k)}}}}})},o.prototype.createOffscreenGroup=function(){var a=this.container,n=a.getGroupBase(),s=new n({});return s},o.prototype.adjustLabel=function(a,n){(0,_.S6)(a,function(s){if(s){var c=s.id,f=n[c];if(!f.destroyed){var d=f.findAll(function(v){return v.get("type")!=="path"});(0,_.S6)(d,function(v){v&&(s.offsetX&&v.attr("x",v.attr("x")+s.offsetX),s.offsetY&&v.attr("y",v.attr("y")+s.offsetY))})}}})},o}(),om=nL;function zM(o){var a=0;return(0,_.S6)(o,function(n){a+=n}),a/o.length}var Jc=function(){function o(a){this.geometry=a}return o.prototype.getLabelItems=function(a){var n=this,s=[],c=this.getLabelCfgs(a);return(0,_.S6)(a,function(f,d){var v=c[d];if(!v||(0,_.UM)(f.x)||(0,_.UM)(f.y)){s.push(null);return}var y=(0,_.kJ)(v.content)?v.content:[v.content];v.content=y;var b=y.length;(0,_.S6)(y,function(S,C){if((0,_.UM)(S)||S===""){s.push(null);return}var T=(0,L.pi)((0,L.pi)({},v),n.getLabelPoint(v,f,C));T.textAlign||(T.textAlign=n.getLabelAlign(T,C,b)),T.offset<=0&&(T.labelLine=null),s.push(T)})}),s},o.prototype.render=function(a,n){return n===void 0&&(n=!1),(0,L.mG)(this,void 0,void 0,function(){var s,c,f;return(0,L.Jh)(this,function(d){switch(d.label){case 0:return s=this.getLabelItems(a),c=this.getLabelsRenderer(),f=this.getGeometryShapes(),[4,c.render(s,f,n)];case 1:return d.sent(),[2]}})})},o.prototype.clear=function(){var a=this.labelsRenderer;a&&a.clear()},o.prototype.destroy=function(){var a=this.labelsRenderer;a&&a.destroy(),this.labelsRenderer=null},o.prototype.getCoordinate=function(){return this.geometry.coordinate},o.prototype.getDefaultLabelCfg=function(a,n){var s=this.geometry,c=s.type,f=s.theme;return c==="polygon"||c==="interval"&&n==="middle"||a<0&&!["line","point","path"].includes(c)?(0,_.U2)(f,"innerLabels",{}):(0,_.U2)(f,"labels",{})},o.prototype.getThemedLabelCfg=function(a){var n=this.geometry,s=this.getDefaultLabelCfg(),c=n.type,f=n.theme,d;return c==="polygon"||a.offset<0&&!["line","point","path"].includes(c)?d=(0,_.b$)({},s,f.innerLabels,a):d=(0,_.b$)({},s,f.labels,a),d},o.prototype.setLabelPosition=function(a,n,s,c){},o.prototype.getLabelOffset=function(a){var n=this.getCoordinate(),s=this.getOffsetVector(a);return n.isTransposed?s[0]:s[1]},o.prototype.getLabelOffsetPoint=function(a,n,s){var c=a.offset,f=this.getCoordinate(),d=f.isTransposed,v=d?"x":"y",y=d?1:-1,b={x:0,y:0};return n>0||s===1?b[v]=c*y:b[v]=c*y*-1,b},o.prototype.getLabelPoint=function(a,n,s){var c=this.getCoordinate(),f=a.content.length;function d(V,j,H){H===void 0&&(H=!1);var Z=V;return(0,_.kJ)(Z)&&(a.content.length===1?H?Z=zM(Z):Z.length<=2?Z=Z[V.length-1]:Z=zM(Z):Z=Z[j]),Z}var v={content:a.content[s],x:0,y:0,start:{x:0,y:0},color:"#fff"},y=(0,_.kJ)(n.shape)?n.shape[0]:n.shape,b=y==="funnel"||y==="pyramid";if(this.geometry.type==="polygon"){var S=fP(n.x,n.y);v.x=S[0],v.y=S[1]}else this.geometry.type==="interval"&&!b?(v.x=d(n.x,s,!0),v.y=d(n.y,s)):(v.x=d(n.x,s),v.y=d(n.y,s));if(b){var C=(0,_.U2)(n,"nextPoints"),T=(0,_.U2)(n,"points");if(C){var k=c.convert(T[1]),R=c.convert(C[1]);v.x=(k.x+R.x)/2,v.y=(k.y+R.y)/2}else if(y==="pyramid"){var k=c.convert(T[1]),R=c.convert(T[2]);v.x=(k.x+R.x)/2,v.y=(k.y+R.y)/2}}a.position&&this.setLabelPosition(v,n,s,a.position);var D=this.getLabelOffsetPoint(a,s,f);return v.start={x:v.x,y:v.y},v.x+=D.x,v.y+=D.y,v.color=n.color,v},o.prototype.getLabelAlign=function(a,n,s){var c="center",f=this.getCoordinate();if(f.isTransposed){var d=a.offset;d<0?c="right":d===0?c="center":c="left",s>1&&n===0&&(c==="right"?c="left":c==="left"&&(c="right"))}return c},o.prototype.getLabelId=function(a){var n=this.geometry,s=n.type,c=n.getXScale(),f=n.getYScale(),d=a[Xe],v=n.getElementId(a);return s==="line"||s==="area"?v+=" ".concat(d[c.field]):s==="path"&&(v+=" ".concat(d[c.field],"-").concat(d[f.field])),v},o.prototype.getLabelsRenderer=function(){var a=this.geometry,n=a.labelsContainer,s=a.labelOption,c=a.canvasRegion,f=a.animateOption,d=this.geometry.coordinate,v=this.labelsRenderer;return v||(v=new om({container:n,layout:(0,_.U2)(s,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=v),v.region=c,v.animate=f?IM("label",d):!1,v},o.prototype.getLabelCfgs=function(a){var n=this,s=this.geometry,c=s.labelOption,f=s.scales,d=s.coordinate,v=c,y=v.fields,b=v.callback,S=v.cfg,C=y.map(function(k){return f[k]}),T=[];return(0,_.S6)(a,function(k,R){var D=k[Xe],V=n.getLabelText(D,C),j;if(b){var H=y.map(function(Ft){return D[Ft]});if(j=b.apply(void 0,(0,L.ev)([],(0,L.CR)(H),!1)),(0,_.UM)(j)){T.push(null);return}}var Z=(0,L.pi)((0,L.pi)({id:n.getLabelId(k),elementId:n.geometry.getElementId(k),data:D,mappingData:k,coordinate:d},S),j);(0,_.mf)(Z.position)&&(Z.position=Z.position(D,k,R));var q=n.getLabelOffset(Z.offset||0),K=n.getDefaultLabelCfg(q,Z.position);Z=(0,_.b$)({},K,Z),Z.offset=n.getLabelOffset(Z.offset||0);var Ct=Z.content;(0,_.mf)(Ct)?Z.content=Ct(D,k,R):(0,_.o8)(Ct)&&(Z.content=V[0]),T.push(Z)}),T},o.prototype.getLabelText=function(a,n){var s=[];return(0,_.S6)(n,function(c){var f=a[c.field];(0,_.kJ)(f)?f=f.map(function(d){return c.getText(d)}):f=c.getText(f),(0,_.UM)(f)||f===""?s.push(null):s.push(f)}),s},o.prototype.getOffsetVector=function(a){a===void 0&&(a=0);var n=this.getCoordinate(),s=0;return(0,_.hj)(a)&&(s=a),n.isTransposed?n.applyMatrix(s,0):n.applyMatrix(0,s)},o.prototype.getGeometryShapes=function(){var a=this.geometry,n={};return(0,_.S6)(a.elementsMap,function(s,c){n[c]=s.shape}),(0,_.S6)(a.getOffscreenGroup().getChildren(),function(s){var c=a.getElementId(s.get("origin").mappingData);n[c]=s}),n},o}(),Uh=Jc;function sm(o,a,n){if(!o)return n;var s;if(o.callback&&o.callback.length>1){var c=Array(o.callback.length-1).fill("");s=o.mapping.apply(o,(0,L.ev)([a],(0,L.CR)(c),!1)).join("")}else s=o.mapping(a).join("");return s||n}var Qc={hexagon:function(o,a,n){var s=n/2*Math.sqrt(3);return[["M",o,a-n],["L",o+s,a-n/2],["L",o+s,a+n/2],["L",o,a+n],["L",o-s,a+n/2],["L",o-s,a-n/2],["Z"]]},bowtie:function(o,a,n){var s=n-1.5;return[["M",o-n,a-s],["L",o+n,a+s],["L",o+n,a-s],["L",o-n,a+s],["Z"]]},cross:function(o,a,n){return[["M",o-n,a-n],["L",o+n,a+n],["M",o+n,a-n],["L",o-n,a+n]]},tick:function(o,a,n){return[["M",o-n/2,a-n],["L",o+n/2,a-n],["M",o,a-n],["L",o,a+n],["M",o-n/2,a+n],["L",o+n/2,a+n]]},plus:function(o,a,n){return[["M",o-n,a],["L",o+n,a],["M",o,a-n],["L",o,a+n]]},hyphen:function(o,a,n){return[["M",o-n,a],["L",o+n,a]]},line:function(o,a,n){return[["M",o,a-n],["L",o,a+n]]}},rL=["line","cross","tick","plus","hyphen"];function iL(o,a){return(0,_.mf)(a)?a(o):(0,_.b$)({},o,a)}function aL(o,a){var n=o.symbol;if((0,_.HD)(n)&&rL.indexOf(n)!==-1){var s=(0,_.U2)(o,"style",{}),c=(0,_.U2)(s,"lineWidth",1),f=s.stroke||s.fill||a;o.style=(0,_.b$)({},o.style,{lineWidth:c,stroke:f,fill:null})}}function Rv(o){var a=o.symbol;(0,_.HD)(a)&&Qc[a]&&(o.symbol=Qc[a])}function Xh(o){return o.startsWith(Lt.LEFT)||o.startsWith(Lt.RIGHT)?"vertical":"horizontal"}function jM(o,a,n,s,c){var f=n.getScale(n.type);if(f.isCategory){var d=f.field,v=a.getAttribute("color"),y=a.getAttribute("shape"),b=o.getTheme().defaultColor,S=a.coordinate.isPolar;return f.getTicks().map(function(C,T){var k,R=C.text,D=C.value,V=R,j=f.invert(D),H=o.filterFieldData(d,[(k={},k[d]=j,k)]).length===0;(0,_.S6)(o.views,function(Ft){var Jt;Ft.filterFieldData(d,[(Jt={},Jt[d]=j,Jt)]).length||(H=!0)});var Z=sm(v,j,b),q=sm(y,j,"point"),K=a.getShapeMarker(q,{color:Z,isInPolar:S}),Ct=c;return(0,_.mf)(Ct)&&(Ct=Ct(V,T,(0,L.pi)({name:V,value:j},(0,_.b$)({},s,K)))),K=(0,_.b$)({},s,K,eo((0,L.pi)({},Ct),["style"])),aL(K,Z),Ct&&Ct.style&&(K.style=iL(K.style,Ct.style)),Rv(K),{id:j,name:V,value:j,marker:K,unchecked:H}})}return[]}function oL(o,a,n){return n.map(function(s,c){var f=a;(0,_.mf)(f)&&(f=f(s.name,c,(0,_.b$)({},o,s)));var d=(0,_.mf)(s.marker)?s.marker(s.name,c,(0,_.b$)({},o,s)):s.marker,v=(0,_.b$)({},o,f,d);return Rv(v),s.marker=v,s})}function GM(o,a){var n=(0,_.U2)(o,["components","legend"],{});return(0,_.b$)({},(0,_.U2)(n,["common"],{}),(0,_.b$)({},(0,_.U2)(n,[a],{})))}function lm(o){return o?!1:o==null||isNaN(o)}function WM(o){if((0,_.kJ)(o))return lm(o[1].y);var a=o.y;return(0,_.kJ)(a)?lm(a[0]):lm(a)}function Fv(o,a,n){if(a===void 0&&(a=!1),n===void 0&&(n=!0),!o.length||o.length===1&&!n)return[];if(a){for(var s=[],c=0,f=o.length;c<f;c++){var d=o[c];WM(d)||s.push(d)}return[s]}for(var v=[],y=[],c=0,f=o.length;c<f;c++){var d=o[c];WM(d)?y.length&&(y.length===1&&!n||v.push(y),y=[]):y.push(d)}return y.length&&v.push(y),v}function cf(o){for(var a=[],n=0;n<o.length;n++){var s=o[n];if(s){var c=n===0?"M":"L";a.push([c,s.x,s.y])}}var f=o[0];return f&&(a.push(["L",f.x,f.y]),a.push(["z"])),a}function Zh(o){for(var a=o.length/2,n=[],s=[],c=0;c<o.length;c++)c<a?n.push(o[c]):s.push(o[c]);var f=fa(n,!1),d=fa(s,!1);s.length&&f.push(["L",s[0].x,s[0].y]),d.shift();var v=f.concat(d);return n.length&&v.push(["L",n[0].x,n[0].y]),v.push(["z"]),v}function Mi(o,a,n,s){s===void 0&&(s="");var c=o.style,f=c===void 0?{}:c,d=o.defaultStyle,v=o.color,y=o.size,b=(0,L.pi)((0,L.pi)({},d),f);return v&&(a&&(f.stroke||(b.stroke=v)),n&&(f.fill||(b.fill=v))),s&&(0,_.UM)(f[s])&&!(0,_.UM)(y)&&(b[s]=y),b}function cm(o){return(0,_.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,_.U2)(o,["background","style"]))}function Dv(o){var a=o.x,n=(0,_.kJ)(o.y)?o.y:[o.y];return n.map(function(s,c){return{x:(0,_.kJ)(a)?a[c]:a,y:s}})}var VM={line:function(o,a,n){return[["M",o-n,a],["L",o+n,a]]},dot:function(o,a,n){return[["M",o-n,a],["L",o+n,a]]},dash:function(o,a,n){return[["M",o-n,a],["L",o+n,a]]},smooth:function(o,a,n){return[["M",o-n,a],["A",n/2,n/2,0,1,1,o,a],["A",n/2,n/2,0,1,0,o+n,a]]},hv:function(o,a,n){return[["M",o-n-1,a-2.5],["L",o,a-2.5],["L",o,a+2.5],["L",o+n+1,a+2.5]]},vh:function(o,a,n){return[["M",o-n-1,a+2.5],["L",o,a+2.5],["L",o,a-2.5],["L",o+n+1,a-2.5]]},hvh:function(o,a,n){return[["M",o-(n+1),a+2.5],["L",o-n/2,a+2.5],["L",o-n/2,a-2.5],["L",o+n/2,a-2.5],["L",o+n/2,a+2.5],["L",o+n+1,a+2.5]]},vhv:function(o,a){return[["M",o-5,a+2.5],["L",o-5,a],["L",o,a],["L",o,a-3],["L",o,a+3],["L",o+6.5,a+3]]}};function qh(o,a){var n=o.color;return{symbol:VM[a],style:{lineWidth:2,r:6,stroke:n}}}function HM(o,a,n){for(var s=o.isStack,c=o.connectNulls,f=o.isInCircle,d=o.showSinglePoint,v=Mi(o,!0,!1,"lineWidth"),y=Fv(o.points,c,d),b=[],S=0,C=y.length;S<C;S++){var T=y[S];b=b.concat(Bv(T,f,s,a,n,v))}return v.path=b,v}function um(o,a,n,s,c){if(o.length===1)return[["M",o[0].x,o[0].y-c.lineWidth/2],["L",o[0].x,o[0].y],["L",o[0].x,o[0].y+c.lineWidth/2]];var f;return n?(a&&o.length&&o.push({x:o[0].x,y:o[0].y}),f=fa(o,!1,s)):(f=ri(o,!1),a&&f.push(["Z"])),f}function sL(o,a,n,s,c,f){var d=[],v=[];(0,_.S6)(o,function(S){var C=Dv(S);d.push(C[1]),v.push(C[0])});var y=um(d,a,s,c,f),b=um(v,a,s,c,f);return n?y:y.concat(b)}function Bv(o,a,n,s,c,f){if(o.length){var d=o[0];return(0,_.kJ)(d.y)?sL(o,a,n,s,c,f):um(o,a,s,c,f)}return[]}var P6=el("line",{defaultShapeType:"line"});(0,_.S6)(["line","dot","dash","smooth"],function(o){Or("line",o,{draw:function(a,n){var s=o==="smooth",c;if(s){var f=this.coordinate,d=f.start,v=f.end;c=[[d.x,v.y],[v.x,d.y]]}var y=HM(a,s,c),b=n.addShape({type:"path",attrs:y,name:"line",capture:!s});return b},getMarker:function(a){return qh(a,o)}})});var fm=null,Nv="4.2.10",ia={getLegendItems:jM,translate:wo,rotate:im,zoom:eL,transform:Kc,getAngle:Dh,getSectorPath:kl,polarToCartesian:Ei,getDelegationObject:Xc,getTooltipItems:Zy,getMappingValue:sm,getPath:Bv,getPathPoints:Fv},is={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Er={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ao=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],zv=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],jv=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Gv=function(o){o===void 0&&(o={});var a=o.paletteQualitative10,n=a===void 0?ao:a,s=o.paletteQualitative20,c=s===void 0?zv:s,f=o.brandColor,d=f===void 0?n[0]:f,v={backgroundColor:"#141414",brandColor:d,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:n,paletteQualitative20:c,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:jv,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Er[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Er[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:is[85],axisTickLineBorderColor:Er[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Er[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Er[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Er[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Er[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ao[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Er[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Er[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Er[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Er[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Er[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Er[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:is[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:is[25],annotationArcBorderColor:Er[15],annotationArcBorder:1,annotationLineBorderColor:Er[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Er[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Er[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Er[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Er[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Er[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:is[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Er[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:is[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Er[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:ao[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:is[100],pointBorderOpacity:1,pointActiveBorderColor:Er[100],pointSelectedBorder:2,pointSelectedBorderColor:Er[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ao[0],hollowPointBorderOpacity:.95,hollowPointFillColor:is[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Er[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Er[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ao[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ao[0],areaFillOpacity:.25,areaActiveFillColor:ao[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ao[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ao[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Er[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Er[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ao[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Er[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Er[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ao[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:is[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Er[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Er[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,L.pi)((0,L.pi)({},v),o)},Wv=Gv();function $h(){return window?window.devicePixelRatio:1}function Vv(o,a,n,s){var c=o-n,f=a-s;return Math.sqrt(c*c+f*f)}function Vl(o,a,n,s,c,f){return c>=o&&c<=o+n&&f>=a&&f<=a+s}function Hl(o,a){return!(a.minX>o.maxX||a.maxX<o.minX||a.minY>o.maxY||a.maxY<o.minY)}function No(o,a){return!o||!a?o||a:{minX:Math.min(o.minX,a.minX),minY:Math.min(o.minY,a.minY),maxX:Math.max(o.maxX,a.maxX),maxY:Math.max(o.maxY,a.maxY)}}function Mo(o,a){return o[0]===a[0]&&o[1]===a[1]}var zo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,YM=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,lL=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,UM=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function XM(o,a){var n=o.match(UM);(0,_.S6)(n,function(s){var c=s.split(":");a.addColorStop(c[0],c[1])})}function cL(o,a,n){var s=zo.exec(n),c=parseFloat(s[1])%360*(Math.PI/180),f=s[2],d=a.getBBox(),v,y;c>=0&&c<1/2*Math.PI?(v={x:d.minX,y:d.minY},y={x:d.maxX,y:d.maxY}):1/2*Math.PI<=c&&c<Math.PI?(v={x:d.maxX,y:d.minY},y={x:d.minX,y:d.maxY}):Math.PI<=c&&c<3/2*Math.PI?(v={x:d.maxX,y:d.maxY},y={x:d.minX,y:d.minY}):(v={x:d.minX,y:d.maxY},y={x:d.maxX,y:d.minY});var b=Math.tan(c),S=b*b,C=(y.x-v.x+b*(y.y-v.y))/(S+1)+v.x,T=b*(y.x-v.x+b*(y.y-v.y))/(S+1)+v.y,k=o.createLinearGradient(v.x,v.y,C,T);return XM(f,k),k}function uL(o,a,n){var s=YM.exec(n),c=parseFloat(s[1]),f=parseFloat(s[2]),d=parseFloat(s[3]),v=s[4];if(d===0){var y=v.match(UM);return y[y.length-1].split(":")[1]}var b=a.getBBox(),S=b.maxX-b.minX,C=b.maxY-b.minY,T=Math.sqrt(S*S+C*C)/2,k=o.createRadialGradient(b.minX+S*c,b.minY+C*f,0,b.minX+S/2,b.minY+C/2,d*T);return XM(v,k),k}function ZM(o,a,n){if(a.get("patternSource")&&a.get("patternSource")===n)return a.get("pattern");var s,c,f=lL.exec(n),d=f[1],v=f[2];function y(){s=o.createPattern(c,d),a.set("pattern",s),a.set("patternSource",n)}switch(d){case"a":d="repeat";break;case"x":d="repeat-x";break;case"y":d="repeat-y";break;case"n":d="no-repeat";break;default:d="no-repeat"}return c=new Image,v.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=v,c.complete?y():(c.onload=y,c.src=c.src),s}function qM(o,a,n){var s=a.getBBox();if(isNaN(s.x)||isNaN(s.y)||isNaN(s.width)||isNaN(s.height))return n;if((0,_.HD)(n)){if(n[1]==="("||n[2]==="("){if(n[0]==="l")return cL(o,a,n);if(n[0]==="r")return uL(o,a,n);if(n[0]==="p")return ZM(o,a,n)}return n}if(n instanceof CanvasPattern)return n}function Hv(o){var a=0,n=0,s=0,c=0;return(0,_.kJ)(o)?o.length===1?a=n=s=c=o[0]:o.length===2?(a=s=o[0],n=c=o[1]):o.length===3?(a=o[0],n=c=o[1],s=o[2]):(a=o[0],n=o[1],s=o[2],c=o[3]):a=n=s=c=o,[a,n,s,c]}function Yv(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function hm(o,a){return Yv(o)*Yv(a)?(o[0]*a[0]+o[1]*a[1])/(Yv(o)*Yv(a)):1}function $M(o,a){return(o[0]*a[1]<o[1]*a[0]?-1:1)*Math.acos(hm(o,a))}function uf(o,a){var n=a[1],s=a[2],c=(0,_.wQ)((0,_.c$)(a[3]),Math.PI*2),f=a[4],d=a[5],v=o[0],y=o[1],b=a[6],S=a[7],C=Math.cos(c)*(v-b)/2+Math.sin(c)*(y-S)/2,T=-1*Math.sin(c)*(v-b)/2+Math.cos(c)*(y-S)/2,k=C*C/(n*n)+T*T/(s*s);k>1&&(n*=Math.sqrt(k),s*=Math.sqrt(k));var R=n*n*(T*T)+s*s*(C*C),D=R?Math.sqrt((n*n*(s*s)-R)/R):1;f===d&&(D*=-1),isNaN(D)&&(D=0);var V=s?D*n*T/s:0,j=n?D*-s*C/n:0,H=(v+b)/2+Math.cos(c)*V-Math.sin(c)*j,Z=(y+S)/2+Math.sin(c)*V+Math.cos(c)*j,q=[(C-V)/n,(T-j)/s],K=[(-1*C-V)/n,(-1*T-j)/s],Ct=$M([1,0],q),Ft=$M(q,K);return hm(q,K)<=-1&&(Ft=Math.PI),hm(q,K)>=1&&(Ft=0),d===0&&Ft>0&&(Ft=Ft-2*Math.PI),d===1&&Ft<0&&(Ft=Ft+2*Math.PI),{cx:H,cy:Z,rx:Mo(o,[b,S])?0:n,ry:Mo(o,[b,S])?0:s,startAngle:Ct,endAngle:Ct+Ft,xRotation:c,arcFlag:f,sweepFlag:d}}var Uv=Math.sin,Xv=Math.cos,Zv=Math.atan2,ff=Math.PI;function Kh(o,a,n,s,c,f,d){var v=a.stroke,y=a.lineWidth,b=n-c,S=s-f,C=Zv(S,b),T=new zm({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Xv(ff/6)+","+10*Uv(ff/6)+" L0,0 L"+10*Xv(ff/6)+",-"+10*Uv(ff/6),stroke:v,lineWidth:y}});T.translate(c,f),T.rotateAtPoint(c,f,C),o.set(d?"startArrowShape":"endArrowShape",T)}function dm(o,a,n,s,c,f,d){var v=a.startArrow,y=a.endArrow,b=a.stroke,S=a.lineWidth,C=d?v:y,T=C.d,k=C.fill,R=C.stroke,D=C.lineWidth,V=(0,L._T)(C,["d","fill","stroke","lineWidth"]),j=n-c,H=s-f,Z=Zv(H,j);T&&(c=c-Xv(Z)*T,f=f-Uv(Z)*T);var q=new zm({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:(0,L.pi)((0,L.pi)({},V),{stroke:R||b,lineWidth:D||S,fill:k})});q.translate(c,f),q.rotateAtPoint(c,f,Z),o.set(d?"startArrowShape":"endArrowShape",q)}function tu(o,a,n,s,c){var f=Zv(s-a,n-o);return{dx:Xv(f)*c,dy:Uv(f)*c}}function pm(o,a,n,s,c,f){typeof a.startArrow=="object"?dm(o,a,n,s,c,f,!0):a.startArrow?Kh(o,a,n,s,c,f,!0):o.set("startArrowShape",null)}function vm(o,a,n,s,c,f){typeof a.endArrow=="object"?dm(o,a,n,s,c,f,!1):a.endArrow?Kh(o,a,n,s,c,f,!1):o.set("startArrowShape",null)}var KM={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function hf(o,a){var n=a.attr();for(var s in n){var c=n[s],f=KM[s]?KM[s]:s;f==="matrix"&&c?o.transform(c[0],c[1],c[3],c[4],c[6],c[7]):f==="lineDash"&&o.setLineDash?(0,_.kJ)(c)&&o.setLineDash(c):(f==="strokeStyle"||f==="fillStyle"?c=qM(o,a,c):f==="globalAlpha"&&(c=c*o.globalAlpha),o[f]=c)}}function gm(o,a,n){for(var s=0;s<a.length;s++){var c=a[s];c.cfg.visible?c.draw(o,n):c.skipDraw()}}function fL(o,a,n){var s=o.get("refreshElements");(0,_.S6)(s,function(c){if(c!==o)for(var f=c.cfg.parent;f&&f!==o&&!f.cfg.refresh;)f.cfg.refresh=!0,f=f.cfg.parent}),s[0]===o?xm(a,n):ym(a,n)}function ym(o,a){for(var n=0;n<o.length;n++){var s=o[n];if(s.cfg.visible)if(s.cfg.hasChanged)s.cfg.refresh=!0,s.isGroup()&&xm(s.cfg.children,a);else if(s.cfg.refresh)s.isGroup()&&ym(s.cfg.children,a);else{var c=hL(s,a);s.cfg.refresh=c,c&&s.isGroup()&&ym(s.cfg.children,a)}}}function mm(o){for(var a=0;a<o.length;a++){var n=o[a];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&mm(n.cfg.children)}}function xm(o,a){for(var n=0;n<o.length;n++){var s=o[n];s.cfg.visible&&(s.cfg.refresh=!0,s.isGroup()&&xm(s.get("children"),a))}}function hL(o,a){var n=o.cfg.cacheCanvasBBox,s=o.cfg.isInView&&n&&Hl(n,a);return s}function bm(o,a,n,s){var c=n.path,f=n.startArrow,d=n.endArrow;if(c){var v=[0,0],y=[0,0],b={dx:0,dy:0};a.beginPath();for(var S=0;S<c.length;S++){var C=c[S],T=C[0];if(S===0&&f&&f.d){var k=o.getStartTangent();b=tu(k[0][0],k[0][1],k[1][0],k[1][1],f.d)}else if(S===c.length-2&&c[S+1][0]==="Z"&&d&&d.d){var R=c[S+1];if(R[0]==="Z"){var k=o.getEndTangent();b=tu(k[0][0],k[0][1],k[1][0],k[1][1],d.d)}}else if(S===c.length-1&&d&&d.d&&c[0]!=="Z"){var k=o.getEndTangent();b=tu(k[0][0],k[0][1],k[1][0],k[1][1],d.d)}var D=b.dx,V=b.dy;switch(T){case"M":a.moveTo(C[1]-D,C[2]-V),y=[C[1],C[2]];break;case"L":a.lineTo(C[1]-D,C[2]-V);break;case"Q":a.quadraticCurveTo(C[1],C[2],C[3]-D,C[4]-V);break;case"C":a.bezierCurveTo(C[1],C[2],C[3],C[4],C[5]-D,C[6]-V);break;case"A":{var j=void 0;s?(j=s[S],j||(j=uf(v,C),s[S]=j)):j=uf(v,C);var H=j.cx,Z=j.cy,q=j.rx,K=j.ry,Ct=j.startAngle,Ft=j.endAngle,Jt=j.xRotation,_e=j.sweepFlag;if(a.ellipse)a.ellipse(H,Z,q,K,Jt,Ct,Ft,1-_e);else{var ge=q>K?q:K,Be=q>K?1:q/K,tn=q>K?K/q:1;a.translate(H,Z),a.rotate(Jt),a.scale(Be,tn),a.arc(0,0,ge,Ct,Ft,1-_e),a.scale(1/Be,1/tn),a.rotate(-Jt),a.translate(-H,-Z)}break}case"Z":a.closePath();break;default:break}if(T==="Z")v=y;else{var vn=C.length;v=[C[vn-2],C[vn-1]]}}}}function JM(o,a){var n=o.get("canvas");n&&(a==="remove"&&(o._cacheCanvasBBox=o.get("cacheCanvasBBox")),o.get("hasChanged")||(o.set("hasChanged",!0),o.cfg.parent&&o.cfg.parent.get("hasChanged")||(n.refreshElement(o,a,n),n.get("autoDraw")&&n.draw())))}function QM(o){var a;if(o.destroyed)a=o._cacheCanvasBBox;else{var n=o.get("cacheCanvasBBox"),s=n&&!!(n.width&&n.height),c=o.getCanvasBBox(),f=c&&!!(c.width&&c.height);s&&f?a=No(n,c):s?a=n:f&&(a=c)}return a}function dL(o){if(!o.length)return null;var a=[],n=[],s=[],c=[];return(0,_.S6)(o,function(f){var d=QM(f);d&&(a.push(d.minX),n.push(d.minY),s.push(d.maxX),c.push(d.maxY))}),{minX:(0,_.VV)(a),minY:(0,_.VV)(n),maxX:(0,_.Fp)(s),maxY:(0,_.Fp)(c)}}function pL(o,a){return!o||!a||!Hl(o,a)?null:{minX:Math.max(o.minX,a.minX),minY:Math.max(o.minY,a.minY),maxX:Math.min(o.maxX,a.maxX),maxY:Math.min(o.maxY,a.maxY)}}var tS=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.onCanvasChange=function(n){JM(this,n)},a.prototype.getShapeBase=function(){return fe},a.prototype.getGroupBase=function(){return a},a.prototype._applyClip=function(n,s){s&&(n.save(),hf(n,s),s.createPath(n),n.restore(),n.clip(),s._afterDraw())},a.prototype.cacheCanvasBBox=function(){var n=this.cfg.children,s=[],c=[];(0,_.S6)(n,function(T){var k=T.cfg.cacheCanvasBBox;k&&T.cfg.isInView&&(s.push(k.minX,k.maxX),c.push(k.minY,k.maxY))});var f=null;if(s.length){var d=(0,_.VV)(s),v=(0,_.Fp)(s),y=(0,_.VV)(c),b=(0,_.Fp)(c);f={minX:d,minY:y,x:d,y,maxX:v,maxY:b,width:v-d,height:b-y};var S=this.cfg.canvas;if(S){var C=S.getViewRange();this.set("isInView",Hl(f,C))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",f)},a.prototype.draw=function(n,s){var c=this.cfg.children,f=s?this.cfg.refresh:!0;c.length&&f&&(n.save(),hf(n,this),this._applyClip(n,this.getClip()),gm(n,c,s),n.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},a}(Ot.AbstractGroup),wm=tS,vL=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.getShapeBase=function(){return fe},a.prototype.getGroupBase=function(){return wm},a.prototype.onCanvasChange=function(n){JM(this,n)},a.prototype.calculateBBox=function(){var n=this.get("type"),s=this.getHitLineWidth(),c=(0,Ot.getBBoxMethod)(n),f=c(this),d=s/2,v=f.x-d,y=f.y-d,b=f.x+f.width+d,S=f.y+f.height+d;return{x:v,minX:v,y,minY:y,width:f.width+s,height:f.height+s,maxX:b,maxY:S}},a.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},a.prototype.isStroke=function(){return!!this.attrs.stroke},a.prototype._applyClip=function(n,s){s&&(n.save(),hf(n,s),s.createPath(n),n.restore(),n.clip(),s._afterDraw())},a.prototype.draw=function(n,s){var c=this.cfg.clipShape;if(s){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var f=this.getCanvasBBox();if(!Hl(s,f)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}n.save(),hf(n,this),this._applyClip(n,c),this.drawPath(n),n.restore(),this._afterDraw()},a.prototype.getCanvasViewBox=function(){var n=this.cfg.canvas;return n?n.getViewRange():null},a.prototype.cacheCanvasBBox=function(){var n=this.getCanvasViewBox();if(n){var s=this.getCanvasBBox(),c=Hl(s,n);this.set("isInView",c),c?this.set("cacheCanvasBBox",s):this.set("cacheCanvasBBox",null)}},a.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},a.prototype.drawPath=function(n){this.createPath(n),this.strokeAndFill(n),this.afterDrawPath(n)},a.prototype.fill=function(n){n.fill()},a.prototype.stroke=function(n){n.stroke()},a.prototype.strokeAndFill=function(n){var s=this.attrs,c=s.lineWidth,f=s.opacity,d=s.strokeOpacity,v=s.fillOpacity;this.isFill()&&(!(0,_.UM)(v)&&v!==1?(n.globalAlpha=v,this.fill(n),n.globalAlpha=f):this.fill(n)),this.isStroke()&&c>0&&(!(0,_.UM)(d)&&d!==1&&(n.globalAlpha=d),this.stroke(n)),this.afterDrawPath(n)},a.prototype.createPath=function(n){},a.prototype.afterDrawPath=function(n){},a.prototype.isInShape=function(n,s){var c=this.isStroke(),f=this.isFill(),d=this.getHitLineWidth();return this.isInStrokeOrPath(n,s,c,f,d)},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){return!1},a.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var n=this.attrs;return n.lineWidth+n.lineAppendWidth},a}(Ot.AbstractShape),as=vL,gL=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,r:0})},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){var v=this.attr(),y=v.x,b=v.y,S=v.r,C=d/2,T=Vv(y,b,n,s);return f&&c?T<=S+C:f?T<=S:c?T>=S-C&&T<=S+C:!1},a.prototype.createPath=function(n){var s=this.attr(),c=s.x,f=s.y,d=s.r;n.beginPath(),n.arc(c,f,d,0,Math.PI*2,!1),n.closePath()},a}(as),yL=gL;function qv(o,a,n,s){return o/(n*n)+a/(s*s)}var eS=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,rx:0,ry:0})},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){var v=this.attr(),y=d/2,b=v.x,S=v.y,C=v.rx,T=v.ry,k=(n-b)*(n-b),R=(s-S)*(s-S);return f&&c?qv(k,R,C+y,T+y)<=1:f?qv(k,R,C,T)<=1:c?qv(k,R,C-y,T-y)>=1&&qv(k,R,C+y,T+y)<=1:!1},a.prototype.createPath=function(n){var s=this.attr(),c=s.x,f=s.y,d=s.rx,v=s.ry;if(n.beginPath(),n.ellipse)n.ellipse(c,f,d,v,0,0,Math.PI*2,!1);else{var y=d>v?d:v,b=d>v?1:d/v,S=d>v?v/d:1;n.save(),n.translate(c,f),n.scale(b,S),n.arc(0,0,y,0,Math.PI*2),n.restore(),n.closePath()}},a}(as),mL=eS;function nS(o){return o instanceof HTMLElement&&(0,_.HD)(o.nodeName)&&o.nodeName.toUpperCase()==="CANVAS"}var rS=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,width:0,height:0})},a.prototype.initAttrs=function(n){this._setImage(n.img)},a.prototype.isStroke=function(){return!1},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var n=this.get("canvas");n?n.draw():this.createPath(this.get("context"))}},a.prototype._setImage=function(n){var s=this,c=this.attrs;if((0,_.HD)(n)){var f=new Image;f.onload=function(){if(s.destroyed)return!1;s.attr("img",f),s.set("loading",!1),s._afterLoading();var d=s.get("callback");d&&d.call(s)},f.crossOrigin="Anonymous",f.src=n,this.set("loading",!0)}else n instanceof Image?(c.width||(c.width=n.width),c.height||(c.height=n.height)):nS(n)&&(c.width||(c.width=Number(n.getAttribute("width"))),c.height||(c.height,Number(n.getAttribute("height"))))},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),n==="img"&&this._setImage(s)},a.prototype.createPath=function(n){if(this.get("loading")){this.set("toDraw",!0),this.set("context",n);return}var s=this.attr(),c=s.x,f=s.y,d=s.width,v=s.height,y=s.sx,b=s.sy,S=s.swidth,C=s.sheight,T=s.img;(T instanceof Image||nS(T))&&(!(0,_.UM)(y)&&!(0,_.UM)(b)&&!(0,_.UM)(S)&&!(0,_.UM)(C)?n.drawImage(T,y,b,S,C,c,f,d,v):n.drawImage(T,c,f,d,v))},a}(as),iS=rS;function ji(o,a,n,s){var c=o-n,f=a-s;return Math.sqrt(c*c+f*f)}function df(o,a){return Math.abs(o-a)<.001}function $v(o,a){var n=(0,_.VV)(o),s=(0,_.VV)(a),c=(0,_.Fp)(o),f=(0,_.Fp)(a);return{x:n,y:s,width:c-n,height:f-s}}function xL(o,a,n,s){return{minX:min([o,n]),maxX:max([o,n]),minY:min([a,s]),maxY:max([a,s])}}function pf(o){return(o+Math.PI*2)%(Math.PI*2)}var Ha={box:function(o,a,n,s){return $v([o,n],[a,s])},length:function(o,a,n,s){return ji(o,a,n,s)},pointAt:function(o,a,n,s,c){return{x:(1-c)*o+c*n,y:(1-c)*a+c*s}},pointDistance:function(o,a,n,s,c,f){var d=(n-o)*(c-o)+(s-a)*(f-a);if(d<0)return ji(o,a,c,f);var v=(n-o)*(n-o)+(s-a)*(s-a);return d>v?ji(n,s,c,f):this.pointToLine(o,a,n,s,c,f)},pointToLine:function(o,a,n,s,c,f){var d=[n-o,s-a];if(Nn.I6(d,[0,0]))return Math.sqrt((c-o)*(c-o)+(f-a)*(f-a));var v=[-d[1],d[0]];Nn.Fv(v,v);var y=[c-o,f-a];return Math.abs(Nn.AK(y,v))},tangentAngle:function(o,a,n,s){return Math.atan2(s-a,n-o)}},aS=1e-4;function Kv(o,a,n,s,c,f){var d,v=1/0,y=[n,s],b=20;f&&f>200&&(b=f/10);for(var S=1/b,C=S/10,T=0;T<=b;T++){var k=T*S,R=[c.apply(null,o.concat([k])),c.apply(null,a.concat([k]))],D=ji(y[0],y[1],R[0],R[1]);D<v&&(d=k,v=D)}if(d===0)return{x:o[0],y:a[0]};if(d===1){var V=o.length;return{x:o[V-1],y:a[V-1]}}v=1/0;for(var T=0;T<32&&!(C<aS);T++){var j=d-C,H=d+C,R=[c.apply(null,o.concat([j])),c.apply(null,a.concat([j]))],D=ji(y[0],y[1],R[0],R[1]);if(j>=0&&D<v)d=j,v=D;else{var Z=[c.apply(null,o.concat([H])),c.apply(null,a.concat([H]))],q=ji(y[0],y[1],Z[0],Z[1]);H<=1&&q<v?(d=H,v=q):C*=.5}}return{x:c.apply(null,o.concat([d])),y:c.apply(null,a.concat([d]))}}function oS(o,a){for(var n=0,s=o.length,c=0;c<s;c++){var f=o[c],d=a[c],v=o[(c+1)%s],y=a[(c+1)%s];n+=ji(f,d,v,y)}return n/2}function nl(o,a,n,s){var c=1-s;return c*c*o+2*s*c*a+s*s*n}function Mm(o,a,n){var s=o+n-2*a;if(df(s,0))return[.5];var c=(o-a)/s;return c<=1&&c>=0?[c]:[]}function Sm(o,a,n,s){return 2*(1-s)*(a-o)+2*s*(n-a)}function _m(o,a,n,s,c,f,d){var v=nl(o,n,c,d),y=nl(a,s,f,d),b=Ha.pointAt(o,a,n,s,d),S=Ha.pointAt(n,s,c,f,d);return[[o,a,b.x,b.y,v,y],[v,y,S.x,S.y,c,f]]}function Om(o,a,n,s,c,f,d){if(d===0)return(ji(o,a,n,s)+ji(n,s,c,f)+ji(o,a,c,f))/2;var v=_m(o,a,n,s,c,f,.5),y=v[0],b=v[1];return y.push(d-1),b.push(d-1),Om.apply(null,y)+Om.apply(null,b)}var bL={box:function(o,a,n,s,c,f){var d=Mm(o,n,c)[0],v=Mm(a,s,f)[0],y=[o,c],b=[a,f];return d!==void 0&&y.push(nl(o,n,c,d)),v!==void 0&&b.push(nl(a,s,f,v)),$v(y,b)},length:function(o,a,n,s,c,f){return Om(o,a,n,s,c,f,3)},nearestPoint:function(o,a,n,s,c,f,d,v){return Kv([o,n,c],[a,s,f],d,v,nl)},pointDistance:function(o,a,n,s,c,f,d,v){var y=this.nearestPoint(o,a,n,s,c,f,d,v);return ji(y.x,y.y,d,v)},interpolationAt:nl,pointAt:function(o,a,n,s,c,f,d){return{x:nl(o,n,c,d),y:nl(a,s,f,d)}},divide:function(o,a,n,s,c,f,d){return _m(o,a,n,s,c,f,d)},tangentAngle:function(o,a,n,s,c,f,d){var v=Sm(o,n,c,d),y=Sm(a,s,f,d),b=Math.atan2(y,v);return pf(b)}};function os(o,a,n,s,c){var f=1-c;return f*f*f*o+3*a*c*f*f+3*n*c*c*f+s*c*c*c}function Jh(o,a,n,s,c){var f=1-c;return 3*(f*f*(a-o)+2*f*c*(n-a)+c*c*(s-n))}function Cm(o,a,n,s){var c=-3*o+9*a-9*n+3*s,f=6*o-12*a+6*n,d=3*a-3*o,v=[],y,b,S;if(df(c,0))df(f,0)||(y=-d/f,y>=0&&y<=1&&v.push(y));else{var C=f*f-4*c*d;df(C,0)?v.push(-f/(2*c)):C>0&&(S=Math.sqrt(C),y=(-f+S)/(2*c),b=(-f-S)/(2*c),y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b))}return v}function Jv(o,a,n,s,c,f,d,v,y){var b=os(o,n,c,d,y),S=os(a,s,f,v,y),C=Ha.pointAt(o,a,n,s,y),T=Ha.pointAt(n,s,c,f,y),k=Ha.pointAt(c,f,d,v,y),R=Ha.pointAt(C.x,C.y,T.x,T.y,y),D=Ha.pointAt(T.x,T.y,k.x,k.y,y);return[[o,a,C.x,C.y,R.x,R.y,b,S],[b,S,D.x,D.y,k.x,k.y,d,v]]}function Am(o,a,n,s,c,f,d,v,y){if(y===0)return oS([o,n,c,d],[a,s,f,v]);var b=Jv(o,a,n,s,c,f,d,v,.5),S=b[0],C=b[1];return S.push(y-1),C.push(y-1),Am.apply(null,S)+Am.apply(null,C)}var Yl={extrema:Cm,box:function(o,a,n,s,c,f,d,v){for(var y=[o,d],b=[a,v],S=Cm(o,n,c,d),C=Cm(a,s,f,v),T=0;T<S.length;T++)y.push(os(o,n,c,d,S[T]));for(var T=0;T<C.length;T++)b.push(os(a,s,f,v,C[T]));return $v(y,b)},length:function(o,a,n,s,c,f,d,v){return Am(o,a,n,s,c,f,d,v,3)},nearestPoint:function(o,a,n,s,c,f,d,v,y,b,S){return Kv([o,n,c,d],[a,s,f,v],y,b,os,S)},pointDistance:function(o,a,n,s,c,f,d,v,y,b,S){var C=this.nearestPoint(o,a,n,s,c,f,d,v,y,b,S);return ji(C.x,C.y,y,b)},interpolationAt:os,pointAt:function(o,a,n,s,c,f,d,v,y){return{x:os(o,n,c,d,y),y:os(a,s,f,v,y)}},divide:function(o,a,n,s,c,f,d,v,y){return Jv(o,a,n,s,c,f,d,v,y)},tangentAngle:function(o,a,n,s,c,f,d,v,y){var b=Jh(o,n,c,d,y),S=Jh(a,s,f,v,y);return pf(Math.atan2(S,b))}};function sS(o,a){var n=Math.abs(o);return a>0?n:n*-1}var wL={box:function(o,a,n,s){return{x:o-n,y:a-s,width:n*2,height:s*2}},length:function(o,a,n,s){return Math.PI*(3*(n+s)-Math.sqrt((3*n+s)*(n+3*s)))},nearestPoint:function(o,a,n,s,c,f){var d=n,v=s;if(d===0||v===0)return{x:o,y:a};for(var y=c-o,b=f-a,S=Math.abs(y),C=Math.abs(b),T=d*d,k=v*v,R=Math.PI/4,D,V,j=0;j<4;j++){D=d*Math.cos(R),V=v*Math.sin(R);var H=(T-k)*Math.pow(Math.cos(R),3)/d,Z=(k-T)*Math.pow(Math.sin(R),3)/v,q=D-H,K=V-Z,Ct=S-H,Ft=C-Z,Jt=Math.hypot(K,q),_e=Math.hypot(Ft,Ct),ge=Jt*Math.asin((q*Ft-K*Ct)/(Jt*_e)),Be=ge/Math.sqrt(T+k-D*D-V*V);R+=Be,R=Math.min(Math.PI/2,Math.max(0,R))}return{x:o+sS(D,y),y:a+sS(V,b)}},pointDistance:function(o,a,n,s,c,f){var d=this.nearestPoint(o,a,n,s,c,f);return ji(d.x,d.y,c,f)},pointAt:function(o,a,n,s,c){var f=2*Math.PI*c;return{x:o+n*Math.cos(f),y:a+s*Math.sin(f)}},tangentAngle:function(o,a,n,s,c){var f=2*Math.PI*c,d=Math.atan2(s*Math.cos(f),-n*Math.sin(f));return pf(d)}};function lS(o,a,n,s,c,f,d,v){return-1*n*Math.cos(c)*Math.sin(v)-s*Math.sin(c)*Math.cos(v)}function ML(o,a,n,s,c,f,d,v){return-1*n*Math.sin(c)*Math.sin(v)+s*Math.cos(c)*Math.cos(v)}function sn(o,a,n){return Math.atan(-a/o*Math.tan(n))}function ki(o,a,n){return Math.atan(a/(o*Math.tan(n)))}function Qh(o,a,n,s,c,f){return n*Math.cos(c)*Math.cos(f)-s*Math.sin(c)*Math.sin(f)+o}function td(o,a,n,s,c,f){return n*Math.sin(c)*Math.cos(f)+s*Math.cos(c)*Math.sin(f)+a}function SL(o,a,n,s){var c=Math.atan2(s*o,n*a);return(c+Math.PI*2)%(Math.PI*2)}function rl(o,a,n){return{x:o*Math.cos(n),y:a*Math.sin(n)}}function Cr(o,a,n){var s=Math.cos(n),c=Math.sin(n);return[o*s-a*c,o*c+a*s]}var Qv={box:function(o,a,n,s,c,f,d){for(var v=sn(n,s,c),y=1/0,b=-1/0,S=[f,d],C=-Math.PI*2;C<=Math.PI*2;C+=Math.PI){var T=v+C;f<d?f<T&&T<d&&S.push(T):d<T&&T<f&&S.push(T)}for(var C=0;C<S.length;C++){var k=Qh(o,a,n,s,c,S[C]);k<y&&(y=k),k>b&&(b=k)}for(var R=ki(n,s,c),D=1/0,V=-1/0,j=[f,d],C=-Math.PI*2;C<=Math.PI*2;C+=Math.PI){var H=R+C;f<d?f<H&&H<d&&j.push(H):d<H&&H<f&&j.push(H)}for(var C=0;C<j.length;C++){var Z=td(o,a,n,s,c,j[C]);Z<D&&(D=Z),Z>V&&(V=Z)}return{x:y,y:D,width:b-y,height:V-D}},length:function(o,a,n,s,c,f,d){},nearestPoint:function(o,a,n,s,c,f,d,v,y){var b=Cr(v-o,y-a,-c),S=b[0],C=b[1],T=wL.nearestPoint(0,0,n,s,S,C),k=SL(n,s,T.x,T.y);k<f?T=rl(n,s,f):k>d&&(T=rl(n,s,d));var R=Cr(T.x,T.y,c);return{x:R[0]+o,y:R[1]+a}},pointDistance:function(o,a,n,s,c,f,d,v,y){var b=this.nearestPoint(o,a,n,s,v,y);return ji(b.x,b.y,v,y)},pointAt:function(o,a,n,s,c,f,d,v){var y=(d-f)*v+f;return{x:Qh(o,a,n,s,c,y),y:td(o,a,n,s,c,y)}},tangentAngle:function(o,a,n,s,c,f,d,v){var y=(d-f)*v+f,b=lS(o,a,n,s,c,f,d,y),S=ML(o,a,n,s,c,f,d,y);return pf(Math.atan2(S,b))}};function t0(o){for(var a=0,n=[],s=0;s<o.length-1;s++){var c=o[s],f=o[s+1],d=ji(c[0],c[1],f[0],f[1]),v={from:c,to:f,length:d};n.push(v),a+=d}return{segments:n,totalLength:a}}function vf(o){if(o.length<2)return 0;for(var a=0,n=0;n<o.length-1;n++){var s=o[n],c=o[n+1];a+=ji(s[0],s[1],c[0],c[1])}return a}function Ul(o,a){if(a>1||a<0||o.length<2)return null;var n=t0(o),s=n.segments,c=n.totalLength;if(c===0)return{x:o[0][0],y:o[0][1]};for(var f=0,d=null,v=0;v<s.length;v++){var y=s[v],b=y.from,S=y.to,C=y.length/c;if(a>=f&&a<=f+C){var T=(a-f)/C;d=Ha.pointAt(b[0],b[1],S[0],S[1],T);break}f+=C}return d}function ii(o,a){if(a>1||a<0||o.length<2)return 0;for(var n=t0(o),s=n.segments,c=n.totalLength,f=0,d=0,v=0;v<s.length;v++){var y=s[v],b=y.from,S=y.to,C=y.length/c;if(a>=f&&a<=f+C){d=Math.atan2(S[1]-b[1],S[0]-b[0]);break}f+=C}return d}function Tm(o,a,n){for(var s=1/0,c=0;c<o.length-1;c++){var f=o[c],d=o[c+1],v=Ha.pointDistance(f[0],f[1],d[0],d[1],a,n);v<s&&(s=v)}return s}var pa={box:function(o){for(var a=[],n=[],s=0;s<o.length;s++){var c=o[s];a.push(c[0]),n.push(c[1])}return $v(a,n)},length:function(o){return vf(o)},pointAt:function(o,a){return Ul(o,a)},pointDistance:function(o,a,n){return Tm(o,a,n)},tangentAngle:function(o,a){return ii(o,a)}};function Ts(o){var a=o.slice(0);return o.length&&a.push(o[0]),a}var L6={box:function(o){return pa.box(o)},length:function(o){return vf(Ts(o))},pointAt:function(o,a){return Ul(Ts(o),a)},pointDistance:function(o,a,n){return Tm(Ts(o),a,n)},tangentAngle:function(o,a){return ii(Ts(o),a)}};function Es(o,a,n,s,c,f,d){var v=Math.min(o,n),y=Math.max(o,n),b=Math.min(a,s),S=Math.max(a,s),C=c/2;return f>=v-C&&f<=y+C&&d>=b-C&&d<=S+C?Ha.pointToLine(o,a,n,s,f,d)<=c/2:!1}var ks=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(n){this.setArrow()},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),this.setArrow()},a.prototype.setArrow=function(){var n=this.attr(),s=n.x1,c=n.y1,f=n.x2,d=n.y2,v=n.startArrow,y=n.endArrow;v&&pm(this,n,f,d,s,c),y&&vm(this,n,s,c,f,d)},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){if(!c||!d)return!1;var v=this.attr(),y=v.x1,b=v.y1,S=v.x2,C=v.y2;return Es(y,b,S,C,d,n,s)},a.prototype.createPath=function(n){var s=this.attr(),c=s.x1,f=s.y1,d=s.x2,v=s.y2,y=s.startArrow,b=s.endArrow,S={dx:0,dy:0},C={dx:0,dy:0};y&&y.d&&(S=tu(c,f,d,v,s.startArrow.d)),b&&b.d&&(C=tu(c,f,d,v,s.endArrow.d)),n.beginPath(),n.moveTo(c+S.dx,f+S.dy),n.lineTo(d-C.dx,v-C.dy)},a.prototype.afterDrawPath=function(n){var s=this.get("startArrowShape"),c=this.get("endArrowShape");s&&s.draw(n),c&&c.draw(n)},a.prototype.getTotalLength=function(){var n=this.attr(),s=n.x1,c=n.y1,f=n.x2,d=n.y2;return Ha.length(s,c,f,d)},a.prototype.getPoint=function(n){var s=this.attr(),c=s.x1,f=s.y1,d=s.x2,v=s.y2;return Ha.pointAt(c,f,d,v,n)},a}(as),gf=ks,Ca=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,ed=/[^\s\,]+/ig;function e0(o){var a=o||[];if((0,_.kJ)(a))return a;if((0,_.HD)(a))return a=a.match(Ca),(0,_.S6)(a,function(n,s){if(n=n.match(ed),n[0].length>1){var c=n[0].charAt(0);n.splice(1,0,n[0].substr(1)),n[0]=c}(0,_.S6)(n,function(f,d){isNaN(f)||(n[d]=+f)}),a[s]=n}),a}var _L=e0;function OL(o,a,n){var s=null,c=n;return a<c&&(c=a,s="add"),o<c&&(c=o,s="del"),{type:s,min:c}}var cS=function(o,a){var n=o.length,s=a.length,c,f,d=0;if(n===0||s===0)return null;for(var v=[],y=0;y<=n;y++)v[y]=[],v[y][0]={min:y};for(var b=0;b<=s;b++)v[0][b]={min:b};for(var y=1;y<=n;y++){c=o[y-1];for(var b=1;b<=s;b++){f=a[b-1],isEqual(c,f)?d=0:d=1;var S=v[y-1][b].min+1,C=v[y][b-1].min+1,T=v[y-1][b-1].min+d;v[y][b]=OL(S,C,T)}}return v};function uS(o,a){var n=cS(o,a),s=o.length,c=a.length,f=[],d=1,v=1;if(n[s][c]!==s){for(var y=1;y<=s;y++){var b=n[y][y].min;v=y;for(var S=d;S<=c;S++)n[y][S].min<b&&(b=n[y][S].min,v=S);d=v,n[y][d].type&&f.push({index:y-1,type:n[y][d].type})}for(var y=f.length-1;y>=0;y--)d=f[y].index,f[y].type==="add"?o.splice(d,0,[].concat(o[d])):o.splice(d,1)}if(s=o.length,s<c)for(var y=0;y<c-s;y++)o[s-1][0]==="z"||o[s-1][0]==="Z"?o.splice(s-2,0,o[s-2]):o.push(o[s-1]);return o}var eu=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,nu=new RegExp("([a-z])["+eu+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+eu+"]*,?["+eu+"]*)+)","ig"),CL=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+eu+"]*,?["+eu+"]*","ig");function fS(o){if(!o)return null;if((0,_.kJ)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(o).replace(nu,function(s,c,f){var d=[],v=c.toLowerCase();if(f.replace(CL,function(y,b){b&&d.push(+b)}),v==="m"&&d.length>2&&(n.push([c].concat(d.splice(0,2))),v="l",c=c==="m"?"l":"L"),v==="o"&&d.length===1&&n.push([c,d[0]]),v==="r")n.push([c].concat(d));else for(;d.length>=a[v]&&(n.push([c].concat(d.splice(0,a[v]))),!!a[v]););return""}),n}var AL=/[a-z]/;function nd(o,a){return[a[0]+(a[0]-o[0]),a[1]+(a[1]-o[1])]}function So(o){var a=fS(o);if(!a||!a.length)return[["M",0,0]];for(var n=!1,s=0;s<a.length;s++){var c=a[s][0];if(AL.test(c)||["V","H","T","S"].indexOf(c)>=0){n=!0;break}}if(!n)return a;var f=[],d=0,v=0,y=0,b=0,S=0,C,T,k=a[0];(k[0]==="M"||k[0]==="m")&&(d=+k[1],v=+k[2],y=d,b=v,S++,f[0]=["M",d,v]);for(var s=S,R=a.length;s<R;s++){var D=a[s],V=f[s-1],j=[],c=D[0],H=c.toUpperCase();if(c!==H)switch(j[0]=H,H){case"A":j[1]=D[1],j[2]=D[2],j[3]=D[3],j[4]=D[4],j[5]=D[5],j[6]=+D[6]+d,j[7]=+D[7]+v;break;case"V":j[1]=+D[1]+v;break;case"H":j[1]=+D[1]+d;break;case"M":y=+D[1]+d,b=+D[2]+v,j[1]=y,j[2]=b;break;default:for(var Z=1,q=D.length;Z<q;Z++)j[Z]=+D[Z]+(Z%2?d:v)}else j=a[s];switch(H){case"Z":d=+y,v=+b;break;case"H":d=j[1],j=["L",d,v];break;case"V":v=j[1],j=["L",d,v];break;case"T":d=j[1],v=j[2];var K=nd([V[1],V[2]],[V[3],V[4]]);j=["Q",K[0],K[1],d,v];break;case"S":d=j[j.length-2],v=j[j.length-1];var Ct=V.length,Ft=nd([V[Ct-4],V[Ct-3]],[V[Ct-2],V[Ct-1]]);j=["C",Ft[0],Ft[1],j[1],j[2],d,v];break;case"M":y=j[j.length-2],b=j[j.length-1];break;default:d=j[j.length-2],v=j[j.length-1]}f.push(j)}return f}var n0=Math.PI*2,rd=function(o,a,n,s,c,f,d){var v=o.x,y=o.y;v*=a,y*=n;var b=s*v-c*y,S=c*v+s*y;return{x:b+f,y:S+d}},TL=function(o,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),s=Math.cos(o),c=Math.sin(o),f=Math.cos(o+a),d=Math.sin(o+a);return[{x:s-c*n,y:c+s*n},{x:f+d*n,y:d-f*n},{x:f,y:d}]},hS=function(o,a,n,s){var c=o*s-a*n<0?-1:1,f=o*n+a*s;return f>1&&(f=1),f<-1&&(f=-1),c*Math.acos(f)},EL=function(o,a,n,s,c,f,d,v,y,b,S,C){var T=Math.pow(c,2),k=Math.pow(f,2),R=Math.pow(S,2),D=Math.pow(C,2),V=T*k-T*D-k*R;V<0&&(V=0),V/=T*D+k*R,V=Math.sqrt(V)*(d===v?-1:1);var j=V*c/f*C,H=V*-f/c*S,Z=b*j-y*H+(o+n)/2,q=y*j+b*H+(a+s)/2,K=(S-j)/c,Ct=(C-H)/f,Ft=(-S-j)/c,Jt=(-C-H)/f,_e=hS(1,0,K,Ct),ge=hS(K,Ct,Ft,Jt);return v===0&&ge>0&&(ge-=n0),v===1&&ge<0&&(ge+=n0),[Z,q,_e,ge]},kL=function(o){var a=o.px,n=o.py,s=o.cx,c=o.cy,f=o.rx,d=o.ry,v=o.xAxisRotation,y=v===void 0?0:v,b=o.largeArcFlag,S=b===void 0?0:b,C=o.sweepFlag,T=C===void 0?0:C,k=[];if(f===0||d===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];var R=Math.sin(y*n0/360),D=Math.cos(y*n0/360),V=D*(a-s)/2+R*(n-c)/2,j=-R*(a-s)/2+D*(n-c)/2;if(V===0&&j===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];f=Math.abs(f),d=Math.abs(d);var H=Math.pow(V,2)/Math.pow(f,2)+Math.pow(j,2)/Math.pow(d,2);H>1&&(f*=Math.sqrt(H),d*=Math.sqrt(H));var Z=EL(a,n,s,c,f,d,S,T,R,D,V,j),q=Z[0],K=Z[1],Ct=Z[2],Ft=Z[3],Jt=Math.abs(Ft)/(n0/4);Math.abs(1-Jt)<1e-7&&(Jt=1);var _e=Math.max(Math.ceil(Jt),1);Ft/=_e;for(var ge=0;ge<_e;ge++)k.push(TL(Ct,Ft)),Ct+=Ft;return k.map(function(Be){var tn=rd(Be[0],f,d,D,R,q,K),vn=tn.x,Mn=tn.y,Pn=rd(Be[1],f,d,D,R,q,K),Ze=Pn.x,ln=Pn.y,dn=rd(Be[2],f,d,D,R,q,K),fn=dn.x,bn=dn.y;return{x1:vn,y1:Mn,x2:Ze,y2:ln,x:fn,y:bn}})};function I6(o,a,n,s,c,f,d,v,y){var b=kL({px:o,py:a,cx:v,cy:y,rx:n,ry:s,xAxisRotation:c,largeArcFlag:f,sweepFlag:d});return b.reduce(function(S,C){var T=C.x1,k=C.y1,R=C.x2,D=C.y2,V=C.x,j=C.y;return S.push(T,k,R,D,V,j),S},[])}function R6(o,a){"TQ".indexOf(o[0])<0&&(a.qx=null,a.qy=null);var n=o.slice(1),s=n[0],c=n[1];switch(o[0]){case"M":return a.x=s,a.y=c,o;case"A":return["C"].concat(arcToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"Q":return a.qx=s,a.qy=c,["C"].concat(quadToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"L":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],o[2]));case"H":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],a.y1));case"V":return["C"].concat(lineToCubic(a.x1,a.y1,a.x1,o[1]));case"Z":return["C"].concat(lineToCubic(a.x1,a.y1,a.x,a.y));default:}return o}function Em(o,a){a===void 0&&(a=!1);for(var n=path2Absolute(o),s={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},c=[],f="",d=n.length,v,y,b=[],S=0;S<d;S+=1)n[S]&&(f=n[S][0]),c[S]=f,n[S]=segmentToCubic(n[S],s),km(n,c,S),d=n.length,f==="Z"&&b.push(S),v=n[S],y=v.length,s.x1=+v[y-2],s.y1=+v[y-1],s.x2=+v[y-4]||s.x1,s.y2=+v[y-3]||s.y1;return a?[n,b]:n}function km(o,a,n){if(o[n].length>7){o[n].shift();for(var s=o[n],c=n;s.length;)a[n]="A",o.splice(c+=1,0,["C"].concat(s.splice(0,6)));o.splice(n,1)}}var gi=function(o,a,n,s,c){var f=-3*a+9*n-9*s+3*c,d=o*f+6*a-12*n+6*s;return o*d-3*a+3*n},ai=function(o,a,n,s,c,f,d,v,y){y===null&&(y=1),y=y>1?1:y<0?0:y;for(var b=y/2,S=12,C=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],T=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,R=0;R<S;R++){var D=b*C[R]+b,V=gi(D,o,n,c,d),j=gi(D,a,s,f,v),H=V*V+j*j;k+=T[R]*Math.sqrt(H)}return b*k},id=function(o,a,n,s,c,f,d,v){for(var y=[],b=[[],[]],S,C,T,k,R=0;R<2;++R){if(R===0?(C=6*o-12*n+6*c,S=-3*o+9*n-9*c+3*d,T=3*n-3*o):(C=6*a-12*s+6*f,S=-3*a+9*s-9*f+3*v,T=3*s-3*a),Math.abs(S)<1e-12){if(Math.abs(C)<1e-12)continue;k=-T/C,k>0&&k<1&&y.push(k);continue}var D=C*C-4*T*S,V=Math.sqrt(D);if(!(D<0)){var j=(-C+V)/(2*S);j>0&&j<1&&y.push(j);var H=(-C-V)/(2*S);H>0&&H<1&&y.push(H)}}for(var Z=y.length,q=Z,K;Z--;)k=y[Z],K=1-k,b[0][Z]=K*K*K*o+3*K*K*k*n+3*K*k*k*c+k*k*k*d,b[1][Z]=K*K*K*a+3*K*K*k*s+3*K*k*k*f+k*k*k*v;return b[0][q]=o,b[1][q]=a,b[0][q+1]=d,b[1][q+1]=v,b[0].length=b[1].length=q+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}},dS=function(o,a,n,s,c,f,d,v){if(!(Math.max(o,n)<Math.min(c,d)||Math.min(o,n)>Math.max(c,d)||Math.max(a,s)<Math.min(f,v)||Math.min(a,s)>Math.max(f,v))){var y=(o*s-a*n)*(c-d)-(o-n)*(c*v-f*d),b=(o*s-a*n)*(f-v)-(a-s)*(c*v-f*d),S=(o-n)*(f-v)-(a-s)*(c-d);if(S){var C=y/S,T=b/S,k=+C.toFixed(2),R=+T.toFixed(2);if(!(k<+Math.min(o,n).toFixed(2)||k>+Math.max(o,n).toFixed(2)||k<+Math.min(c,d).toFixed(2)||k>+Math.max(c,d).toFixed(2)||R<+Math.min(a,s).toFixed(2)||R>+Math.max(a,s).toFixed(2)||R<+Math.min(f,v).toFixed(2)||R>+Math.max(f,v).toFixed(2)))return{x:C,y:T}}}},jo=function(o,a,n){return a>=o.x&&a<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},r0=function(o,a,n,s){return o===null&&(o=a=n=s=0),a===null&&(a=o.y,n=o.width,s=o.height,o=o.x),{x:o,y:a,width:n,w:n,height:s,h:s,x2:o+n,y2:a+s,cx:o+n/2,cy:a+s/2,r1:Math.min(n,s)/2,r2:Math.max(n,s)/2,r0:Math.sqrt(n*n+s*s)/2,path:rectPath(o,a,n,s),vb:[o,a,n,s].join(" ")}},PL=function(o,a){return o=r0(o),a=r0(a),jo(a,o.x,o.y)||jo(a,o.x2,o.y)||jo(a,o.x,o.y2)||jo(a,o.x2,o.y2)||jo(o,a.x,a.y)||jo(o,a.x2,a.y)||jo(o,a.x,a.y2)||jo(o,a.x2,a.y2)||(o.x<a.x2&&o.x>a.x||a.x<o.x2&&a.x>o.x)&&(o.y<a.y2&&o.y>a.y||a.y<o.y2&&a.y>o.y)},ru=function(o,a,n,s,c,f,d,v){isArray(o)||(o=[o,a,n,s,c,f,d,v]);var y=id.apply(null,o);return r0(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},Pm=function(o,a,n,s,c,f,d,v,y){var b=1-y,S=Math.pow(b,3),C=Math.pow(b,2),T=y*y,k=T*y,R=S*o+C*3*y*n+b*3*y*y*c+k*d,D=S*a+C*3*y*s+b*3*y*y*f+k*v,V=o+2*y*(n-o)+T*(c-2*n+o),j=a+2*y*(s-a)+T*(f-2*s+a),H=n+2*y*(c-n)+T*(d-2*c+n),Z=s+2*y*(f-s)+T*(v-2*f+s),q=b*o+y*n,K=b*a+y*s,Ct=b*c+y*d,Ft=b*f+y*v,Jt=90-Math.atan2(V-H,j-Z)*180/Math.PI;return{x:R,y:D,m:{x:V,y:j},n:{x:H,y:Z},start:{x:q,y:K},end:{x:Ct,y:Ft},alpha:Jt}},F6=function(o,a,n){var s=ru(o),c=ru(a);if(!PL(s,c))return n?0:[];for(var f=ai.apply(0,o),d=ai.apply(0,a),v=~~(f/8),y=~~(d/8),b=[],S=[],C={},T=n?0:[],k=0;k<v+1;k++){var R=Pm.apply(0,o.concat(k/v));b.push({x:R.x,y:R.y,t:k/v})}for(var k=0;k<y+1;k++){var R=Pm.apply(0,a.concat(k/y));S.push({x:R.x,y:R.y,t:k/y})}for(var k=0;k<v;k++)for(var D=0;D<y;D++){var V=b[k],j=b[k+1],H=S[D],Z=S[D+1],q=Math.abs(j.x-V.x)<.001?"y":"x",K=Math.abs(Z.x-H.x)<.001?"y":"x",Ct=dS(V.x,V.y,j.x,j.y,H.x,H.y,Z.x,Z.y);if(Ct){if(C[Ct.x.toFixed(4)]===Ct.y.toFixed(4))continue;C[Ct.x.toFixed(4)]=Ct.y.toFixed(4);var Ft=V.t+Math.abs((Ct[q]-V[q])/(j[q]-V[q]))*(j.t-V.t),Jt=H.t+Math.abs((Ct[K]-H[K])/(Z[K]-H[K]))*(Z.t-H.t);Ft>=0&&Ft<=1&&Jt>=0&&Jt<=1&&(n?T++:T.push({x:Ct.x,y:Ct.y,t1:Ft,t2:Jt}))}}return T},LL=function(o,a,n){o=path2Curve(o),a=path2Curve(a);for(var s,c,f,d,v,y,b,S,C,T,k=n?0:[],R=0,D=o.length;R<D;R++){var V=o[R];if(V[0]==="M")s=v=V[1],c=y=V[2];else{V[0]==="C"?(C=[s,c].concat(V.slice(1)),s=C[6],c=C[7]):(C=[s,c,s,c,v,y,v,y],s=v,c=y);for(var j=0,H=a.length;j<H;j++){var Z=a[j];if(Z[0]==="M")f=b=Z[1],d=S=Z[2];else{Z[0]==="C"?(T=[f,d].concat(Z.slice(1)),f=T[6],d=T[7]):(T=[f,d,f,d,b,S,b,S],f=b,d=S);var q=F6(C,T,n);if(n)k+=q;else{for(var K=0,Ct=q.length;K<Ct;K++)q[K].segment1=R,q[K].segment2=j,q[K].bez1=C,q[K].bez2=T;k=k.concat(q)}}}}}return k};function Lm(o,a){return LL(o,a)}function yf(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Im(o,a){return yf(o)*yf(a)?(o[0]*a[0]+o[1]*a[1])/(yf(o)*yf(a)):1}function pS(o,a){return(o[0]*a[1]<o[1]*a[0]?-1:1)*Math.acos(Im(o,a))}function vS(o,a){return o[0]===a[0]&&o[1]===a[1]}function Rm(o,a){var n=a[1],s=a[2],c=(0,_.wQ)((0,_.c$)(a[3]),Math.PI*2),f=a[4],d=a[5],v=o[0],y=o[1],b=a[6],S=a[7],C=Math.cos(c)*(v-b)/2+Math.sin(c)*(y-S)/2,T=-1*Math.sin(c)*(v-b)/2+Math.cos(c)*(y-S)/2,k=C*C/(n*n)+T*T/(s*s);k>1&&(n*=Math.sqrt(k),s*=Math.sqrt(k));var R=n*n*(T*T)+s*s*(C*C),D=R?Math.sqrt((n*n*(s*s)-R)/R):1;f===d&&(D*=-1),isNaN(D)&&(D=0);var V=s?D*n*T/s:0,j=n?D*-s*C/n:0,H=(v+b)/2+Math.cos(c)*V-Math.sin(c)*j,Z=(y+S)/2+Math.sin(c)*V+Math.cos(c)*j,q=[(C-V)/n,(T-j)/s],K=[(-1*C-V)/n,(-1*T-j)/s],Ct=pS([1,0],q),Ft=pS(q,K);return Im(q,K)<=-1&&(Ft=Math.PI),Im(q,K)>=1&&(Ft=0),d===0&&Ft>0&&(Ft=Ft-2*Math.PI),d===1&&Ft<0&&(Ft=Ft+2*Math.PI),{cx:H,cy:Z,rx:vS(o,[b,S])?0:n,ry:vS(o,[b,S])?0:s,startAngle:Ct,endAngle:Ct+Ft,xRotation:c,arcFlag:f,sweepFlag:d}}function Fm(o,a){return[a[0]+(a[0]-o[0]),a[1]+(a[1]-o[1])]}function gS(o){o=_L(o);for(var a=[],n=null,s=null,c=null,f=0,d=o.length,v=0;v<d;v++){var y=o[v];s=o[v+1];var b=y[0],S={command:b,prePoint:n,params:y,startTangent:null,endTangent:null};switch(b){case"M":c=[y[1],y[2]],f=v;break;case"A":var C=Rm(n,y);S.arcParams=C;break;default:break}if(b==="Z")n=c,s=o[f+1];else{var T=y.length;n=[y[T-2],y[T-1]]}s&&s[0]==="Z"&&(s=o[f],a[f]&&(a[f].prePoint=n)),S.currentPoint=n,a[f]&&vS(n,a[f].currentPoint)&&(a[f].prePoint=S.prePoint);var k=s?[s[s.length-2],s[s.length-1]]:null;S.nextPoint=k;var R=S.prePoint;if(["L","H","V"].includes(b))S.startTangent=[R[0]-n[0],R[1]-n[1]],S.endTangent=[n[0]-R[0],n[1]-R[1]];else if(b==="Q"){var D=[y[1],y[2]];S.startTangent=[R[0]-D[0],R[1]-D[1]],S.endTangent=[n[0]-D[0],n[1]-D[1]]}else if(b==="T"){var V=a[v-1],D=Fm(V.currentPoint,R);V.command==="Q"?(S.command="Q",S.startTangent=[R[0]-D[0],R[1]-D[1]],S.endTangent=[n[0]-D[0],n[1]-D[1]]):(S.command="TL",S.startTangent=[R[0]-n[0],R[1]-n[1]],S.endTangent=[n[0]-R[0],n[1]-R[1]])}else if(b==="C"){var j=[y[1],y[2]],H=[y[3],y[4]];S.startTangent=[R[0]-j[0],R[1]-j[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]],S.startTangent[0]===0&&S.startTangent[1]===0&&(S.startTangent=[j[0]-H[0],j[1]-H[1]]),S.endTangent[0]===0&&S.endTangent[1]===0&&(S.endTangent=[H[0]-j[0],H[1]-j[1]])}else if(b==="S"){var V=a[v-1],j=Fm(V.currentPoint,R),H=[y[1],y[2]];V.command==="C"?(S.command="C",S.startTangent=[R[0]-j[0],R[1]-j[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]]):(S.command="SQ",S.startTangent=[R[0]-H[0],R[1]-H[1]],S.endTangent=[n[0]-H[0],n[1]-H[1]])}else if(b==="A"){var Z=.001,q=S.arcParams||{},K=q.cx,Ct=K===void 0?0:K,Ft=q.cy,Jt=Ft===void 0?0:Ft,_e=q.rx,ge=_e===void 0?0:_e,Be=q.ry,tn=Be===void 0?0:Be,vn=q.sweepFlag,Mn=vn===void 0?0:vn,Pn=q.startAngle,Ze=Pn===void 0?0:Pn,ln=q.endAngle,dn=ln===void 0?0:ln;Mn===0&&(Z*=-1);var fn=ge*Math.cos(Ze-Z)+Ct,bn=tn*Math.sin(Ze-Z)+Jt;S.startTangent=[fn-c[0],bn-c[1]];var Bn=ge*Math.cos(Ze+dn+Z)+Ct,tr=tn*Math.sin(Ze+dn-Z)+Jt;S.endTangent=[R[0]-Bn,R[1]-tr]}a.push(S)}return a}function Dm(o){for(var a=[],n=o.length,s=0;s<n-1;s++){var c=o[s],f=o[s+1];a.push({from:{x:c[0],y:c[1]},to:{x:f[0],y:f[1]}})}if(a.length>1){var d=o[0],v=o[n-1];a.push({from:{x:v[0],y:v[1]},to:{x:d[0],y:d[1]}})}return a}function ad(o,a){var n=!1;return each(o,function(s){if(getLineIntersect(s.from,s.to,a.from,a.to))return n=!0,!1}),n}function oi(o){var a=o.map(function(s){return s[0]}),n=o.map(function(s){return s[1]});return{minX:Math.min.apply(null,a),maxX:Math.max.apply(null,a),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function i0(o,a){return!(a.minX>o.maxX||a.maxX<o.minX||a.minY>o.maxY||a.maxY<o.minY)}function IL(o,a){if(o.length<2||a.length<2)return!1;var n=oi(o),s=oi(a);if(!i0(n,s))return!1;var c=!1;if(each(a,function(y){if(isPointInPolygon(o,y[0],y[1]))return c=!0,!1}),c||(each(o,function(y){if(isPointInPolygon(a,y[0],y[1]))return c=!0,!1}),c))return!0;var f=Dm(o),d=Dm(a),v=!1;return each(d,function(y){if(ad(f,y))return v=!0,!1}),v}var D6={circle:function(o,a,n){return[["M",o-n,a],["A",n,n,0,1,0,o+n,a],["A",n,n,0,1,0,o-n,a]]},square:function(o,a,n){return[["M",o-n,a-n],["L",o+n,a-n],["L",o+n,a+n],["L",o-n,a+n],["Z"]]},diamond:function(o,a,n){return[["M",o-n,a],["L",o,a-n],["L",o+n,a],["L",o,a+n],["Z"]]},triangle:function(o,a,n){var s=n*Math.sin(.3333333333333333*Math.PI);return[["M",o-n,a+s],["L",o,a-s],["L",o+n,a+s],["Z"]]},"triangle-down":function(o,a,n){var s=n*Math.sin(.3333333333333333*Math.PI);return[["M",o-n,a-s],["L",o+n,a-s],["L",o,a+s],["Z"]]}},B6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.initAttrs=function(n){this._resetParamsCache()},a.prototype._resetParamsCache=function(){this.set("paramsCache",{})},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),["symbol","x","y","r","radius"].indexOf(n)!==-1&&this._resetParamsCache()},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._getR=function(n){return(0,_.UM)(n.r)?n.radius:n.r},a.prototype._getPath=function(){var n=this.attr(),s=n.x,c=n.y,f=n.symbol||"circle",d=this._getR(n),v,y;if((0,_.mf)(f))v=f,y=v(s,c,d),y=So(y);else{if(v=a.Symbols[f],!v)return console.warn(f+" marker is not supported."),null;y=v(s,c,d)}return y},a.prototype.createPath=function(n){var s=this._getPath(),c=this.get("paramsCache");bm(this,n,{path:s},c)},a.Symbols=D6,a}(as),Bm=B6;function a0(o,a,n){var s=(0,Ot.getOffScreenContext)();return o.createPath(s),s.isPointInPath(a,n)}var N6=1e-6;function yS(o){return Math.abs(o)<N6?0:o<0?-1:1}function mS(o,a,n){return(n[0]-o[0])*(a[1]-o[1])===(a[0]-o[0])*(n[1]-o[1])&&Math.min(o[0],a[0])<=n[0]&&n[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=n[1]&&n[1]<=Math.max(o[1],a[1])}function iu(o,a,n){var s=!1,c=o.length;if(c<=2)return!1;for(var f=0;f<c;f++){var d=o[f],v=o[(f+1)%c];if(mS(d,v,[a,n]))return!0;yS(d[1]-n)>0!=yS(v[1]-n)>0&&yS(a-(n-d[1])*(d[0]-v[0])/(d[1]-v[1])-d[0])<0&&(s=!s)}return s}function od(o,a,n,s,c,f,d,v){var y=(Math.atan2(v-a,d-o)+Math.PI*2)%(Math.PI*2);if(y<s||y>c)return!1;var b={x:o+n*Math.cos(y),y:a+n*Math.sin(y)};return Vv(b.x,b.y,d,v)<=f/2}var RL=Dr.vs;function xS(o){for(var a=!1,n=o.length,s=0;s<n;s++){var c=o[s],f=c[0];if(f==="C"||f==="A"||f==="Q"){a=!0;break}}return a}function FL(o,a,n,s,c){for(var f=!1,d=a/2,v=0;v<o.length;v++){var y=o[v],b=y.currentPoint,S=y.params,C=y.prePoint,T=y.box;if(!(T&&!Vl(T.x-d,T.y-d,T.width+a,T.height+a,n,s))){switch(y.command){case"L":case"Z":f=Es(C[0],C[1],b[0],b[1],a,n,s);break;case"Q":var k=bL.pointDistance(C[0],C[1],S[1],S[2],S[3],S[4],n,s);f=k<=a/2;break;case"C":var R=Yl.pointDistance(C[0],C[1],S[1],S[2],S[3],S[4],S[5],S[6],n,s,c);f=R<=a/2;break;case"A":var D=y.arcParams,V=D.cx,j=D.cy,H=D.rx,Z=D.ry,q=D.startAngle,K=D.endAngle,Ct=D.xRotation,Ft=[n,s,1],Jt=H>Z?H:Z,_e=H>Z?1:H/Z,ge=H>Z?Z/H:1,Be=RL(null,[["t",-V,-j],["r",-Ct],["s",1/_e,1/ge]]);wh.kK(Ft,Ft,Be),f=od(0,0,Jt,q,K,a,Ft[0],Ft[1]);break;default:break}if(f)break}}return f}function bS(o){for(var a=o.length,n=[],s=[],c=[],f=0;f<a;f++){var d=o[f],v=d[0];v==="M"?(c.length&&(s.push(c),c=[]),c.push([d[1],d[2]])):v==="Z"?c.length&&(n.push(c),c=[]):c.push([d[1],d[2]])}return c.length>0&&s.push(c),{polygons:n,polylines:s}}var o0=(0,L.pi)({hasArc:xS,extractPolygons:bS,isPointInStroke:FL},Ot.PathUtil);function Xl(o,a,n){for(var s=!1,c=0;c<o.length;c++){var f=o[c];if(s=iu(f,a,n),s)break}return s}var Nm=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(n){this._setPathArr(n.path),this.setArrow()},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),n==="path"&&this._setPathArr(s),this.setArrow()},a.prototype._setPathArr=function(n){this.attrs.path=So(n);var s=o0.hasArc(n);this.set("hasArc",s),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},a.prototype.getSegments=function(){var n=this.get("segements");return n||(n=gS(this.attr("path")),this.set("segments",n)),n},a.prototype.setArrow=function(){var n=this.attr(),s=n.startArrow,c=n.endArrow;if(s){var f=this.getStartTangent();pm(this,n,f[0][0],f[0][1],f[1][0],f[1][1])}if(c){var f=this.getEndTangent();vm(this,n,f[0][0],f[0][1],f[1][0],f[1][1])}},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){var v=this.getSegments(),y=this.get("hasArc"),b=!1;if(c){var S=this.getTotalLength();b=o0.isPointInStroke(v,d,n,s,S)}if(!b&&f)if(y)b=a0(this,n,s);else{var C=this.attr("path"),T=o0.extractPolygons(C);b=Xl(T.polygons,n,s)||Xl(T.polylines,n,s)}return b},a.prototype.createPath=function(n){var s=this.attr(),c=this.get("paramsCache");bm(this,n,s,c)},a.prototype.afterDrawPath=function(n){var s=this.get("startArrowShape"),c=this.get("endArrowShape");s&&s.draw(n),c&&c.draw(n)},a.prototype.getTotalLength=function(){var n=this.get("totalLength");return(0,_.UM)(n)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):n},a.prototype.getPoint=function(n){var s=this.get("tCache");s||(this._calculateCurve(),this._setTcache(),s=this.get("tCache"));var c,f,d=this.get("curve");if(!s||s.length===0)return d?{x:d[0][1],y:d[0][2]}:null;(0,_.S6)(s,function(S,C){n>=S[0]&&n<=S[1]&&(c=(n-S[0])/(S[1]-S[0]),f=C)});var v=d[f];if((0,_.UM)(v)||(0,_.UM)(f))return null;var y=v.length,b=d[f+1];return Yl.pointAt(v[y-2],v[y-1],b[1],b[2],b[3],b[4],b[5],b[6],c)},a.prototype._calculateCurve=function(){var n=this.attr().path;this.set("curve",o0.pathToCurve(n))},a.prototype._setTcache=function(){var n=0,s=0,c=[],f,d,v,y,b=this.get("curve");if(b){if((0,_.S6)(b,function(S,C){v=b[C+1],y=S.length,v&&(n+=Yl.length(S[y-2],S[y-1],v[1],v[2],v[3],v[4],v[5],v[6])||0)}),this.set("totalLength",n),n===0){this.set("tCache",[]);return}(0,_.S6)(b,function(S,C){v=b[C+1],y=S.length,v&&(f=[],f[0]=s/n,d=Yl.length(S[y-2],S[y-1],v[1],v[2],v[3],v[4],v[5],v[6]),s+=d||0,f[1]=s/n,c.push(f))}),this.set("tCache",c)}},a.prototype.getStartTangent=function(){var n=this.getSegments(),s;if(n.length>1){var c=n[0].currentPoint,f=n[1].currentPoint,d=n[1].startTangent;s=[],d?(s.push([c[0]-d[0],c[1]-d[1]]),s.push([c[0],c[1]])):(s.push([f[0],f[1]]),s.push([c[0],c[1]]))}return s},a.prototype.getEndTangent=function(){var n=this.getSegments(),s=n.length,c;if(s>1){var f=n[s-2].currentPoint,d=n[s-1].currentPoint,v=n[s-1].endTangent;c=[],v?(c.push([d[0]-v[0],d[1]-v[1]]),c.push([d[0],d[1]])):(c.push([f[0],f[1]]),c.push([d[0],d[1]]))}return c},a}(as),zm=Nm;function sd(o,a,n,s,c){var f=o.length;if(f<2)return!1;for(var d=0;d<f-1;d++){var v=o[d][0],y=o[d][1],b=o[d+1][0],S=o[d+1][1];if(Es(v,y,b,S,a,n,s))return!0}if(c){var C=o[0],T=o[f-1];if(Es(C[0],C[1],T[0],T[1],a,n,s))return!0}return!1}var s0=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.isInStrokeOrPath=function(n,s,c,f,d){var v=this.attr().points,y=!1;return c&&(y=sd(v,d,n,s,!0)),!y&&f&&(y=iu(v,n,s)),y},a.prototype.createPath=function(n){var s=this.attr(),c=s.points;if(!(c.length<2)){n.beginPath();for(var f=0;f<c.length;f++){var d=c[f];f===0?n.moveTo(d[0],d[1]):n.lineTo(d[0],d[1])}n.closePath()}},a}(as),jm=s0,yi=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(n){this.setArrow()},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),this.setArrow(),["points"].indexOf(n)!==-1&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.setArrow=function(){var n=this.attr(),s=this.attrs,c=s.points,f=s.startArrow,d=s.endArrow,v=c.length,y=c[0][0],b=c[0][1],S=c[v-1][0],C=c[v-1][1];f&&pm(this,n,c[1][0],c[1][1],y,b),d&&vm(this,n,c[v-2][0],c[v-2][1],S,C)},a.prototype.isFill=function(){return!1},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){if(!c||!d)return!1;var v=this.attr().points;return sd(v,d,n,s,!1)},a.prototype.isStroke=function(){return!0},a.prototype.createPath=function(n){var s=this.attr(),c=s.points,f=s.startArrow,d=s.endArrow,v=c.length;if(!(c.length<2)){var y=c[0][0],b=c[0][1],S=c[v-1][0],C=c[v-1][1];if(f&&f.d){var T=tu(y,b,c[1][0],c[1][1],f.d);y+=T.dx,b+=T.dy}if(d&&d.d){var T=tu(c[v-2][0],c[v-2][1],S,C,d.d);S-=T.dx,C-=T.dy}n.beginPath(),n.moveTo(y,b);for(var k=0;k<v-1;k++){var R=c[k];n.lineTo(R[0],R[1])}n.lineTo(S,C)}},a.prototype.afterDrawPath=function(n){var s=this.get("startArrowShape"),c=this.get("endArrowShape");s&&s.draw(n),c&&c.draw(n)},a.prototype.getTotalLength=function(){var n=this.attr().points,s=this.get("totalLength");return(0,_.UM)(s)?(this.set("totalLength",pa.length(n)),this.get("totalLength")):s},a.prototype.getPoint=function(n){var s=this.attr().points,c=this.get("tCache");c||(this._setTcache(),c=this.get("tCache"));var f,d;return(0,_.S6)(c,function(v,y){n>=v[0]&&n<=v[1]&&(f=(n-v[0])/(v[1]-v[0]),d=y)}),Ha.pointAt(s[d][0],s[d][1],s[d+1][0],s[d+1][1],f)},a.prototype._setTcache=function(){var n=this.attr().points;if(!(!n||n.length===0)){var s=this.getTotalLength();if(!(s<=0)){var c=0,f=[],d,v;(0,_.S6)(n,function(y,b){n[b+1]&&(d=[],d[0]=c/s,v=Ha.length(y[0],y[1],n[b+1][0],n[b+1][1]),c+=v,d[1]=c/s,f.push(d))}),this.set("tCache",f)}}},a.prototype.getStartTangent=function(){var n=this.attr().points,s=[];return s.push([n[1][0],n[1][1]]),s.push([n[0][0],n[0][1]]),s},a.prototype.getEndTangent=function(){var n=this.attr().points,s=n.length-1,c=[];return c.push([n[s-1][0],n[s-1][1]]),c.push([n[s][0],n[s][1]]),c},a}(as),z6=yi;function DL(o,a,n,s,c,f,d){var v=c/2;return Vl(o-v,a-v,n,c,f,d)||Vl(o+n-v,a-v,c,s,f,d)||Vl(o+v,a+s-v,n,c,f,d)||Vl(o-v,a+v,c,s,f,d)}function BL(o,a,n,s,c,f,d,v){var y=f/2;return Es(o+c,a,o+n-c,a,f,d,v)||Es(o+n,a+c,o+n,a+s-c,f,d,v)||Es(o+n-c,a+s,o+c,a+s,f,d,v)||Es(o,a+s-c,o,a+c,f,d,v)||od(o+n-c,a+c,c,1.5*Math.PI,2*Math.PI,f,d,v)||od(o+n-c,a+s-c,c,0,.5*Math.PI,f,d,v)||od(o+c,a+s-c,c,.5*Math.PI,Math.PI,f,d,v)||od(o+c,a+c,c,Math.PI,1.5*Math.PI,f,d,v)}var kn=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.isInStrokeOrPath=function(n,s,c,f,d){var v=this.attr(),y=v.x,b=v.y,S=v.width,C=v.height,T=v.radius;if(T){var R=!1;return c&&(R=BL(y,b,S,C,T,d,n,s)),!R&&f&&(R=a0(this,n,s)),R}else{var k=d/2;if(f&&c)return Vl(y-k,b-k,S+k,C+k,n,s);if(f)return Vl(y,b,S,C,n,s);if(c)return DL(y,b,S,C,d,n,s)}},a.prototype.createPath=function(n){var s=this.attr(),c=s.x,f=s.y,d=s.width,v=s.height,y=s.radius;if(n.beginPath(),y===0)n.rect(c,f,d,v);else{var b=Hv(y),S=b[0],C=b[1],T=b[2],k=b[3];n.moveTo(c+S,f),n.lineTo(c+d-C,f),C!==0&&n.arc(c+d-C,f+C,C,-Math.PI/2,0),n.lineTo(c+d,f+v-T),T!==0&&n.arc(c+d-T,f+v-T,T,0,Math.PI/2),n.lineTo(c+k,f+v),k!==0&&n.arc(c+k,f+v-k,k,Math.PI/2,Math.PI),n.lineTo(c,f+S),S!==0&&n.arc(c+S,f+S,S,Math.PI,Math.PI*1.5),n.closePath()}},a}(as),wS=kn,j6=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.isOnlyHitBox=function(){return!0},a.prototype.initAttrs=function(n){this._assembleFont(),n.text&&this._setText(n.text)},a.prototype._assembleFont=function(){var n=this.attrs;n.font=(0,Ot.assembleFont)(n)},a.prototype._setText=function(n){var s=null;(0,_.HD)(n)&&n.indexOf(`
`)!==-1&&(s=n.split(`
`)),this.set("textArr",s)},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),n.startsWith("font")&&this._assembleFont(),n==="text"&&this._setText(s)},a.prototype._getSpaceingY=function(){var n=this.attrs,s=n.lineHeight,c=n.fontSize*1;return s?s-c:c*.14},a.prototype._drawTextArr=function(n,s,c){var f=this.attrs,d=f.textBaseline,v=f.x,y=f.y,b=f.fontSize*1,S=this._getSpaceingY(),C=(0,Ot.getTextHeight)(f.text,f.fontSize,f.lineHeight),T;(0,_.S6)(s,function(k,R){T=y+R*(S+b)-C+b,d==="middle"&&(T+=C-b-(C-b)/2),d==="top"&&(T+=C-b),(0,_.UM)(k)||(c?n.fillText(k,v,T):n.strokeText(k,v,T))})},a.prototype._drawText=function(n,s){var c=this.attr(),f=c.x,d=c.y,v=this.get("textArr");if(v)this._drawTextArr(n,v,s);else{var y=c.text;(0,_.UM)(y)||(s?n.fillText(y,f,d):n.strokeText(y,f,d))}},a.prototype.strokeAndFill=function(n){var s=this.attrs,c=s.lineWidth,f=s.opacity,d=s.strokeOpacity,v=s.fillOpacity;this.isStroke()&&c>0&&(!(0,_.UM)(d)&&d!==1&&(n.globalAlpha=f),this.stroke(n)),this.isFill()&&(!(0,_.UM)(v)&&v!==1?(n.globalAlpha=v,this.fill(n),n.globalAlpha=f):this.fill(n)),this.afterDrawPath(n)},a.prototype.fill=function(n){this._drawText(n,!0)},a.prototype.stroke=function(n){this._drawText(n,!1)},a}(as),NL=j6;function Gm(o,a){if(a){var n=(0,Ot.invert)(a);return(0,Ot.multiplyVec2)(n,o)}return o}function Wm(o,a,n){var s=o.getTotalMatrix();if(s){var c=Gm([a,n,1],s),f=c[0],d=c[1];return[f,d]}return[a,n]}function mf(o,a,n){if(o.isCanvas&&o.isCanvas())return!0;if(!(0,Ot.isAllowCapture)(o)||o.cfg.isInView===!1)return!1;if(o.cfg.clipShape){var s=Wm(o,a,n),c=s[0],f=s[1];if(o.isClipped(c,f))return!1}var d=o.cfg.cacheCanvasBBox||o.getCanvasBBox();return a>=d.minX&&a<=d.maxX&&n>=d.minY&&n<=d.maxY}function Ps(o,a,n){if(!mf(o,a,n))return null;for(var s=null,c=o.getChildren(),f=c.length,d=f-1;d>=0;d--){var v=c[d];if(v.isGroup())s=Ps(v,a,n);else if(mf(v,a,n)){var y=v,b=Wm(v,a,n),S=b[0],C=b[1];y.isInShape(S,C)&&(s=v)}if(s)break}return s}var MS=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){var n=o.prototype.getDefaultCfg.call(this);return n.renderer="canvas",n.autoDraw=!0,n.localRefresh=!0,n.refreshElements=[],n.clipView=!0,n.quickHit=!1,n},a.prototype.onCanvasChange=function(n){(n==="attr"||n==="sort"||n==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},a.prototype.getShapeBase=function(){return fe},a.prototype.getGroupBase=function(){return wm},a.prototype.getPixelRatio=function(){var n=this.get("pixelRatio")||$h();return n>=1?Math.ceil(n):1},a.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},a.prototype.createDom=function(){var n=document.createElement("canvas"),s=n.getContext("2d");return this.set("context",s),n},a.prototype.setDOMSize=function(n,s){o.prototype.setDOMSize.call(this,n,s);var c=this.get("context"),f=this.get("el"),d=this.getPixelRatio();f.width=d*n,f.height=d*s,d>1&&c.scale(d,d)},a.prototype.clear=function(){o.prototype.clear.call(this),this._clearFrame();var n=this.get("context"),s=this.get("el");n.clearRect(0,0,s.width,s.height)},a.prototype.getShape=function(n,s){var c;return this.get("quickHit")?c=Ps(this,n,s):c=o.prototype.getShape.call(this,n,s,null),c},a.prototype._getRefreshRegion=function(){var n=this.get("refreshElements"),s=this.getViewRange(),c;if(n.length&&n[0]===this)c=s;else if(c=dL(n),c){c.minX=Math.floor(c.minX),c.minY=Math.floor(c.minY),c.maxX=Math.ceil(c.maxX),c.maxY=Math.ceil(c.maxY),c.maxY+=1;var f=this.get("clipView");f&&(c=pL(c,s))}return c},a.prototype.refreshElement=function(n){var s=this.get("refreshElements");s.push(n)},a.prototype._clearFrame=function(){var n=this.get("drawFrame");n&&((0,_.VS)(n),this.set("drawFrame",null),this.set("refreshElements",[]))},a.prototype.draw=function(){var n=this.get("drawFrame");this.get("autoDraw")&&n||this._startDraw()},a.prototype._drawAll=function(){var n=this.get("context"),s=this.get("el"),c=this.getChildren();n.clearRect(0,0,s.width,s.height),hf(n,this),gm(n,c),this.set("refreshElements",[])},a.prototype._drawRegion=function(){var n=this.get("context"),s=this.get("refreshElements"),c=this.getChildren(),f=this._getRefreshRegion();f?(n.clearRect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),n.save(),n.beginPath(),n.rect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),n.clip(),hf(n,this),fL(this,c,f),gm(n,c,f),n.restore()):s.length&&mm(s),(0,_.S6)(s,function(d){d.get("hasChanged")&&d.set("hasChanged",!1)}),this.set("refreshElements",[])},a.prototype._startDraw=function(){var n=this,s=this.get("drawFrame");s||(s=(0,_.U7)(function(){n.get("localRefresh")?n._drawRegion():n._drawAll(),n.set("drawFrame",null)}),this.set("drawFrame",s))},a.prototype.skipDraw=function(){},a.prototype.removeDom=function(){var n=this.get("el");n.width=0,n.height=0,n.parentNode.removeChild(n)},a}(Ot.AbstractCanvas),Jn=MS,Ii="0.5.12",ui={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},gr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},mi=null;function Si(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function au(o){var a=ui[o.type],n=o.getParent();if(!a)throw new Error("the type "+o.type+" is not supported by svg");var s=Si(a);if(o.get("id")&&(s.id=o.get("id")),o.set("el",s),o.set("attrs",{}),n){var c=n.get("el");c||(c=n.createDom(),n.set("el",c)),c.appendChild(s)}return s}function Vm(o,a){var n=o.get("el"),s=(0,_.qo)(n.children).sort(a),c=document.createDocumentFragment();s.forEach(function(f){c.appendChild(f)}),n.appendChild(c)}function Hm(o,a){var n=o.parentNode,s=Array.from(n.childNodes).filter(function(v){return v.nodeType===1&&v.nodeName.toLowerCase()!=="defs"}),c=s[a],f=s.indexOf(o);if(c){if(f>a)n.insertBefore(o,c);else if(f<a){var d=s[a+1];d?n.insertBefore(o,d):n.appendChild(o)}}else n.appendChild(o)}function SS(o,a){var n=o.cfg.el,s=o.attr(),c={dx:s.shadowOffsetX,dy:s.shadowOffsetY,blur:s.shadowBlur,color:s.shadowColor};if(!c.dx&&!c.dy&&!c.blur&&!c.color)n.removeAttribute("filter");else{var f=a.find("filter",c);f||(f=a.addShadow(c)),n.setAttribute("filter","url(#"+f+")")}}function xf(o){var a=o.attr().matrix;if(a){for(var n=o.cfg.el,s=[],c=0;c<9;c+=3)s.push(a[c]+","+a[c+1]);s=s.join(","),s.indexOf("NaN")===-1?n.setAttribute("transform","matrix("+s+")"):console.warn("invalid matrix:",a)}}function Go(o,a){var n=o.getClip(),s=o.get("el");if(!n)s.removeAttribute("clip-path");else if(n&&!s.hasAttribute("clip-path")){au(n),n.createPath(a);var c=a.addClip(n);s.setAttribute("clip-path","url(#"+c+")")}}function ou(o,a){a.forEach(function(n){n.draw(o)})}function _S(o,a){var n=o.get("canvas");if(n&&n.get("autoDraw")){var s=n.get("context"),c=o.getParent(),f=c?c.getChildren():[n],d=o.get("el");if(a==="remove"){var v=o.get("isClipShape");if(v){var y=d&&d.parentNode,b=y&&y.parentNode;y&&b&&b.removeChild(y)}else d&&d.parentNode&&d.parentNode.removeChild(d)}else if(a==="show")d.setAttribute("visibility","visible");else if(a==="hide")d.setAttribute("visibility","hidden");else if(a==="zIndex")Hm(d,f.indexOf(o));else if(a==="sort"){var S=o.get("children");S&&S.length&&Vm(o,function(C,T){return S.indexOf(C)-S.indexOf(T)?1:0})}else a==="clear"?d&&(d.innerHTML=""):a==="matrix"?xf(o):a==="clip"?Go(o,s):a==="attr"||a==="add"&&o.draw(s)}}var Ym=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.isEntityGroup=function(){return!0},a.prototype.createDom=function(){var n=Si("g");this.set("el",n);var s=this.getParent();if(s){var c=s.get("el");c||(c=s.createDom(),s.set("el",c)),c.appendChild(n)}return n},a.prototype.afterAttrsChange=function(n){o.prototype.afterAttrsChange.call(this,n);var s=this.get("canvas");if(s&&s.get("autoDraw")){var c=s.get("context");this.createPath(c,n)}},a.prototype.onCanvasChange=function(n){_S(this,n)},a.prototype.getShapeBase=function(){return ue},a.prototype.getGroupBase=function(){return a},a.prototype.draw=function(n){var s=this.getChildren(),c=this.get("el");this.get("destroyed")?c&&c.parentNode.removeChild(c):(c||this.createDom(),Go(this,n),this.createPath(n),s.length&&ou(n,s))},a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){gr[v]&&f.setAttribute(gr[v],d)}),xf(this)},a}(Ot.AbstractGroup),ld=Ym,Um=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="svg",n.canFill=!1,n.canStroke=!1,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.afterAttrsChange=function(n){o.prototype.afterAttrsChange.call(this,n);var s=this.get("canvas");if(s&&s.get("autoDraw")){var c=s.get("context");this.draw(c,n)}},a.prototype.getShapeBase=function(){return ue},a.prototype.getGroupBase=function(){return ld},a.prototype.onCanvasChange=function(n){_S(this,n)},a.prototype.calculateBBox=function(){var n=this.get("el"),s=null;if(n)s=n.getBBox();else{var c=(0,Ot.getBBoxMethod)(this.get("type"));c&&(s=c(this))}if(s){var f=s.x,d=s.y,v=s.width,y=s.height,b=this.getHitLineWidth(),S=b/2,C=f-S,T=d-S,k=f+v+S,R=d+y+S;return{x:C,y:T,minX:C,minY:T,maxX:k,maxY:R,width:v+b,height:y+b}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},a.prototype.isFill=function(){var n=this.attr(),s=n.fill,c=n.fillStyle;return(s||c||this.isClipShape())&&this.canFill},a.prototype.isStroke=function(){var n=this.attr(),s=n.stroke,c=n.strokeStyle;return(s||c)&&this.canStroke},a.prototype.draw=function(n,s){var c=this.get("el");this.get("destroyed")?c&&c.parentNode.removeChild(c):(c||au(this),Go(this,n),this.createPath(n,s),this.shadow(n,s),this.strokeAndFill(n,s),this.transform(s))},a.prototype.createPath=function(n,s){},a.prototype.strokeAndFill=function(n,s){var c=s||this.attr(),f=c.fill,d=c.fillStyle,v=c.stroke,y=c.strokeStyle,b=c.fillOpacity,S=c.strokeOpacity,C=c.lineWidth,T=this.get("el");this.canFill&&(s?"fill"in c?this._setColor(n,"fill",f):"fillStyle"in c&&this._setColor(n,"fill",d):this._setColor(n,"fill",f||d),b&&T.setAttribute(gr.fillOpacity,b)),this.canStroke&&C>0&&(s?"stroke"in c?this._setColor(n,"stroke",v):"strokeStyle"in c&&this._setColor(n,"stroke",y):this._setColor(n,"stroke",v||y),S&&T.setAttribute(gr.strokeOpacity,S),C&&T.setAttribute(gr.lineWidth,C))},a.prototype._setColor=function(n,s,c){var f=this.get("el");if(!c){f.setAttribute(gr[s],"none");return}if(c=c.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(c)){var d=n.find("gradient",c);d||(d=n.addGradient(c)),f.setAttribute(gr[s],"url(#"+d+")")}else if(/^[p,P]{1}[\s]*\(/.test(c)){var d=n.find("pattern",c);d||(d=n.addPattern(c)),f.setAttribute(gr[s],"url(#"+d+")")}else f.setAttribute(gr[s],c)},a.prototype.shadow=function(n,s){var c=this.attr(),f=s||c,d=f.shadowOffsetX,v=f.shadowOffsetY,y=f.shadowBlur,b=f.shadowColor;(d||v||y||b)&&SS(this,n)},a.prototype.transform=function(n){var s=this.attr(),c=(n||s).matrix;c&&xf(this)},a.prototype.isInShape=function(n,s){return this.isPointInPath(n,s)},a.prototype.isPointInPath=function(n,s){var c=this.get("el"),f=this.get("canvas"),d=f.get("el").getBoundingClientRect(),v=n+d.left,y=s+d.top,b=document.elementFromPoint(v,y);return!!(b&&b.isEqualNode(c))},a.prototype.getHitLineWidth=function(){var n=this.attrs,s=n.lineWidth,c=n.lineAppendWidth;return this.isStroke()?s+c:0},a}(Ot.AbstractShape),oo=Um,l0=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="circle",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,r:0})},a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){v==="x"||v==="y"?f.setAttribute("c"+v,d):gr[v]&&f.setAttribute(gr[v],d)})},a}(oo),OS=l0,CS=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="dom",n.canFill=!1,n.canStroke=!1,n}return a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");if((0,_.S6)(s||c,function(b,S){gr[S]&&f.setAttribute(gr[S],b)}),typeof c.html=="function"){var d=c.html.call(this,c);if(d instanceof Element||d instanceof HTMLDocument){for(var v=f.childNodes,y=v.length-1;y>=0;y--)f.removeChild(v[y]);f.appendChild(d)}else f.innerHTML=d}else f.innerHTML=c.html},a}(oo),cd=CS,ud=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="ellipse",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,rx:0,ry:0})},a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){v==="x"||v==="y"?f.setAttribute("c"+v,d):gr[v]&&f.setAttribute(gr[v],d)})},a}(oo),fd=ud,su=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="image",n.canFill=!1,n.canStroke=!1,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,width:0,height:0})},a.prototype.createPath=function(n,s){var c=this,f=this.attr(),d=this.get("el");(0,_.S6)(s||f,function(v,y){y==="img"?c._setImage(f.img):gr[y]&&d.setAttribute(gr[y],v)})},a.prototype.setAttr=function(n,s){this.attrs[n]=s,n==="img"&&this._setImage(s)},a.prototype._setImage=function(n){var s=this.attr(),c=this.get("el");if((0,_.HD)(n))c.setAttribute("href",n);else if(n instanceof window.Image)s.width||(c.setAttribute("width",n.width),this.attr("width",n.width)),s.height||(c.setAttribute("height",n.height),this.attr("height",n.height)),c.setAttribute("href",n.src);else if(n instanceof HTMLElement&&(0,_.HD)(n.nodeName)&&n.nodeName.toUpperCase()==="CANVAS")c.setAttribute("href",n.toDataURL());else if(n instanceof ImageData){var f=document.createElement("canvas");f.setAttribute("width",""+n.width),f.setAttribute("height",""+n.height),f.getContext("2d").putImageData(n,0,0),s.width||(c.setAttribute("width",""+n.width),this.attr("width",n.width)),s.height||(c.setAttribute("height",""+n.height),this.attr("height",n.height)),c.setAttribute("href",f.toDataURL())}},a}(oo),bf=su;function va(o,a,n,s){var c=o-n,f=a-s;return Math.sqrt(c*c+f*f)}function hd(o,a){return Math.abs(o-a)<.001}function Xi(o,a){var n=(0,_.VV)(o),s=(0,_.VV)(a),c=(0,_.Fp)(o),f=(0,_.Fp)(a);return{x:n,y:s,width:c-n,height:f-s}}function G6(o,a,n,s){return{minX:min([o,n]),maxX:max([o,n]),minY:min([a,s]),maxY:max([a,s])}}function c0(o){return(o+Math.PI*2)%(Math.PI*2)}var _o={box:function(o,a,n,s){return Xi([o,n],[a,s])},length:function(o,a,n,s){return va(o,a,n,s)},pointAt:function(o,a,n,s,c){return{x:(1-c)*o+c*n,y:(1-c)*a+c*s}},pointDistance:function(o,a,n,s,c,f){var d=(n-o)*(c-o)+(s-a)*(f-a);if(d<0)return va(o,a,c,f);var v=(n-o)*(n-o)+(s-a)*(s-a);return d>v?va(n,s,c,f):this.pointToLine(o,a,n,s,c,f)},pointToLine:function(o,a,n,s,c,f){var d=[n-o,s-a];if(Nn.I6(d,[0,0]))return Math.sqrt((c-o)*(c-o)+(f-a)*(f-a));var v=[-d[1],d[0]];Nn.Fv(v,v);var y=[c-o,f-a];return Math.abs(Nn.AK(y,v))},tangentAngle:function(o,a,n,s){return Math.atan2(s-a,n-o)}},zL=1e-4;function AS(o,a,n,s,c,f){var d,v=1/0,y=[n,s],b=20;f&&f>200&&(b=f/10);for(var S=1/b,C=S/10,T=0;T<=b;T++){var k=T*S,R=[c.apply(null,o.concat([k])),c.apply(null,a.concat([k]))],D=va(y[0],y[1],R[0],R[1]);D<v&&(d=k,v=D)}if(d===0)return{x:o[0],y:a[0]};if(d===1){var V=o.length;return{x:o[V-1],y:a[V-1]}}v=1/0;for(var T=0;T<32&&!(C<zL);T++){var j=d-C,H=d+C,R=[c.apply(null,o.concat([j])),c.apply(null,a.concat([j]))],D=va(y[0],y[1],R[0],R[1]);if(j>=0&&D<v)d=j,v=D;else{var Z=[c.apply(null,o.concat([H])),c.apply(null,a.concat([H]))],q=va(y[0],y[1],Z[0],Z[1]);H<=1&&q<v?(d=H,v=q):C*=.5}}return{x:c.apply(null,o.concat([d])),y:c.apply(null,a.concat([d]))}}function TS(o,a){for(var n=0,s=o.length,c=0;c<s;c++){var f=o[c],d=a[c],v=o[(c+1)%s],y=a[(c+1)%s];n+=va(f,d,v,y)}return n/2}function Zl(o,a,n,s){var c=1-s;return c*c*o+2*s*c*a+s*s*n}function ES(o,a,n){var s=o+n-2*a;if(hd(s,0))return[.5];var c=(o-a)/s;return c<=1&&c>=0?[c]:[]}function Xm(o,a,n,s){return 2*(1-s)*(a-o)+2*s*(n-a)}function kS(o,a,n,s,c,f,d){var v=Zl(o,n,c,d),y=Zl(a,s,f,d),b=_o.pointAt(o,a,n,s,d),S=_o.pointAt(n,s,c,f,d);return[[o,a,b.x,b.y,v,y],[v,y,S.x,S.y,c,f]]}function Zm(o,a,n,s,c,f,d){if(d===0)return(va(o,a,n,s)+va(n,s,c,f)+va(o,a,c,f))/2;var v=kS(o,a,n,s,c,f,.5),y=v[0],b=v[1];return y.push(d-1),b.push(d-1),Zm.apply(null,y)+Zm.apply(null,b)}var W6={box:function(o,a,n,s,c,f){var d=ES(o,n,c)[0],v=ES(a,s,f)[0],y=[o,c],b=[a,f];return d!==void 0&&y.push(Zl(o,n,c,d)),v!==void 0&&b.push(Zl(a,s,f,v)),Xi(y,b)},length:function(o,a,n,s,c,f){return Zm(o,a,n,s,c,f,3)},nearestPoint:function(o,a,n,s,c,f,d,v){return AS([o,n,c],[a,s,f],d,v,Zl)},pointDistance:function(o,a,n,s,c,f,d,v){var y=this.nearestPoint(o,a,n,s,c,f,d,v);return va(y.x,y.y,d,v)},interpolationAt:Zl,pointAt:function(o,a,n,s,c,f,d){return{x:Zl(o,n,c,d),y:Zl(a,s,f,d)}},divide:function(o,a,n,s,c,f,d){return kS(o,a,n,s,c,f,d)},tangentAngle:function(o,a,n,s,c,f,d){var v=Xm(o,n,c,d),y=Xm(a,s,f,d),b=Math.atan2(y,v);return c0(b)}};function ql(o,a,n,s,c){var f=1-c;return f*f*f*o+3*a*c*f*f+3*n*c*c*f+s*c*c*c}function PS(o,a,n,s,c){var f=1-c;return 3*(f*f*(a-o)+2*f*c*(n-a)+c*c*(s-n))}function u0(o,a,n,s){var c=-3*o+9*a-9*n+3*s,f=6*o-12*a+6*n,d=3*a-3*o,v=[],y,b,S;if(hd(c,0))hd(f,0)||(y=-d/f,y>=0&&y<=1&&v.push(y));else{var C=f*f-4*c*d;hd(C,0)?v.push(-f/(2*c)):C>0&&(S=Math.sqrt(C),y=(-f+S)/(2*c),b=(-f-S)/(2*c),y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b))}return v}function LS(o,a,n,s,c,f,d,v,y){var b=ql(o,n,c,d,y),S=ql(a,s,f,v,y),C=_o.pointAt(o,a,n,s,y),T=_o.pointAt(n,s,c,f,y),k=_o.pointAt(c,f,d,v,y),R=_o.pointAt(C.x,C.y,T.x,T.y,y),D=_o.pointAt(T.x,T.y,k.x,k.y,y);return[[o,a,C.x,C.y,R.x,R.y,b,S],[b,S,D.x,D.y,k.x,k.y,d,v]]}function qm(o,a,n,s,c,f,d,v,y){if(y===0)return TS([o,n,c,d],[a,s,f,v]);var b=LS(o,a,n,s,c,f,d,v,.5),S=b[0],C=b[1];return S.push(y-1),C.push(y-1),qm.apply(null,S)+qm.apply(null,C)}var jL={extrema:u0,box:function(o,a,n,s,c,f,d,v){for(var y=[o,d],b=[a,v],S=u0(o,n,c,d),C=u0(a,s,f,v),T=0;T<S.length;T++)y.push(ql(o,n,c,d,S[T]));for(var T=0;T<C.length;T++)b.push(ql(a,s,f,v,C[T]));return Xi(y,b)},length:function(o,a,n,s,c,f,d,v){return qm(o,a,n,s,c,f,d,v,3)},nearestPoint:function(o,a,n,s,c,f,d,v,y,b,S){return AS([o,n,c,d],[a,s,f,v],y,b,ql,S)},pointDistance:function(o,a,n,s,c,f,d,v,y,b,S){var C=this.nearestPoint(o,a,n,s,c,f,d,v,y,b,S);return va(C.x,C.y,y,b)},interpolationAt:ql,pointAt:function(o,a,n,s,c,f,d,v,y){return{x:ql(o,n,c,d,y),y:ql(a,s,f,v,y)}},divide:function(o,a,n,s,c,f,d,v,y){return LS(o,a,n,s,c,f,d,v,y)},tangentAngle:function(o,a,n,s,c,f,d,v,y){var b=PS(o,n,c,d,y),S=PS(a,s,f,v,y);return c0(Math.atan2(S,b))}};function IS(o,a){var n=Math.abs(o);return a>0?n:n*-1}var RS={box:function(o,a,n,s){return{x:o-n,y:a-s,width:n*2,height:s*2}},length:function(o,a,n,s){return Math.PI*(3*(n+s)-Math.sqrt((3*n+s)*(n+3*s)))},nearestPoint:function(o,a,n,s,c,f){var d=n,v=s;if(d===0||v===0)return{x:o,y:a};for(var y=c-o,b=f-a,S=Math.abs(y),C=Math.abs(b),T=d*d,k=v*v,R=Math.PI/4,D,V,j=0;j<4;j++){D=d*Math.cos(R),V=v*Math.sin(R);var H=(T-k)*Math.pow(Math.cos(R),3)/d,Z=(k-T)*Math.pow(Math.sin(R),3)/v,q=D-H,K=V-Z,Ct=S-H,Ft=C-Z,Jt=Math.hypot(K,q),_e=Math.hypot(Ft,Ct),ge=Jt*Math.asin((q*Ft-K*Ct)/(Jt*_e)),Be=ge/Math.sqrt(T+k-D*D-V*V);R+=Be,R=Math.min(Math.PI/2,Math.max(0,R))}return{x:o+IS(D,y),y:a+IS(V,b)}},pointDistance:function(o,a,n,s,c,f){var d=this.nearestPoint(o,a,n,s,c,f);return va(d.x,d.y,c,f)},pointAt:function(o,a,n,s,c){var f=2*Math.PI*c;return{x:o+n*Math.cos(f),y:a+s*Math.sin(f)}},tangentAngle:function(o,a,n,s,c){var f=2*Math.PI*c,d=Math.atan2(s*Math.cos(f),-n*Math.sin(f));return c0(d)}};function GL(o,a,n,s,c,f,d,v){return-1*n*Math.cos(c)*Math.sin(v)-s*Math.sin(c)*Math.cos(v)}function WL(o,a,n,s,c,f,d,v){return-1*n*Math.sin(c)*Math.sin(v)+s*Math.cos(c)*Math.cos(v)}function VL(o,a,n){return Math.atan(-a/o*Math.tan(n))}function dd(o,a,n){return Math.atan(a/(o*Math.tan(n)))}function f0(o,a,n,s,c,f){return n*Math.cos(c)*Math.cos(f)-s*Math.sin(c)*Math.sin(f)+o}function $m(o,a,n,s,c,f){return n*Math.sin(c)*Math.cos(f)+s*Math.cos(c)*Math.sin(f)+a}function HL(o,a,n,s){var c=Math.atan2(s*o,n*a);return(c+Math.PI*2)%(Math.PI*2)}function FS(o,a,n){return{x:o*Math.cos(n),y:a*Math.sin(n)}}function Km(o,a,n){var s=Math.cos(n),c=Math.sin(n);return[o*s-a*c,o*c+a*s]}var mV={box:function(o,a,n,s,c,f,d){for(var v=VL(n,s,c),y=1/0,b=-1/0,S=[f,d],C=-Math.PI*2;C<=Math.PI*2;C+=Math.PI){var T=v+C;f<d?f<T&&T<d&&S.push(T):d<T&&T<f&&S.push(T)}for(var C=0;C<S.length;C++){var k=f0(o,a,n,s,c,S[C]);k<y&&(y=k),k>b&&(b=k)}for(var R=dd(n,s,c),D=1/0,V=-1/0,j=[f,d],C=-Math.PI*2;C<=Math.PI*2;C+=Math.PI){var H=R+C;f<d?f<H&&H<d&&j.push(H):d<H&&H<f&&j.push(H)}for(var C=0;C<j.length;C++){var Z=$m(o,a,n,s,c,j[C]);Z<D&&(D=Z),Z>V&&(V=Z)}return{x:y,y:D,width:b-y,height:V-D}},length:function(o,a,n,s,c,f,d){},nearestPoint:function(o,a,n,s,c,f,d,v,y){var b=Km(v-o,y-a,-c),S=b[0],C=b[1],T=RS.nearestPoint(0,0,n,s,S,C),k=HL(n,s,T.x,T.y);k<f?T=FS(n,s,f):k>d&&(T=FS(n,s,d));var R=Km(T.x,T.y,c);return{x:R[0]+o,y:R[1]+a}},pointDistance:function(o,a,n,s,c,f,d,v,y){var b=this.nearestPoint(o,a,n,s,v,y);return va(b.x,b.y,v,y)},pointAt:function(o,a,n,s,c,f,d,v){var y=(d-f)*v+f;return{x:f0(o,a,n,s,c,y),y:$m(o,a,n,s,c,y)}},tangentAngle:function(o,a,n,s,c,f,d,v){var y=(d-f)*v+f,b=GL(o,a,n,s,c,f,d,y),S=WL(o,a,n,s,c,f,d,y);return c0(Math.atan2(S,b))}};function YL(o){for(var a=0,n=[],s=0;s<o.length-1;s++){var c=o[s],f=o[s+1],d=va(c[0],c[1],f[0],f[1]),v={from:c,to:f,length:d};n.push(v),a+=d}return{segments:n,totalLength:a}}function UL(o){if(o.length<2)return 0;for(var a=0,n=0;n<o.length-1;n++){var s=o[n],c=o[n+1];a+=va(s[0],s[1],c[0],c[1])}return a}function XL(o,a){if(a>1||a<0||o.length<2)return null;var n=YL(o),s=n.segments,c=n.totalLength;if(c===0)return{x:o[0][0],y:o[0][1]};for(var f=0,d=null,v=0;v<s.length;v++){var y=s[v],b=y.from,S=y.to,C=y.length/c;if(a>=f&&a<=f+C){var T=(a-f)/C;d=_o.pointAt(b[0],b[1],S[0],S[1],T);break}f+=C}return d}function DS(o,a){if(a>1||a<0||o.length<2)return 0;for(var n=YL(o),s=n.segments,c=n.totalLength,f=0,d=0,v=0;v<s.length;v++){var y=s[v],b=y.from,S=y.to,C=y.length/c;if(a>=f&&a<=f+C){d=Math.atan2(S[1]-b[1],S[0]-b[0]);break}f+=C}return d}function BS(o,a,n){for(var s=1/0,c=0;c<o.length-1;c++){var f=o[c],d=o[c+1],v=_o.pointDistance(f[0],f[1],d[0],d[1],a,n);v<s&&(s=v)}return s}var NS={box:function(o){for(var a=[],n=[],s=0;s<o.length;s++){var c=o[s];a.push(c[0]),n.push(c[1])}return Xi(a,n)},length:function(o){return UL(o)},pointAt:function(o,a){return XL(o,a)},pointDistance:function(o,a,n){return BS(o,a,n)},tangentAngle:function(o,a){return DS(o,a)}};function pd(o){var a=o.slice(0);return o.length&&a.push(o[0]),a}var xV={box:function(o){return NS.box(o)},length:function(o){return UL(pd(o))},pointAt:function(o,a){return XL(pd(o),a)},pointDistance:function(o,a,n){return BS(pd(o),a,n)},tangentAngle:function(o,a){return DS(pd(o),a)}},V6=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="line",n.canFill=!1,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){if(v==="startArrow"||v==="endArrow")if(d){var y=(0,_.Kn)(d)?n.addArrow(c,gr[v]):n.getDefaultArrow(c,gr[v]);f.setAttribute(gr[v],"url(#"+y+")")}else f.removeAttribute(gr[v]);else gr[v]&&f.setAttribute(gr[v],d)})},a.prototype.getTotalLength=function(){var n=this.attr(),s=n.x1,c=n.y1,f=n.x2,d=n.y2;return _o.length(s,c,f,d)},a.prototype.getPoint=function(n){var s=this.attr(),c=s.x1,f=s.y1,d=s.x2,v=s.y2;return _o.pointAt(c,f,d,v,n)},a}(oo),H6=V6,Jm={circle:function(o,a,n){return[["M",o,a],["m",-n,0],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0]]},square:function(o,a,n){return[["M",o-n,a-n],["L",o+n,a-n],["L",o+n,a+n],["L",o-n,a+n],["Z"]]},diamond:function(o,a,n){return[["M",o-n,a],["L",o,a-n],["L",o+n,a],["L",o,a+n],["Z"]]},triangle:function(o,a,n){var s=n*Math.sin(.3333333333333333*Math.PI);return[["M",o-n,a+s],["L",o,a-s],["L",o+n,a+s],["z"]]},triangleDown:function(o,a,n){var s=n*Math.sin(.3333333333333333*Math.PI);return[["M",o-n,a-s],["L",o+n,a-s],["L",o,a+s],["Z"]]}},ZL={get:function(o){return Jm[o]},register:function(o,a){Jm[o]=a},remove:function(o){delete Jm[o]},getAll:function(){return Jm}},Y6=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="marker",n.canFill=!0,n.canStroke=!0,n}return a.prototype.createPath=function(n){var s=this.get("el");s.setAttribute("d",this._assembleMarker())},a.prototype._assembleMarker=function(){var n=this._getPath();return(0,_.kJ)(n)?n.map(function(s){return s.join(" ")}).join(""):n},a.prototype._getPath=function(){var n=this.attr(),s=n.x,c=n.y,f=n.r||n.radius,d=n.symbol||"circle",v;return(0,_.mf)(d)?v=d:v=ZL.get(d),v?v(s,c,f):(console.warn(v+" symbol is not exist."),null)},a.symbolsFactory=ZL,a}(oo),qL=Y6,U6=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="path",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{startArrow:!1,endArrow:!1})},a.prototype.createPath=function(n,s){var c=this,f=this.attr(),d=this.get("el");(0,_.S6)(s||f,function(v,y){if(y==="path"&&(0,_.kJ)(v))d.setAttribute("d",c._formatPath(v));else if(y==="startArrow"||y==="endArrow")if(v){var b=(0,_.Kn)(v)?n.addArrow(f,gr[y]):n.getDefaultArrow(f,gr[y]);d.setAttribute(gr[y],"url(#"+b+")")}else d.removeAttribute(gr[y]);else gr[y]&&d.setAttribute(gr[y],v)})},a.prototype._formatPath=function(n){var s=n.map(function(c){return c.join(" ")}).join("");return~s.indexOf("NaN")?"":s},a.prototype.getTotalLength=function(){var n=this.get("el");return n?n.getTotalLength():null},a.prototype.getPoint=function(n){var s=this.get("el"),c=this.getTotalLength();if(c===0)return null;var f=s?s.getPointAtLength(n*c):null;return f?{x:f.x,y:f.y}:null},a}(oo),X6=U6,Z6=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="polygon",n.canFill=!0,n.canStroke=!0,n}return a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){v==="points"&&(0,_.kJ)(d)&&d.length>=2?f.setAttribute("points",d.map(function(y){return y[0]+","+y[1]}).join(" ")):gr[v]&&f.setAttribute(gr[v],d)})},a}(oo),q6=Z6,$6=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="polyline",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{startArrow:!1,endArrow:!1})},a.prototype.onAttrChange=function(n,s,c){o.prototype.onAttrChange.call(this,n,s,c),["points"].indexOf(n)!==-1&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.createPath=function(n,s){var c=this.attr(),f=this.get("el");(0,_.S6)(s||c,function(d,v){v==="points"&&(0,_.kJ)(d)&&d.length>=2?f.setAttribute("points",d.map(function(y){return y[0]+","+y[1]}).join(" ")):gr[v]&&f.setAttribute(gr[v],d)})},a.prototype.getTotalLength=function(){var n=this.attr().points,s=this.get("totalLength");return(0,_.UM)(s)?(this.set("totalLength",NS.length(n)),this.get("totalLength")):s},a.prototype.getPoint=function(n){var s=this.attr().points,c=this.get("tCache");c||(this._setTcache(),c=this.get("tCache"));var f,d;return(0,_.S6)(c,function(v,y){n>=v[0]&&n<=v[1]&&(f=(n-v[0])/(v[1]-v[0]),d=y)}),_o.pointAt(s[d][0],s[d][1],s[d+1][0],s[d+1][1],f)},a.prototype._setTcache=function(){var n=this.attr().points;if(!(!n||n.length===0)){var s=this.getTotalLength();if(!(s<=0)){var c=0,f=[],d,v;(0,_.S6)(n,function(y,b){n[b+1]&&(d=[],d[0]=c/s,v=_o.length(y[0],y[1],n[b+1][0],n[b+1][1]),c+=v,d[1]=c/s,f.push(d))}),this.set("tCache",f)}}},a.prototype.getStartTangent=function(){var n=this.attr().points,s=[];return s.push([n[1][0],n[1][1]]),s.push([n[0][0],n[0][1]]),s},a.prototype.getEndTangent=function(){var n=this.attr().points,s=n.length-1,c=[];return c.push([n[s-1][0],n[s-1][1]]),c.push([n[s][0],n[s][1]]),c},a}(oo),zS=$6,$L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,KL=/[^\s,]+/gi;function K6(o){var a=0,n=0,s=0,c=0;return(0,_.kJ)(o)?o.length===1?a=n=s=c=o[0]:o.length===2?(a=s=o[0],n=c=o[1]):o.length===3?(a=o[0],n=c=o[1],s=o[2]):(a=o[0],n=o[1],s=o[2],c=o[3]):a=n=s=c=o,{r1:a,r2:n,r3:s,r4:c}}function bV(o){if(o=o||[],isArray(o))return o;if(isString(o))return o=o.match($L),each(o,function(a,n){if(a=a.match(KL),a[0].length>1){var s=a[0].charAt(0);a.splice(1,0,a[0].substr(1)),a[0]=s}each(a,function(c,f){isNaN(c)||(a[f]=+c)}),o[n]=a}),o}var JL=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="rect",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.createPath=function(n,s){var c=this,f=this.attr(),d=this.get("el"),v=!1,y=["x","y","width","height","radius"];(0,_.S6)(s||f,function(b,S){y.indexOf(S)!==-1&&!v?(d.setAttribute("d",c._assembleRect(f)),v=!0):y.indexOf(S)===-1&&gr[S]&&d.setAttribute(gr[S],b)})},a.prototype._assembleRect=function(n){var s=n.x,c=n.y,f=n.width,d=n.height,v=n.radius;if(!v)return"M "+s+","+c+" l "+f+",0 l 0,"+d+" l"+-f+" 0 z";var y=K6(v);(0,_.kJ)(v)?v.length===1?y.r1=y.r2=y.r3=y.r4=v[0]:v.length===2?(y.r1=y.r3=v[0],y.r2=y.r4=v[1]):v.length===3?(y.r1=v[0],y.r2=y.r4=v[1],y.r3=v[2]):(y.r1=v[0],y.r2=v[1],y.r3=v[2],y.r4=v[3]):y.r1=y.r2=y.r3=y.r4=v;var b=[["M "+(s+y.r1)+","+c],["l "+(f-y.r1-y.r2)+",0"],["a "+y.r2+","+y.r2+",0,0,1,"+y.r2+","+y.r2],["l 0,"+(d-y.r2-y.r3)],["a "+y.r3+","+y.r3+",0,0,1,"+-y.r3+","+y.r3],["l "+(y.r3+y.r4-f)+",0"],["a "+y.r4+","+y.r4+",0,0,1,"+-y.r4+","+-y.r4],["l 0,"+(y.r4+y.r1-d)],["a "+y.r1+","+y.r1+",0,0,1,"+y.r1+","+-y.r1],["z"]];return b.join(" ")},a}(oo),J6=JL,Q6=kt(43631),QL=.3,t4={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},e4={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},n4={left:"left",start:"left",center:"middle",right:"end",end:"end"},tI=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="text",n.canFill=!0,n.canStroke=!0,n}return a.prototype.getDefaultAttrs=function(){var n=o.prototype.getDefaultAttrs.call(this);return(0,L.pi)((0,L.pi)({},n),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.createPath=function(n,s){var c=this,f=this.attr(),d=this.get("el");this._setFont(),(0,_.S6)(s||f,function(v,y){y==="text"?c._setText(""+v):y==="matrix"&&v?xf(c):gr[y]&&d.setAttribute(gr[y],v)}),d.setAttribute("paint-order","stroke"),d.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},a.prototype._setFont=function(){var n=this.get("el"),s=this.attr(),c=s.textBaseline,f=s.textAlign,d=(0,Q6.qY)();d&&d.name==="firefox"?n.setAttribute("dominant-baseline",e4[c]||"alphabetic"):n.setAttribute("alignment-baseline",t4[c]||"baseline"),n.setAttribute("text-anchor",n4[f]||"left")},a.prototype._setText=function(n){var s=this.get("el"),c=this.attr(),f=c.x,d=c.textBaseline,v=d===void 0?"bottom":d;if(!n)s.innerHTML="";else if(~n.indexOf(`
`)){var y=n.split(`
`),b=y.length-1,S="";(0,_.S6)(y,function(C,T){T===0?v==="alphabetic"?S+='<tspan x="'+f+'" dy="'+-b+'em">'+C+"</tspan>":v==="top"?S+='<tspan x="'+f+'" dy="0.9em">'+C+"</tspan>":v==="middle"?S+='<tspan x="'+f+'" dy="'+-(b-1)/2+'em">'+C+"</tspan>":v==="bottom"?S+='<tspan x="'+f+'" dy="-'+(b+QL)+'em">'+C+"</tspan>":v==="hanging"&&(S+='<tspan x="'+f+'" dy="'+(-(b-1)-QL)+'em">'+C+"</tspan>"):S+='<tspan x="'+f+'" dy="1em">'+C+"</tspan>"}),s.innerHTML=S}else s.innerHTML=n},a}(oo),r4=tI,i4=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a4=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o4=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function eI(o){var a=o.match(o4);if(!a)return"";var n="";return a.sort(function(s,c){return s=s.split(":"),c=c.split(":"),Number(s[0])-Number(c[0])}),(0,_.S6)(a,function(s){s=s.split(":"),n+='<stop offset="'+s[0]+'" stop-color="'+s[1]+'"></stop>'}),n}function s4(o,a){var n=i4.exec(o),s=(0,_.wQ)((0,_.c$)(parseFloat(n[1])),Math.PI*2),c=n[2],f,d;s>=0&&s<.5*Math.PI?(f={x:0,y:0},d={x:1,y:1}):.5*Math.PI<=s&&s<Math.PI?(f={x:1,y:0},d={x:0,y:1}):Math.PI<=s&&s<1.5*Math.PI?(f={x:1,y:1},d={x:0,y:0}):(f={x:0,y:1},d={x:1,y:0});var v=Math.tan(s),y=v*v,b=(d.x-f.x+v*(d.y-f.y))/(y+1)+f.x,S=v*(d.x-f.x+v*(d.y-f.y))/(y+1)+f.y;a.setAttribute("x1",f.x),a.setAttribute("y1",f.y),a.setAttribute("x2",b),a.setAttribute("y2",S),a.innerHTML=eI(c)}function l4(o,a){var n=a4.exec(o),s=parseFloat(n[1]),c=parseFloat(n[2]),f=parseFloat(n[3]),d=n[4];a.setAttribute("cx",s),a.setAttribute("cy",c),a.setAttribute("r",f),a.innerHTML=eI(d)}var nI=function(){function o(a){this.cfg={};var n=null,s=(0,_.EL)("gradient_");return a.toLowerCase()[0]==="l"?(n=Si("linearGradient"),s4(a,n)):(n=Si("radialGradient"),l4(a,n)),n.setAttribute("id",s),this.el=n,this.id=s,this.cfg=a,this}return o.prototype.match=function(a,n){return this.cfg===n},o}(),c4=nI,u4={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},f4={x:"-40%",y:"-40%",width:"200%",height:"200%"},h4=function(){function o(a){this.type="filter",this.cfg={},this.type="filter";var n=Si("filter");return(0,_.S6)(f4,function(s,c){n.setAttribute(c,s)}),this.el=n,this.id=(0,_.EL)("filter_"),this.el.id=this.id,this.cfg=a,this._parseShadow(a,n),this}return o.prototype.match=function(a,n){if(this.type!==a)return!1;var s=!0,c=this.cfg;return(0,_.S6)(Object.keys(c),function(f){if(c[f]!==n[f])return s=!1,!1}),s},o.prototype.update=function(a,n){var s=this.cfg;return s[u4[a]]=n,this._parseShadow(s,this.el),this},o.prototype._parseShadow=function(a,n){var s=`<feDropShadow
      dx="`+(a.dx||0)+`"
      dy="`+(a.dy||0)+`"
      stdDeviation="`+(a.blur?a.blur/10:0)+`"
      flood-color="`+(a.color?a.color:"#000")+`"
      flood-opacity="`+(a.opacity?a.opacity:1)+`"
      />`;n.innerHTML=s},o}(),jS=h4,d4=function(){function o(a,n){this.cfg={};var s=Si("marker"),c=(0,_.EL)("marker_");s.setAttribute("id",c);var f=Si("path");f.setAttribute("stroke",a.stroke||"none"),f.setAttribute("fill",a.fill||"none"),s.appendChild(f),s.setAttribute("overflow","visible"),s.setAttribute("orient","auto-start-reverse"),this.el=s,this.child=f,this.id=c;var d=a[n==="marker-start"?"startArrow":"endArrow"];return this.stroke=a.stroke||"#000",d===!0?this._setDefaultPath(n,f):(this.cfg=d,this._setMarker(a.lineWidth,f)),this}return o.prototype.match=function(){return!1},o.prototype._setDefaultPath=function(a,n){var s=this.el;n.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),s.setAttribute("refX",""+10*Math.cos(Math.PI/6)),s.setAttribute("refY","5")},o.prototype._setMarker=function(a,n){var s=this.el,c=this.cfg.path,f=this.cfg.d;(0,_.kJ)(c)&&(c=c.map(function(d){return d.join(" ")}).join("")),n.setAttribute("d",c),s.appendChild(n),f&&s.setAttribute("refX",""+f/a)},o.prototype.update=function(a){var n=this.child;n.attr?n.attr("fill",a):n.setAttribute("fill",a)},o}(),rI=d4,p4=function(){function o(a){this.type="clip",this.cfg={};var n=Si("clipPath");this.el=n,this.id=(0,_.EL)("clip_"),n.id=this.id;var s=a.cfg.el;return n.appendChild(s),this.cfg=a,this}return o.prototype.match=function(){return!1},o.prototype.remove=function(){var a=this.el;a.parentNode.removeChild(a)},o}(),v4=p4,iI=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,wf=function(){function o(a){this.cfg={};var n=Si("pattern");n.setAttribute("patternUnits","userSpaceOnUse");var s=Si("image");n.appendChild(s);var c=(0,_.EL)("pattern_");n.id=c,this.el=n,this.id=c,this.cfg=a;var f=iI.exec(a),d=f[2];s.setAttribute("href",d);var v=new Image;d.match(/^data:/i)||(v.crossOrigin="Anonymous"),v.src=d;function y(){n.setAttribute("width",""+v.width),n.setAttribute("height",""+v.height)}return v.complete?y():(v.onload=y,v.src=v.src),this}return o.prototype.match=function(a,n){return this.cfg===n},o}(),g4=wf,y4=function(){function o(a){var n=Si("defs"),s=(0,_.EL)("defs_");n.id=s,a.appendChild(n),this.children=[],this.defaultArrow={},this.el=n,this.canvas=a}return o.prototype.find=function(a,n){for(var s=this.children,c=null,f=0;f<s.length;f++)if(s[f].match(a,n)){c=s[f].id;break}return c},o.prototype.findById=function(a){for(var n=this.children,s=null,c=0;c<n.length;c++)if(n[c].id===a){s=n[c];break}return s},o.prototype.add=function(a){this.children.push(a),a.canvas=this.canvas,a.parent=this},o.prototype.getDefaultArrow=function(a,n){var s=a.stroke||a.strokeStyle;if(this.defaultArrow[s])return this.defaultArrow[s].id;var c=new rI(a,n);return this.defaultArrow[s]=c,this.el.appendChild(c.el),this.add(c),c.id},o.prototype.addGradient=function(a){var n=new c4(a);return this.el.appendChild(n.el),this.add(n),n.id},o.prototype.addArrow=function(a,n){var s=new rI(a,n);return this.el.appendChild(s.el),this.add(s),s.id},o.prototype.addShadow=function(a){var n=new jS(a);return this.el.appendChild(n.el),this.add(n),n.id},o.prototype.addPattern=function(a){var n=new g4(a);return this.el.appendChild(n.el),this.add(n),n.id},o.prototype.addClip=function(a){var n=new v4(a);return this.el.appendChild(n.el),this.add(n),n.id},o}(),m4=y4,x4=function(o){(0,L.ZT)(a,o);function a(n){return o.call(this,(0,L.pi)((0,L.pi)({},n),{autoDraw:!0,renderer:"svg"}))||this}return a.prototype.getShapeBase=function(){return ue},a.prototype.getGroupBase=function(){return ld},a.prototype.getShape=function(n,s,c){var f=c.target||c.srcElement;if(!ui[f.tagName]){for(var d=f.parentNode;d&&!ui[d.tagName];)d=d.parentNode;f=d}return this.find(function(v){return v.get("el")===f})},a.prototype.createDom=function(){var n=Si("svg"),s=new m4(n);return n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")),this.set("context",s),n},a.prototype.onCanvasChange=function(n){var s=this.get("context"),c=this.get("el");if(n==="sort"){var f=this.get("children");f&&f.length&&Vm(this,function(v,y){return f.indexOf(v)-f.indexOf(y)?1:0})}else if(n==="clear"){if(c){c.innerHTML="";var d=s.el;d.innerHTML="",c.appendChild(d)}}else n==="matrix"?xf(this):n==="clip"?Go(this,s):n==="changeSize"&&(c.setAttribute("width",""+this.get("width")),c.setAttribute("height",""+this.get("height")))},a.prototype.draw=function(){var n=this.get("context"),s=this.getChildren();Go(this,n),s.length&&ou(n,s)},a}(Ot.AbstractCanvas),b4=x4,w4="0.5.6",M4=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.type="path",s.shapeType="line";var c=n.connectNulls,f=c===void 0?!1:c,d=n.showSinglePoint,v=d===void 0?!0:d;return s.connectNulls=f,s.showSinglePoint=v,s}return a.prototype.updateElements=function(n,s){var c,f,d,v,y,b;s===void 0&&(s=!1);for(var S=new Map,C=new Map,T=[],k=0,R=0;R<n.length;R++){var D=n[R],V=this.getElementId(D);T.push(V),S.set(V,D),C.set(V,k),k++}this.elements=new Array(k);var j=$c(this.lastElementsMap,T),H=j.added,Z=j.updated,q=j.removed;try{for(var K=(0,L.XA)(H),Ct=K.next();!Ct.done;Ct=K.next()){var V=Ct.value,D=S.get(V),Ft=this.getShapeFactory(),Jt=this.getShapeInfo(D),R=C.get(V),_e=new em({shapeFactory:Ft,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:R});_e.geometry=this,_e.animate=this.animateOption,_e.draw(Jt,s),this.elementsMap[V]=_e,this.elements[R]=_e}}catch(Pn){c={error:Pn}}finally{try{Ct&&!Ct.done&&(f=K.return)&&f.call(K)}finally{if(c)throw c.error}}try{for(var ge=(0,L.XA)(Z),Be=ge.next();!Be.done;Be=ge.next()){var V=Be.value,D=S.get(V),_e=this.lastElementsMap[V],R=C.get(V),Jt=this.getShapeInfo(D),tn=_e.getModel();(this.isCoordinateChanged||rm(tn,Jt))&&(_e.animate=this.animateOption,_e.update(Jt)),this.elementsMap[V]=_e,this.elements[R]=_e}}catch(Pn){d={error:Pn}}finally{try{Be&&!Be.done&&(v=ge.return)&&v.call(ge)}finally{if(d)throw d.error}}try{for(var vn=(0,L.XA)(q),Mn=vn.next();!Mn.done;Mn=vn.next()){var V=Mn.value,_e=this.lastElementsMap[V];_e.animate=this.animateOption,_e.destroy()}}catch(Pn){y={error:Pn}}finally{try{Mn&&!Mn.done&&(b=vn.return)&&b.call(vn)}finally{if(y)throw y.error}}},a.prototype.getPointsAndData=function(n){for(var s=[],c=[],f=0,d=n.length;f<d;f++){var v=n[f];s.push({x:v.x,y:v.y}),c.push(v[Xe])}return{points:s,data:c}},a.prototype.getShapeInfo=function(n){var s=this.getDrawCfg(n[0]),c=this.getPointsAndData(n),f=c.points,d=c.data;return s.mappingData=n,s.data=d,s.isStack=!!this.getAdjust("stack"),s.points=f,s.connectNulls=this.connectNulls,s.showSinglePoint=this.showSinglePoint,s},a}(Gl),GS=M4;function S4(o,a,n,s,c){var f=[];if(o.length){for(var d=[],v=[],y=0,b=o.length;y<b;y++){var S=o[y];d.push(S[1]),v.push(S[0])}v=v.reverse(),(0,_.S6)([d,v],function(C,T){var k=[],R=s.parsePoints(C),D=R[0];d.length===1&&v.length===1?k=T===0?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(a&&R.push({x:D.x,y:D.y}),n?k=fa(R,!1,c):k=ri(R,!1),T>0&&(k[0][0]="L")),f=f.concat(k)}),f.push(["Z"])}return f}function Qm(o,a,n,s,c){for(var f=Mi(o,a,!a,"lineWidth"),d=o.connectNulls,v=o.isInCircle,y=o.points,b=o.showSinglePoint,S=Fv(y,d,b),C=[],T=0,k=S.length;T<k;T++){var R=S[T];C=C.concat(S4(R,v,n,s,c))}return f.path=C,f}function aI(o){var a=o.start,n=o.end;return[[a.x,n.y],[n.x,a.y]]}var wV=el("area",{defaultShapeType:"area",getDefaultPoints:function(o){var a=o.x,n=o.y0,s=(0,_.kJ)(o.y)?o.y:[n,o.y];return s.map(function(c){return{x:a,y:c}})}});Or("area","area",{draw:function(o,a){var n=Qm(o,!1,!1,this),s=a.addShape({type:"path",attrs:n,name:"area"});return s},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return c===void 0&&(c=5.5),[["M",n-c,s-4],["L",n+c,s-4],["L",n+c,s+4],["L",n-c,s+4],["Z"]]},style:{r:5,fill:a,fillOpacity:1}}}});var MV=null,_4=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.type="area",s.shapeType="area",s.generatePoints=!0,s.startOnZero=!0;var c=n.startOnZero,f=c===void 0?!0:c,d=n.sortable,v=d===void 0?!1:d,y=n.showSinglePoint,b=y===void 0?!1:y;return s.startOnZero=f,s.sortable=v,s.showSinglePoint=b,s}return a.prototype.getPointsAndData=function(n){for(var s=[],c=[],f=0,d=n.length;f<d;f++){var v=n[f];s.push(v.points),c.push(v[Xe])}return{points:s,data:c}},a.prototype.getYMinValue=function(){if(this.startOnZero)return o.prototype.getYMinValue.call(this);var n=this.getYScale();return n.min},a}(GS),oI=_4,SV=el("edge",{defaultShapeType:"line",getDefaultPoints:function(o){return Dv(o)}});Or("edge","line",{draw:function(o,a){var n=Mi(o,!0,!1,"lineWidth"),s=ri(this.parsePoints(o.points),this.coordinate.isPolar);return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});var _V=null,O4=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="edge",n.shapeType="edge",n.generatePoints=!0,n}return a}(Gl),sI=O4,C4=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="heatmap",n.paletteCache={},n}return a.prototype.updateElements=function(n,s){s===void 0&&(s=!1);for(var c=0;c<n.length;c++){var f=n[c],d=this.prepareRange(f),v=this.prepareSize(),y=(0,_.U2)(this.styleOption,["cfg","shadowBlur"]);(0,_.hj)(y)||(y=v/2),this.prepareGreyScaleBlurredCircle(v,y),this.drawWithRange(f,d,v,y)}},a.prototype.color=function(n,s){return this.createAttrOption("color",n,typeof s!="function"?s:""),this},a.prototype.clear=function(){o.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},a.prototype.prepareRange=function(n){var s=this.getAttribute("color"),c=s.getFields()[0],f=1/0,d=-1/0;return n.forEach(function(v){var y=v[Xe][c];y>d&&(d=y),y<f&&(f=y)}),f===d&&(f=d-1),[f,d]},a.prototype.prepareSize=function(){var n=this.getDefaultValue("size");return(0,_.hj)(n)||(n=this.getDefaultSize()),n},a.prototype.prepareGreyScaleBlurredCircle=function(n,s){var c=this.getGrayScaleBlurredCanvas(),f=n+s,d=c.getContext("2d");c.width=c.height=f*2,d.clearRect(0,0,c.width,c.height),d.shadowOffsetX=d.shadowOffsetY=f*2,d.shadowBlur=s,d.shadowColor="black",d.beginPath(),d.arc(-f,-f,n,0,Math.PI*2,!0),d.closePath(),d.fill()},a.prototype.drawWithRange=function(n,s,c,f){var d,v,y=this.coordinate,b=y.start,S=y.end,C=this.coordinate.getWidth(),T=this.coordinate.getHeight(),k=this.getAttribute("color"),R=k.getFields()[0];this.clearShadowCanvasCtx();var D=this.getShadowCanvasCtx();s&&(n=n.filter(function(ge){return ge[Xe][R]<=s[1]&&ge[Xe][R]>=s[0]}));var V=this.scales[R];try{for(var j=(0,L.XA)(n),H=j.next();!H.done;H=j.next()){var Z=H.value,q=this.getDrawCfg(Z),K=q.x,Ct=q.y,Ft=V.scale(Z[Xe][R]);this.drawGrayScaleBlurredCircle(K-b.x,Ct-S.y,c+f,Ft,D)}}catch(ge){d={error:ge}}finally{try{H&&!H.done&&(v=j.return)&&v.call(j)}finally{if(d)throw d.error}}var Jt=D.getImageData(0,0,C,T);this.clearShadowCanvasCtx(),this.colorize(Jt),D.putImageData(Jt,0,0);var _e=this.getImageShape();_e.attr("x",b.x),_e.attr("y",S.y),_e.attr("width",C),_e.attr("height",T),_e.attr("img",D.canvas),_e.set("origin",this.getShapeInfo(n))},a.prototype.getDefaultSize=function(){var n=this.getAttribute("position"),s=this.coordinate;return Math.min(s.getWidth()/(n.scales[0].ticks.length*4),s.getHeight()/(n.scales[1].ticks.length*4))},a.prototype.clearShadowCanvasCtx=function(){var n=this.getShadowCanvasCtx();n.clearRect(0,0,n.canvas.width,n.canvas.height)},a.prototype.getShadowCanvasCtx=function(){var n=this.shadowCanvas;return n||(n=document.createElement("canvas"),this.shadowCanvas=n),n.width=this.coordinate.getWidth(),n.height=this.coordinate.getHeight(),n.getContext("2d")},a.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},a.prototype.drawGrayScaleBlurredCircle=function(n,s,c,f,d){var v=this.getGrayScaleBlurredCanvas();d.globalAlpha=f,d.drawImage(v,n-c,s-c)},a.prototype.colorize=function(n){for(var s=this.getAttribute("color"),c=n.data,f=this.paletteCache,d=3;d<c.length;d+=4){var v=c[d];if((0,_.hj)(v)){var y=f[v]?f[v]:ut.rgb2arr(s.gradient(v/256));c[d-3]=y[0],c[d-2]=y[1],c[d-1]=y[2],c[d]=v}}},a.prototype.getImageShape=function(){var n=this.imageShape;if(n)return n;var s=this.container;return n=s.addShape({type:"image",attrs:{}}),this.imageShape=n,n},a.prototype.getShapeInfo=function(n){var s=this.getDrawCfg(n[0]),c=n.map(function(f){return f[Xe]});return(0,L.pi)((0,L.pi)({},s),{mappingData:n,data:c})},a}(Gl),A4=C4;function WS(o){var a,n,s=o.x,c=o.y,f=o.y0,d=o.size,v,y;(0,_.kJ)(c)?(a=(0,L.CR)(c,2),v=a[0],y=a[1]):(v=f,y=c);var b,S;(0,_.kJ)(s)?(n=(0,L.CR)(s,2),b=n[0],S=n[1]):(b=s-d/2,S=s+d/2);var C=[{x:b,y:v},{x:b,y}];return C.push({x:S,y},{x:S,y:v}),C}function t1(o,a){a===void 0&&(a=!0);var n=[],s=o[0];n.push(["M",s.x,s.y]);for(var c=1,f=o.length;c<f;c++)n.push(["L",o[c].x,o[c].y]);return a&&(n.push(["L",s.x,s.y]),n.push(["z"])),n}function VS(o,a){var n=0,s=0,c=0,f=0;return(0,_.kJ)(o)?o.length===1?n=s=c=f=o[0]:o.length===2?(n=c=o[0],s=f=o[1]):o.length===3?(n=o[0],s=f=o[1],c=o[2]):(n=o[0],s=o[1],c=o[2],f=o[3]):n=s=c=f=o,n+s>a&&(n=n?a/(1+s/n):0,s=a-n),c+f>a&&(c=c?a/(1+f/c):0,f=a-c),[n||0,s||0,c||0,f||0]}function lI(o,a,n){var s=[];if(n.isRect){var c=n.isTransposed?{x:n.start.x,y:a[0].y}:{x:a[0].x,y:n.start.y},f=n.isTransposed?{x:n.end.x,y:a[2].y}:{x:a[3].x,y:n.end.y},d=(0,_.U2)(o,["background","style","radius"]);if(d){var v=n.isTransposed?Math.abs(a[0].y-a[2].y):a[2].x-a[1].x,y=n.isTransposed?n.getWidth():n.getHeight(),b=(0,L.CR)(VS(d,Math.min(v,y)),4),S=b[0],C=b[1],T=b[2],k=b[3],R=n.isTransposed&&n.isReflect("y"),D=R?0:1,V=function(Ct){return R?-Ct:Ct};s.push(["M",c.x,f.y+V(S)]),S!==0&&s.push(["A",S,S,0,0,D,c.x+S,f.y]),s.push(["L",f.x-C,f.y]),C!==0&&s.push(["A",C,C,0,0,D,f.x,f.y+V(C)]),s.push(["L",f.x,c.y-V(T)]),T!==0&&s.push(["A",T,T,0,0,D,f.x-T,c.y]),s.push(["L",c.x+k,c.y]),k!==0&&s.push(["A",k,k,0,0,D,c.x,c.y-V(k)])}else s.push(["M",c.x,c.y]),s.push(["L",f.x,c.y]),s.push(["L",f.x,f.y]),s.push(["L",c.x,f.y]),s.push(["L",c.x,c.y]);s.push(["z"])}if(n.isPolar){var j=n.getCenter(),H=Dh(o,n),Z=H.startAngle,q=H.endAngle;if(n.type!=="theta"&&!n.isTransposed)s=kl(j.x,j.y,n.getRadius(),Z,q);else{var K=function(Jt){return Math.pow(Jt,2)},S=Math.sqrt(K(j.x-a[0].x)+K(j.y-a[0].y)),C=Math.sqrt(K(j.x-a[2].x)+K(j.y-a[2].y));s=kl(j.x,j.y,S,n.startAngle,n.endAngle,C)}}return s}function cI(o,a,n){var s=n.getWidth(),c=n.getHeight(),f=n.type==="rect",d=[],v=(o[2].x-o[1].x)/2,y=n.isTransposed?v*c/s:v*s/c;return a==="round"?(f?(d.push(["M",o[0].x,o[0].y+y]),d.push(["L",o[1].x,o[1].y-y]),d.push(["A",v,v,0,0,1,o[2].x,o[2].y-y]),d.push(["L",o[3].x,o[3].y+y]),d.push(["A",v,v,0,0,1,o[0].x,o[0].y+y])):(d.push(["M",o[0].x,o[0].y]),d.push(["L",o[1].x,o[1].y]),d.push(["A",v,v,0,0,1,o[2].x,o[2].y]),d.push(["L",o[3].x,o[3].y]),d.push(["A",v,v,0,0,1,o[0].x,o[0].y])),d.push(["z"])):d=t1(o),d}function uI(o,a,n){var s=[];return(0,_.UM)(a)?n?s.push(["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["L",(o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2],["Z"]):s.push(["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["L",o[2].x,o[2].y],["L",o[3].x,o[3].y],["Z"]):s.push(["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["Z"]),s}function h0(o,a){return[a,o]}function T4(o,a,n){var s,c,f,d,v,y,b,S=(0,L.CR)((0,L.ev)([],(0,L.CR)(o),!1),4),C=S[0],T=S[1],k=S[2],R=S[3],D=(0,L.CR)(typeof n=="number"?Array(4).fill(n):n,4),V=D[0],j=D[1],H=D[2],Z=D[3];a.isTransposed&&(s=(0,L.CR)(h0(T,R),2),T=s[0],R=s[1]),a.isReflect("y")&&(c=(0,L.CR)(h0(C,T),2),C=c[0],T=c[1],f=(0,L.CR)(h0(k,R),2),k=f[0],R=f[1]),a.isReflect("x")&&(d=(0,L.CR)(h0(C,R),2),C=d[0],R=d[1],v=(0,L.CR)(h0(T,k),2),T=v[0],k=v[1]);var q=[],K=function(Ct){return Math.abs(Ct)};return y=(0,L.CR)(VS([V,j,H,Z],Math.min(K(R.x-C.x),K(T.y-C.y))).map(function(Ct){return K(Ct)}),4),V=y[0],j=y[1],H=y[2],Z=y[3],a.isTransposed&&(b=(0,L.CR)([Z,V,j,H],4),V=b[0],j=b[1],H=b[2],Z=b[3]),C.y<T.y?(q.push(["M",R.x,R.y+H]),H!==0&&q.push(["A",H,H,0,0,0,R.x-H,R.y]),q.push(["L",C.x+Z,C.y]),Z!==0&&q.push(["A",Z,Z,0,0,0,C.x,C.y+Z]),q.push(["L",T.x,T.y-V]),V!==0&&q.push(["A",V,V,0,0,0,T.x+V,T.y]),q.push(["L",k.x-j,k.y]),j!==0&&q.push(["A",j,j,0,0,0,k.x,k.y-j]),q.push(["L",R.x,R.y+H]),q.push(["z"])):R.x<C.x?(q.push(["M",k.x+j,k.y]),j!==0&&q.push(["A",j,j,0,0,0,k.x,k.y+j]),q.push(["L",R.x,R.y-H]),H!==0&&q.push(["A",H,H,0,0,0,R.x+H,R.y]),q.push(["L",C.x-Z,C.y]),Z!==0&&q.push(["A",Z,Z,0,0,0,C.x,C.y-Z]),q.push(["L",T.x,T.y+V]),V!==0&&q.push(["A",V,V,0,0,0,T.x-V,T.y]),q.push(["L",k.x+j,k.y]),q.push(["z"])):(q.push(["M",T.x,T.y+V]),V!==0&&q.push(["A",V,V,0,0,1,T.x+V,T.y]),q.push(["L",k.x-j,k.y]),j!==0&&q.push(["A",j,j,0,0,1,k.x,k.y+j]),q.push(["L",R.x,R.y-H]),H!==0&&q.push(["A",H,H,0,0,1,R.x-H,R.y]),q.push(["L",C.x+Z,C.y]),Z!==0&&q.push(["A",Z,Z,0,0,1,C.x,C.y-Z]),q.push(["L",T.x,T.y+V]),q.push(["z"])),q}var OV=el("interval",{defaultShapeType:"rect",getDefaultPoints:function(o){return WS(o)}});Or("interval","rect",{draw:function(o,a){var n=Mi(o,!1,!0),s=a,c=o==null?void 0:o.background;if(c){s=a.addGroup({name:"interval-group"});var f=cm(o),d=lI(o,this.parsePoints(o.points),this.coordinate);s.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},f),{path:d}),capture:!1,zIndex:-1,name:Ev})}var v;n.radius&&this.coordinate.isRect?v=T4(this.parsePoints(o.points),this.coordinate,n.radius):v=this.parsePath(cI(o.points,n.lineCap,this.coordinate));var y=s.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:v}),name:"interval"});return c?s:y},getMarker:function(o){var a=o.color,n=o.isInPolar;return n?{symbol:"circle",style:{r:4.5,fill:a}}:{symbol:"square",style:{r:4,fill:a}}}});var CV=null;function E4(o,a){var n=o.length,s=o;(0,_.HD)(s[0])&&(s=o.map(function(v){return a.translate(v)}));for(var c=s[1]-s[0],f=2;f<n;f++){var d=s[f]-s[f-1];c>d&&(c=d)}return c}function k4(o,a){if(a){var n=(0,_.xH)(o),s=(0,_.I)(n,a);return s.length}return o.length}function HS(o){var a=o.theme,n=o.coordinate,s=o.getXScale(),c=s.values,f=o.beforeMappingData,d=c.length,v=mo(o.coordinate),y=o.intervalPadding,b=o.dodgePadding,S=o.maxColumnWidth||a.maxColumnWidth,C=o.minColumnWidth||a.minColumnWidth,T=o.columnWidthRatio||a.columnWidthRatio,k=o.multiplePieWidthRatio||a.multiplePieWidthRatio,R=o.roseWidthRatio||a.roseWidthRatio;if(s.isLinear&&c.length>1){c.sort();var D=E4(c,s);d=(s.max-s.min)/D,c.length>d&&(d=c.length)}var V=s.range,j=1/d,H=1;if(n.isPolar?n.isTransposed&&d>1?H=k:H=R:(s.isLinear&&(j*=V[1]-V[0]),H=T),!(0,_.UM)(y)&&y>=0){var Z=y/v;j=(1-(d-1)*Z)/d}else j*=H;if(o.getAdjust("dodge")){var q=o.getAdjust("dodge"),K=q.dodgeBy,Ct=k4(f,K);if(!(0,_.UM)(b)&&b>=0){var Ft=b/v;j=(j-Ft*(Ct-1))/Ct}else!(0,_.UM)(y)&&y>=0&&(j*=H),j=j/Ct;j=j>=0?j:0}if(!(0,_.UM)(S)&&S>=0){var Jt=S/v;j>Jt&&(j=Jt)}if(!(0,_.UM)(C)&&C>=0){var _e=C/v;j<_e&&(j=_e)}return j}var P4=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.type="interval",s.shapeType="interval",s.generatePoints=!0;var c=n.background;return s.background=c,s}return a.prototype.createShapePointsCfg=function(n){var s=o.prototype.createShapePointsCfg.call(this,n),c,f=this.getAttribute("size");if(f){c=this.getAttributeValues(f,n)[0];var d=this.coordinate,v=mo(d);c=c/v}else this.defaultSize||(this.defaultSize=HS(this)),c=this.defaultSize;return s.size=c,s},a.prototype.adjustScale=function(){o.prototype.adjustScale.call(this);var n=this.getYScale();if(this.coordinate.type==="theta")n.change({nice:!1,min:0,max:Ew(n)});else{var s=this.scaleDefs,c=n.field,f=n.min,d=n.max,v=n.type;v!=="time"&&(f>0&&!(0,_.U2)(s,[c,"min"])&&n.change({min:0}),d<=0&&!(0,_.U2)(s,[c,"max"])&&n.change({max:0}))}},a.prototype.getDrawCfg=function(n){var s=o.prototype.getDrawCfg.call(this,n);return s.background=this.background,s},a}(Gl),L4=P4,I4=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;s.type="line";var c=n.sortable,f=c===void 0?!1:c;return s.sortable=f,s}return a}(GS),fI=I4,YS=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],hI=["cross","tick","plus","hyphen","line"];function US(o,a,n,s,c){var f,d,v=Mi(a,c,!c,"r"),y=o.parsePoints(a.points),b=y[0];if(a.isStack)b=y[1];else if(y.length>1){var S=n.addGroup();try{for(var C=(0,L.XA)(y),T=C.next();!T.done;T=C.next()){var k=T.value;S.addShape({type:"marker",attrs:(0,L.pi)((0,L.pi)((0,L.pi)({},v),{symbol:Qc[s]||s}),k)})}}catch(R){f={error:R}}finally{try{T&&!T.done&&(d=C.return)&&d.call(C)}finally{if(f)throw f.error}}return S}return n.addShape({type:"marker",attrs:(0,L.pi)((0,L.pi)((0,L.pi)({},v),{symbol:Qc[s]||s}),b)})}var AV=el("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(o){return Dv(o)}});(0,_.S6)(YS,function(o){Or("point","hollow-".concat(o),{draw:function(a,n){return US(this,a,n,o,!0)},getMarker:function(a){var n=a.color;return{symbol:Qc[o]||o,style:{r:4.5,stroke:n,fill:null}}}})});var TV=null,R4=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="point",n.shapeType="point",n.generatePoints=!0,n}return a.prototype.getDrawCfg=function(n){var s=o.prototype.getDrawCfg.call(this,n);return(0,L.pi)((0,L.pi)({},s),{isStack:!!this.getAdjust("stack")})},a}(Gl),dI=R4;function pI(o){for(var a=o[0],n=1,s=[["M",a.x,a.y]];n<o.length;){var c=o[n];(c.x!==o[n-1].x||c.y!==o[n-1].y)&&(s.push(["L",c.x,c.y]),c.x===a.x&&c.y===a.y&&n<o.length-1&&(a=o[n+1],s.push(["Z"]),s.push(["M",a.x,a.y]),n++)),n++}return(0,_.Xy)((0,_.Z$)(s),a)||s.push(["L",a.x,a.y]),s.push(["Z"]),s}var EV=el("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(o){var a=[];return(0,_.S6)(o.x,function(n,s){var c=o.y[s];a.push({x:n,y:c})}),a}});Or("polygon","polygon",{draw:function(o,a){if(!(0,_.xb)(o.points)){var n=Mi(o,!0,!0),s=this.parsePath(pI(o.points));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s}),name:"polygon"})}},getMarker:function(o){var a=o.color;return{symbol:"square",style:{r:4,fill:a}}}});var kV=null,XS=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="polygon",n.shapeType="polygon",n.generatePoints=!0,n}return a.prototype.createShapePointsCfg=function(n){var s=o.prototype.createShapePointsCfg.call(this,n),c=s.x,f=s.y,d;if(!((0,_.kJ)(c)&&(0,_.kJ)(f))){var v=this.getXScale(),y=this.getYScale(),b=v.values.length,S=y.values.length,C=.5*1/b,T=.5*1/S;v.isCategory&&y.isCategory?(c=[c-C,c-C,c+C,c+C],f=[f-T,f+T,f+T,f-T]):(0,_.kJ)(c)?(d=c,c=[d[0],d[0],d[1],d[1]],f=[f-T/2,f+T/2,f+T/2,f-T/2]):(0,_.kJ)(f)&&(d=f,f=[d[0],d[1],d[1],d[0]],c=[c-C/2,c-C/2,c+C/2,c+C/2]),s.x=c,s.y=f}return s},a}(Gl),F4=XS,D4=el("schema",{defaultShapeType:""}),B4=null,ZS=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="schema",n.shapeType="schema",n.generatePoints=!0,n}return a.prototype.createShapePointsCfg=function(n){var s=o.prototype.createShapePointsCfg.call(this,n),c,f=this.getAttribute("size");if(f){c=this.getAttributeValues(f,n)[0];var d=this.coordinate,v=mo(d);c=c/v}else this.defaultSize||(this.defaultSize=HS(this)),c=this.defaultSize;return s.size=c,s},a}(Gl),vI=ZS;function qS(o){if(!(0,_.kJ)(o))return[];var a=(0,_.Fp)(o);return(0,_.UI)(o,function(n){return n/a})}var PV=el("violin",{defaultShapeType:"violin",getDefaultPoints:function(o){var a=o.size/2,n=[],s=qS(o._size);return(0,_.S6)(o.y,function(c,f){var d=s[f]*a,v=f===0,y=f===o.y.length-1;n.push({isMin:v,isMax:y,x:o.x-d,y:c}),n.unshift({isMin:v,isMax:y,x:o.x+d,y:c})}),n}});Or("violin","violin",{draw:function(o,a){var n=Mi(o,!0,!0),s=this.parsePath(cf(o.points));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s}),name:"violin"})},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{r:4,fill:a}}}});var LV=null,gI=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="violin",n.shapeType="violin",n.generatePoints=!0,n}return a.prototype.createShapePointsCfg=function(n){var s=o.prototype.createShapePointsCfg.call(this,n),c,f=this.getAttribute("size");if(f){c=this.getAttributeValues(f,n)[0];var d=this.coordinate,v=mo(d);c=c/v}else this.defaultSize||(this.defaultSize=HS(this)),c=this.defaultSize;return s.size=c,s._size=(0,_.U2)(n[Xe],[this._sizeField]),s},a.prototype.initAttributes=function(){var n=this.attributeOption,s=n.size?n.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=s,delete n.size,o.prototype.initAttributes.call(this)},a}(Gl),$S=gI;Or("area","line",{draw:function(o,a){var n=Qm(o,!0,!1,this),s=a.addShape({type:"path",attrs:n,name:"area"});return s},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return c===void 0&&(c=5.5),[["M",n-c,s-4],["L",n+c,s-4],["L",n+c,s+4],["L",n-c,s+4],["Z"]]},style:{r:5,stroke:a,fill:null}}}}),Or("area","smooth",{draw:function(o,a){var n=this.coordinate,s=Qm(o,!1,!0,this,aI(n)),c=a.addShape({type:"path",attrs:s,name:"area"});return c},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return c===void 0&&(c=5.5),[["M",n-c,s-4],["L",n+c,s-4],["L",n+c,s+4],["L",n-c,s+4],["Z"]]},style:{r:5,fill:a,fillOpacity:1}}}}),Or("area","smooth-line",{draw:function(o,a){var n=this.coordinate,s=Qm(o,!0,!0,this,aI(n)),c=a.addShape({type:"path",attrs:s,name:"area"});return c},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return c===void 0&&(c=5.5),[["M",n-c,s-4],["L",n+c,s-4],["L",n+c,s+4],["L",n-c,s+4],["Z"]]},style:{r:5,stroke:a,fill:null}}}});function e1(o,a){return["C",o.x*1/2+a.x*1/2,o.y,o.x*1/2+a.x*1/2,a.y,a.x,a.y]}function d0(o,a){var n=[];n.push({x:a.x,y:a.y}),n.push(o);var s=["Q"];return(0,_.S6)(n,function(c){s.push(c.x,c.y)}),s}function yI(o,a,n){var s=d0(a,n),c=[["M",o.x,o.y]];return c.push(s),c}function N4(o,a){var n=d0(o[1],a),s=d0(o[3],a),c=[["M",o[0].x,o[0].y]];return c.push(s),c.push(["L",o[3].x,o[3].y]),c.push(["L",o[2].x,o[2].y]),c.push(n),c.push(["L",o[1].x,o[1].y]),c.push(["L",o[0].x,o[0].y]),c.push(["Z"]),c}Or("edge","arc",{draw:function(o,a){var n=Mi(o,!0,!1,"lineWidth"),s=o.points,c=s.length>2?"weight":"normal",f;if(o.isInCircle){var d={x:0,y:1};return c==="normal"?f=yI(s[0],s[1],d):(n.fill=n.stroke,f=N4(s,d)),f=this.parsePath(f),a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:f})})}else{if(c==="normal")return s=this.parsePoints(s),f=Sy((s[1].x+s[0].x)/2,s[0].y,Math.abs(s[1].x-s[0].x)/2,Math.PI,Math.PI*2),a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:f})});var v=e1(s[1],s[3]),y=e1(s[2],s[0]);return f=[["M",s[0].x,s[0].y],["L",s[1].x,s[1].y],v,["L",s[3].x,s[3].y],["L",s[2].x,s[2].y],y,["Z"]],f=this.parsePath(f),n.fill=n.stroke,a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:f})})}},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});function z4(o,a){var n=e1(o,a),s=[["M",o.x,o.y]];return s.push(n),s}Or("edge","smooth",{draw:function(o,a){var n=Mi(o,!0,!1,"lineWidth"),s=o.points,c=this.parsePath(z4(s[0],s[1]));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:c})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});var vd=1/3;function j4(o,a){var n=[];n.push({x:o.x,y:o.y*(1-vd)+a.y*vd}),n.push({x:a.x,y:o.y*(1-vd)+a.y*vd}),n.push(a);var s=[["M",o.x,o.y]];return(0,_.S6)(n,function(c){s.push(["L",c.x,c.y])}),s}Or("edge","vhv",{draw:function(o,a){var n=Mi(o,!0,!1,"lineWidth"),s=o.points,c=this.parsePath(j4(s[0],s[1]));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:c})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}}),Or("interval","funnel",{getPoints:function(o){return o.size=o.size*2,WS(o)},draw:function(o,a){var n=Mi(o,!1,!0),s=this.parsePath(uI(o.points,o.nextPoints,!1)),c=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s}),name:"interval"});return c},getMarker:function(o){var a=o.color;return{symbol:"square",style:{r:4,fill:a}}}}),Or("interval","hollow-rect",{draw:function(o,a){var n=Mi(o,!0,!1),s=a,c=o==null?void 0:o.background;if(c){s=a.addGroup();var f=cm(o),d=lI(o,this.parsePoints(o.points),this.coordinate);s.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},f),{path:d}),capture:!1,zIndex:-1,name:Ev})}var v=this.parsePath(t1(o.points)),y=s.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:v}),name:"interval"});return c?s:y},getMarker:function(o){var a=o.color,n=o.isInPolar;return n?{symbol:"circle",style:{r:4.5,stroke:a,fill:null}}:{symbol:"square",style:{r:4,stroke:a,fill:null}}}});function G4(o){var a=o.x,n=o.y,s=o.y0;return(0,_.kJ)(n)?n.map(function(c,f){return{x:(0,_.kJ)(a)?a[f]:a,y:c}}):[{x:a,y:s},{x:a,y:n}]}Or("interval","line",{getPoints:function(o){return G4(o)},draw:function(o,a){var n=Mi(o,!0,!1,"lineWidth"),s=eo((0,L.pi)({},n),["fill"]),c=this.parsePath(t1(o.points,!1)),f=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},s),{path:c}),name:"interval"});return f},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return[["M",n,s-c],["L",n,s+c]]},style:{r:5,stroke:a}}}}),Or("interval","pyramid",{getPoints:function(o){return o.size=o.size*2,WS(o)},draw:function(o,a){var n=Mi(o,!1,!0),s=this.parsePath(uI(o.points,o.nextPoints,!0)),c=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s}),name:"interval"});return c},getMarker:function(o){var a=o.color;return{symbol:"square",style:{r:4,fill:a}}}});function W4(o){var a,n=o.x,s=o.y,c=o.y0,f=o.size,d,v;(0,_.kJ)(s)?(a=(0,L.CR)(s,2),d=a[0],v=a[1]):(d=c,v=s);var y=n+f/2,b=n-f/2;return[{x:n,y:d},{x:n,y:v},{x:b,y:d},{x:y,y:d},{x:b,y:v},{x:y,y:v}]}function V4(o){return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y]]}Or("interval","tick",{getPoints:function(o){return W4(o)},draw:function(o,a){var n=Mi(o,!0,!1),s=this.parsePath(V4(o.points)),c=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s}),name:"interval"});return c},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){return[["M",n-c/2,s-c],["L",n+c/2,s-c],["M",n,s-c],["L",n,s+c],["M",n-c/2,s+c],["L",n+c/2,s+c]]},style:{r:5,stroke:a}}}});var mI=function(o,a,n){var s=o.x,c=o.y,f=a.x,d=a.y,v;switch(n){case"hv":v=[{x:f,y:c}];break;case"vh":v=[{x:s,y:d}];break;case"hvh":var y=(f+s)/2;v=[{x:y,y:c},{x:y,y:d}];break;case"vhv":var b=(c+d)/2;v=[{x:s,y:b},{x:f,y:b}];break;default:break}return v};function H4(o,a){var n=[];return(0,_.S6)(o,function(s,c){var f=o[c+1];if(n.push(s),f){var d=mI(s,f,a);n=n.concat(d)}}),n}function Y4(o){return o.map(function(a,n){return n===0?["M",a.x,a.y]:["L",a.x,a.y]})}function p0(o,a){var n=Fv(o.points,o.connectNulls,o.showSinglePoint),s=[];return(0,_.S6)(n,function(c){var f=H4(c,a);s=s.concat(Y4(f))}),(0,L.pi)((0,L.pi)({},Mi(o,!0,!1,"lineWidth")),{path:s})}(0,_.S6)(["hv","vh","hvh","vhv"],function(o){Or("line",o,{draw:function(a,n){var s=p0(a,o),c=n.addShape({type:"path",attrs:s,name:"line"});return c},getMarker:function(a){return qh(a,o)}})}),(0,_.S6)(hI,function(o){Or("point",o,{draw:function(a,n){return US(this,a,n,o,!0)},getMarker:function(a){var n=a.color;return{symbol:Qc[o],style:{r:4.5,stroke:n,fill:null}}}})}),Or("point","image",{draw:function(o,a){var n,s,c=Mi(o,!1,!1,"r").r,f=this.parsePoints(o.points),d=f[0];if(o.isStack)d=f[1];else if(f.length>1){var v=a.addGroup();try{for(var y=(0,L.XA)(f),b=y.next();!b.done;b=y.next()){var S=b.value;v.addShape("image",{attrs:{x:S.x-c/2,y:S.y-c,width:c,height:c,img:o.shape[1]}})}}catch(C){n={error:C}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(n)throw n.error}}return v}return a.addShape("image",{attrs:{x:d.x-c/2,y:d.y-c,width:c,height:c,img:o.shape[1]}})},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{r:4.5,fill:a}}}}),(0,_.S6)(YS,function(o){Or("point",o,{draw:function(a,n){return US(this,a,n,o,!1)},getMarker:function(a){var n=a.color;return{symbol:Qc[o]||o,style:{r:4.5,fill:n}}}})});function xI(o){var a=(0,_.kJ)(o)?o:[o],n=a[0],s=a[a.length-1],c=a.length>1?a[1]:n,f=a.length>3?a[3]:s,d=a.length>2?a[2]:c;return{min:n,max:s,min1:c,max1:f,median:d}}function il(o,a,n){var s=n/2,c;if((0,_.kJ)(a)){var f=xI(a),d=f.min,v=f.max,y=f.median,b=f.min1,S=f.max1,C=o-s,T=o+s;c=[[C,v],[T,v],[o,v],[o,S],[C,b],[C,S],[T,S],[T,b],[o,b],[o,d],[C,d],[T,d],[C,y],[T,y]]}else{a=(0,_.UM)(a)?.5:a;var k=xI(o),d=k.min,v=k.max,y=k.median,b=k.min1,S=k.max1,R=a-s,D=a+s;c=[[d,R],[d,D],[d,a],[b,a],[b,R],[b,D],[S,D],[S,R],[S,a],[v,a],[v,R],[v,D],[y,R],[y,D]]}return c.map(function(V){return{x:V[0],y:V[1]}})}function bI(o){return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x,o[10].y],["L",o[11].x,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]}Or("schema","box",{getPoints:function(o){var a=o.x,n=o.y,s=o.size;return il(a,n,s)},draw:function(o,a){var n=Mi(o,!0,!1),s=this.parsePath(bI(o.points)),c=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s,name:"schema"})});return c},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){var f=[s-6,s-3,s,s+3,s+6],d=il(n,f,c);return[["M",d[0].x+1,d[0].y],["L",d[1].x-1,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["M",d[4].x,d[4].y],["L",d[5].x,d[5].y],["L",d[6].x,d[6].y],["L",d[7].x,d[7].y],["L",d[4].x,d[4].y],["Z"],["M",d[8].x,d[8].y],["L",d[9].x,d[9].y],["M",d[10].x+1,d[10].y],["L",d[11].x-1,d[11].y],["M",d[12].x,d[12].y],["L",d[13].x,d[13].y]]},style:{r:6,lineWidth:1,stroke:a}}}});function wI(o){var a=(0,_.kJ)(o)?o:[o],n=a.sort(function(s,c){return c-s});return hP(n,4,n[n.length-1])}function n1(o,a,n){var s=wI(a);return[{x:o,y:s[0]},{x:o,y:s[1]},{x:o-n/2,y:s[2]},{x:o-n/2,y:s[1]},{x:o+n/2,y:s[1]},{x:o+n/2,y:s[2]},{x:o,y:s[2]},{x:o,y:s[3]}]}function v0(o){return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]}Or("schema","candle",{getPoints:function(o){var a=o.x,n=o.y,s=o.size;return n1(a,n,s)},draw:function(o,a){var n=Mi(o,!0,!0),s=this.parsePath(v0(o.points)),c=a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s,name:"schema"})});return c},getMarker:function(o){var a=o.color;return{symbol:function(n,s,c){var f=[s+7.5,s+3,s-3,s-7.5],d=n1(n,f,c);return[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["L",d[4].x,d[4].y],["L",d[5].x,d[5].y],["Z"],["M",d[6].x,d[6].y],["L",d[7].x,d[7].y]]},style:{lineWidth:1,stroke:a,fill:a,r:6}}}});function U4(o,a){var n=Math.abs(o[0].x-o[2].x),s=Math.abs(o[0].y-o[2].y),c=Math.min(n,s);a&&(c=(0,_.uZ)(a,0,Math.min(n,s))),c=c/2;var f=(o[0].x+o[2].x)/2,d=(o[0].y+o[2].y)/2;return{x:f-c,y:d-c,width:c*2,height:c*2}}Or("polygon","square",{draw:function(o,a){if(!(0,_.xb)(o.points)){var n=Mi(o,!0,!0),s=this.parsePoints(o.points);return a.addShape("rect",{attrs:(0,L.pi)((0,L.pi)({},n),U4(s,o.size)),name:"polygon"})}},getMarker:function(o){var a=o.color;return{symbol:"square",style:{r:4,fill:a}}}}),Or("violin","smooth",{draw:function(o,a){var n=Mi(o,!0,!0),s=this.parsePath(Zh(o.points));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s})})},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{stroke:null,r:4,fill:a}}}}),Or("violin","hollow",{draw:function(o,a){var n=Mi(o,!0,!1),s=this.parsePath(cf(o.points));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s})})},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{r:4,fill:null,stroke:a}}}}),Or("violin","hollow-smooth",{draw:function(o,a){var n=Mi(o,!0,!1),s=this.parsePath(Zh(o.points));return a.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},n),{path:s})})},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{r:4,fill:null,stroke:a}}}});var X4=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getLabelValueDir=function(n){var s="y",c=n.points;return c[0][s]<=c[2][s]?1:-1},a.prototype.getLabelOffsetPoint=function(n,s,c,f){var d,v=o.prototype.getLabelOffsetPoint.call(this,n,s,c),y=this.getCoordinate(),b=y.isTransposed,S=b?"x":"y",C=this.getLabelValueDir(n.mappingData);return v=(0,L.pi)((0,L.pi)({},v),(d={},d[S]=v[S]*C,d)),y.isReflect("x")&&(v=(0,L.pi)((0,L.pi)({},v),{x:v.x*-1})),y.isReflect("y")&&(v=(0,L.pi)((0,L.pi)({},v),{y:v.y*-1})),v},a.prototype.getThemedLabelCfg=function(n){var s=this.geometry,c=this.getDefaultLabelCfg(),f=s.theme;return(0,_.b$)({},c,f.labels,n.position==="middle"?{offset:0}:{},n)},a.prototype.setLabelPosition=function(n,s,c,f){var d=this.getCoordinate(),v=d.isTransposed,y=s.points,b=d.convert(y[0]),S=d.convert(y[2]),C=this.getLabelValueDir(s),T,k,R,D,V=(0,_.kJ)(s.shape)?s.shape[0]:s.shape;if(V==="funnel"||V==="pyramid"){var j=(0,_.U2)(s,"nextPoints"),H=(0,_.U2)(s,"points");if(j){var Z=d.convert(H[0]),q=d.convert(H[1]),K=d.convert(j[0]),Ct=d.convert(j[1]);v?(T=Math.min(K.y,Z.y),R=Math.max(K.y,Z.y),k=(q.x+Ct.x)/2,D=(Z.x+K.x)/2):(T=Math.min((q.y+Ct.y)/2,(Z.y+K.y)/2),R=Math.max((q.y+Ct.y)/2,(Z.y+K.y)/2),k=Ct.x,D=Z.x)}else T=Math.min(S.y,b.y),R=Math.max(S.y,b.y),k=S.x,D=b.x}else T=Math.min(S.y,b.y),R=Math.max(S.y,b.y),k=S.x,D=b.x;switch(f){case"right":n.x=k,n.y=(T+R)/2,n.textAlign=(0,_.U2)(n,"textAlign",C>0?"left":"right");break;case"left":n.x=D,n.y=(T+R)/2,n.textAlign=(0,_.U2)(n,"textAlign",C>0?"left":"right");break;case"bottom":v&&(n.x=(k+D)/2),n.y=R,n.textAlign=(0,_.U2)(n,"textAlign","center"),n.textBaseline=(0,_.U2)(n,"textBaseline",C>0?"bottom":"top");break;case"middle":v&&(n.x=(k+D)/2),n.y=(T+R)/2,n.textAlign=(0,_.U2)(n,"textAlign","center"),n.textBaseline=(0,_.U2)(n,"textBaseline","middle");break;case"top":v&&(n.x=(k+D)/2),n.y=T,n.textAlign=(0,_.U2)(n,"textAlign","center"),n.textBaseline=(0,_.U2)(n,"textBaseline",C>0?"bottom":"top");break;default:break}},a}(Uh),Z4=X4,r1=Math.PI/2,g0=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getLabelOffset=function(n){var s=this.getCoordinate(),c=0;if((0,_.hj)(n))c=n;else if((0,_.HD)(n)&&n.indexOf("%")!==-1){var f=s.getRadius();s.innerRadius>0&&(f=f*(1-s.innerRadius)),c=parseFloat(n)*.01*f}return c},a.prototype.getLabelItems=function(n){var s=o.prototype.getLabelItems.call(this,n),c=this.geometry.getYScale();return(0,_.UI)(s,function(f){if(f&&c){var d=c.scale((0,_.U2)(f.data,c.field));return(0,L.pi)((0,L.pi)({},f),{percent:d})}return f})},a.prototype.getLabelAlign=function(n){var s=this.getCoordinate(),c;if(n.labelEmit)c=n.angle<=Math.PI/2&&n.angle>=-Math.PI/2?"left":"right";else if(!s.isTransposed)c="center";else{var f=s.getCenter(),d=n.offset;Math.abs(n.x-f.x)<1?c="center":n.angle>Math.PI||n.angle<=0?c=d>0?"left":"right":c=d>0?"right":"left"}return c},a.prototype.getLabelPoint=function(n,s,c){var f=1,d,v=n.content[c];this.isToMiddle(s)?d=this.getMiddlePoint(s.points):(n.content.length===1&&c===0?c=1:c===0&&(f=-1),d=this.getArcPoint(s,c));var y=n.offset*f,b=this.getPointAngle(d),S=n.labelEmit,C=this.getCirclePoint(b,y,d,S);return C.r===0?C.content="":(C.content=v,C.angle=b,C.color=s.color),C.rotate=n.autoRotate?this.getLabelRotate(b,y,S):n.rotate,C.start={x:d.x,y:d.y},C},a.prototype.getArcPoint=function(n,s){return s===void 0&&(s=0),!(0,_.kJ)(n.x)&&!(0,_.kJ)(n.y)?{x:n.x,y:n.y}:{x:(0,_.kJ)(n.x)?n.x[s]:n.x,y:(0,_.kJ)(n.y)?n.y[s]:n.y}},a.prototype.getPointAngle=function(n){return ns(this.getCoordinate(),n)},a.prototype.getCirclePoint=function(n,s,c,f){var d=this.getCoordinate(),v=d.getCenter(),y=Ll(d,c);if(y===0)return(0,L.pi)((0,L.pi)({},v),{r:y});var b=n;if(d.isTransposed&&y>s&&!f){var S=Math.asin(s/(2*y));b=n+S*2}else y=y+s;return{x:v.x+y*Math.cos(b),y:v.y+y*Math.sin(b),r:y}},a.prototype.getLabelRotate=function(n,s,c){var f=n+r1;return c&&(f-=r1),f&&(f>r1?f=f-Math.PI:f<-r1&&(f=f+Math.PI)),f},a.prototype.getMiddlePoint=function(n){var s=this.getCoordinate(),c=n.length,f={x:0,y:0};return(0,_.S6)(n,function(d){f.x+=d.x,f.y+=d.y}),f.x/=c,f.y/=c,f=s.convert(f),f},a.prototype.isToMiddle=function(n){return n.x.length>2},a}(Uh),i1=g0,a1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.defaultLayout="distribute",n}return a.prototype.getDefaultLabelCfg=function(n,s){var c=o.prototype.getDefaultLabelCfg.call(this,n,s);return(0,_.b$)({},c,(0,_.U2)(this.geometry.theme,"pieLabels",{}))},a.prototype.getLabelOffset=function(n){return o.prototype.getLabelOffset.call(this,n)||0},a.prototype.getLabelRotate=function(n,s,c){var f;return s<0&&(f=n,f>Math.PI/2&&(f=f-Math.PI),f<-Math.PI/2&&(f=f+Math.PI)),f},a.prototype.getLabelAlign=function(n){var s=this.getCoordinate(),c=s.getCenter(),f;return n.angle<=Math.PI/2&&n.x>=c.x?f="left":f="right",n.offset<=0&&(f==="right"?f="left":f="right"),f},a.prototype.getArcPoint=function(n){return n},a.prototype.getPointAngle=function(n){var s=this.getCoordinate(),c={x:(0,_.kJ)(n.x)?n.x[0]:n.x,y:n.y[0]},f={x:(0,_.kJ)(n.x)?n.x[1]:n.x,y:n.y[1]},d,v=ns(s,c);if(n.points&&n.points[0].y===n.points[1].y)d=v;else{var y=ns(s,f);v>=y&&(y=y+Math.PI*2),d=v+(y-v)/2}return d},a.prototype.getCirclePoint=function(n,s){var c=this.getCoordinate(),f=c.getCenter(),d=c.getRadius()+s;return(0,L.pi)((0,L.pi)({},Ei(f.x,f.y,d,n)),{angle:n,r:d})},a}(i1),o1=a1,KS=4;function JS(o,a,n,s,c,f){var d,v,y=!0,b=s.start,S=s.end,C=Math.min(b.y,S.y),T=Math.abs(b.y-S.y),k,R=0,D=Number.MIN_VALUE,V=a.map(function(Ft){return Ft.y>R&&(R=Ft.y),Ft.y<D&&(D=Ft.y),{size:n,targets:[Ft.y-C]}});for(D-=C,R-C>T&&(T=R-C);y;)for(V.forEach(function(Ft){var Jt=(Math.min.apply(D,Ft.targets)+Math.max.apply(D,Ft.targets))/2;Ft.pos=Math.min(Math.max(D,Jt-Ft.size/2),T-Ft.size)}),y=!1,k=V.length;k--;)if(k>0){var j=V[k-1],H=V[k];j.pos+j.size>H.pos&&(j.size+=H.size,j.targets=j.targets.concat(H.targets),j.pos+j.size>T&&(j.pos=T-j.size),V.splice(k,1),y=!0)}k=0,V.forEach(function(Ft){var Jt=C+n/2;Ft.targets.forEach(function(){a[k].y=Ft.pos+Jt,Jt+=n,k++})});var Z={};try{for(var q=(0,L.XA)(o),K=q.next();!K.done;K=q.next()){var Ct=K.value;Z[Ct.get("id")]=Ct}}catch(Ft){d={error:Ft}}finally{try{K&&!K.done&&(v=q.return)&&v.call(q)}finally{if(d)throw d.error}}a.forEach(function(Ft){var Jt=Ft.r*Ft.r,_e=Math.pow(Math.abs(Ft.y-c.y),2);if(Jt<_e)Ft.x=c.x;else{var ge=Math.sqrt(Jt-_e);f?Ft.x=c.x+ge:Ft.x=c.x-ge}var Be=Z[Ft.id];Be.attr("x",Ft.x),Be.attr("y",Ft.y);var tn=(0,_.sE)(Be.getChildren(),function(vn){return vn.get("type")==="text"});tn&&(tn.attr("y",Ft.y),tn.attr("x",Ft.x))})}function MI(o,a,n,s){if(!(!o.length||!a.length)){var c=o[0]?o[0].offset:0,f=a[0].get("coordinate"),d=f.getRadius(),v=f.getCenter();if(c>0){var y=14,b=d+c,S=b*2+y*2,C={start:f.start,end:f.end},T=[[],[]];o.forEach(function(k){k&&(k.textAlign==="right"?T[0].push(k):T[1].push(k))}),T.forEach(function(k,R){var D=S/y;k.length>D&&(k.sort(function(V,j){return j["..percent"]-V["..percent"]}),k.splice(D,k.length-D)),k.sort(function(V,j){return V.y-j.y}),JS(a,k,y,C,v,R)})}(0,_.S6)(o,function(k){if(k&&k.labelLine){var R=k.offset,D=k.angle,V=Ei(v.x,v.y,d,D),j=Ei(v.x,v.y,d+R/2,D),H=k.x+(0,_.U2)(k,"offsetX",0),Z=k.y+(0,_.U2)(k,"offsetY",0),q={x:H-Math.cos(D)*KS,y:Z-Math.sin(D)*KS};(0,_.Kn)(k.labelLine)||(k.labelLine={}),k.labelLine.path=["M ".concat(V.x),"".concat(V.y," Q").concat(j.x),"".concat(j.y," ").concat(q.x),q.y].join(",")}})}}function s1(o,a,n){var s=o.filter(function(R){return!R.invisible});s.sort(function(R,D){return R.y-D.y});var c=!0,f=n.minY,d=n.maxY,v=Math.abs(f-d),y,b=0,S=Number.MIN_VALUE,C=s.map(function(R){return R.y>b&&(b=R.y),R.y<S&&(S=R.y),{content:R.content,size:a,targets:[R.y-f],pos:null}});for(S-=f,b-f>v&&(v=b-f);c;)for(C.forEach(function(R){var D=(Math.min.apply(S,R.targets)+Math.max.apply(S,R.targets))/2;R.pos=Math.min(Math.max(S,D-R.size/2),v-R.size),R.pos=Math.max(0,R.pos)}),c=!1,y=C.length;y--;)if(y>0){var T=C[y-1],k=C[y];T.pos+T.size>k.pos&&(T.size+=k.size,T.targets=T.targets.concat(k.targets),T.pos+T.size>v&&(T.pos=v-T.size),C.splice(y,1),c=!0)}y=0,C.forEach(function(R){var D=f+a/2;R.targets.forEach(function(){s[y].y=R.pos+D,D+=a,y++})})}var y0=4;function SI(o,a){var n=a.getCenter(),s=a.getRadius();if(o&&o.labelLine){var c=o.angle,f=o.offset,d=Ei(n.x,n.y,s,c),v=o.x+(0,_.U2)(o,"offsetX",0)*(Math.cos(c)>0?1:-1),y=o.y+(0,_.U2)(o,"offsetY",0)*(Math.sin(c)>0?1:-1),b={x:v-Math.cos(c)*y0,y:y-Math.sin(c)*y0},S=o.labelLine.smooth,C=[],T=b.x-n.x,k=b.y-n.y,R=Math.atan(k/T);if(T<0&&(R+=Math.PI),S===!1){(0,_.Kn)(o.labelLine)||(o.labelLine={});var D=0;(c<0&&c>-Math.PI/2||c>Math.PI*1.5)&&b.y>d.y&&(D=1),c>=0&&c<Math.PI/2&&b.y>d.y&&(D=1),c>=Math.PI/2&&c<Math.PI&&d.y>b.y&&(D=1),(c<-Math.PI/2||c>=Math.PI&&c<Math.PI*1.5)&&d.y>b.y&&(D=1);var V=f/2>4?4:Math.max(f/2-1,0),j=Ei(n.x,n.y,s+V,c),H=Ei(n.x,n.y,s+f/2,R),Z=0;C.push("M ".concat(d.x," ").concat(d.y)),C.push("L ".concat(j.x," ").concat(j.y)),C.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(Z," ").concat(D," ").concat(H.x," ").concat(H.y)),C.push("L ".concat(b.x," ").concat(b.y))}else{var j=Ei(n.x,n.y,s+(f/2>4?4:Math.max(f/2-1,0)),c),q=d.x<n.x?1:-1;C.push("M ".concat(b.x," ").concat(b.y));var K=(d.y-n.y)/(d.x-n.x),Ct=(b.y-n.y)/(b.x-n.x);Math.abs(K-Ct)>Math.pow(Math.E,-16)&&C.push.apply(C,["C",b.x+q*4,b.y,2*j.x-d.x,2*j.y-d.y,d.x,d.y]),C.push("L ".concat(d.x," ").concat(d.y))}o.labelLine.path=C.join(" ")}}function QS(o,a,n,s){var c,f,d=(0,_.hX)(o,function(Jt){return!(0,_.UM)(Jt)}),v=a[0]&&a[0].get("coordinate");if(v){var y=v.getCenter(),b=v.getRadius(),S={};try{for(var C=(0,L.XA)(a),T=C.next();!T.done;T=C.next()){var k=T.value;S[k.get("id")]=k}}catch(Jt){c={error:Jt}}finally{try{T&&!T.done&&(f=C.return)&&f.call(C)}finally{if(c)throw c.error}}var R=(0,_.U2)(d[0],"labelHeight",14),D=(0,_.U2)(d[0],"offset",0);if(!(D<=0)){var V="left",j="right",H=(0,_.vM)(d,function(Jt){return Jt.x<y.x?V:j}),Z=v.start,q=v.end,K=Math.min((b+D+R)*2,v.getHeight()),Ct=K/2,Ft={minX:Z.x,maxX:q.x,minY:y.y-Ct,maxY:y.y+Ct};(0,_.S6)(H,function(Jt,_e){var ge=Math.floor(K/R);Jt.length>ge&&(Jt.sort(function(Be,tn){return tn.percent-Be.percent}),(0,_.S6)(Jt,function(Be,tn){tn+1>ge&&(S[Be.id].set("visible",!1),Be.invisible=!0)})),s1(Jt,R,Ft)}),(0,_.S6)(H,function(Jt,_e){(0,_.S6)(Jt,function(ge){var Be=_e===j,tn=S[ge.id],vn=tn.getChildByIndex(0);if(vn){var Mn=b+D,Pn=ge.y-y.y,Ze=Math.pow(Mn,2),ln=Math.pow(Pn,2),dn=Ze-ln>0?Ze-ln:0,fn=Math.sqrt(dn),bn=Math.abs(Math.cos(ge.angle)*Mn);Be?ge.x=y.x+Math.max(fn,bn):ge.x=y.x-Math.max(fn,bn)}vn&&(vn.attr("y",ge.y),vn.attr("x",ge.x)),SI(ge,v)})})}}}var Ls=4,_I=4,Mf=4;function OI(o,a,n){var s=a.getCenter(),c=a.getRadius(),f={x:o.x-(n?Mf:-Mf),y:o.y},d=Ei(s.x,s.y,c+Ls,o.angle),v={x:f.x,y:f.y},y={x:d.x,y:d.y},b=Ei(s.x,s.y,c,o.angle),S="";if(f.y!==d.y){var C=n?4:-4;v.y=f.y,o.angle<0&&o.angle>=-Math.PI/2&&(v.x=Math.max(d.x,f.x-C),f.y<d.y?y.y=v.y:(y.y=d.y,y.x=Math.max(y.x,v.x-C))),o.angle>0&&o.angle<Math.PI/2&&(v.x=Math.max(d.x,f.x-C),f.y>d.y?y.y=v.y:(y.y=d.y,y.x=Math.max(y.x,v.x-C))),o.angle>Math.PI/2&&(v.x=Math.min(d.x,f.x-C),f.y>d.y?y.y=v.y:(y.y=d.y,y.x=Math.min(y.x,v.x-C))),o.angle<-Math.PI/2&&(v.x=Math.min(d.x,f.x-C),f.y<d.y?y.y=v.y:(y.y=d.y,y.x=Math.min(y.x,v.x-C)))}S=["M ".concat(f.x,",").concat(f.y),"L ".concat(v.x,",").concat(v.y),"L ".concat(y.x,",").concat(y.y),"L ".concat(d.x,",").concat(d.y),"L ".concat(b.x,",").concat(b.y)].join(" "),o.labelLine=(0,_.b$)({},o.labelLine,{path:S})}function CI(o,a,n,s){var c,f,d=a[0]&&a[0].get("coordinate");if(d){var v=d.getCenter(),y=d.getRadius(),b={};try{for(var S=(0,L.XA)(a),C=S.next();!C.done;C=S.next()){var T=C.value;b[T.get("id")]=T}}catch(Jt){c={error:Jt}}finally{try{C&&!C.done&&(f=S.return)&&f.call(S)}finally{if(c)throw c.error}}var k=(0,_.U2)(o[0],"labelHeight",14),R=Math.max((0,_.U2)(o[0],"offset",0),Ls);(0,_.S6)(o,function(Jt){if(Jt){var _e=(0,_.U2)(b,[Jt.id]);if(_e){var ge=Jt.x>v.x||Jt.x===v.x&&Jt.y>v.y,Be=(0,_.UM)(Jt.offsetX)?_I:Jt.offsetX,tn=Ei(v.x,v.y,y+Ls,Jt.angle),vn=R+Be;Jt.x=v.x+(ge?1:-1)*(y+vn),Jt.y=tn.y}}});var D=d.start,V=d.end,j="left",H="right",Z=(0,_.vM)(o,function(Jt){return Jt.x<v.x?j:H}),q=(y+R)*2+k;(0,_.S6)(Z,function(Jt){var _e=Jt.length*k;_e>q&&(q=Math.min(_e,Math.abs(D.y-V.y)))});var K={minX:D.x,maxX:V.x,minY:v.y-q/2,maxY:v.y+q/2};(0,_.S6)(Z,function(Jt,_e){var ge=q/k;Jt.length>ge&&(Jt.sort(function(Be,tn){return tn.percent-Be.percent}),(0,_.S6)(Jt,function(Be,tn){tn>ge&&(b[Be.id].set("visible",!1),Be.invisible=!0)})),s1(Jt,k,K)});var Ct=K.minY,Ft=K.maxY;(0,_.S6)(Z,function(Jt,_e){var ge=_e===H;(0,_.S6)(Jt,function(Be){var tn=(0,_.U2)(b,Be&&[Be.id]);if(tn){if(Be.y<Ct||Be.y>Ft){tn.set("visible",!1);return}var vn=tn.getChildByIndex(0),Mn=vn.getCanvasBBox(),Pn={x:ge?Mn.x:Mn.maxX,y:Mn.y+Mn.height/2};wo(vn,Be.x-Pn.x,Be.y-Pn.y),Be.labelLine&&OI(Be,d,ge)}})})}}function t_(o,a,n,s){(0,_.S6)(a,function(c){var f=s.minX,d=s.minY,v=s.maxX,y=s.maxY,b=c.getCanvasBBox(),S=b.minX,C=b.minY,T=b.maxX,k=b.maxY,R=b.x,D=b.y,V=b.width,j=b.height,H=R,Z=D;(S<f||T<f)&&(H=f),(C<d||k<d)&&(Z=d),S>v?H=v-V:T>v&&(H=H-(T-v)),C>y?Z=y-j:k>y&&(Z=Z-(k-y)),(H!==R||Z!==D)&&wo(c,H-R,Z-D)})}function AI(o,a,n,s){(0,_.S6)(a,function(c,f){var d=c.getCanvasBBox(),v=n[f].getBBox();(d.minX<v.minX||d.minY<v.minY||d.maxX>v.maxX||d.maxY>v.maxY)&&c.remove(!0)})}var TI=100,e_=function(){function o(a){a===void 0&&(a={}),this.bitmap={};var n=a.xGap,s=n===void 0?1:n,c=a.yGap,f=c===void 0?8:c;this.xGap=s,this.yGap=f}return o.prototype.hasGap=function(a){for(var n=!0,s=this.bitmap,c=Math.round(a.minX),f=Math.round(a.maxX),d=Math.round(a.minY),v=Math.round(a.maxY),y=c;y<=f;y+=1){if(!s[y]){s[y]={};continue}if(y===c||y===f){for(var b=d;b<=v;b++)if(s[y][b]){n=!1;break}}else if(s[y][d]||s[y][v]){n=!1;break}}return n},o.prototype.fillGap=function(a){for(var n=this.bitmap,s=Math.round(a.minX),c=Math.round(a.maxX),f=Math.round(a.minY),d=Math.round(a.maxY),v=s;v<=c;v+=1)n[v]||(n[v]={});for(var v=s;v<=c;v+=this.xGap){for(var y=f;y<=d;y+=this.yGap)n[v][y]=!0;n[v][d]=!0}if(this.yGap!==1)for(var v=f;v<=d;v+=1)n[s][v]=!0,n[c][v]=!0;if(this.xGap!==1)for(var v=s;v<=c;v+=1)n[v][f]=!0,n[v][d]=!0},o.prototype.destroy=function(){this.bitmap={}},o}();function n_(o,a,n){n===void 0&&(n=TI);var s=-1,c=o.attr(),f=c.x,d=c.y,v=o.getCanvasBBox(),y=Math.sqrt(v.width*v.width+v.height*v.height),b,S=-s,C=0,T=0,k=function(j){var H=j*.1;return[H*Math.cos(H),H*Math.sin(H)]};if(a.hasGap(v))return a.fillGap(v),!0;for(var R=!1,D=0,V={};Math.min(Math.abs(C),Math.abs(T))<y&&D<n;)if(b=k(S+=s),C=~~b[0],T=~~b[1],!(!C&&!T||V["".concat(C,"-").concat(T)])&&(o.attr({x:f+C,y:d+T}),C+T<0&&o.attr("textAlign","right"),D++,a.hasGap(o.getCanvasBBox()))){a.fillGap(o.getCanvasBBox()),R=!0,V["".concat(C,"-").concat(T)]=!0;break}return R}function gd(o,a,n,s){var c=o.getCanvasBBox(),f=c.width,d=c.height,v={x:a,y:n,textAlign:"center"};switch(s){case 0:v.y-=d+1,v.x+=1,v.textAlign="left";break;case 1:v.y-=d+1,v.x-=1,v.textAlign="right";break;case 2:v.y+=d+1,v.x-=1,v.textAlign="right";break;case 3:v.y+=d+1,v.x+=1,v.textAlign="left";break;case 5:v.y-=d*2+2;break;case 6:v.y+=d*2+2;break;case 7:v.x+=f+1,v.textAlign="left";break;case 8:v.x-=f+1,v.textAlign="right";break;default:break}return o.attr(v),o.getCanvasBBox()}function m0(o,a,n,s){var c=new e_;(0,_.S6)(a,function(f){var d=f.find(function(v){return v.get("type")==="text"});n_(d,c)||f.remove(!0)}),c.destroy()}function r_(o,a,n,s){var c=new e_;(0,_.S6)(a,function(f){for(var d=f.find(function(k){return k.get("type")==="text"}),v=d.attr(),y=v.x,b=v.y,S=!1,C=0;C<=8;C++){var T=gd(d,y,b,C);if(c.hasGap(T)){c.fillGap(T),S=!0;break}}S||f.remove(!0)}),c.destroy()}function i_(o,a){return(o[0]||0)*(a[0]||0)+(o[1]||0)*(a[1]||0)+(o[2]||0)*(a[2]||0)}function l1(o){if(o.length>4)return[];var a=function(c,f){return[f.x-c.x,f.y-c.y]},n=a(o[0],o[1]),s=a(o[1],o[2]);return[n,s]}function lu(o,a,n){a===void 0&&(a=0),n===void 0&&(n={x:0,y:0});var s=o.x,c=o.y;return{x:(s-n.x)*Math.cos(-a)+(c-n.y)*Math.sin(-a)+n.x,y:(n.x-s)*Math.sin(-a)+(c-n.y)*Math.cos(-a)+n.y}}function a_(o){var a=[{x:o.x,y:o.y},{x:o.x+o.width,y:o.y},{x:o.x+o.width,y:o.y+o.height},{x:o.x,y:o.y+o.height}],n=o.rotation;return n?[lu(a[0],n,a[0]),lu(a[1],n,a[0]),lu(a[2],n,a[0]),lu(a[3],n,a[0])]:a}function o_(o,a){if(o.length>4)return{min:0,max:0};var n=[];return o.forEach(function(s){n.push(i_([s.x,s.y],a))}),{min:Math.min.apply(Math,(0,L.ev)([],(0,L.CR)(n),!1)),max:Math.max.apply(Math,(0,L.ev)([],(0,L.CR)(n),!1))}}function EI(o,a){return o.max>a.min&&o.min<a.max}function kI(o){return typeof o=="number"&&!Number.isNaN(o)&&o!==1/0&&o!==-1/0}function s_(o){return["x","y","width","height"].every(function(a){return kI(o[a])})}function yd(o,a,n){return n===void 0&&(n=0),!(a.x>o.x+o.width+n||a.x+a.width<o.x-n||a.y>o.y+o.height+n||a.y+a.height<o.y-n)}function $l(o,a,n){if(n===void 0&&(n=0),!s_(o)||!s_(a))return!1;if(!o.rotation&&!a.rotation)return yd(o,a,n);for(var s=a_(o),c=a_(a),f=l1(s).concat(l1(c)),d=0;d<f.length;d++){var v=f[d],y=o_(s,v),b=o_(c,v);if(!EI(y,b))return!1}return!0}var md=function(){function o(a){var n=this;this.queue=[],this.worker=new Worker(a),this.worker.onmessage=function(s){var c;(c=n.queue.shift())===null||c===void 0||c.resolve(s)},this.worker.onmessageerror=function(s){var c;console.warn("[AntV G2] Web worker is not available"),(c=n.queue.shift())===null||c===void 0||c.reject(s)}}return o.prototype.post=function(a,n){var s=this;return new Promise(function(c,f){s.queue.push({resolve:c,reject:f});try{s.worker.postMessage(a)}catch(d){console.warn("[AntV G2] Web worker is not available"),(0,_.mf)(n)&&n()}})},o.prototype.destroy=function(){this.worker.terminate()},o}();function xd(o){if(typeof window!="undefined"){var a;try{a=new Blob([o.toString()],{type:"application/javascript"})}catch(n){a=new window.BlobBuilder,a.append(o.toString()),a=a.getBlob()}return new md(URL.createObjectURL(a))}}var PI=function(o){function a(){function b(Z,q){return(Z[0]||0)*(q[0]||0)+(Z[1]||0)*(q[1]||0)+(Z[2]||0)*(q[2]||0)}function S(Z){if(Z.length>4)return[];var q=function(Ft,Jt){return[Jt.x-Ft.x,Jt.y-Ft.y]},K=q(Z[0],Z[1]),Ct=q(Z[1],Z[2]);return[K,Ct]}function C(Z,q,K){q===void 0&&(q=0),K===void 0&&(K={x:0,y:0});var Ct=Z.x,Ft=Z.y;return{x:(Ct-K.x)*Math.cos(-q)+(Ft-K.y)*Math.sin(-q)+K.x,y:(K.x-Ct)*Math.sin(-q)+(Ft-K.y)*Math.cos(-q)+K.y}}function T(Z){var q=[{x:Z.x,y:Z.y},{x:Z.x+Z.width,y:Z.y},{x:Z.x+Z.width,y:Z.y+Z.height},{x:Z.x,y:Z.y+Z.height}],K=Z.rotation;return K?[C(q[0],K,q[0]),C(q[1],K,q[0]),C(q[2],K,q[0]),C(q[3],K,q[0])]:q}function k(Z,q){if(Z.length>4)return{min:0,max:0};var K=[];return Z.forEach(function(Ct){K.push(b([Ct.x,Ct.y],q))}),{min:Math.min.apply(null,K),max:Math.max.apply(null,K)}}function R(Z,q){return Z.max>q.min&&Z.min<q.max}function D(Z){return typeof Z=="number"&&!Number.isNaN(Z)&&Z!==1/0&&Z!==-1/0}function V(Z){return["x","y","width","height"].every(function(q){return D(Z[q])})}function j(Z,q,K){return K===void 0&&(K=0),!(q.x>Z.x+Z.width+K||q.x+q.width<Z.x-K||q.y>Z.y+Z.height+K||q.y+q.height<Z.y-K)}function H(Z,q,K){if(K===void 0&&(K=0),!V(Z)||!V(q))return!1;if(!Z.rotation&&!q.rotation)return j(Z,q,K);for(var Ct=T(Z),Ft=T(q),Jt=S(Ct).concat(S(Ft)),_e=0;_e<Jt.length;_e++){var ge=Jt[_e],Be=k(Ct,ge),tn=k(Ft,ge);if(!R(Be,tn))return!1}return!0}return{intersect:H}}var n=a().intersect;function s(b){for(var S=b.slice(),C=0;C<S.length;C++){var T=S[C];if(T.visible)for(var k=C+1;k<S.length;k++){var R=S[k];T!==R&&R.visible&&n(T,R)&&(R.visible=!1)}}return S}var c={"hide-overlap":s};try{var f=JSON.parse(o.data);if(!f||!f.type||!c[f.type])return;var d=f.type,v=f.items,y=c[d](v);self.postMessage(y)}catch(b){throw b}},q4=`
   self.onmessage = `.concat(PI.toString(),`
`),x0=function(o){for(var a=o.slice(),n=0;n<a.length;n++){var s=a[n];if(s.visible)for(var c=n+1;c<a.length;c++){var f=a[c];s!==f&&f.visible&&$l(s,f)&&(f.visible=!1)}}return a},c1=new Map,l_=xd(q4);function LI(o,a,n,s){return(0,L.mG)(this,void 0,void 0,function(){var c,f,d,v,y,b;return(0,L.Jh)(this,function(S){switch(S.label){case 0:return c=a.map(function(C,T){return(0,L.pi)((0,L.pi)({},BM(C,o[T],(0,_.U2)(o[T],"background.padding"))),{visible:!0})}),f=JSON.stringify(c),d=function(C){return c1.set(f,C),(0,_.S6)(C,function(T,k){var R=T.visible,D=a[k];R?D==null||D.show():D==null||D.hide()}),C},c1.get(f)?(d(c1.get(f)),[3,7]):[3,1];case 1:if(!l_)return[3,6];S.label=2;case 2:return S.trys.push([2,4,,5]),v=JSON.stringify({type:"hide-overlap",items:c}),[4,l_.post(v,function(){return d(x0(c))})];case 3:return y=S.sent(),d(Array.isArray(y.data)?y.data:[]),[3,5];case 4:return b=S.sent(),console.error(b),d(x0(c)),[3,5];case 5:return[3,7];case 6:d(x0(c)),S.label=7;case 7:return[2]}})})}var c_={"#5B8FF9":!0},II=function(o){var a=ut.toRGB(o).toUpperCase();if(c_[a])return c_[a];var n=(0,L.CR)(ut.rgb2arr(a),3),s=n[0],c=n[1],f=n[2],d=(s*299+c*587+f*114)/1e3<128;return d};function RI(o,a,n){if(n.length!==0){var s=n[0].get("element"),c=s.geometry.theme,f=c.labels||{},d=f.fillColorLight,v=f.fillColorDark;n.forEach(function(y,b){var S=a[b],C=S.find(function(j){return j.get("type")==="text"}),T=ja.fromObject(y.getBBox()),k=ja.fromObject(C.getCanvasBBox()),R=!T.contains(k),D=y.attr("fill"),V=II(D);R?C.attr(c.overflowLabels.style):V?d&&C.attr("fill",d):v&&C.attr("fill",v)})}}function FI(o,a,n){var s=o.coordinate,c=Wl(a),f=ja.fromObject(c.getCanvasBBox()),d=ja.fromObject(n.getBBox());return s.isTransposed?d.height>=f.height:d.width>=f.width}function DI(o,a,n){var s=!!o.getAdjust("stack");return s||a.every(function(c,f){var d=n[f];return FI(o,c,d)})}function BI(o,a,n){var s=o.coordinate,c=ja.fromObject(n.getBBox()),f=Wl(a);s.isTransposed?f.attr({x:c.minX+c.width/2,textAlign:"center"}):f.attr({y:c.minY+c.height/2,textBaseline:"middle"})}function u1(o,a,n){var s;if(n.length!==0){var c=(s=n[0])===null||s===void 0?void 0:s.get("element"),f=c==null?void 0:c.geometry;if(!(!f||f.type!=="interval")){var d=DI(f,a,n);d&&n.forEach(function(v,y){var b=a[y];BI(f,b,v)})}}}function bd(o){var a=500,n=[],s=Math.max(Math.floor(o.length/a),1);return(0,_.S6)(o,function(c,f){f%s===0?n.push(c):c.set("visible",!1)}),n}function NI(o,a,n){var s;if(n.length!==0){var c=(s=n[0])===null||s===void 0?void 0:s.get("element"),f=c==null?void 0:c.geometry;if(!(!f||f.type!=="interval")){var d=bd(a),v=(0,L.CR)(f.getXYFields(),1),y=v[0],b=[],S=[],C=(0,_.vM)(d,function(V){return V.get("data")[y]}),T=(0,_.jj)((0,_.UI)(d,function(V){return V.get("data")[y]})),k;d.forEach(function(V){V.set("visible",!0)});var R=function(V){V&&(V.length&&S.push(V.pop()),S.push.apply(S,(0,L.ev)([],(0,L.CR)(V),!1)))};for((0,_.dp)(T)>0&&(k=T.shift(),R(C[k])),(0,_.dp)(T)>0&&(k=T.pop(),R(C[k])),(0,_.S6)(T.reverse(),function(V){R(C[V])});S.length>0;){var D=S.shift();D.get("visible")&&(am(D,b)?D.set("visible",!1):b.push(D))}}}}function zI(o,a){var n=o.getXYFields()[1],s=[],c=a.sort(function(f,d){return f.get("data")[n]-f.get("data")[n]});return c.length>0&&s.push(c.shift()),c.length>0&&s.push(c.pop()),s.push.apply(s,(0,L.ev)([],(0,L.CR)(c),!1)),s}function f1(o,a,n){return o.some(function(s){return n(s,a)})}function b0(o,a,n){n===void 0&&(n=0);var s=Math.max(0,Math.min(o.x+o.width+n,a.x+a.width+n)-Math.max(o.x-n,a.x-n)),c=Math.max(0,Math.min(o.y+o.height+n,a.y+a.height+n)-Math.max(o.y-n,a.y-n));return s*c}function Oo(o,a){return f1(o,a,function(n,s){var c=Wl(n),f=Wl(s);return b0(c.getCanvasBBox(),f.getCanvasBBox(),2)>0})}function h1(o,a,n,s,c){var f,d;if(n.length!==0){var v=(f=n[0])===null||f===void 0?void 0:f.get("element"),y=v==null?void 0:v.geometry;if(!(!y||y.type!=="point")){var b=(0,L.CR)(y.getXYFields(),2),S=b[0],C=b[1],T=(0,_.vM)(a,function(D){return D.get("data")[S]}),k=[],R=c&&c.offset||((d=o[0])===null||d===void 0?void 0:d.offset)||12;(0,_.UI)((0,_.XP)(T).reverse(),function(D){for(var V=zI(y,T[D]);V.length;){var j=V.shift(),H=Wl(j);if(f1(k,j,function(K,Ct){return K.get("data")[S]===Ct.get("data")[S]&&K.get("data")[C]===Ct.get("data")[C]})){H.set("visible",!1);continue}var Z=Oo(k,j),q=!1;if(Z&&(H.attr("y",H.attr("y")+2*R),q=Oo(k,j)),q){H.set("visible",!1);continue}k.push(j)}})}}}function jI(o,a){var n=o.getXYFields()[1],s=[],c=a.sort(function(f,d){return f.get("data")[n]-f.get("data")[n]});return c.length>0&&s.push(c.shift()),c.length>0&&s.push(c.pop()),s.push.apply(s,(0,L.ev)([],(0,L.CR)(c),!1)),s}function u_(o,a,n){return o.some(function(s){return n(s,a)})}function GI(o,a,n){n===void 0&&(n=0);var s=Math.max(0,Math.min(o.x+o.width+n,a.x+a.width+n)-Math.max(o.x-n,a.x-n)),c=Math.max(0,Math.min(o.y+o.height+n,a.y+a.height+n)-Math.max(o.y-n,a.y-n));return s*c}function wd(o,a){return u_(o,a,function(n,s){var c=Wl(n),f=Wl(s);return GI(c.getCanvasBBox(),f.getCanvasBBox(),2)>0})}function d1(o,a,n,s,c){var f,d;if(n.length!==0){var v=(f=n[0])===null||f===void 0?void 0:f.get("element"),y=v==null?void 0:v.geometry;if(!(!y||["path","line","area"].indexOf(y.type)<0)){var b=(0,L.CR)(y.getXYFields(),2),S=b[0],C=b[1],T=(0,_.vM)(a,function(D){return D.get("data")[S]}),k=[],R=c&&c.offset||((d=o[0])===null||d===void 0?void 0:d.offset)||12;(0,_.UI)((0,_.XP)(T).reverse(),function(D){for(var V=jI(y,T[D]);V.length;){var j=V.shift(),H=Wl(j);if(u_(k,j,function(K,Ct){return K.get("data")[S]===Ct.get("data")[S]&&K.get("data")[C]===Ct.get("data")[C]})){H.set("visible",!1);continue}var Z=wd(k,j),q=!1;if(Z&&(H.attr("y",H.attr("y")+2*R),q=wd(k,j)),q){H.set("visible",!1);continue}k.push(j)}})}}}var Kl;function WI(){return Kl||(Kl=document.createElement("canvas").getContext("2d")),Kl}var w0=(0,_.HP)(function(o,a){a===void 0&&(a={});var n=a.fontSize,s=a.fontFamily,c=a.fontWeight,f=a.fontStyle,d=a.fontVariant,v=WI();return v.font=[f,d,c,"".concat(n,"px"),s].join(" "),v.measureText((0,_.HD)(o)?o:"").width},function(o,a){return a===void 0&&(a={}),(0,L.ev)([o],(0,L.CR)((0,_.VO)(a)),!1).join("")}),p1=function(o,a,n){var s=16,c=w0("...",n),f;(0,_.HD)(o)?f=o:f=(0,_.BB)(o);var d=a,v=[],y,b;if(w0(o,n)<=a)return o;for(;y=f.substr(0,s),b=w0(y,n),!(b+c>d&&b>d);)if(v.push(y),d-=b,f=f.substr(s),!f)return v.join("");for(;y=f.substr(0,1),b=w0(y,n),!(b+c>d);)if(v.push(y),d-=b,f=f.substr(1),!f)return v.join("");return"".concat(v.join(""),"...")};function M0(o,a,n,s,c){if(!(a.length<=0)){var f=(c==null?void 0:c.direction)||["top","right","bottom","left"],d=(c==null?void 0:c.action)||"translate",v=(c==null?void 0:c.margin)||0,y=a[0].get("coordinate");if(y){var b=vP(y,v),S=b.minX,C=b.minY,T=b.maxX,k=b.maxY;(0,_.S6)(a,function(R){var D=R.getCanvasBBox(),V=D.minX,j=D.minY,H=D.maxX,Z=D.maxY,q=D.x,K=D.y,Ct=D.width,Ft=D.height,Jt=q,_e=K;if(f.indexOf("left")>=0&&(V<S||H<S)&&(Jt=S),f.indexOf("top")>=0&&(j<C||Z<C)&&(_e=C),f.indexOf("right")>=0&&(V>T?Jt=T-Ct:H>T&&(Jt=Jt-(H-T))),f.indexOf("bottom")>=0&&(j>k?_e=k-Ft:Z>k&&(_e=_e-(Z-k))),Jt!==q||_e!==K){var ge=Jt-q;if(d==="translate")wo(R,ge,_e-K);else if(d==="ellipsis"){var Be=R.findAll(function(tn){return tn.get("type")==="text"});Be.forEach(function(tn){var vn=(0,_.ei)(tn.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Mn=tn.getCanvasBBox(),Pn=p1(tn.attr("text"),Mn.width-Math.abs(ge),vn);tn.attr("text",Pn)})}else R.hide()}})}}}function VI(o,a,n){var s={fillOpacity:(0,_.UM)(o.attr("fillOpacity"))?1:o.attr("fillOpacity"),strokeOpacity:(0,_.UM)(o.attr("strokeOpacity"))?1:o.attr("strokeOpacity"),opacity:(0,_.UM)(o.attr("opacity"))?1:o.attr("opacity")};o.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),o.animate(s,a)}function HI(o,a,n){var s={fillOpacity:0,strokeOpacity:0,opacity:0},c=a.easing,f=a.duration,d=a.delay;o.animate(s,f,c,function(){o.remove(!0)},d)}function S0(o,a,n){var s,c=(0,L.CR)(a,2),f=c[0],d=c[1];return o.applyToMatrix([f,d,1]),n==="x"?(o.setMatrix(Dr.vs(o.getMatrix(),[["t",-f,-d],["s",.01,1],["t",f,d]])),s=Dr.vs(o.getMatrix(),[["t",-f,-d],["s",100,1],["t",f,d]])):n==="y"?(o.setMatrix(Dr.vs(o.getMatrix(),[["t",-f,-d],["s",1,.01],["t",f,d]])),s=Dr.vs(o.getMatrix(),[["t",-f,-d],["s",1,100],["t",f,d]])):n==="xy"&&(o.setMatrix(Dr.vs(o.getMatrix(),[["t",-f,-d],["s",.01,.01],["t",f,d]])),s=Dr.vs(o.getMatrix(),[["t",-f,-d],["s",100,100],["t",f,d]])),s}function v1(o,a,n,s,c){var f=n.start,d=n.end,v=n.getWidth(),y=n.getHeight(),b,S;c==="y"?(b=f.x+v/2,S=s.y<f.y?s.y:f.y):c==="x"?(b=s.x>f.x?s.x:f.x,S=f.y+y/2):c==="xy"&&(n.isPolar?(b=n.getCenter().x,S=n.getCenter().y):(b=(f.x+d.x)/2,S=(f.y+d.y)/2));var C=S0(o,[b,S],c);o.animate({matrix:C},a)}function YI(o,a,n){var s=n.coordinate,c=n.minYPoint;v1(o,a,s,c,"x")}function UI(o,a,n){var s=n.coordinate,c=n.minYPoint;v1(o,a,s,c,"y")}function g1(o,a,n){var s=n.coordinate,c=n.minYPoint;v1(o,a,s,c,"xy")}function XI(o,a,n){var s=o.getTotalLength();o.attr("lineDash",[s]),o.animate(function(c){return{lineDashOffset:(1-c)*s}},a)}function y1(o,a,n){var s=n.toAttrs,c=s.x,f=s.y;delete s.x,delete s.y,o.attr(s),o.animate({x:c,y:f},a)}function ZI(o,a,n){var s=o.getBBox(),c=o.get("origin").mappingData,f=c.points,d=f[0].y-f[1].y>0?s.maxX:s.minX,v=(s.minY+s.maxY)/2;o.applyToMatrix([d,v,1]);var y=Dr.vs(o.getMatrix(),[["t",-d,-v],["s",.01,1],["t",d,v]]);o.setMatrix(y),o.animate({matrix:Dr.vs(o.getMatrix(),[["t",-d,-v],["s",100,1],["t",d,v]])},a)}function qI(o,a,n){var s=o.getBBox(),c=o.get("origin").mappingData,f=(s.minX+s.maxX)/2,d=c.points,v=d[0].y-d[1].y<=0?s.maxY:s.minY;o.applyToMatrix([f,v,1]);var y=Dr.vs(o.getMatrix(),[["t",-f,-v],["s",1,.01],["t",f,v]]);o.setMatrix(y),o.animate({matrix:Dr.vs(o.getMatrix(),[["t",-f,-v],["s",1,100],["t",f,v]])},a)}function _0(o,a){var n,s=uf(o,a),c=s.startAngle,f=s.endAngle;return!(0,_.vQ)(c,-Math.PI*.5)&&c<-Math.PI*.5&&(c+=Math.PI*2),!(0,_.vQ)(f,-Math.PI*.5)&&f<-Math.PI*.5&&(f+=Math.PI*2),a[5]===0&&(n=(0,L.CR)([f,c],2),c=n[0],f=n[1]),(0,_.vQ)(c,Math.PI*1.5)&&(c=Math.PI*-.5),(0,_.vQ)(f,Math.PI*-.5)&&!(0,_.vQ)(c,f)&&(f=Math.PI*1.5),{startAngle:c,endAngle:f}}function f_(o){var a;return o[0]==="M"||o[0]==="L"?a=[o[1],o[2]]:(o[0]==="a"||o[0]==="A"||o[0]==="C")&&(a=[o[o.length-2],o[o.length-1]]),a}function O0(o){var a,n,s,c=o.filter(function(Z){return Z[0]==="A"||Z[0]==="a"});if(c.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var f=c[0],d=c.length>1?c[1]:c[0],v=o.indexOf(f),y=o.indexOf(d),b=f_(o[v-1]),S=f_(o[y-1]),C=_0(b,f),T=C.startAngle,k=C.endAngle,R=_0(S,d),D=R.startAngle,V=R.endAngle;(0,_.vQ)(T,D)&&(0,_.vQ)(k,V)?(n=T,s=k):(n=Math.min(T,D),s=Math.max(k,V));var j=f[1],H=c[c.length-1][1];return j<H?(a=(0,L.CR)([H,j],2),j=a[0],H=a[1]):j===H&&(H=0),{startAngle:n,endAngle:s,radius:j,innerRadius:H}}function $I(o,a,n){var s=n.toAttrs,c=n.coordinate,f=s.path||[],d=f.map(function(H){return H[0]});if(!(f.length<1)){var v=O0(f),y=v.startAngle,b=v.endAngle,S=v.radius,C=v.innerRadius,T=O0(o.attr("path")),k=T.startAngle,R=T.endAngle,D=c.getCenter(),V=y-k,j=b-R;if(V===0&&j===0){o.attr("path",f);return}o.animate(function(H){var Z=k+H*V,q=R+H*j;return(0,L.pi)((0,L.pi)({},s),{path:(0,_.Xy)(d,["M","A","A","Z"])?Sy(D.x,D.y,S,Z,q):kl(D.x,D.y,S,Z,q,C)})},(0,L.pi)((0,L.pi)({},a),{callback:function(){o.attr("path",f),(0,_.mf)(a.callback)&&a.callback()}}))}}function KI(o,a,n){var s=dv(n.coordinate,20),c=s.type,f=s.startState,d=s.endState,v=o.setClip({type:c,attrs:f});n.toAttrs&&o.attr(n.toAttrs),v.animate(d,(0,L.pi)((0,L.pi)({},a),{callback:function(){o&&!o.get("destroyed")&&o.set("clipShape",null),v.remove(!0),(0,_.mf)(a.callback)&&a.callback()}}))}function C0(o,a,n){if(o.isGroup())(0,_.S6)(o.getChildren(),function(v){C0(v,a,n)});else{var s=o.getBBox(),c=(s.minX+s.maxX)/2,f=(s.minY+s.maxY)/2;if(o.applyToMatrix([c,f,1]),n==="zoomIn"){var d=Dr.vs(o.getMatrix(),[["t",-c,-f],["s",.01,.01],["t",c,f]]);o.setMatrix(d),o.animate({matrix:Dr.vs(o.getMatrix(),[["t",-c,-f],["s",100,100],["t",c,f]])},a)}else o.animate({matrix:Dr.vs(o.getMatrix(),[["t",-c,-f],["s",.01,.01],["t",c,f]])},(0,L.pi)((0,L.pi)({},a),{callback:function(){o.remove(!0),(0,_.mf)(a.callback)&&a.callback()}}))}}function al(o,a,n){C0(o,a,"zoomIn")}function Jl(o,a,n){C0(o,a,"zoomOut")}function Ya(o){return[Lt.TOP,Lt.BOTTOM].includes(o)?{offsetX:0,offsetY:o===Lt.TOP?-8:8,style:{textAlign:"center",textBaseline:o===Lt.TOP?"bottom":"top"}}:[Lt.LEFT,Lt.RIGHT].includes(o)?{offsetX:o===Lt.LEFT?-8:8,offsetY:0,style:{textAlign:o===Lt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function h_(o,a,n){return{x:o.x+a*Math.cos(n),y:o.y+a*Math.sin(n)}}var JI=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:o.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.getRegion=function(n,s){var c=.5,f={x:.5,y:.5},d=Math.PI*2/n,v=-1*Math.PI/2+d*s,y=c/(1+1/Math.sin(d/2)),b=h_(f,c-y,v),S=Math.PI*5/4,C=Math.PI*1/4;return{start:h_(b,y,S),end:h_(b,y,C)}},a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.beforeEachView=function(n,s){},a.prototype.generateFacets=function(n){var s=this,c=this.cfg,f=c.fields,d=c.type,v=(0,L.CR)(f,1),y=v[0];if(!y)throw new Error("No `fields` specified!");var b=this.getFieldValues(n,y),S=b.length,C=[];return b.forEach(function(T,k){var R=[{field:y,value:T,values:b}],D=(0,_.hX)(n,s.getFacetDataFilter(R)),V={type:d,data:D,region:s.getRegion(S,k),columnValue:T,columnField:y,columnIndex:k,columnValuesLength:S,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};C.push(V)}),C},a.prototype.getXAxisOption=function(n,s,c,f){return c},a.prototype.getYAxisOption=function(n,s,c,f){return c},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s){var c=s.columnValue,f=s.view,d=(0,_.U2)(n.cfg.title,"formatter"),v=(0,_.b$)({position:["50%","0%"],content:d?d(c):c},Ya(Lt.TOP),n.cfg.title);f.annotation().text(v)})},a}(Il),d_=JI,$4=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:o.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.beforeEachView=function(n,s){},a.prototype.generateFacets=function(n){var s=this,c=this.cfg.fields,f=this.cfg.cols,d=(0,L.CR)(c,1),v=d[0];if(!v)throw new Error("No `fields` specified!");var y=this.getFieldValues(n,v),b=y.length;f=f||b;var S=this.getPageCount(b,f),C=[];return y.forEach(function(T,k){var R=s.getRowCol(k,f),D=R.row,V=R.col,j=[{field:v,value:T,values:y}],H=(0,_.hX)(n,s.getFacetDataFilter(j)),Z={type:s.cfg.type,data:H,region:s.getRegion(S,f,V,D),columnValue:T,rowValue:T,columnField:v,rowField:null,columnIndex:V,rowIndex:D,columnValuesLength:f,rowValuesLength:S,total:b};C.push(Z)}),C},a.prototype.getXAxisOption=function(n,s,c,f){return f.rowIndex!==f.rowValuesLength-1&&f.columnValuesLength*f.rowIndex+f.columnIndex+1+f.columnValuesLength<=f.total?(0,L.pi)((0,L.pi)({},c),{label:null,title:null}):c},a.prototype.getYAxisOption=function(n,s,c,f){return f.columnIndex!==0?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):c},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s){var c=s.columnValue,f=s.view,d=(0,_.U2)(n.cfg.title,"formatter"),v=(0,_.b$)({position:["50%","0%"],content:d?d(c):c},Ya(Lt.TOP),n.cfg.title);f.annotation().text(v)})},a.prototype.getPageCount=function(n,s){return Math.floor((n+s-1)/s)},a.prototype.getRowCol=function(n,s){var c=Math.floor(n/s),f=n%s;return{row:c,col:f}},a}(Il),QI=$4,p_=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,L.pi)({},o.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,L.pi)({},o.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.beforeEachView=function(n,s){},a.prototype.generateFacets=function(n){for(var s=this.cfg,c=s.fields,f=s.type,d=c.length,v=d,y=[],b=0;b<v;b++)for(var S=c[b],C=0;C<d;C++){var T=c[C],k={type:f,data:n,region:this.getRegion(d,v,b,C),columnValue:S,rowValue:T,columnField:S,rowField:T,columnIndex:b,rowIndex:C,columnValuesLength:v,rowValuesLength:d};y.push(k)}return y},a.prototype.getXAxisOption=function(n,s,c,f){return f.rowIndex!==f.rowValuesLength-1?(0,L.pi)((0,L.pi)({},c),{label:null,title:null}):c},a.prototype.getYAxisOption=function(n,s,c,f){return f.columnIndex!==0?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):c},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s,c){var f=s.columnIndex,d=s.rowIndex,v=s.columnValuesLength,y=s.rowValuesLength,b=s.columnValue,S=s.rowValue,C=s.view;if(d===0){var T=(0,_.U2)(n.cfg.columnTitle,"formatter"),k=(0,_.b$)({position:["50%","0%"],content:T?T(b):b},Ya(Lt.TOP),n.cfg.columnTitle);C.annotation().text(k)}if(f===v-1){var T=(0,_.U2)(n.cfg.rowTitle,"formatter"),k=(0,_.b$)({position:["100%","50%"],content:T?T(S):S},Ya(Lt.RIGHT),n.cfg.rowTitle);C.annotation().text(k)}})},a}(Il),v_=p_,tR=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:o.prototype.getDefaultTitleCfg.call(this),transpose:!1})},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.beforeEachView=function(n,s){this.cfg.transpose?s.columnIndex%2===0?n.coordinate().transpose().reflect("x"):n.coordinate().transpose():s.rowIndex%2!==0&&n.coordinate().reflect("y")},a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.generateFacets=function(n){var s=this,c=(0,L.CR)(this.cfg.fields,1),f=c[0],d=[],v=1,y=1,b=[""],S=[""],C,T;return this.cfg.transpose?(C=f,b=this.getFieldValues(n,C).slice(0,2),v=b.length):(T=f,S=this.getFieldValues(n,T).slice(0,2),y=S.length),b.forEach(function(k,R){S.forEach(function(D,V){var j=[{field:C,value:k,values:b},{field:T,value:D,values:S}],H=(0,_.hX)(n,s.getFacetDataFilter(j)),Z={type:s.cfg.type,data:H,region:s.getRegion(y,v,R,V),columnValue:k,rowValue:D,columnField:C,rowField:T,columnIndex:R,rowIndex:V,columnValuesLength:v,rowValuesLength:y};d.push(Z)})}),d},a.prototype.getXAxisOption=function(n,s,c,f){return f.columnIndex===1||f.rowIndex===1?(0,L.pi)((0,L.pi)({},c),{label:null,title:null}):c},a.prototype.getYAxisOption=function(n,s,c,f){return c},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s,c){var f=s.columnValue,d=s.rowValue,v=s.view,y=(0,_.U2)(n.cfg.title,"formatter");if(n.cfg.transpose){var b=(0,_.b$)({position:["50%","0%"],content:y?y(f):f},Ya(Lt.TOP),n.cfg.title);v.annotation().text(b)}else{var b=(0,_.b$)({position:["100%","50%"],content:y?y(d):d},Ya(Lt.RIGHT),n.cfg.title);v.annotation().text(b)}})},a}(Il),jn=tR,eR=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.beforeEachView=function(n,s){},a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,L.pi)({},o.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,L.pi)({},o.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.generateFacets=function(n){var s=this,c=(0,L.CR)(this.cfg.fields,2),f=c[0],d=c[1],v=[],y=1,b=1,S=[""],C=[""];return f&&(S=this.getFieldValues(n,f),y=S.length),d&&(C=this.getFieldValues(n,d),b=C.length),S.forEach(function(T,k){C.forEach(function(R,D){var V=[{field:f,value:T,values:S},{field:d,value:R,values:C}],j=(0,_.hX)(n,s.getFacetDataFilter(V)),H={type:s.cfg.type,data:j,region:s.getRegion(b,y,k,D),columnValue:T,rowValue:R,columnField:f,rowField:d,columnIndex:k,rowIndex:D,columnValuesLength:y,rowValuesLength:b};v.push(H)})}),v},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s,c){var f=s.columnIndex,d=s.rowIndex,v=s.columnValuesLength,y=s.columnValue,b=s.rowValue,S=s.view;if(d===0){var C=(0,_.U2)(n.cfg.columnTitle,"formatter"),T=(0,_.b$)({position:["50%","0%"],content:C?C(y):y},Ya(Lt.TOP),n.cfg.columnTitle);S.annotation().text(T)}if(f===v-1){var C=(0,_.U2)(n.cfg.rowTitle,"formatter"),T=(0,_.b$)({position:["100%","50%"],content:C?C(b):b},Ya(Lt.RIGHT),n.cfg.rowTitle);S.annotation().text(T)}})},a.prototype.getXAxisOption=function(n,s,c,f){return f.rowIndex!==f.rowValuesLength-1?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):f.columnIndex!==Math.floor((f.columnValuesLength-1)/2)?(0,L.pi)((0,L.pi)({},c),{title:null}):c},a.prototype.getYAxisOption=function(n,s,c,f){return f.columnIndex!==0?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):f.rowIndex!==Math.floor((f.rowValuesLength-1)/2)?(0,L.pi)((0,L.pi)({},c),{title:null}):c},a}(Il),nR=eR,Md=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.afterChartRender=function(){n.facets&&n.cfg.line&&(n.container.clear(),n.drawLines(n.facets))},n}return a.prototype.afterEachView=function(n,s){this.processAxis(n,s)},a.prototype.beforeEachView=function(n,s){},a.prototype.init=function(){o.prototype.init.call(this),this.view.on(jt.AFTER_RENDER,this.afterChartRender)},a.prototype.getDefaultCfg=function(){return(0,_.b$)({},o.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:o.prototype.getDefaultTitleCfg.call(this)})},a.prototype.generateFacets=function(n){var s=this.cfg.fields;if(!s.length)throw new Error("Please specify for the fields for rootFacet!");var c=[],f={type:this.cfg.type,data:n,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return c.push(f),f.children=this.getChildFacets(n,1,c),this.setRegion(c),c},a.prototype.setRegion=function(n){var s=this;this.forceColIndex(n),n.forEach(function(c){c.region=s.getRegion(c.rowValuesLength,c.columnValuesLength,c.columnIndex,c.rowIndex)})},a.prototype.getRegion=function(n,s,c,f){var d=1/s,v=1/n,y={x:d*c,y:v*f},b={x:y.x+d,y:y.y+v*2/3};return{start:y,end:b}},a.prototype.forceColIndex=function(n){var s,c,f=this,d=[],v=0;n.forEach(function(R){f.isLeaf(R)&&(d.push(R),R.columnIndex=v,v++)}),d.forEach(function(R){R.columnValuesLength=d.length});for(var y=this.cfg.fields.length,b=y-1;b>=0;b--){var S=this.getFacetsByLevel(n,b);try{for(var C=(s=void 0,(0,L.XA)(S)),T=C.next();!T.done;T=C.next()){var k=T.value;this.isLeaf(k)||(k.originColIndex=k.columnIndex,k.columnIndex=this.getRegionIndex(k.children),k.columnValuesLength=d.length)}}catch(R){s={error:R}}finally{try{T&&!T.done&&(c=C.return)&&c.call(C)}finally{if(s)throw s.error}}}},a.prototype.getFacetsByLevel=function(n,s){var c=[];return n.forEach(function(f){f.rowIndex===s&&c.push(f)}),c},a.prototype.getRegionIndex=function(n){var s=n[0],c=n[n.length-1];return(c.columnIndex-s.columnIndex)/2+s.columnIndex},a.prototype.isLeaf=function(n){return!n.children||!n.children.length},a.prototype.getRows=function(){return this.cfg.fields.length+1},a.prototype.getChildFacets=function(n,s,c){var f=this,d=this.cfg.fields,v=d.length;if(!(v<s)){var y=[],b=d[s-1],S=this.getFieldValues(n,b);return S.forEach(function(C,T){var k=[{field:b,value:C,values:S}],R=n.filter(f.getFacetDataFilter(k));if(R.length){var D={type:f.cfg.type,data:R,region:null,columnValue:C,rowValue:"",columnField:b,rowField:"",columnIndex:T,rowValuesLength:f.getRows(),columnValuesLength:1,rowIndex:s,children:f.getChildFacets(R,s+1,c)};y.push(D),c.push(D)}}),y}},a.prototype.render=function(){o.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.renderTitle=function(){var n=this;(0,_.S6)(this.facets,function(s){var c=s.columnValue,f=s.view,d=(0,_.U2)(n.cfg.title,"formatter"),v=(0,_.b$)({position:["50%","0%"],content:d?d(c):c},Ya(Lt.TOP),n.cfg.title);f.annotation().text(v)})},a.prototype.drawLines=function(n){var s=this;n.forEach(function(c){if(!s.isLeaf(c)){var f=c.children;s.addFacetLines(c,f)}})},a.prototype.addFacetLines=function(n,s){var c=this,f=n.view,d=f.coordinateBBox,v={x:d.x+d.width/2,y:d.y+d.height};s.forEach(function(y){var b=y.view.coordinateBBox,S={x:b.bl.x+(b.tr.x-b.bl.x)/2,y:b.tr.y},C={x:v.x,y:v.y+(S.y-v.y)/2},T={x:S.x,y:C.y};c.drawLine([v,C,T,S])})},a.prototype.getPath=function(n){var s=[],c=this.cfg.line.smooth;return c?(s.push(["M",n[0].x,n[0].y]),s.push(["C",n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y])):n.forEach(function(f,d){d===0?s.push(["M",f.x,f.y]):s.push(["L",f.x,f.y])}),s},a.prototype.drawLine=function(n){var s=this.getPath(n),c=this.cfg.line.style;this.container.addShape("path",{attrs:(0,_.f0)({path:s},c)})},a.prototype.getXAxisOption=function(n,s,c,f){return f.rowIndex!==f.rowValuesLength-1?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):c},a.prototype.getYAxisOption=function(n,s,c,f){return f.originColIndex!==0&&f.columnIndex!==0?(0,L.pi)((0,L.pi)({},c),{title:null,label:null}):c},a}(Il),g_=Md;function Sd(o){var a=(0,L.ev)([],(0,L.CR)(o),!1);a.sort(function(s,c){return s-c});var n=a.length;return n===0?0:n%2===1?a[(n-1)/2]:(a[n/2]+a[n/2-1])/2}function Sf(o){var a=(0,_.u4)(o,function(n,s){return n+=isNaN(s)||!(0,_.hj)(s)?0:s},0);return o.length===0?0:a/o.length}function m1(o,a){if(!a)return null;var n;switch(o){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{n=a.isCategory?Sd(a.values.map(function(s,c){return c})):Sd(a.values);break}case"mean":{n=a.isCategory?(a.values.length-1)/2:Sf(a.values);break}case"min":n=a.isCategory?0:a[o];break;case"max":n=a.isCategory?a.values.length-1:a[o];break;default:n=o;break}return a.scale(n)}var _d=["regionFilter","shape"],y_=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.cache=new Map,s.foregroundContainer=s.view.getLayer(Ht.FORE).addGroup(),s.backgroundContainer=s.view.getLayer(Ht.BG).addGroup(),s.option=[],s}return Object.defineProperty(a.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.layout=function(){this.update()},a.prototype.render=function(){},a.prototype.update=function(){var n=this;this.onAfterRender(function(){var c=new Map;(0,_.S6)(n.option,function(f){if((0,_.q9)(_d,f.type)){var d=n.updateOrCreate(f);d&&c.set(n.getCacheKey(f),d)}}),n.cache=n.syncCache(c)});var s=new Map;(0,_.S6)(this.option,function(c){if(!(0,_.q9)(_d,c.type)){var f=n.updateOrCreate(c);f&&s.set(n.getCacheKey(c),f)}}),this.cache=this.syncCache(s)},a.prototype.clear=function(n){n===void 0&&(n=!1),o.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),n&&(this.option=[])},a.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},a.prototype.getComponents=function(){var n=[];return this.cache.forEach(function(s){n.push(s)}),n},a.prototype.clearComponents=function(){this.getComponents().forEach(function(n){n.component.destroy()}),this.cache.clear()},a.prototype.onAfterRender=function(n){var s=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(c){c.animateOption&&(c.once(le.AFTER_DRAW_ANIMATE,function(){n()}),s=!0)}),s||this.view.getRootView().once(jt.AFTER_RENDER,function(){n()})},a.prototype.createAnnotation=function(n){var s=n.type,c=Te[(0,_.jC)(s)];if(c){var f=this.getAnnotationTheme(s),d=this.getAnnotationCfg(s,n,f);if(!d)return null;var v=new c(d);return{component:v,layer:this.isTop(d)?Ht.FORE:Ht.BG,direction:Lt.NONE,type:Oe.ANNOTATION,extra:n}}},a.prototype.annotation=function(n){this.option.push(n)},a.prototype.arc=function(n){return this.annotation((0,L.pi)({type:"arc"},n)),this},a.prototype.image=function(n){return this.annotation((0,L.pi)({type:"image"},n)),this},a.prototype.line=function(n){return this.annotation((0,L.pi)({type:"line"},n)),this},a.prototype.region=function(n){return this.annotation((0,L.pi)({type:"region"},n)),this},a.prototype.text=function(n){return this.annotation((0,L.pi)({type:"text"},n)),this},a.prototype.dataMarker=function(n){return this.annotation((0,L.pi)({type:"dataMarker"},n)),this},a.prototype.dataRegion=function(n){this.annotation((0,L.pi)({type:"dataRegion"},n))},a.prototype.regionFilter=function(n){this.annotation((0,L.pi)({type:"regionFilter"},n))},a.prototype.shape=function(n){this.annotation((0,L.pi)({type:"shape"},n))},a.prototype.html=function(n){this.annotation((0,L.pi)({type:"html"},n))},a.prototype.parsePosition=function(n){var s,c,f=this.view.getXScale(),d=this.view.getScalesByDim("y"),v=(0,_.mf)(n)?n.call(null,f,d):n,y=0,b=0;if((0,_.kJ)(v)){var S=(0,L.CR)(v,2),C=S[0],T=S[1];if((0,_.HD)(C)&&C.indexOf("%")!==-1&&!isNaN(C.slice(0,-1)))return this.parsePercentPosition(v);y=m1(C,f),b=m1(T,Object.values(d)[0])}else if(!(0,_.UM)(v))try{for(var k=(0,L.XA)((0,_.XP)(v)),R=k.next();!R.done;R=k.next()){var D=R.value,V=v[D];D===f.field&&(y=m1(V,f)),d[D]&&(b=m1(V,d[D]))}}catch(j){s={error:j}}finally{try{R&&!R.done&&(c=k.return)&&c.call(k)}finally{if(s)throw s.error}}return isNaN(y)||isNaN(b)?null:this.view.getCoordinate().convert({x:y,y:b})},a.prototype.getRegionPoints=function(n,s){var c=this,f=this.view.getXScale(),d=this.view.getScalesByDim("y"),v=Object.values(d)[0],y=f.field,b=this.view.getData(),S=(0,_.kJ)(n)?n[0]:n[y],C=(0,_.kJ)(s)?s[0]:s[y],T=[],k;return(0,_.S6)(b,function(R,D){if(R[y]===S&&(k=D),D>=k){var V=c.parsePosition([R[y],R[v.field]]);V&&T.push(V)}if(R[y]===C)return!1}),T},a.prototype.parsePercentPosition=function(n){var s=parseFloat(n[0])/100,c=parseFloat(n[1])/100,f=this.view.getCoordinate(),d=f.start,v=f.end,y={x:Math.min(d.x,v.x),y:Math.min(d.y,v.y)},b=f.getWidth()*s+y.x,S=f.getHeight()*c+y.y;return{x:b,y:S}},a.prototype.getCoordinateBBox=function(){var n=this.view.getCoordinate(),s=n.start,c=n.end,f=n.getWidth(),d=n.getHeight(),v={x:Math.min(s.x,c.x),y:Math.min(s.y,c.y)};return{x:v.x,y:v.y,minX:v.x,minY:v.y,maxX:v.x+f,maxY:v.y+d,width:f,height:d}},a.prototype.getAnnotationCfg=function(n,s,c){var f=this,d=this.view.getCoordinate(),v=this.view.getCanvas(),y={};if((0,_.UM)(s))return null;var b=s.start,S=s.end,C=s.position,T=this.parsePosition(b),k=this.parsePosition(S),R=this.parsePosition(C);if(["arc","image","line","region","regionFilter"].includes(n)&&(!T||!k))return null;if(["text","dataMarker","html"].includes(n)&&!R)return null;if(n==="arc"){var D=s,V=D.start,j=D.end,H=(0,L._T)(D,["start","end"]),Z=ns(d,T),q=ns(d,k);Z>q&&(q=Math.PI*2+q),y=(0,L.pi)((0,L.pi)({},H),{center:d.getCenter(),radius:Ll(d,T),startAngle:Z,endAngle:q})}else if(n==="image"){var K=s,Ct=K.start,Ft=K.end,H=(0,L._T)(K,["start","end"]);y=(0,L.pi)((0,L.pi)({},H),{start:T,end:k,src:s.src})}else if(n==="line"){var Jt=s,_e=Jt.start,ge=Jt.end,H=(0,L._T)(Jt,["start","end"]);y=(0,L.pi)((0,L.pi)({},H),{start:T,end:k,text:(0,_.U2)(s,"text",null)})}else if(n==="region"){var Be=s,tn=Be.start,vn=Be.end,H=(0,L._T)(Be,["start","end"]);y=(0,L.pi)((0,L.pi)({},H),{start:T,end:k})}else if(n==="text"){var Mn=this.view.getData(),Pn=s,Ze=Pn.position,ln=Pn.content,H=(0,L._T)(Pn,["position","content"]),dn=ln;(0,_.mf)(ln)&&(dn=ln(Mn)),y=(0,L.pi)((0,L.pi)((0,L.pi)({},R),H),{content:dn})}else if(n==="dataMarker"){var fn=s,bn=fn.position,Bn=fn.point,tr=fn.line,sr=fn.text,Xn=fn.autoAdjust,er=fn.direction,H=(0,L._T)(fn,["position","point","line","text","autoAdjust","direction"]);y=(0,L.pi)((0,L.pi)((0,L.pi)({},H),R),{coordinateBBox:this.getCoordinateBBox(),point:Bn,line:tr,text:sr,autoAdjust:Xn,direction:er})}else if(n==="dataRegion"){var Ir=s,hi=Ir.start,si=Ir.end,po=Ir.region,sr=Ir.text,wc=Ir.lineLength,H=(0,L._T)(Ir,["start","end","region","text","lineLength"]);y=(0,L.pi)((0,L.pi)({},H),{points:this.getRegionPoints(hi,si),region:po,text:sr,lineLength:wc})}else if(n==="regionFilter"){var Ys=s,Au=Ys.start,Po=Ys.end,fE=Ys.apply,Qb=Ys.color,H=(0,L._T)(Ys,["start","end","apply","color"]),cB=this.view.geometries,hE=[],bp=function(Us){Us&&(Us.isGroup()?Us.getChildren().forEach(function(Mp){return bp(Mp)}):hE.push(Us))};(0,_.S6)(cB,function(Us){fE?(0,_.FX)(fE,Us.type)&&(0,_.S6)(Us.elements,function(Mp){bp(Mp.shape)}):(0,_.S6)(Us.elements,function(Mp){bp(Mp.shape)})}),y=(0,L.pi)((0,L.pi)({},H),{color:Qb,shapes:hE,start:T,end:k})}else if(n==="shape"){var dE=s,uB=dE.render,t2=(0,L._T)(dE,["render"]),fB=function(hB){if((0,_.mf)(s.render))return uB(hB,f.view,{parsePosition:f.parsePosition.bind(f)})};y=(0,L.pi)((0,L.pi)({},t2),{render:fB})}else if(n==="html"){var wp=s,e2=wp.html,B9=wp.position,t2=(0,L._T)(wp,["html","position"]),eh=function(Us){return(0,_.mf)(e2)?e2(Us,f.view):e2};y=(0,L.pi)((0,L.pi)((0,L.pi)({},t2),R),{parent:v.get("el").parentNode,html:eh})}var Mc=(0,_.b$)({},c,(0,L.pi)((0,L.pi)({},y),{top:s.top,style:s.style,offsetX:s.offsetX,offsetY:s.offsetY}));return n!=="html"&&(Mc.container=this.getComponentContainer(Mc)),Mc.animate=this.view.getOptions().animate&&Mc.animate&&(0,_.U2)(s,"animate",Mc.animate),Mc.animateOption=(0,_.b$)({},sf,Mc.animateOption,s.animateOption),Mc},a.prototype.isTop=function(n){return(0,_.U2)(n,"top",!0)},a.prototype.getComponentContainer=function(n){return this.isTop(n)?this.foregroundContainer:this.backgroundContainer},a.prototype.getAnnotationTheme=function(n){return(0,_.U2)(this.view.getTheme(),["components","annotation",n],{})},a.prototype.updateOrCreate=function(n){var s=this.cache.get(this.getCacheKey(n));if(s){var c=n.type,f=this.getAnnotationTheme(c),d=this.getAnnotationCfg(c,n,f);d&&eo(d,["container"]),s.component.update((0,L.pi)((0,L.pi)({},d||{}),{visible:!!d})),(0,_.q9)(_d,n.type)&&s.component.render()}else s=this.createAnnotation(n),s&&(s.component.init(),(0,_.q9)(_d,n.type)&&s.component.render());return s},a.prototype.syncCache=function(n){var s=this,c=new Map(this.cache);return n.forEach(function(f,d){c.set(d,f)}),c.forEach(function(f,d){(0,_.sE)(s.option,function(v){return d===s.getCacheKey(v)})||(f.component.destroy(),c.delete(d))}),c},a.prototype.getCacheKey=function(n){return n},a}(As),m_=y_;function Od(o,a){var n=(0,_.b$)({},(0,_.U2)(o,["components","axis","common"]),(0,_.U2)(o,["components","axis",a]));return(0,_.U2)(n,["grid"],{})}function Cd(o,a,n,s){var c=[],f=a.getTicks();return o.isPolar&&f.push({value:1,text:"",tickValue:""}),f.reduce(function(d,v,y){var b=v.value;if(s)c.push({points:[o.convert(n==="y"?{x:0,y:b}:{x:b,y:0}),o.convert(n==="y"?{x:1,y:b}:{x:b,y:1})]});else if(y){var S=d.value,C=(S+b)/2;c.push({points:[o.convert(n==="y"?{x:0,y:C}:{x:C,y:0}),o.convert(n==="y"?{x:1,y:C}:{x:C,y:1})]})}return v},f[0]),c}function cu(o,a,n,s,c){var f=a.values.length,d=[],v=n.getTicks();return v.reduce(function(y,b){var S=y?y.value:b.value,C=b.value,T=(S+C)/2;return c==="x"?d.push({points:[o.convert({x:s?C:T,y:0}),o.convert({x:s?C:T,y:1})]}):d.push({points:(0,_.UI)(Array(f+1),function(k,R){return o.convert({x:R/f,y:s?C:T})})}),b},v[0]),d}function Ql(o,a){var n=(0,_.U2)(a,"grid");if(n===null)return!1;var s=(0,_.U2)(o,"grid");return!(n===void 0&&s===null)}var ss=["container"],rR=(0,L.pi)((0,L.pi)({},sf),{appear:null}),x_=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.cache=new Map,s.gridContainer=s.view.getLayer(Ht.BG).addGroup(),s.gridForeContainer=s.view.getLayer(Ht.FORE).addGroup(),s.axisContainer=s.view.getLayer(Ht.BG).addGroup(),s.axisForeContainer=s.view.getLayer(Ht.FORE).addGroup(),s}return Object.defineProperty(a.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var n=this,s=this.view.getCoordinate();(0,_.S6)(this.getComponents(),function(c){var f=c.component,d=c.direction,v=c.type,y=c.extra,b=y.dim,S=y.scale,C=y.alignTick,T;if(v===Oe.AXIS)s.isPolar?b==="x"?T=s.isTransposed?Ku(s,d):Ju(s):b==="y"&&(T=s.isTransposed?Ju(s):Ku(s,d)):T=Ku(s,d);else if(v===Oe.GRID)if(s.isPolar){var k=void 0;s.isTransposed?k=b==="x"?cu(s,n.view.getYScales()[0],S,C,b):Cd(s,S,b,C):k=b==="x"?Cd(s,S,b,C):cu(s,n.view.getXScale(),S,C,b),T={items:k,center:n.view.getCoordinate().getCenter()}}else T={items:Cd(s,S,b,C)};f.update(T)})},a.prototype.update=function(){this.option=this.view.getOptions().axes;var n=new Map;this.updateXAxes(n),this.updateYAxes(n);var s=new Map;this.cache.forEach(function(c,f){n.has(f)?s.set(f,c):c.component.destroy()}),this.cache=s},a.prototype.clear=function(){o.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},a.prototype.getComponents=function(){var n=[];return this.cache.forEach(function(s){n.push(s)}),n},a.prototype.updateXAxes=function(n){var s=this.view.getXScale();if(!(!s||s.isIdentity)){var c=gv(this.option,s.field);if(c!==!1){var f=Nh(c,Lt.BOTTOM),d=Ht.BG,v="x",y=this.view.getCoordinate(),b=this.getId("axis",s.field),S=this.getId("grid",s.field);if(y.isRect){var C=this.cache.get(b);if(C){var T=this.getLineAxisCfg(s,c,f);eo(T,ss),C.component.update(T),n.set(b,C)}else C=this.createLineAxis(s,c,d,f,v),this.cache.set(b,C),n.set(b,C);var k=this.cache.get(S);if(k){var T=this.getLineGridCfg(s,c,f,v);eo(T,ss),k.component.update(T),n.set(S,k)}else k=this.createLineGrid(s,c,d,f,v),k&&(this.cache.set(S,k),n.set(S,k))}else if(y.isPolar){var C=this.cache.get(b);if(C){var T=y.isTransposed?this.getLineAxisCfg(s,c,Lt.RADIUS):this.getCircleAxisCfg(s,c,f);eo(T,ss),C.component.update(T),n.set(b,C)}else{if(y.isTransposed){if((0,_.o8)(c))return;C=this.createLineAxis(s,c,d,Lt.RADIUS,v)}else C=this.createCircleAxis(s,c,d,f,v);this.cache.set(b,C),n.set(b,C)}var k=this.cache.get(S);if(k){var T=y.isTransposed?this.getCircleGridCfg(s,c,Lt.RADIUS,v):this.getLineGridCfg(s,c,Lt.CIRCLE,v);eo(T,ss),k.component.update(T),n.set(S,k)}else{if(y.isTransposed){if((0,_.o8)(c))return;k=this.createCircleGrid(s,c,d,Lt.RADIUS,v)}else k=this.createLineGrid(s,c,d,Lt.CIRCLE,v);k&&(this.cache.set(S,k),n.set(S,k))}}}}},a.prototype.updateYAxes=function(n){var s=this,c=this.view.getYScales();(0,_.S6)(c,function(f,d){if(!(!f||f.isIdentity)){var v=f.field,y=gv(s.option,v);if(y!==!1){var b=Ht.BG,S="y",C=s.getId("axis",v),T=s.getId("grid",v),k=s.view.getCoordinate();if(k.isRect){var R=Nh(y,d===0?Lt.LEFT:Lt.RIGHT),D=s.cache.get(C);if(D){var V=s.getLineAxisCfg(f,y,R);eo(V,ss),D.component.update(V),n.set(C,D)}else D=s.createLineAxis(f,y,b,R,S),s.cache.set(C,D),n.set(C,D);var j=s.cache.get(T);if(j){var V=s.getLineGridCfg(f,y,R,S);eo(V,ss),j.component.update(V),n.set(T,j)}else j=s.createLineGrid(f,y,b,R,S),j&&(s.cache.set(T,j),n.set(T,j))}else if(k.isPolar){var D=s.cache.get(C);if(D){var V=k.isTransposed?s.getCircleAxisCfg(f,y,Lt.CIRCLE):s.getLineAxisCfg(f,y,Lt.RADIUS);eo(V,ss),D.component.update(V),n.set(C,D)}else{if(k.isTransposed){if((0,_.o8)(y))return;D=s.createCircleAxis(f,y,b,Lt.CIRCLE,S)}else D=s.createLineAxis(f,y,b,Lt.RADIUS,S);s.cache.set(C,D),n.set(C,D)}var j=s.cache.get(T);if(j){var V=k.isTransposed?s.getLineGridCfg(f,y,Lt.CIRCLE,S):s.getCircleGridCfg(f,y,Lt.RADIUS,S);eo(V,ss),j.component.update(V),n.set(T,j)}else{if(k.isTransposed){if((0,_.o8)(y))return;j=s.createLineGrid(f,y,b,Lt.CIRCLE,S)}else j=s.createCircleGrid(f,y,b,Lt.RADIUS,S);j&&(s.cache.set(T,j),n.set(T,j))}}}}})},a.prototype.createLineAxis=function(n,s,c,f,d){var v={component:new cv(this.getLineAxisCfg(n,s,f)),layer:c,direction:f===Lt.RADIUS?Lt.NONE:f,type:Oe.AXIS,extra:{dim:d,scale:n}};return v.component.set("field",n.field),v.component.init(),v},a.prototype.createLineGrid=function(n,s,c,f,d){var v=this.getLineGridCfg(n,s,f,d);if(v){var y={component:new qu(v),layer:c,direction:Lt.NONE,type:Oe.GRID,extra:{dim:d,scale:n,alignTick:(0,_.U2)(v,"alignTick",!0)}};return y.component.init(),y}},a.prototype.createCircleAxis=function(n,s,c,f,d){var v={component:new My(this.getCircleAxisCfg(n,s,f)),layer:c,direction:f,type:Oe.AXIS,extra:{dim:d,scale:n}};return v.component.set("field",n.field),v.component.init(),v},a.prototype.createCircleGrid=function(n,s,c,f,d){var v=this.getCircleGridCfg(n,s,f,d);if(v){var y={component:new Ow(v),layer:c,direction:Lt.NONE,type:Oe.GRID,extra:{dim:d,scale:n,alignTick:(0,_.U2)(v,"alignTick",!0)}};return y.component.init(),y}},a.prototype.getLineAxisCfg=function(n,s,c){var f=(0,_.U2)(s,["top"])?this.axisForeContainer:this.axisContainer,d=this.view.getCoordinate(),v=Ku(d,c),y=Ty(n,s),b=vv(this.view.getTheme(),c),S=(0,_.U2)(s,["title"])?(0,_.b$)({title:{style:{text:y}}},{title:Pw(this.view.getTheme(),c,s.title)},s):s,C=(0,_.b$)((0,L.pi)((0,L.pi)({container:f},v),{ticks:n.getTicks().map(function(Z){return{id:"".concat(Z.tickValue),name:Z.text,value:Z.value}}),verticalFactor:d.isPolar?kw(v,d.getCenter())*-1:kw(v,d.getCenter()),theme:b}),b,S),T=this.getAnimateCfg(C),k=T.animate,R=T.animateOption;C.animateOption=R,C.animate=k;var D=pv(v),V=(0,_.U2)(C,"verticalLimitLength",D?1/3:1/2);if(V<=1){var j=this.view.getCanvas().get("width"),H=this.view.getCanvas().get("height");C.verticalLimitLength=V*(D?j:H)}return C},a.prototype.getLineGridCfg=function(n,s,c,f){if(Ql(vv(this.view.getTheme(),c),s)){var d=Od(this.view.getTheme(),c),v=(0,_.b$)({container:(0,_.U2)(s,["top"])?this.gridForeContainer:this.gridContainer},d,(0,_.U2)(s,"grid"),this.getAnimateCfg(s));return v.items=Cd(this.view.getCoordinate(),n,f,(0,_.U2)(v,"alignTick",!0)),v}},a.prototype.getCircleAxisCfg=function(n,s,c){var f=(0,_.U2)(s,["top"])?this.axisForeContainer:this.axisContainer,d=this.view.getCoordinate(),v=n.getTicks().map(function(D){return{id:"".concat(D.tickValue),name:D.text,value:D.value}});!n.isCategory&&Math.abs(d.endAngle-d.startAngle)===Math.PI*2&&v.length&&(v[v.length-1].name="");var y=Ty(n,s),b=vv(this.view.getTheme(),Lt.CIRCLE),S=(0,_.U2)(s,["title"])?(0,_.b$)({title:{style:{text:y}}},{title:Pw(this.view.getTheme(),c,s.title)},s):s,C=(0,_.b$)((0,L.pi)((0,L.pi)({container:f},Ju(this.view.getCoordinate())),{ticks:v,verticalFactor:1,theme:b}),b,S),T=this.getAnimateCfg(C),k=T.animate,R=T.animateOption;return C.animate=k,C.animateOption=R,C},a.prototype.getCircleGridCfg=function(n,s,c,f){if(Ql(vv(this.view.getTheme(),c),s)){var d=Od(this.view.getTheme(),Lt.RADIUS),v=(0,_.b$)({container:(0,_.U2)(s,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},d,(0,_.U2)(s,"grid"),this.getAnimateCfg(s)),y=(0,_.U2)(v,"alignTick",!0),b=f==="x"?this.view.getYScales()[0]:this.view.getXScale();return v.items=cu(this.view.getCoordinate(),b,n,y,f),v}},a.prototype.getId=function(n,s){var c=this.view.getCoordinate();return"".concat(n,"-").concat(s,"-").concat(c.type)},a.prototype.getAnimateCfg=function(n){return{animate:this.view.getOptions().animate&&(0,_.U2)(n,"animate"),animateOption:n&&n.animateOption?(0,_.b$)({},rR,n.animateOption):rR}},a}(As),b_=x_;function Wo(o,a,n){return n===Lt.TOP?[o.minX+o.width/2-a.width/2,o.minY]:n===Lt.BOTTOM?[o.minX+o.width/2-a.width/2,o.maxY-a.height]:n===Lt.LEFT?[o.minX,o.minY+o.height/2-a.height/2]:n===Lt.RIGHT?[o.maxX-a.width,o.minY+o.height/2-a.height/2]:n===Lt.TOP_LEFT||n===Lt.LEFT_TOP?[o.tl.x,o.tl.y]:n===Lt.TOP_RIGHT||n===Lt.RIGHT_TOP?[o.tr.x-a.width,o.tr.y]:n===Lt.BOTTOM_LEFT||n===Lt.LEFT_BOTTOM?[o.bl.x,o.bl.y-a.height]:n===Lt.BOTTOM_RIGHT||n===Lt.RIGHT_BOTTOM?[o.br.x-a.width,o.br.y-a.height]:[0,0]}function w_(o,a){if(a.isTransposed)switch(o){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return o}function x1(o){return o===DIRECTION.LEFT?DIRECTION.RIGHT:o===DIRECTION.RIGHT?DIRECTION.LEFT:o}function ol(o){return o===DIRECTION.TOP?DIRECTION.BOTTOM:o===DIRECTION.BOTTOM?DIRECTION.TOP:o}function _f(o,a){var n=a.matrix[0],s=a.matrix[4],c=o;return n<0&&(c=x1(c)),s<0&&(c=ol(c)),c}function M_(o,a){var n=o;return a.isReflect("x")&&(n=x1(n)),a.isReflect("y")&&(n=ol(n)),n}function S_(o,a){var n=o;return n=w_(n,a),n=_f(n,a),n=M_(n,a),n}function b1(o,a){return(0,_.jn)(o)?o===!1?!1:{}:(0,_.U2)(o,[a],o)}function A0(o){return(0,_.U2)(o,"position",Lt.BOTTOM)}var w1=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.container=s.view.getLayer(Ht.FORE).addGroup(),s}return Object.defineProperty(a.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var n=this;this.layoutBBox=this.view.viewBBox,(0,_.S6)(this.components,function(s){var c=s.component,f=s.direction,d=Xh(f),v=c.get("maxWidthRatio"),y=c.get("maxHeightRatio"),b=n.getCategoryLegendSizeCfg(d,v,y),S=c.get("maxWidth"),C=c.get("maxHeight");c.update({maxWidth:Math.min(b.maxWidth,S||0),maxHeight:Math.min(b.maxHeight,C||0)});var T=c.get("padding"),k=c.getLayoutBBox(),R=new ja(k.x,k.y,k.width,k.height).expand(T),D=(0,L.CR)(Wo(n.view.viewBBox,R,f),2),V=D[0],j=D[1],H=(0,L.CR)(Wo(n.layoutBBox,R,f),2),Z=H[0],q=H[1],K=0,Ct=0;f.startsWith("top")||f.startsWith("bottom")?(K=V,Ct=q):(K=Z,Ct=j),c.setLocation({x:K+T[3],y:Ct+T[0]}),n.layoutBBox=n.layoutBBox.cut(R,f)})},a.prototype.update=function(){var n=this;this.option=this.view.getOptions().legends;var s={},c=function(T,k,R){var D=n.getId(R.field),V=n.getComponentById(D);if(V){var j=void 0,H=b1(n.option,R.field);H!==!1&&((0,_.U2)(H,"custom")?j=n.getCategoryCfg(T,k,R,H,!0):R.isLinear?j=n.getContinuousCfg(T,k,R,H):R.isCategory&&(j=n.getCategoryCfg(T,k,R,H))),j&&(eo(j,["container"]),V.direction=A0(H),V.component.update(j),s[D]=!0)}else{var Z=n.createFieldLegend(T,k,R);Z&&(Z.component.init(),n.components.push(Z),s[D]=!0)}};if((0,_.U2)(this.option,"custom")){var f="global-custom",d=this.getComponentById(f);if(d){var v=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);eo(v,["container"]),d.component.update(v),s[f]=!0}else{var y=this.createCustomLegend(void 0,void 0,void 0,this.option);if(y){y.init();var b=Ht.FORE,S=A0(this.option);this.components.push({id:f,component:y,layer:b,direction:S,type:Oe.LEGEND,extra:void 0}),s[f]=!0}}}else this.loopLegends(c);var C=[];(0,_.S6)(this.getComponents(),function(T){s[T.id]?C.push(T):T.component.destroy()}),this.components=C},a.prototype.clear=function(){o.prototype.clear.call(this),this.container.clear()},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.container.remove(!0)},a.prototype.getGeometries=function(n){var s=this,c=n.geometries;return(0,_.S6)(n.views,function(f){c=c.concat(s.getGeometries(f))}),c},a.prototype.loopLegends=function(n){var s=this.view.getRootView()===this.view;if(s){var c=this.getGeometries(this.view),f={};(0,_.S6)(c,function(d){var v=d.getGroupAttributes();(0,_.S6)(v,function(y){var b=y.getScale(y.type);!b||b.type==="identity"||f[b.field]||(n(d,y,b),f[b.field]=!0)})})}},a.prototype.createFieldLegend=function(n,s,c){var f,d=b1(this.option,c.field),v=Ht.FORE,y=A0(d);if(d!==!1&&((0,_.U2)(d,"custom")?f=this.createCustomLegend(n,s,c,d):c.isLinear?f=this.createContinuousLegend(n,s,c,d):c.isCategory&&(f=this.createCategoryLegend(n,s,c,d))),f)return f.set("field",c.field),{id:this.getId(c.field),component:f,layer:v,direction:y,type:Oe.LEGEND,extra:{scale:c}}},a.prototype.createCustomLegend=function(n,s,c,f){var d=this.getCategoryCfg(n,s,c,f,!0);return new Sn(d)},a.prototype.createContinuousLegend=function(n,s,c,f){var d=this.getContinuousCfg(n,s,c,eo(f,["value"]));return new cP(d)},a.prototype.createCategoryLegend=function(n,s,c,f){var d=this.getCategoryCfg(n,s,c,f);return new Sn(d)},a.prototype.getContinuousCfg=function(n,s,c,f){var d=c.getTicks(),v=(0,_.sE)(d,function(D){return D.value===0}),y=(0,_.sE)(d,function(D){return D.value===1}),b=d.map(function(D){var V=D.value,j=D.tickValue,H=s.mapping(c.invert(V)).join("");return{value:j,attrValue:H,color:H,scaleValue:V}});v||b.push({value:c.min,attrValue:s.mapping(c.invert(0)).join(""),color:s.mapping(c.invert(0)).join(""),scaleValue:0}),y||b.push({value:c.max,attrValue:s.mapping(c.invert(1)).join(""),color:s.mapping(c.invert(1)).join(""),scaleValue:1}),b.sort(function(D,V){return D.value-V.value});var S={min:(0,_.YM)(b).value,max:(0,_.Z$)(b).value,colors:[],rail:{type:s.type},track:{}};s.type==="size"&&(S.track={style:{fill:s.type==="size"?this.view.getTheme().defaultColor:void 0}}),s.type==="color"&&(S.colors=b.map(function(D){return D.attrValue}));var C=this.container,T=A0(f),k=Xh(T),R=(0,_.U2)(f,"title");return R&&(R=(0,_.b$)({text:Bh(c)},R)),S.container=C,S.layout=k,S.title=R,S.animateOption=sf,this.mergeLegendCfg(S,f,"continuous")},a.prototype.getCategoryCfg=function(n,s,c,f,d){var v=this.container,y=(0,_.U2)(f,"position",Lt.BOTTOM),b=GM(this.view.getTheme(),y),S=(0,_.U2)(b,["marker"]),C=(0,_.U2)(f,"marker"),T=Xh(y),k=(0,_.U2)(b,["pageNavigator"]),R=(0,_.U2)(f,"pageNavigator"),D=d?oL(S,C,f.items):jM(this.view,n,s,S,C),V=(0,_.U2)(f,"title");V&&(V=(0,_.b$)({text:c?Bh(c):""},V));var j=(0,_.U2)(f,"maxWidthRatio"),H=(0,_.U2)(f,"maxHeightRatio"),Z=this.getCategoryLegendSizeCfg(T,j,H);Z.container=v,Z.layout=T,Z.items=D,Z.title=V,Z.animateOption=sf,Z.pageNavigator=(0,_.b$)({},k,R);var q=this.mergeLegendCfg(Z,f,y);q.reversed&&q.items.reverse();var K=(0,_.U2)(q,"maxItemWidth");return K&&K<=1&&(q.maxItemWidth=this.view.viewBBox.width*K),q},a.prototype.mergeLegendCfg=function(n,s,c){var f=c.split("-")[0],d=GM(this.view.getTheme(),f);return(0,_.b$)({},d,n,s)},a.prototype.getId=function(n){return"".concat(this.name,"-").concat(n)},a.prototype.getComponentById=function(n){return(0,_.sE)(this.components,function(s){return s.id===n})},a.prototype.getCategoryLegendSizeCfg=function(n,s,c){s===void 0&&(s=Ne),c===void 0&&(c=Ne);var f=this.view.viewBBox,d=f.width,v=f.height;return n==="vertical"?{maxWidth:d*s,maxHeight:v}:{maxWidth:d,maxHeight:v*c}},a}(As),iR=w1,__=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.onChangeFn=_.ZT,s.resetMeasure=function(){s.clear()},s.onValueChange=function(c){var f=(0,L.CR)(c,2),d=f[0],v=f[1];s.start=d,s.end=v,s.changeViewData(d,v)},s.container=s.view.getLayer(Ht.FORE).addGroup(),s.onChangeFn=(0,_.P2)(s.onValueChange,20,{leading:!0}),s.width=0,s.view.on(jt.BEFORE_CHANGE_DATA,s.resetMeasure),s.view.on(jt.BEFORE_CHANGE_SIZE,s.resetMeasure),s}return Object.defineProperty(a.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){o.prototype.destroy.call(this),this.view.off(jt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(jt.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().slider;var n=this.getSliderCfg(),s=n.start,c=n.end;(0,_.UM)(this.start)&&(this.start=s,this.end=c);var f=this.view.getOptions().data;this.option&&!(0,_.xb)(f)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},a.prototype.layout=function(){var n=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){n.view.destroyed||n.changeViewData(n.start,n.end)},0)),this.slider){var s=this.view.coordinateBBox.width,c=this.slider.component.get("padding"),f=(0,L.CR)(c,4),d=f[0],v=f[1],y=f[2],b=f[3],S=this.slider.component.getLayoutBBox(),C=new ja(S.x,S.y,Math.min(S.width,s),S.height).expand(c),T=this.getMinMaxText(this.start,this.end),k=T.minText,R=T.maxText,D=(0,L.CR)(Wo(this.view.viewBBox,C,Lt.BOTTOM),2),V=D[0],j=D[1],H=(0,L.CR)(Wo(this.view.coordinateBBox,C,Lt.BOTTOM),2),Z=H[0],q=H[1];this.slider.component.update((0,L.pi)((0,L.pi)({},this.getSliderCfg()),{x:Z+b,y:j+d,width:this.width,start:this.start,end:this.end,minText:k,maxText:R})),this.view.viewBBox=this.view.viewBBox.cut(C,Lt.BOTTOM)}},a.prototype.update=function(){this.render()},a.prototype.createSlider=function(){var n=this.getSliderCfg(),s=new by((0,L.pi)({container:this.container},n));return s.init(),{component:s,layer:Ht.FORE,direction:Lt.BOTTOM,type:Oe.SLIDER}},a.prototype.updateSlider=function(){var n=this.getSliderCfg();if(this.width){var s=this.getMinMaxText(this.start,this.end),c=s.minText,f=s.maxText;n=(0,L.pi)((0,L.pi)({},n),{width:this.width,start:this.start,end:this.end,minText:c,maxText:f})}return this.slider.component.update(n),this.slider},a.prototype.measureSlider=function(){var n=this.getSliderCfg().width;this.width=n},a.prototype.getSliderCfg=function(){var n={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,_.Kn)(this.option)){var s=(0,L.pi)({data:this.getData()},(0,_.U2)(this.option,"trendCfg",{}));n=(0,_.b$)({},n,this.getThemeOptions(),this.option),n=(0,L.pi)((0,L.pi)({},n),{trendCfg:s})}return n.start=(0,_.uZ)(Math.min((0,_.UM)(n.start)?0:n.start,(0,_.UM)(n.end)?1:n.end),0,1),n.end=(0,_.uZ)(Math.max((0,_.UM)(n.start)?0:n.start,(0,_.UM)(n.end)?1:n.end),0,1),n},a.prototype.getData=function(){var n=this.view.getOptions().data,s=(0,L.CR)(this.view.getYScales(),1),c=s[0],f=this.view.getGroupScales();if(f.length){var d=f[0],v=d.field,y=d.ticks;return n.reduce(function(b,S){return S[v]===y[0]&&b.push(S[c.field]),b},[])}return n.map(function(b){return b[c.field]||0})},a.prototype.getThemeOptions=function(){var n=this.view.getTheme();return(0,_.U2)(n,["components","slider","common"],{})},a.prototype.getMinMaxText=function(n,s){var c=this.view.getOptions().data,f=this.view.getXScale(),d=!0,v=(0,_.I)(c,f.field);f.isLinear&&(v=v.sort());var y=d?v:v.reverse(),b=(0,_.dp)(c);if(!f||!b)return{};var S=(0,_.dp)(y),C=Math.round(n*(S-1)),T=Math.round(s*(S-1)),k=(0,_.U2)(y,[C]),R=(0,_.U2)(y,[T]),D=this.getSliderCfg().formatter;return D&&(k=D(k,c[C],C),R=D(R,c[T],T)),{minText:k,maxText:R}},a.prototype.changeViewData=function(n,s){var c=this.view.getOptions().data,f=this.view.getXScale(),d=(0,_.dp)(c);if(!(!f||!d)){var v=!0,y=(0,_.I)(c,f.field),b=this.view.getXScale().isLinear?y.sort(function(R,D){return Number(R)-Number(D)}):y,S=v?b:b.reverse(),C=(0,_.dp)(S),T=Math.round(n*(C-1)),k=Math.round(s*(C-1));this.view.filter(f.field,function(R,D){var V=S.indexOf(R);return V>-1?$u(V,T,k):!0}),this.view.render(!0)}},a.prototype.getComponents=function(){return this.slider?[this.slider]:[]},a.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},a}(As),M1=__,uu=0,S1=8,aR=32,oR=20,sR=function(o){(0,L.ZT)(a,o);function a(n){var s=o.call(this,n)||this;return s.onChangeFn=_.ZT,s.resetMeasure=function(){s.clear()},s.onValueChange=function(c){var f=c.ratio,d=s.getValidScrollbarCfg().animate;s.ratio=(0,_.uZ)(f,0,1);var v=s.view.getOptions().animate;d||s.view.animate(!1),s.changeViewData(s.getScrollRange(),!0),s.view.animate(v)},s.container=s.view.getLayer(Ht.FORE).addGroup(),s.onChangeFn=(0,_.P2)(s.onValueChange,20,{leading:!0}),s.trackLen=0,s.thumbLen=0,s.ratio=0,s.view.on(jt.BEFORE_CHANGE_DATA,s.resetMeasure),s.view.on(jt.BEFORE_CHANGE_SIZE,s.resetMeasure),s}return Object.defineProperty(a.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){o.prototype.destroy.call(this),this.view.off(jt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(jt.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},a.prototype.layout=function(){var n=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){n.view.destroyed||n.changeViewData(n.getScrollRange(),!0)})),this.scrollbar){var s=this.view.coordinateBBox.width,c=this.scrollbar.component.get("padding"),f=this.scrollbar.component.getLayoutBBox(),d=new ja(f.x,f.y,Math.min(f.width,s),f.height).expand(c),v=this.getScrollbarComponentCfg(),y=void 0,b=void 0;if(v.isHorizontal){var S=(0,L.CR)(Wo(this.view.viewBBox,d,Lt.BOTTOM),2),C=S[0],T=S[1],k=(0,L.CR)(Wo(this.view.coordinateBBox,d,Lt.BOTTOM),2),R=k[0],D=k[1];y=R,b=T}else{var V=(0,L.CR)(Wo(this.view.viewBBox,d,Lt.RIGHT),2),C=V[0],T=V[1],j=(0,L.CR)(Wo(this.view.viewBBox,d,Lt.RIGHT),2),R=j[0],D=j[1];y=R,b=T}y+=c[3],b+=c[0],this.trackLen?this.scrollbar.component.update((0,L.pi)((0,L.pi)({},v),{x:y,y:b,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,L.pi)((0,L.pi)({},v),{x:y,y:b})),this.view.viewBBox=this.view.viewBBox.cut(d,v.isHorizontal?Lt.BOTTOM:Lt.RIGHT)}},a.prototype.update=function(){this.render()},a.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},a.prototype.setValue=function(n){this.onValueChange({ratio:n})},a.prototype.getValue=function(){return this.ratio},a.prototype.getThemeOptions=function(){var n=this.view.getTheme();return(0,_.U2)(n,["components","scrollbar","common"],{})},a.prototype.getScrollbarTheme=function(n){var s=(0,_.U2)(this.view.getTheme(),["components","scrollbar"]),c=n||{},f=c.thumbHighlightColor,d=(0,L._T)(c,["thumbHighlightColor"]);return{default:(0,_.b$)({},(0,_.U2)(s,["default","style"],{}),d),hover:(0,_.b$)({},(0,_.U2)(s,["hover","style"],{}),{thumbColor:f})}},a.prototype.measureScrollbar=function(){var n=this.view.getXScale(),s=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var c=this.getScrollbarComponentCfg(),f=c.trackLen,d=c.thumbLen;this.trackLen=f,this.thumbLen=d,this.xScaleCfg={field:n.field,values:n.values||[]},this.yScalesCfg=s},a.prototype.getScrollRange=function(){var n=Math.floor((this.cnt-this.step)*(0,_.uZ)(this.ratio,0,1)),s=Math.min(n+this.step-1,this.cnt-1);return[n,s]},a.prototype.changeViewData=function(n,s){var c=this,f=(0,L.CR)(n,2),d=f[0],v=f[1],y=this.getValidScrollbarCfg().type,b=y!=="vertical",S=(0,_.I)(this.data,this.xScaleCfg.field),C=this.view.getXScale().isLinear?S.sort(function(k,R){return Number(k)-Number(R)}):S,T=b?C:C.reverse();this.yScalesCfg.forEach(function(k){c.view.scale(k.field,{formatter:k.formatter,type:k.type,min:k.min,max:k.max,tickMethod:k.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(k){var R=T.indexOf(k);return R>-1?$u(R,d,v):!0}),this.view.render(!0)},a.prototype.createScrollbar=function(){var n=this.getValidScrollbarCfg().type,s=n!=="vertical",c=new vi((0,L.pi)((0,L.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return c.init(),{component:c,layer:Ht.FORE,direction:s?Lt.BOTTOM:Lt.RIGHT,type:Oe.SCROLLBAR}},a.prototype.updateScrollbar=function(){var n=this.getScrollbarComponentCfg(),s=this.trackLen?(0,L.pi)((0,L.pi)({},n),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,L.pi)({},n);return this.scrollbar.component.update(s),this.scrollbar},a.prototype.getStep=function(){if(this.step)return this.step;var n=this.view.coordinateBBox,s=this.getValidScrollbarCfg(),c=s.type,f=s.categorySize,d=c!=="vertical";return Math.floor((d?n.width:n.height)/f)},a.prototype.getCnt=function(){if(this.cnt)return this.cnt;var n=this.view.getXScale(),s=this.getScrollbarData(),c=(0,_.I)(s,n.field);return(0,_.dp)(c)},a.prototype.getScrollbarComponentCfg=function(){var n=this.view,s=n.coordinateBBox,c=n.viewBBox,f=this.getValidScrollbarCfg(),d=f.type,v=f.padding,y=f.width,b=f.height,S=f.style,C=d!=="vertical",T=(0,L.CR)(v,4),k=T[0],R=T[1],D=T[2],V=T[3],j=C?{x:s.minX+V,y:c.maxY-b-D}:{x:c.maxX-y-R,y:s.minY+k},H=this.getStep(),Z=this.getCnt(),q=C?s.width-V-R:s.height-k-D,K=Math.max(q*(0,_.uZ)(H/Z,0,1),oR);return(0,L.pi)((0,L.pi)({},this.getThemeOptions()),{x:j.x,y:j.y,size:C?b:y,isHorizontal:C,trackLen:q,thumbLen:K,thumbOffset:0,theme:this.getScrollbarTheme(S)})},a.prototype.getValidScrollbarCfg=function(){var n={type:"horizontal",categorySize:aR,width:S1,height:S1,padding:[0,0,0,0],animate:!0,style:{}};return(0,_.Kn)(this.option)&&(n=(0,L.pi)((0,L.pi)({},n),this.option)),(!(0,_.Kn)(this.option)||!this.option.padding)&&(n.padding=n.type==="horizontal"?[uu,0,uu,0]:[0,uu,0,uu]),n},a.prototype.getScrollbarData=function(){var n=this.view.getCoordinate(),s=this.getValidScrollbarCfg(),c=this.view.getOptions().data||[];return n.isReflect("y")&&s.type==="vertical"&&(c=(0,L.ev)([],(0,L.CR)(c),!1).reverse()),c},a}(As),lR=sR,cR={fill:"#CCD6EC",opacity:.3};function uR(o,a,n){var s,c,f,d,v,y,b=TM(o,a,n);if(b.length){b=(0,_.xH)(b);try{for(var S=(0,L.XA)(b),C=S.next();!C.done;C=S.next()){var T=C.value;try{for(var k=(f=void 0,(0,L.XA)(T)),R=k.next();!R.done;R=k.next()){var D=R.value,V=D.mappingData,j=V.x,H=V.y;D.x=(0,_.kJ)(j)?j[j.length-1]:j,D.y=(0,_.kJ)(H)?H[H.length-1]:H}}catch(ge){f={error:ge}}finally{try{R&&!R.done&&(d=k.return)&&d.call(k)}finally{if(f)throw f.error}}}}catch(ge){s={error:ge}}finally{try{C&&!C.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}var Z=n.shared;if(Z===!1&&b.length>1){var q=b[0],K=Math.abs(a.y-q[0].y);try{for(var Ct=(0,L.XA)(b),Ft=Ct.next();!Ft.done;Ft=Ct.next()){var Jt=Ft.value,_e=Math.abs(a.y-Jt[0].y);_e<=K&&(q=Jt,K=_e)}}catch(ge){v={error:ge}}finally{try{Ft&&!Ft.done&&(y=Ct.return)&&y.call(Ct)}finally{if(v)throw v.error}}b=[q]}return(0,_.jj)((0,_.xH)(b))}return[]}var fR=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.show=function(n){var s=this.context.view,c=this.context.event,f=s.getController("tooltip").getTooltipCfg(),d=uR(s,{x:c.x,y:c.y},f);if(!(0,_.Xy)(d,this.items)&&(this.items=d,d.length)){var v=s.getXScale().field,y=d[0].data[v],b=[],S=s.geometries;if((0,_.S6)(S,function(dn){if(dn.type==="interval"||dn.type==="schema"){var fn=dn.getElementsBy(function(bn){var Bn=bn.getData();return Bn[v]===y});b=b.concat(fn)}}),b.length){var C=s.getCoordinate(),T=b[0].shape.getCanvasBBox(),k=b[0].shape.getCanvasBBox(),R=T;(0,_.S6)(b,function(dn){var fn=dn.shape.getCanvasBBox();C.isTransposed?(fn.minY<T.minY&&(T=fn),fn.maxY>k.maxY&&(k=fn)):(fn.minX<T.minX&&(T=fn),fn.maxX>k.maxX&&(k=fn)),R.x=Math.min(fn.minX,R.minX),R.y=Math.min(fn.minY,R.minY),R.width=Math.max(fn.maxX,R.maxX)-R.x,R.height=Math.max(fn.maxY,R.maxY)-R.y});var D=s.backgroundGroup,V=s.coordinateBBox,j=void 0;if(C.isRect){var H=s.getXScale(),Z=n||{},q=Z.appendRatio,K=Z.appendWidth;(0,_.UM)(K)&&(q=(0,_.UM)(q)?H.isLinear?0:.25:q,K=C.isTransposed?q*k.height:q*T.width);var Ct=void 0,Ft=void 0,Jt=void 0,_e=void 0;C.isTransposed?(Ct=V.minX,Ft=Math.min(k.minY,T.minY)-K,Jt=V.width,_e=R.height+K*2):(Ct=Math.min(T.minX,k.minX)-K,Ft=V.minY,Jt=R.width+K*2,_e=V.height),j=[["M",Ct,Ft],["L",Ct+Jt,Ft],["L",Ct+Jt,Ft+_e],["L",Ct,Ft+_e],["Z"]]}else{var ge=(0,_.YM)(b),Be=(0,_.Z$)(b),tn=Dh(ge.getModel(),C).startAngle,vn=Dh(Be.getModel(),C).endAngle,Mn=C.getCenter(),Pn=C.getRadius(),Ze=C.innerRadius*Pn;j=kl(Mn.x,Mn.y,Pn,tn,vn,Ze)}if(this.regionPath)this.regionPath.attr("path",j),this.regionPath.show();else{var ln=(0,_.U2)(n,"style",cR);this.regionPath=D.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,L.pi)((0,L.pi)({},ln),{path:j})})}}}},a.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},a.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),o.prototype.destroy.call(this)},a}(Rr),hR=fR,dR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.timeStamp=0,n}return a.prototype.show=function(){var n=this.context,s=n.event,c=n.view,f=c.isTooltipLocked();if(!f){var d=this.timeStamp,v=+new Date,y=(0,_.U2)(n.view.getOptions(),"tooltip.showDelay",16);if(v-d>y){var b=this.location,S={x:s.x,y:s.y};(!b||!(0,_.Xy)(b,S))&&this.showTooltip(c,S),this.timeStamp=v,this.location=S}}},a.prototype.hide=function(){var n=this.context.view,s=n.getController("tooltip"),c=this.context.event,f=c.clientX,d=c.clientY;s.isCursorEntered({x:f,y:d})||n.isTooltipLocked()||(this.hideTooltip(n),this.location=null)},a.prototype.showTooltip=function(n,s){n.showTooltip(s)},a.prototype.hideTooltip=function(n){n.hideTooltip()},a}(Rr),O_=dR,pR=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.showTooltip=function(n,s){var c=Os(n);(0,_.S6)(c,function(f){var d=Hy(n,f,s);f.showTooltip(d)})},a.prototype.hideTooltip=function(n){var s=Os(n);(0,_.S6)(s,function(c){c.hideTooltip()})},a}(O_),vR=pR,gR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.timeStamp=0,n}return a.prototype.destroy=function(){o.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.show=function(){var n=this.context,s=n.event,c=this.timeStamp,f=+new Date;if(f-c>16){var d=this.location,v={x:s.x,y:s.y};(!d||!(0,_.Xy)(d,v))&&this.showTooltip(v),this.timeStamp=f,this.location=v}},a.prototype.hide=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(n){var s=this.context,c=s.event,f=c.target;if(f&&f.get("tip")){this.tooltip||this.renderTooltip();var d=f.get("tip");this.tooltip.update((0,L.pi)({title:d},n)),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var n,s=this.context.view,c=s.canvas,f={start:{x:0,y:0},end:{x:c.get("width"),y:c.get("height")}},d=s.getTheme(),v=(0,_.U2)(d,["components","tooltip","domStyles"],{}),y=new uv({parent:c.get("el").parentNode,region:f,visible:!1,crosshairs:null,domStyles:(0,L.pi)({},(0,_.b$)({},v,(n={},n[Ms]={"max-width":"50%"},n[Ss]={"word-break":"break-all"},n)))});y.init(),y.setCapture(!1),this.tooltip=y},a}(Rr),yR=gR,mR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="",n}return a.prototype.hasState=function(n){return n.hasState(this.stateName)},a.prototype.setElementState=function(n,s){n.setState(this.stateName,s)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.clear=function(){var n=this.context.view;this.clearViewState(n)},a.prototype.clearViewState=function(n){var s=this,c=uM(n,this.stateName);(0,_.S6)(c,function(f){s.setElementState(f,!1)})},a}(Rr),T0=mR;function C_(o){return(0,_.U2)(o.get("delegateObject"),"item")}var A_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.ignoreListItemStates=["unchecked"],n}return a.prototype.isItemIgnore=function(n,s){var c=this.ignoreListItemStates,f=c.filter(function(d){return s.hasState(n,d)});return!!f.length},a.prototype.setStateByComponent=function(n,s,c){var f=this.context.view,d=n.get("field"),v=Ui(f);this.setElementsStateByItem(v,d,s,c)},a.prototype.setStateByElement=function(n,s){this.setElementState(n,s)},a.prototype.isMathItem=function(n,s,c){var f=this.context.view,d=rf(f,s),v=rs(n,s);return!(0,_.UM)(v)&&c.name===d.getText(v)},a.prototype.setElementsStateByItem=function(n,s,c,f){var d=this;(0,_.S6)(n,function(v){d.isMathItem(v,s,c)&&v.setState(d.stateName,f)})},a.prototype.setStateEnable=function(n){var s=ha(this.context);if(s)iM(this.context)&&this.setStateByElement(s,n);else{var c=Xc(this.context);if(tl(c)){var f=c.item,d=c.component;if(f&&d&&!this.isItemIgnore(f,d)){var v=this.context.event.gEvent;if(v&&v.fromShape&&v.toShape&&C_(v.fromShape)===C_(v.toShape))return;this.setStateByComponent(d,f,n)}}}},a.prototype.toggle=function(){var n=ha(this.context);if(n){var s=n.hasState(this.stateName);this.setElementState(n,!s)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(T0),fu=A_,xR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.active=function(){this.setState()},a}(fu),bR=xR,wR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.cache={},n}return a.prototype.getColorScale=function(n,s){var c=s.geometry.getAttribute("color");if(!c)return null;var f=n.getScaleByField(c.getFields()[0]);return f},a.prototype.getLinkPath=function(n,s){var c=this.context.view,f=c.getCoordinate().isTransposed,d=n.shape.getCanvasBBox(),v=s.shape.getCanvasBBox(),y=f?[["M",d.minX,d.minY],["L",v.minX,v.maxY],["L",v.maxX,v.maxY],["L",d.maxX,d.minY],["Z"]]:[["M",d.maxX,d.minY],["L",v.minX,v.minY],["L",v.minX,v.maxY],["L",d.maxX,d.maxY],["Z"]];return y},a.prototype.addLinkShape=function(n,s,c,f){var d={opacity:.4,fill:s.shape.attr("fill")};n.addShape({type:"path",attrs:(0,L.pi)((0,L.pi)({},(0,_.b$)({},d,(0,_.mf)(f)?f(d,s):f)),{path:this.getLinkPath(s,c)})})},a.prototype.linkByElement=function(n,s){var c=this,f=this.context.view,d=this.getColorScale(f,n);if(d){var v=rs(n,d.field);if(!this.cache[v]){var y=cM(f,d.field,v),b=this.linkGroup,S=b.addGroup();this.cache[v]=S;var C=y.length;(0,_.S6)(y,function(T,k){if(k<C-1){var R=y[k+1];c.addLinkShape(S,T,R,s)}})}}},a.prototype.removeLink=function(n){var s=this.getColorScale(this.context.view,n);if(s){var c=rs(n,s.field);this.cache[c]&&(this.cache[c].remove(),this.cache[c]=null)}},a.prototype.link=function(n){var s=this.context;this.linkGroup||(this.linkGroup=s.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var c=ha(s);c&&this.linkByElement(c,n==null?void 0:n.style)},a.prototype.unlink=function(){var n=ha(this.context);n&&this.removeLink(n)},a.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},a}(Rr),MR=wR,T_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.startPoint=null,n.endPoint=null,n.isStarted=!1,n.effectSiblings=!1,n.effectByRecord=!1,n}return a.prototype.getCurrentPoint=function(){var n=this.context.event;return{x:n.x,y:n.y}},a.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},a.prototype.getIntersectElements=function(){var n=null;if(Gh(this.context))n=Wy(this.context,10);else{var s=this.startPoint,c=this.isStarted?this.getCurrentPoint():this.endPoint;if(!s||!c)return;var f={minX:Math.min(s.x,c.x),minY:Math.min(s.y,c.y),maxX:Math.max(s.x,c.x),maxY:Math.max(s.y,c.y)},d=this.context.view;n=nf(d,f)}return n},a.prototype.setStateEnable=function(n){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(n);else{var s=Ui(this.context.view),c=this.getIntersectElements();c&&c.length?this.effectByRecord?this.setSiblingsStateByRecord(c,n):this.setElementsState(c,n,s):this.clear()}},a.prototype.setSiblingsStateByRecord=function(n,s){var c=this,f=this.context.view,d=Os(f),v=n.map(function(S){return S.getModel().data}),y=f.getXScale().field,b=f.getYScales()[0].field;(0,_.S6)(d,function(S){var C=Ui(S),T=C.filter(function(k){var R=k.getModel().data;return vM(v,R,y,b)});c.setElementsState(T,s,C)})},a.prototype.setSiblingsState=function(n){var s=this,c=this.context.view,f=Os(c);Gh(this.context)&&(0,_.S6)(f,function(d){var v=Ui(d),y=oM(s.context,d,10);y&&y.length?s.setElementsState(y,n,v):s.clearViewState(d)})},a.prototype.setElementsState=function(n,s,c){var f=this;(0,_.S6)(c,function(d){n.includes(d)?f.setElementState(d,s):f.setElementState(d,!1)})},a.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},a.prototype.clear=function(){var n=this,s=this.context.view;if(this.effectSiblings){var c=Os(s);(0,_.S6)(c,function(f){n.clearViewState(f)})}else this.clearViewState(s)},a}(T0),tc=T_,SR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.active=function(){this.setState()},a}(tc),E_=SR,_1=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.setStateEnable=function(n){var s=ha(this.context);if(s){if(!iM(this.context))return;n?(this.clear(),this.setElementState(s,!0)):this.hasState(s)&&this.setElementState(s,!1)}},a.prototype.toggle=function(){var n=ha(this.context);if(n){var s=this.hasState(n);s||this.clear(),this.setElementState(n,!s)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(T0),O1=_1,_R=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.active=function(){this.setState()},a}(O1),C1=_R,Ad="inactive",Of="active";function Td(o){var a=Ui(o);(0,_.S6)(a,function(n){n.hasState(Of)&&n.setState(Of,!1),n.hasState(Ad)&&n.setState(Ad,!1)})}function Ed(o,a,n){(0,_.S6)(o,function(s){a(s)?(s.hasState(Ad)&&s.setState(Ad,!1),s.setState(Of,n)):(s.hasState(Of)&&s.setState(Of,!1),s.setState(Ad,n))})}var Is=Ve.INACTIVE,sl=Ve.ACTIVE,k_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName=sl,n}return a.prototype.setElementsStateByItem=function(n,s,c,f){var d=this,v=function(y){return d.isMathItem(y,s,c)};this.setHighlightBy(n,v,f)},a.prototype.setElementHighlight=function(n,s){s(n)?(n.hasState(Is)&&n.setState(Is,!1),n.setState(sl,!0)):n.hasState(sl)||n.setState(Is,!0)},a.prototype.setHighlightBy=function(n,s,c){var f=this;if(c)(0,_.S6)(n,function(y){f.setElementHighlight(y,s)});else{var d=uM(this.context.view,sl),v=!0;(0,_.S6)(d,function(y){if(!s(y))return v=!1,!1}),v?this.clear():(0,_.S6)(n,function(y){s(y)&&(y.hasState(sl)&&y.setState(sl,!1),y.setState(Is,!0))})}},a.prototype.setElementState=function(n,s){var c=this.context.view,f=Ui(c);this.setHighlightBy(f,function(d){return n===d},s)},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){var n=this.context.view;Td(n)},a}(fu),E0=k_,Ua=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.setStateByElement=function(n,s){var c=this.context.view,f=n.geometry.getAttribute("color");if(f){var d=c.getScaleByField(f.getFields()[0]),v=rs(n,d.field),y=Ui(c),b=y.filter(function(S){return rs(S,d.field)===v});this.setHighlightBy(y,function(S){return b.includes(S)},s)}},a}(E0),K4=Ua,ec=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.setElementHighlight=function(n,s){s(n)?(n.hasState(Is)&&n.setState(Is,!1),n.setState(sl,!0)):(n.setState(Is,!0),n.hasState(sl)&&n.setState(sl,!1))},a.prototype.setStateByElement=function(n,s){var c=this.context.view,f=c.getXScale(),d=rs(n,f.field),v=Ui(c),y=v.filter(function(b){return rs(b,f.field)===d});this.setHighlightBy(v,function(b){return y.includes(b)},s)},a.prototype.toggle=function(){var n=ha(this.context);if(n){var s=n.hasState(this.stateName);this.setStateByElement(n,!s)}},a}(E0),Cf=ec,ls;(function(o){o.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",o.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",o.BEFORE_CLEAR="element-range-highlight:beforeclear",o.AFTER_CLEAR="element-range-highlight:afterclear"})(ls||(ls={}));var Af=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.clearViewState=function(n){Td(n)},a.prototype.highlight=function(){var n=this.context,s=n.view,c=n.event,f=this.getIntersectElements(),d={view:s,event:c,highlightElements:f};s.emit(ls.BEFORE_HIGHLIGHT,$r.fromData(s,ls.BEFORE_HIGHLIGHT,d)),this.setState(),s.emit(ls.AFTER_HIGHLIGHT,$r.fromData(s,ls.AFTER_HIGHLIGHT,d))},a.prototype.clear=function(){var n=this.context.view;n.emit(ls.BEFORE_CLEAR,$r.fromData(n,ls.BEFORE_CLEAR,{})),o.prototype.clear.call(this),n.emit(ls.AFTER_CLEAR,$r.fromData(n,ls.AFTER_CLEAR,{}))},a.prototype.setElementsState=function(n,s,c){Ed(c,function(f){return n.indexOf(f)>=0},s)},a}(tc),_i=Af,Ri=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.highlight=function(){this.setState()},a.prototype.setElementState=function(n,s){var c=this.context.view,f=Ui(c);Ed(f,function(d){return n===d},s)},a.prototype.clear=function(){var n=this.context.view;Td(n)},a}(O1),A1=Ri,hu=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="selected",n}return a.prototype.selected=function(){this.setState()},a}(tc),k0=hu,T1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="selected",n}return a.prototype.selected=function(){this.setState()},a}(fu),ll=T1,E1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="selected",n}return a.prototype.selected=function(){this.setState()},a}(O1),P_=E1,OR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="",n.ignoreItemStates=[],n}return a.prototype.getTriggerListInfo=function(){var n=Xc(this.context),s=null;return tl(n)&&(s={item:n.item,list:n.component}),s},a.prototype.getAllowComponents=function(){var n=this,s=this.context.view,c=dM(s),f=[];return(0,_.S6)(c,function(d){d.isList()&&n.allowSetStateByElement(d)&&f.push(d)}),f},a.prototype.hasState=function(n,s){return n.hasState(s,this.stateName)},a.prototype.clearAllComponentsState=function(){var n=this,s=this.getAllowComponents();(0,_.S6)(s,function(c){c.clearItemsState(n.stateName)})},a.prototype.allowSetStateByElement=function(n){var s=n.get("field");if(!s)return!1;if(this.cfg&&this.cfg.componentNames){var c=n.get("name");if(this.cfg.componentNames.indexOf(c)===-1)return!1}var f=this.context.view,d=rf(f,s);return d&&d.isCategory},a.prototype.allowSetStateByItem=function(n,s){var c=this.ignoreItemStates;if(c.length){var f=c.filter(function(d){return s.hasState(n,d)});return f.length===0}return!0},a.prototype.setStateByElement=function(n,s,c){var f=n.get("field"),d=this.context.view,v=rf(d,f),y=rs(s,f),b=v.getText(y);this.setItemsState(n,b,c)},a.prototype.setStateEnable=function(n){var s=this,c=ha(this.context);if(c){var f=this.getAllowComponents();(0,_.S6)(f,function(b){s.setStateByElement(b,c,n)})}else{var d=Xc(this.context);if(tl(d)){var v=d.item,y=d.component;this.allowSetStateByElement(y)&&this.allowSetStateByItem(v,y)&&this.setItemState(y,v,n)}}},a.prototype.setItemsState=function(n,s,c){var f=this,d=n.getItems();(0,_.S6)(d,function(v){v.name===s&&f.setItemState(n,v,c)})},a.prototype.setItemState=function(n,s,c){n.setItemState(s,this.stateName,c)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.reset=function(){this.setStateEnable(!1)},a.prototype.toggle=function(){var n=this.getTriggerListInfo();if(n&&n.item){var s=n.list,c=n.item,f=this.hasState(s,c);this.setItemState(s,c,!f)}},a.prototype.clear=function(){var n=this.getTriggerListInfo();n?n.list.clearItemsState(this.stateName):this.clearAllComponentsState()},a}(Rr),nc=OR,L_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="active",n}return a.prototype.active=function(){this.setState()},a}(nc),I_=L_,k1="inactive",P1="active";function R_(o){var a=o.getItems();(0,_.S6)(a,function(n){o.hasState(n,P1)&&o.setItemState(n,P1,!1),o.hasState(n,k1)&&o.setItemState(n,k1,!1)})}var Tf="inactive",cl="active",kd=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName=cl,n.ignoreItemStates=["unchecked"],n}return a.prototype.setItemsState=function(n,s,c){this.setHighlightBy(n,function(f){return f.name===s},c)},a.prototype.setItemState=function(n,s,c){var f=n.getItems();this.setHighlightBy(n,function(d){return d===s},c)},a.prototype.setHighlightBy=function(n,s,c){var f=n.getItems();if(c)(0,_.S6)(f,function(y){s(y)?(n.hasState(y,Tf)&&n.setItemState(y,Tf,!1),n.setItemState(y,cl,!0)):n.hasState(y,cl)||n.setItemState(y,Tf,!0)});else{var d=n.getItemsByState(cl),v=!0;(0,_.S6)(d,function(y){if(!s(y))return v=!1,!1}),v?this.clear():(0,_.S6)(f,function(y){s(y)&&(n.hasState(y,cl)&&n.setItemState(y,cl,!1),n.setItemState(y,Tf,!0))})}},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){var n=this.getTriggerListInfo();if(n)R_(n.list);else{var s=this.getAllowComponents();(0,_.S6)(s,function(c){c.clearItemsState(cl),c.clearItemsState(Tf)})}},a}(nc),L1=kd,Ef=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="selected",n}return a.prototype.selected=function(){this.setState()},a}(nc),F_=Ef,CR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName="unchecked",n}return a.prototype.unchecked=function(){this.setState()},a}(nc),AR=CR,ga="unchecked",Pd="checked",I1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.stateName=Pd,n}return a.prototype.setItemState=function(n,s,c){this.setCheckedBy(n,function(f){return f===s},c)},a.prototype.setCheckedBy=function(n,s,c){var f=n.getItems();c&&(0,_.S6)(f,function(d){s(d)?(n.hasState(d,ga)&&n.setItemState(d,ga,!1),n.setItemState(d,Pd,!0)):n.hasState(d,Pd)||n.setItemState(d,ga,!0)})},a.prototype.toggle=function(){var n=this.getTriggerListInfo();if(n&&n.item){var s=n.list,c=n.item,f=!(0,_.G)(s.getItems(),function(d){return s.hasState(d,ga)});f||s.hasState(c,ga)?this.setItemState(s,c,!0):this.reset()}},a.prototype.checked=function(){this.setState()},a.prototype.reset=function(){var n=this.getAllowComponents();(0,_.S6)(n,function(s){s.clearItemsState(Pd),s.clearItemsState(ga)})},a}(nc),R1=I1,Ld="unchecked",F1=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.toggle=function(){var n,s,c,f,d,v,y,b,S=this.getTriggerListInfo();if(S!=null&&S.item){var C=S.list,T=S.item,k=C.getItems(),R=k.filter(function(ge){return!C.hasState(ge,Ld)}),D=k.filter(function(ge){return C.hasState(ge,Ld)}),V=R[0];if(k.length===R.length)try{for(var j=(0,L.XA)(k),H=j.next();!H.done;H=j.next()){var Z=H.value;C.setItemState(Z,Ld,Z.id!==T.id)}}catch(ge){n={error:ge}}finally{try{H&&!H.done&&(s=j.return)&&s.call(j)}finally{if(n)throw n.error}}else if(k.length-D.length===1)if(V.id===T.id)try{for(var q=(0,L.XA)(k),K=q.next();!K.done;K=q.next()){var Z=K.value;C.setItemState(Z,Ld,!1)}}catch(ge){c={error:ge}}finally{try{K&&!K.done&&(f=q.return)&&f.call(q)}finally{if(c)throw c.error}}else try{for(var Ct=(0,L.XA)(k),Ft=Ct.next();!Ft.done;Ft=Ct.next()){var Z=Ft.value;C.setItemState(Z,Ld,Z.id!==T.id)}}catch(ge){d={error:ge}}finally{try{Ft&&!Ft.done&&(v=Ct.return)&&v.call(Ct)}finally{if(d)throw d.error}}else try{for(var Jt=(0,L.XA)(k),_e=Jt.next();!_e.done;_e=Jt.next()){var Z=_e.value;C.setItemState(Z,Ld,Z.id!==T.id)}}catch(ge){y={error:ge}}finally{try{_e&&!_e.done&&(b=Jt.return)&&b.call(Jt)}finally{if(y)throw y.error}}}},a}(nc),J4=F1,D1="showRadio",P0="legend-radio-tip",D_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.timeStamp=0,n}return a.prototype.show=function(){var n=this.getTriggerListInfo();if(n!=null&&n.item){var s=n.list,c=n.item;s.setItemState(c,D1,!0)}},a.prototype.hide=function(){var n=this.getTriggerListInfo();if(n!=null&&n.item){var s=n.list,c=n.item;s.setItemState(c,D1,!1)}},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.showTip=function(){var n=this.context,s=n.event,c=this.timeStamp,f=+new Date,d=this.context.event.target;if(f-c>16&&d.get("name")==="legend-item-radio"){var v=this.location,y={x:s.x,y:s.y};this.timeStamp=f,this.location=y,(!v||!(0,_.Xy)(v,y))&&this.showTooltip(y)}},a.prototype.hideTip=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(n){var s=this.context,c=s.event,f=c.target;if(f&&f.get("tip")){this.tooltip||this.renderTooltip();var d=s.view.getCanvas().get("el").getBoundingClientRect(),v=d.x,y=d.y;this.tooltip.update((0,L.pi)((0,L.pi)({title:f.get("tip")},n),{x:n.x+v,y:n.y+y})),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var n,s=(n={},n[Ms]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},n[Ss]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},n);document.getElementById(P0)&&document.body.removeChild(document.getElementById(P0));var c=new uv({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:s,containerId:P0});c.init(),c.setCapture(!1),this.tooltip=c},a}(nc),B_=D_,N_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.maskShape=null,n.points=[],n.starting=!1,n.moving=!1,n.preMovePoint=null,n.shapeType="path",n}return a.prototype.getCurrentPoint=function(){var n=this.context.event;return{x:n.x,y:n.y}},a.prototype.emitEvent=function(n){var s="mask:".concat(n),c=this.context.view,f=this.context.event;c.emit(s,{target:this.maskShape,shape:this.maskShape,points:this.points,x:f.x,y:f.y})},a.prototype.createMask=function(){var n=this.context.view,s=this.getMaskAttrs(),c=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,L.pi)({fill:"#C5D4EB",opacity:.3},s)});return c},a.prototype.getMaskPath=function(){return[]},a.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},a.prototype.start=function(n){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(n==null?void 0:n.maskStyle),this.emitEvent("start")},a.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},a.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var n=this.getCurrentPoint(),s=this.preMovePoint,c=n.x-s.x,f=n.y-s.y,d=this.points;(0,_.S6)(d,function(v){v.x+=c,v.y+=f}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=n}},a.prototype.updateMask=function(n){var s=(0,_.b$)({},this.getMaskAttrs(),n);this.maskShape.attr(s)},a.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},a.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},a.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},a.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},a.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,o.prototype.destroy.call(this)},a}(Rr),B1=N_;function N1(o){var a=(0,_.Z$)(o),n=0,s=0,c=0;if(o.length){var f=o[0];n=Vy(f,a)/2,s=(a.x+f.x)/2,c=(a.y+f.y)/2}return{x:s,y:c,r:n}}var L0=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.shapeType="circle",n}return a.prototype.getMaskAttrs=function(){return N1(this.points)},a}(B1),z_=L0;function z1(o){return{start:(0,_.YM)(o),end:(0,_.Z$)(o)}}function j1(o,a){var n=Math.min(o.x,a.x),s=Math.min(o.y,a.y),c=Math.abs(a.x-o.x),f=Math.abs(a.y-o.y);return{x:n,y:s,width:c,height:f}}var j_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.shapeType="rect",n}return a.prototype.getRegion=function(){return z1(this.points)},a.prototype.getMaskAttrs=function(){var n=this.getRegion(),s=n.start,c=n.end;return j1(s,c)},a}(B1),G1=j_;function W1(o){o.x=(0,_.uZ)(o.x,0,1),o.y=(0,_.uZ)(o.y,0,1)}function G_(o,a,n,s){var c=null,f=null,d=s.invert((0,_.YM)(o)),v=s.invert((0,_.Z$)(o));return n&&(W1(d),W1(v)),a==="x"?(c=s.convert({x:d.x,y:0}),f=s.convert({x:v.x,y:1})):(c=s.convert({x:0,y:d.y}),f=s.convert({x:1,y:v.y})),{start:c,end:f}}var TR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.dim="x",n.inPlot=!0,n}return a.prototype.getRegion=function(){var n=this.context.view.getCoordinate();return G_(this.points,this.dim,this.inPlot,n)},a}(G1),V1=TR;function I0(o){var a=[];return o.length&&((0,_.S6)(o,function(n,s){s===0?a.push(["M",n.x,n.y]):a.push(["L",n.x,n.y])}),a.push(["L",o[0].x,o[0].y])),a}function R0(o){return{path:I0(o)}}var W_=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getMaskPath=function(){return I0(this.points)},a.prototype.getMaskAttrs=function(){return R0(this.points)},a.prototype.addPoint=function(){this.resize()},a}(B1),V_=W_;function H1(o){return PP(o,!0)}function Y1(o){return{path:H1(o)}}var ER=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getMaskPath=function(){return H1(this.points)},a.prototype.getMaskAttrs=function(){return Y1(this.points)},a}(V_),U1=ER,H_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.maskShapes=[],n.starting=!1,n.moving=!1,n.recordPoints=null,n.preMovePoint=null,n.shapeType="path",n.maskType="multi-mask",n}return a.prototype.getCurrentPoint=function(){var n=this.context.event;return{x:n.x,y:n.y}},a.prototype.emitEvent=function(n){var s="".concat(this.maskType,":").concat(n),c=this.context.view,f=this.context.event,d={type:this.shapeType,name:this.maskType,get:function(v){return d.hasOwnProperty(v)?d[v]:void 0}};c.emit(s,{target:d,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:f.x,y:f.y})},a.prototype.createMask=function(n){var s=this.context.view,c=this.recordPoints[n],f=this.getMaskAttrs(c),d=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,L.pi)({fill:"#C5D4EB",opacity:.3},f)});this.maskShapes.push(d)},a.prototype.getMaskPath=function(n){return[]},a.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(n){return n.show()}),this.emitEvent("show"))},a.prototype.start=function(n){this.recordPointStart(),this.starting=!0,this.moving=!1;var s=this.recordPoints.length-1;this.createMask(s),this.updateShapesCapture(!1),this.updateMask(n==null?void 0:n.maskStyle),this.emitEvent("start")},a.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},a.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var n=this.getCurrentPoint(),s=this.preMovePoint,c=n.x-s.x,f=n.y-s.y,d=this.getCurMaskShapeIndex();d>-1&&(this.recordPoints[d].forEach(function(v){v.x+=c,v.y+=f}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=n)}},a.prototype.updateMask=function(n){var s=this;this.recordPoints.forEach(function(c,f){var d=(0,_.b$)({},s.getMaskAttrs(c),n);s.maskShapes[f].attr(d)})},a.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},a.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},a.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},a.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(n){return n.hide()}),this.emitEvent("hide"))},a.prototype.remove=function(){var n=this.getCurMaskShapeIndex();n>-1&&(this.recordPoints.splice(n,1),this.maskShapes[n].remove(),this.maskShapes.splice(n,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},a.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.preMovePoint=null},a.prototype.clear=function(){var n=this.getCurMaskShapeIndex();n===-1?(this.recordPointClear(),this.maskShapes.forEach(function(s){return s.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(n,1),this.maskShapes[n].remove(),this.maskShapes.splice(n,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},a.prototype.destroy=function(){this.clear(),o.prototype.destroy.call(this)},a.prototype.getRecordPoints=function(){var n;return(0,L.ev)([],(0,L.CR)((n=this.recordPoints)!==null&&n!==void 0?n:[]),!1)},a.prototype.recordPointStart=function(){var n=this.getRecordPoints(),s=this.getCurrentPoint();this.recordPoints=(0,L.ev)((0,L.ev)([],(0,L.CR)(n),!1),[[s]],!1)},a.prototype.recordPointContinue=function(){var n=this.getRecordPoints(),s=this.getCurrentPoint(),c=n.splice(-1,1)[0]||[];c.push(s),this.recordPoints=(0,L.ev)((0,L.ev)([],(0,L.CR)(n),!1),[c],!1)},a.prototype.recordPointClear=function(){this.recordPoints=[]},a.prototype.updateShapesCapture=function(n){this.maskShapes.forEach(function(s){return s.set("capture",n)})},a.prototype.getCurMaskShapeIndex=function(){var n=this.getCurrentPoint();return this.maskShapes.findIndex(function(s){var c=s.attrs,f=c.width,d=c.height,v=c.r,y=f===0||d===0||v===0;return!y&&s.isHit(n.x,n.y)})},a}(Rr),kf=H_,Y_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.shapeType="rect",n}return a.prototype.getRegion=function(n){return z1(n)},a.prototype.getMaskAttrs=function(n){var s=this.getRegion(n),c=s.start,f=s.end;return j1(c,f)},a}(kf),X1=Y_,Z1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.dim="x",n.inPlot=!0,n}return a.prototype.getRegion=function(n){var s=this.context.view.getCoordinate();return G_(n,this.dim,this.inPlot,s)},a}(X1),q1=Z1,$1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.shapeType="circle",n.getMaskAttrs=N1,n}return a}(kf),U_=$1,K1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.getMaskPath=I0,n.getMaskAttrs=R0,n}return a.prototype.addPoint=function(){this.resize()},a}(kf),J1=K1,Q1=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.getMaskPath=H1,n.getMaskAttrs=Y1,n}return a}(J1),X_=Q1,tx=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.setCursor=function(n){var s=this.context.view;s.getCanvas().setCursor(n)},a.prototype.default=function(){this.setCursor("default")},a.prototype.pointer=function(){this.setCursor("pointer")},a.prototype.move=function(){this.setCursor("move")},a.prototype.crosshair=function(){this.setCursor("crosshair")},a.prototype.wait=function(){this.setCursor("wait")},a.prototype.help=function(){this.setCursor("help")},a.prototype.text=function(){this.setCursor("text")},a.prototype.eResize=function(){this.setCursor("e-resize")},a.prototype.wResize=function(){this.setCursor("w-resize")},a.prototype.nResize=function(){this.setCursor("n-resize")},a.prototype.sResize=function(){this.setCursor("s-resize")},a.prototype.neResize=function(){this.setCursor("ne-resize")},a.prototype.nwResize=function(){this.setCursor("nw-resize")},a.prototype.seResize=function(){this.setCursor("se-resize")},a.prototype.swResize=function(){this.setCursor("sw-resize")},a.prototype.nsResize=function(){this.setCursor("ns-resize")},a.prototype.ewResize=function(){this.setCursor("ew-resize")},a.prototype.zoomIn=function(){this.setCursor("zoom-in")},a.prototype.zoomOut=function(){this.setCursor("zoom-out")},a}(Rr),Z_=tx,q_=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.filterView=function(n,s,c){var f=this;n.getScaleByField(s)&&n.filter(s,c),n.views&&n.views.length&&(0,_.S6)(n.views,function(d){f.filterView(d,s,c)})},a.prototype.filter=function(){var n=Xc(this.context);if(n){var s=this.context.view,c=n.component,f=c.get("field");if(tl(n)){if(f){var d=c.getItemsByState("unchecked"),v=rf(s,f),y=d.map(function(k){return k.name});y.length?this.filterView(s,f,function(k){var R=v.getText(k);return!y.includes(R)}):this.filterView(s,f,null),s.render(!0)}}else if(Gy(n)){var b=c.getValue(),S=(0,L.CR)(b,2),C=S[0],T=S[1];this.filterView(s,f,function(k){return k>=C&&k<=T}),s.render(!0)}}},a}(Rr),$_=q_;function ex(o,a,n,s){var c=Math.min(n[a],s[a]),f=Math.max(n[a],s[a]),d=(0,L.CR)(o.range,2),v=d[0],y=d[1];if(c<v&&(c=v),f>y&&(f=y),c===y&&f===y)return null;var b=o.invert(c),S=o.invert(f);if(o.isCategory){var C=o.values.indexOf(b),T=o.values.indexOf(S),k=o.values.slice(C,T+1);return function(R){return k.includes(R)}}else return function(R){return R>=b&&R<=S}}var Aa;(function(o){o.FILTER="brush-filter-processing",o.RESET="brush-filter-reset",o.BEFORE_FILTER="brush-filter:beforefilter",o.AFTER_FILTER="brush-filter:afterfilter",o.BEFORE_RESET="brush-filter:beforereset",o.AFTER_RESET="brush-filter:afterreset"})(Aa||(Aa={}));var K_=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.dims=["x","y"],n.startPoint=null,n.isStarted=!1,n}return a.prototype.hasDim=function(n){return this.dims.includes(n)},a.prototype.start=function(){var n=this.context;this.isStarted=!0,this.startPoint=n.getCurrentPoint()},a.prototype.filter=function(){var n,s;if(Gh(this.context)){var c=this.context.event.target,f=c.getCanvasBBox();n={x:f.x,y:f.y},s={x:f.maxX,y:f.maxY}}else{if(!this.isStarted)return;n=this.startPoint,s=this.context.getCurrentPoint()}if(!(Math.abs(n.x-s.x)<5||Math.abs(n.x-s.y)<5)){var d=this.context,v=d.view,y=d.event,b={view:v,event:y,dims:this.dims};v.emit(Aa.BEFORE_FILTER,$r.fromData(v,Aa.BEFORE_FILTER,b));var S=v.getCoordinate(),C=S.invert(s),T=S.invert(n);if(this.hasDim("x")){var k=v.getXScale(),R=ex(k,"x",C,T);this.filterView(v,k.field,R)}if(this.hasDim("y")){var D=v.getYScales()[0],R=ex(D,"y",C,T);this.filterView(v,D.field,R)}this.reRender(v,{source:Aa.FILTER}),v.emit(Aa.AFTER_FILTER,$r.fromData(v,Aa.AFTER_FILTER,b))}},a.prototype.end=function(){this.isStarted=!1},a.prototype.reset=function(){var n=this.context.view;if(n.emit(Aa.BEFORE_RESET,$r.fromData(n,Aa.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var s=n.getXScale();this.filterView(n,s.field,null)}if(this.hasDim("y")){var c=n.getYScales()[0];this.filterView(n,c.field,null)}this.reRender(n,{source:Aa.RESET}),n.emit(Aa.AFTER_RESET,$r.fromData(n,Aa.AFTER_RESET,{}))},a.prototype.filterView=function(n,s,c){n.filter(s,c)},a.prototype.reRender=function(n,s){n.render(!0,s)},a}(Rr),Pf=K_,J_=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.filterView=function(n,s,c){var f=Os(n);(0,_.S6)(f,function(d){d.filter(s,c)})},a.prototype.reRender=function(n){var s=Os(n);(0,_.S6)(s,function(c){c.render(!0)})},a}(Pf),F0=J_,Q_=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.filter=function(){var n=Xc(this.context),s=this.context.view,c=Ui(s);if(Gh(this.context)){var f=Wy(this.context,10);f&&(0,_.S6)(c,function(D){f.includes(D)?D.show():D.hide()})}else if(n){var d=n.component,v=d.get("field");if(tl(n)){if(v){var y=d.getItemsByState("unchecked"),b=rf(s,v),S=y.map(function(D){return D.name});(0,_.S6)(c,function(D){var V=rs(D,v),j=b.getText(V);S.indexOf(j)>=0?D.hide():D.show()})}}else if(Gy(n)){var C=d.getValue(),T=(0,L.CR)(C,2),k=T[0],R=T[1];(0,_.S6)(c,function(D){var V=rs(D,v);V>=k&&V<=R?D.show():D.hide()})}}},a.prototype.clear=function(){var n=Ui(this.context.view);(0,_.S6)(n,function(s){s.show()})},a.prototype.reset=function(){this.clear()},a}(Rr),tO=Q_,eO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.byRecord=!1,n}return a.prototype.filter=function(){Gh(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},a.prototype.filterByRecord=function(){var n=this.context.view,s=Wy(this.context,10);if(s){var c=n.getXScale().field,f=n.getYScales()[0].field,d=s.map(function(y){return y.getModel().data}),v=Os(n);(0,_.S6)(v,function(y){var b=Ui(y);(0,_.S6)(b,function(S){var C=S.getModel().data;vM(d,C,c,f)?S.show():S.hide()})})}},a.prototype.filterByBBox=function(){var n=this,s=this.context.view,c=Os(s);(0,_.S6)(c,function(f){var d=oM(n.context,f,10),v=Ui(f);d&&(0,_.S6)(v,function(y){d.includes(y)?y.show():y.hide()})})},a.prototype.reset=function(){var n=Os(this.context.view);(0,_.S6)(n,function(s){var c=Ui(s);(0,_.S6)(c,function(f){f.show()})})},a}(Rr),nx=eO,Lf=10,kR=5,Q4=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.buttonGroup=null,n.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},n}return a.prototype.getButtonCfg=function(){return(0,_.b$)(this.buttonCfg,this.cfg)},a.prototype.drawButton=function(){var n=this.getButtonCfg(),s=this.context.view.foregroundGroup.addGroup({name:n.name}),c=s.addShape({type:"text",name:"button-text",attrs:(0,L.pi)({text:n.text},n.textStyle)}),f=c.getBBox(),d=$y(n.padding),v=s.addShape({type:"rect",name:"button-rect",attrs:(0,L.pi)({x:f.x-d[3],y:f.y-d[0],width:f.width+d[1]+d[3],height:f.height+d[0]+d[2]},n.style)});v.toBack(),s.on("mouseenter",function(){v.attr(n.activeStyle)}),s.on("mouseleave",function(){v.attr(n.style)}),this.buttonGroup=s},a.prototype.resetPosition=function(){var n=this.context.view,s=n.getCoordinate(),c=s.convert({x:1,y:1}),f=this.buttonGroup,d=f.getBBox(),v=Dr.vs(null,[["t",c.x-d.width-Lf,c.y+d.height+kR]]);f.setMatrix(v)},a.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},a.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},a.prototype.destroy=function(){var n=this.buttonGroup;n&&n.remove(),o.prototype.destroy.call(this)},a}(Rr),t8=Q4,PR=4,LR=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.starting=!1,n.dragStart=!1,n}return a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},a.prototype.drag=function(){if(this.startPoint){var n=this.context.getCurrentPoint(),s=this.context.view,c=this.context.event;this.dragStart?s.emit("drag",{target:c.target,x:c.x,y:c.y}):Vy(n,this.startPoint)>PR&&(s.emit("dragstart",{target:c.target,x:c.x,y:c.y}),this.dragStart=!0)}},a.prototype.end=function(){if(this.dragStart){var n=this.context.view,s=this.context.event;n.emit("dragend",{target:s.target,x:s.x,y:s.y})}this.starting=!1,this.dragStart=!1},a}(Rr),yr=LR,nO=5,rO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.starting=!1,n.isMoving=!1,n.startPoint=null,n.startMatrix=null,n}return a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},a.prototype.move=function(){if(this.starting){var n=this.startPoint,s=this.context.getCurrentPoint(),c=Vy(n,s);if(c>nO&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var f=this.context.view,d=Dr.vs(this.startMatrix,[["t",s.x-n.x,s.y-n.y]]);f.backgroundGroup.setMatrix(d),f.foregroundGroup.setMatrix(d),f.middleGroup.setMatrix(d)}}},a.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},a.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var n=this.context.view;n.backgroundGroup.resetMatrix(),n.foregroundGroup.resetMatrix(),n.middleGroup.resetMatrix(),this.isMoving=!1},a}(Rr),iO=rO,rx="x",ix="y",aO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.dims=[rx,ix],n.cfgFields=["dims"],n.cacheScaleDefs={},n}return a.prototype.hasDim=function(n){return this.dims.includes(n)},a.prototype.getScale=function(n){var s=this.context.view;return n==="x"?s.getXScale():s.getYScales()[0]},a.prototype.resetDim=function(n){var s=this.context.view;if(this.hasDim(n)&&this.cacheScaleDefs[n]){var c=this.getScale(n);s.scale(c.field,this.cacheScaleDefs[n]),this.cacheScaleDefs[n]=null}},a.prototype.reset=function(){this.resetDim(rx),this.resetDim(ix);var n=this.context.view;n.render(!0)},a}(Rr),ax=aO,oO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.startPoint=null,n.starting=!1,n.startCache={},n}return a.prototype.start=function(){var n=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var s=this.dims;(0,_.S6)(s,function(c){var f=n.getScale(c),d=f.min,v=f.max,y=f.values;n.startCache[c]={min:d,max:v,values:y}})},a.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},a.prototype.translate=function(){var n=this;if(this.starting){var s=this.startPoint,c=this.context.view.getCoordinate(),f=this.context.getCurrentPoint(),d=c.invert(s),v=c.invert(f),y=v.x-d.x,b=v.y-d.y,S=this.context.view,C=this.dims;(0,_.S6)(C,function(T){n.translateDim(T,{x:y*-1,y:b*-1})}),S.render(!0)}},a.prototype.translateDim=function(n,s){if(this.hasDim(n)){var c=this.getScale(n);c.isLinear&&this.translateLinear(n,c,s)}},a.prototype.translateLinear=function(n,s,c){var f=this.context.view,d=this.startCache[n],v=d.min,y=d.max,b=y-v,S=c[n]*b;this.cacheScaleDefs[n]||(this.cacheScaleDefs[n]={nice:s.nice,min:v,max:y}),f.scale(s.field,{nice:!1,min:v+S,max:y+S})},a.prototype.reset=function(){o.prototype.reset.call(this),this.startPoint=null,this.starting=!1},a}(ax),sO=oO,lO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.zoomRatio=.05,n}return a.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},a.prototype.zoom=function(n){var s=this,c=this.dims;(0,_.S6)(c,function(f){s.zoomDim(f,n)}),this.context.view.render(!0)},a.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},a.prototype.zoomDim=function(n,s){if(this.hasDim(n)){var c=this.getScale(n);c.isLinear&&this.zoomLinear(n,c,s)}},a.prototype.zoomLinear=function(n,s,c){var f=this.context.view;this.cacheScaleDefs[n]||(this.cacheScaleDefs[n]={nice:s.nice,min:s.min,max:s.max});var d=this.cacheScaleDefs[n],v=d.max-d.min,y=s.min,b=s.max,S=c*v,C=y-S,T=b+S,k=T-C,R=k/v;T>C&&R<100&&R>.01&&f.scale(s.field,{nice:!1,min:y-S,max:b+S})},a}(ax),cO=lO;function uO(o){var a=o.gEvent.originalEvent;return a.deltaY>0}var fO=1,hO=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.scroll=function(n){var s=this.context,c=s.view,f=s.event;if(c.getOptions().scrollbar){var d=(n==null?void 0:n.wheelDelta)||fO,v=c.getController("scrollbar"),y=c.getXScale(),b=c.getOptions().data,S=(0,_.dp)((0,_.I)(b,y.field)),C=(0,_.dp)(y.values),T=v.getValue(),k=Math.floor((S-C)*T),R=k+(uO(f)?d:-d),D=d/(S-C)/1e4,V=(0,_.uZ)(R/(S-C)+D,0,1);v.setValue(V)}},a}(Rr),dO=hO,pO="aixs-description-tooltip",vO=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.show=function(){var n=this.context,s=Xc(n).axis,c=s.cfg.title,f=c.description,d=c.text,v=c.descriptionTooltipStyle,y=n.event,b=y.x,S=y.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:d||"",customContent:function(){return`
          <div class="`.concat(Ms,'" style={').concat(v,`}>
            <div class="`).concat(Ss,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(f,`
            </div>
          </div>
        `)},x:b,y:S}),this.tooltip.show()},a.prototype.destroy=function(){o.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var n,s=this.context.view,c=s.canvas,f={start:{x:0,y:0},end:{x:c.get("width"),y:c.get("height")}},d=new uv({parent:c.get("el").parentNode,region:f,visible:!1,containerId:pO,domStyles:(0,L.pi)({},(0,_.b$)({},(n={},n[Ms]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},n[Ss]={"word-break":"break-all","margin-bottom":"3px"},n)))});d.init(),d.setCapture(!1),this.tooltip=d},a}(Rr),gO=vO;wM("dark",yM(Wv)),Ie("canvas",rt),Ie("svg",se),no("Polygon",F4),no("Interval",L4),no("Schema",vI),no("Path",GS),no("Point",dI),no("Line",fI),no("Area",oI),no("Edge",sI),no("Heatmap",A4),no("Violin",$S),lf("base",Uh),lf("interval",Z4),lf("pie",o1),lf("polar",i1),Oa("overlap",r_),Oa("distribute",MI),Oa("fixed-overlap",m0),Oa("hide-overlap",LI),Oa("limit-in-shape",AI),Oa("limit-in-canvas",t_),Oa("limit-in-plot",M0),Oa("pie-outer",QS),Oa("adjust-color",RI),Oa("interval-adjust-position",u1),Oa("interval-hide-overlap",NI),Oa("point-adjust-position",h1),Oa("pie-spider",CI),Oa("path-adjust-position",d1),ro("fade-in",VI),ro("fade-out",HI),ro("grow-in-x",YI),ro("grow-in-xy",g1),ro("grow-in-y",UI),ro("scale-in-x",ZI),ro("scale-in-y",qI),ro("wave-in",KI),ro("zoom-in",al),ro("zoom-out",Jl),ro("position-update",y1),ro("sector-path-update",$I),ro("path-in",XI),Rl("rect",nR),Rl("mirror",jn),Rl("list",QI),Rl("matrix",v_),Rl("circle",d_),Rl("tree",g_),pr("axis",b_),pr("legend",iR),pr("tooltip",jl),pr("annotation",m_),pr("slider",M1),pr("scrollbar",lR),In("tooltip",O_),In("sibling-tooltip",vR),In("ellipsis-text",yR),In("element-active",bR),In("element-single-active",C1),In("element-range-active",E_),In("element-highlight",E0),In("element-highlight-by-x",Cf),In("element-highlight-by-color",K4),In("element-single-highlight",A1),In("element-range-highlight",_i),In("element-sibling-highlight",_i,{effectSiblings:!0,effectByRecord:!0}),In("element-selected",ll),In("element-single-selected",P_),In("element-range-selected",k0),In("element-link-by-color",MR),In("active-region",hR),In("list-active",I_),In("list-selected",F_),In("list-highlight",L1),In("list-unchecked",AR),In("list-checked",R1),In("list-focus",J4),In("list-radio",B_),In("legend-item-highlight",L1,{componentNames:["legend"]}),In("axis-label-highlight",L1,{componentNames:["axis"]}),In("axis-description",gO),In("rect-mask",G1),In("x-rect-mask",V1,{dim:"x"}),In("y-rect-mask",V1,{dim:"y"}),In("circle-mask",z_),In("path-mask",V_),In("smooth-path-mask",U1),In("rect-multi-mask",X1),In("x-rect-multi-mask",q1,{dim:"x"}),In("y-rect-multi-mask",q1,{dim:"y"}),In("circle-multi-mask",U_),In("path-multi-mask",J1),In("smooth-path-multi-mask",X_),In("cursor",Z_),In("data-filter",$_),In("brush",Pf),In("brush-x",Pf,{dims:["x"]}),In("brush-y",Pf,{dims:["y"]}),In("sibling-filter",F0),In("sibling-x-filter",F0,{dims:"x"}),In("sibling-y-filter",F0,{dims:"y"}),In("element-filter",tO),In("element-sibling-filter",nx),In("element-sibling-filter-record",nx,{byRecord:!0}),In("view-drag",yr),In("view-move",iO),In("scale-translate",sO),In("scale-zoom",cO),In("reset-button",t8,{name:"reset-button",text:"reset"}),In("mousewheel-scroll",dO);function Rs(o){return o.isInPlot()}Zn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Zn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Zn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Zn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Zn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Zn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Zn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Zn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Zn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Zn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Zn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Zn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(o){return!o.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(o){return!o.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Zn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Rs,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Rs,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Rs,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Zn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Zn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Rs,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Rs,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Rs,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Zn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Rs,action:"path-mask:start"},{trigger:"mousedown",isEnable:Rs,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Zn("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Rs,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(o){return!Ov(o)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),Zn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Zn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(o){return!o.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Zn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Zn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Zn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),Zn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Zn("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function Id(o){return o.gEvent.preventDefault(),o.gEvent.originalEvent.deltaY>0}Zn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(o){return Id(o.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(o){return!Id(o.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Zn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Zn("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var Xa=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Vo;(function(o){o.ERROR="error",o.WARN="warn",o.INFO="log"})(Vo||(Vo={}));var ox="AntV/G2Plot";function yO(o){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var s=0;return"".concat(ox,": ").concat(o.replace(/%s/g,function(){return"".concat(a[s++])}))}function e8(o,a){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!o){var c=new Error(yO.apply(void 0,__spreadArray([a],n,!1)));throw c.name=ox,c}}function Gi(o,a,n){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];a||console[o](yO.apply(void 0,(0,L.ev)([n],s,!1)))}function kr(o,a){var n={};return o!==null&&typeof o=="object"&&a.forEach(function(s){var c=o[s];c!==void 0&&(n[s]=c)}),n}function If(o,a){if(!o)return{};var n=o.filter(function(f){var d=(0,_.U2)(f,[a]);return(0,_.hj)(d)&&!isNaN(d)}),s=n.every(function(f){return(0,_.U2)(f,[a])>=0}),c=n.every(function(f){return(0,_.U2)(f,[a])<=0});return s?{min:0}:c?{max:0}:{}}function rc(o,a,n,s,c){if(c===void 0&&(c=[]),!Array.isArray(o))return{nodes:[],links:[]};var f=[],d={},v=-1;return o.forEach(function(y){var b=y[a],S=y[n],C=y[s],T=kr(y,c);d[b]||(d[b]=(0,L.pi)({id:++v,name:b},T)),d[S]||(d[S]=(0,L.pi)({id:++v,name:S},T)),f.push((0,L.pi)({source:d[b].id,target:d[S].id,value:C},T))}),{nodes:Object.values(d).sort(function(y,b){return y.id-b.id}),links:f}}function ul(o,a){var n=(0,_.hX)(o,function(s){var c=s[a];return c===null||typeof c=="number"&&!isNaN(c)});return Gi(Vo.WARN,n.length===o.length,"illegal data existed in chart data."),n}var IR=5,sx={}.toString,mO=function(o,a){return sx.call(o)==="[object "+a+"]"},RR=function(o){return mO(o,"Array")},D0=function(o){return typeof o=="object"&&o!==null},xO=function(o){if(!D0(o)||!mO(o,"Object"))return!1;for(var a=o;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(o)===a},Rd=function(o,a,n,s){n=n||0,s=s||IR;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var f=a[c];f?xO(f)?(xO(o[c])||(o[c]={}),n<s?Rd(o[c],f,n+1,s):o[c]=a[c]):RR(f)?(o[c]=[],o[c]=o[c].concat(f)):o[c]=f:o[c]=f}},Re=function(o){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];for(var s=0;s<a.length;s+=1)Rd(o,a[s]);return o};function lx(o){if(!o)return{width:0,height:0};var a=getComputedStyle(o);return{width:(o.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(o.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}}function Un(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return function(n){return o.reduce(function(s,c){return c(s)},n)}}function fi(o,a){return o.geometries.find(function(n){return n.type===a})}function B0(o){return(0,_.u4)(o.geometries,function(a,n){return a.concat(n.elements)},[])}function Rf(o){return(0,_.U2)(o,["views","length"],0)<=0?B0(o):(0,_.u4)(o.views,function(a,n){return a.concat(Rf(n))},B0(o))}function FR(o){return(0,_.U2)(o,["views","length"],0)<=0?o.geometries:(0,_.u4)(o.views,function(a,n){return a.concat(n.geometries)},o.geometries)}function Zi(o){if(!(0,_.P9)(o,"Object"))return o;var a=(0,L.pi)({},o);return a.formatter&&!a.content&&(a.content=a.formatter),a}var Wi;function so(){return Wi||(Wi=document.createElement("canvas").getContext("2d")),Wi}var bO=(0,_.HP)(function(o,a){a===void 0&&(a={});var n=a.fontSize,s=a.fontFamily,c=s===void 0?"sans-serif":s,f=a.fontWeight,d=a.fontStyle,v=a.fontVariant,y=so();y.font=[d,f,v,"".concat(n,"px"),c].join(" ");var b=y.measureText((0,_.HD)(o)?o:"");return b.width},function(o,a){return a===void 0&&(a={}),(0,L.ev)([o],(0,_.VO)(a),!0).join("")});function du(o){return typeof o=="number"&&!isNaN(o)}function DR(o,a,n){var s=Math.min(a,n),c=Math.max(a,n);return o>=s&&o<=c}function Qn(o){if((0,_.hj)(o))return[o,o,o,o];if((0,_.kJ)(o)){var a=o.length;if(a===1)return[o[0],o[0],o[0],o[0]];if(a===2)return[o[0],o[1],o[0],o[1]];if(a===3)return[o[0],o[1],o[2],o[1]];if(a===4)return o}return[0,0,0,0]}function Fd(o,a,n){a===void 0&&(a="bottom"),n===void 0&&(n=25);var s=Qn(o),c=[a.startsWith("top")?n:0,a.startsWith("right")?n:0,a.startsWith("bottom")?n:0,a.startsWith("left")?n:0];return[s[0]+c[0],s[1]+c[1],s[2]+c[2],s[3]+c[3]]}function N0(o){var a=o.map(function(s){return Qn(s)}),n=[0,0,0,0];return a.length>0&&(n=n.map(function(s,c){return a.forEach(function(f,d){s+=a[d][c]}),s})),n}function BR(o,a){var n=[];if(o.length){n.push(["M",o[0].x,o[0].y]);for(var s=1,c=o.length;s<c;s+=1){var f=o[s];n.push(["L",f.x,f.y])}a&&n.push(["Z"])}return n}var NR=function(o,a,n,s){var c=[],f,d,v=!!s,y,b;if(v){y=[1/0,1/0],b=[-1/0,-1/0];for(var S=0,C=o.length;S<C;S++){var T=o[S];y=Nn.VV([0,0],y,T),b=Nn.Fp([0,0],b,T)}y=Nn.VV([0,0],y,s[0]),b=Nn.Fp([0,0],b,s[1])}for(var S=0,k=o.length;S<k;S++){var T=o[S];if(n)f=o[S?S-1:k-1],d=o[(S+1)%k];else if(S===0||S===k-1){c.push(T);continue}else f=o[S-1],d=o[S+1];var R=[0,0];R=Nn.lu(R,d,f),R=Nn.bA(R,R,a);var D=Nn.TE(T,f),V=Nn.TE(T,d),j=D+V;j!==0&&(D/=j,V/=j);var H=Nn.bA([0,0],R,-D),Z=Nn.bA([0,0],R,V),q=Nn.IH([0,0],T,H),K=Nn.IH([0,0],T,Z);v&&(q=Nn.Fp([0,0],q,y),q=Nn.VV([0,0],q,b),K=Nn.Fp([0,0],K,y),K=Nn.VV([0,0],K,b)),c.push(q),c.push(K)}return n&&c.push(c.shift()),c};function zR(o,a,n){for(var s=!!a,c=[],f=0,d=o.length;f<d;f+=2)c.push([o[f],o[f+1]]);for(var v=NR(c,.4,s,n),y=c.length,b=[],S,C,T,f=0;f<y-1;f++)S=v[f*2],C=v[f*2+1],T=c[f+1],b.push(["C",S[0],S[1],C[0],C[1],T[0],T[1]]);return s&&(S=v[y],C=v[y+1],T=c[0],b.push(["C",S[0],S[1],C[0],C[1],T[0],T[1]])),b}function jR(o,a,n){var s=[],c=o[0],f=null;if(o.length<=2)return BR(o,a);for(var d=0,v=o.length;d<v;d++){var y=o[d];(!f||!(f.x===y.x&&f.y===y.y))&&(s.push(y.x),s.push(y.y),f=y)}var b=n||[[0,0],[1,1]],S=zR(s,a,b);return S.unshift(["M",c.x,c.y]),S}function wO(o){if(!o)return o;var a=o.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return a.map(function(n){return n.toLowerCase()}).join("-")}function MO(o){var a={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,_.U2)(o,"fill")&&(a.color=o.fill);var s=kr(o,n),c=s.shadowColor,f=s.shadowBlur,d=f===void 0?0:f,v=s.shadowOffsetX,y=v===void 0?0:v,b=s.shadowOffsetY,S=b===void 0?0:b;a["text-shadow"]="".concat([c,"".concat(y,"px"),"".concat(S,"px"),"".concat(d,"px")].join(" "));var C=kr(o,n),T=C.stroke,k=C.lineWidth,R=k===void 0?0:k;return a["-webkit-text-stroke"]="".concat(["".concat(R,"px"),T].join(" ")),(0,_.S6)(o,function(D,V){["fontSize"].includes(V)&&(0,_.hj)(D)?a[wO(V)]="".concat(D,"px"):V&&!n.includes(V)&&(a[wO(V)]="".concat(D))}),a}function SO(o,a){o.style["pointer-events"]="none",(0,_.S6)(a,function(n,s){s&&n&&(o.style[s]=n)})}var Dd=function(o,a,n){var s=a.statistic,c=a.plotType,f=s.title,d=s.content;[f,d].forEach(function(v,y){if(v){var b="";y===0?b=d?"translate(-50%, -100%)":"translate(-50%, -50%)":b=f?"translate(-50%, 0)":"translate(-50%, -50%)";var S=(0,_.mf)(v.style)?v.style(n):v.style;o.annotation().html((0,L.pi)({position:["50%","50%"],html:function(C,T){var k=T.getCoordinate(),R=0;if(c==="pie"||c==="ring-progress")R=k.getRadius()*k.innerRadius*2;else if(c==="liquid"){var D=(0,_.U2)(T.geometries,[0,"elements",0,"shape"]);if(D){var V=D.find(function(q){return q.get("name")==="wrap"}),j=V.getCanvasBBox().width;R=j}}else R||(R=k.getWidth());SO(C,(0,L.pi)({width:"".concat(R,"px"),transform:b},MO(S)));var H=T.getData();if(v.customHtml)return v.customHtml(C,T,n,H);var Z=v.content;return v.formatter&&(Z=v.formatter(n,H)),Z?(0,_.HD)(Z)?Z:"".concat(Z):"<div></div>"},key:"".concat(y===0?"top":"bottom","-statistic")},kr(v,["offsetX","offsetY","rotate","style","formatter"])))}})},GR=function(o,a,n){var s=a.statistic,c=s.title,f=s.content;[c,f].forEach(function(d){if(d){var v=(0,_.mf)(d.style)?d.style(n):d.style;o.annotation().html((0,L.pi)({position:["50%","100%"],html:function(y,b){var S=b.getCoordinate(),C=b.views[0].getCoordinate(),T=C.getCenter(),k=C.getRadius(),R=Math.max(Math.sin(C.startAngle),Math.sin(C.endAngle))*k,D=T.y+R-S.y.start-parseFloat((0,_.U2)(v,"fontSize",0)),V=S.getRadius()*S.innerRadius*2;SO(y,(0,L.pi)({width:"".concat(V,"px"),transform:"translate(-50%, ".concat(D,"px)")},MO(v)));var j=b.getData();if(d.customHtml)return d.customHtml(y,b,n,j);var H=d.content;return d.formatter&&(H=d.formatter(n,j)),H?(0,_.HD)(H)?H:"".concat(H):"<div></div>"}},kr(d,["offsetX","offsetY","rotate","style","formatter"])))}})};function _O(o,a){return a?(0,_.u4)(a,function(n,s,c){return n.replace(new RegExp("{\\s*".concat(c,"\\s*}"),"g"),s)},o):o}function ar(o,a){return o.views.find(function(n){return n.id===a})}function Bd(o){var a=o.parent;return a?a.views:[]}function cx(o){return Bd(o).filter(function(a){return a!==o})}function Nd(o,a,n){n===void 0&&(n=o.geometries),typeof a=="boolean"?o.animate(a):o.animate(!0),(0,_.S6)(n,function(s){var c;(0,_.mf)(a)?c=a(s.type||s.shapeType,s)||!0:c=a,s.animate(c)})}function z0(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function ux(o,a){a===void 0&&(a=o);var n=document.createElement("canvas"),s=z0();n.width=o*s,n.height=a*s,n.style.width="".concat(o,"px"),n.style.height="".concat(a,"px");var c=n.getContext("2d");return c.scale(s,s),n}function fx(o,a,n,s){s===void 0&&(s=n);var c=a.backgroundColor,f=a.opacity;o.globalAlpha=f,o.fillStyle=c,o.beginPath(),o.fillRect(0,0,n,s),o.closePath()}function OO(o,a,n){var s=o+a;return n?s*2:s}function CO(o,a){var n=a?[[o*.25,o*.25],[o*.75,o*.75]]:[[o*.5,o*.5]];return n}function hx(o,a){var n=a*Math.PI/180,s={a:Math.cos(n)*(1/o),b:Math.sin(n)*(1/o),c:-Math.sin(n)*(1/o),d:Math.cos(n)*(1/o),e:0,f:0};return s}var AO={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function ic(o,a,n,s){var c=a.size,f=a.fill,d=a.lineWidth,v=a.stroke,y=a.fillOpacity;o.beginPath(),o.globalAlpha=y,o.fillStyle=f,o.strokeStyle=v,o.lineWidth=d,o.arc(n,s,c/2,0,2*Math.PI,!1),o.fill(),d&&o.stroke(),o.closePath()}function WR(o){var a=Re({},AO,o),n=a.size,s=a.padding,c=a.isStagger,f=a.rotation,d=OO(n,s,c),v=CO(d,c),y=ux(d,d),b=y.getContext("2d");fx(b,a,d);for(var S=0,C=v;S<C.length;S++){var T=C[S],k=T[0],R=T[1];ic(b,a,k,R)}var D=b.createPattern(y,"repeat");if(D){var V=z0(),j=hx(V,f);D.setTransform(j)}return D}var VR={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function Hr(o,a,n){var s=a.stroke,c=a.lineWidth,f=a.strokeOpacity,d=new Path2D(n);o.globalAlpha=f,o.lineCap="square",o.strokeStyle=c?s:"transparent",o.lineWidth=c,o.stroke(d)}function dx(o){var a=Re({},VR,o),n=a.spacing,s=a.rotation,c=a.lineWidth,f=n+c||1,d=n+c||1,v=`
            M 0 0 L `.concat(f,` 0
            M 0 `).concat(d," L ").concat(f," ").concat(d,`
            `),y=ux(f,d),b=y.getContext("2d");fx(b,a,f,d),Hr(b,a,v);var S=b.createPattern(y,"repeat");if(S){var C=z0(),T=hx(C,s);S.setTransform(T)}return S}var HR={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function YR(o,a,n,s){var c=a.stroke,f=a.size,d=a.fill,v=a.lineWidth,y=a.fillOpacity;o.globalAlpha=y,o.strokeStyle=c,o.lineWidth=v,o.fillStyle=d,o.strokeRect(n-f/2,s-f/2,f,f),o.fillRect(n-f/2,s-f/2,f,f)}function UR(o){var a=Re({},HR,o),n=a.size,s=a.padding,c=a.isStagger,f=a.rotation,d=OO(n,s,c),v=CO(d,c),y=ux(d,d),b=y.getContext("2d");fx(b,a,d);for(var S=0,C=v;S<C.length;S++){var T=C[S],k=T[0],R=T[1];YR(b,a,k,R)}var D=b.createPattern(y,"repeat");if(D){var V=z0(),j=hx(V,f);D.setTransform(j)}return D}function XR(o){var a=o.type,n=o.cfg,s;switch(a){case"dot":s=WR(n);break;case"line":s=dx(n);break;case"square":s=UR(n);break;default:break}return s}function lo(o){var a=this;return function(n){var s,c=n.options,f=n.chart,d=c.pattern;if(!d)return n;var v=function(y){for(var b,S,C,T=[],k=1;k<arguments.length;k++)T[k-1]=arguments[k];var R=f.getTheme().defaultColor,D=R,V=(S=(b=f.geometries)===null||b===void 0?void 0:b[0])===null||S===void 0?void 0:S.getAttribute("color");if(V){var j=V.getFields()[0],H=(0,_.U2)(y,j);D=ia.getMappingValue(V,H,((C=V.values)===null||C===void 0?void 0:C[0])||R)}var Z=d;typeof d=="function"&&(Z=d.call(a,y,D)),Z instanceof CanvasPattern||(Z=XR(Re({},{cfg:{backgroundColor:D}},Z)));var q=c[o];return(0,L.pi)((0,L.pi)({},typeof q=="function"?q.call.apply(q,(0,L.ev)([a,y],T,!1)):q||{}),{fill:Z||D})};return Re({},n,{options:(s={},s[o]=v,s)})}}function ac(o){var a=o.chart,n=o.options,s=n.legend,c=n.colorField,f=n.seriesField;return s===!1?a.legend(!1):(c||f)&&a.legend(c||f,s),o}function Oi(o){var a=o.chart,n=o.options,s=n.tooltip;return s!==void 0&&a.tooltip(s),o}function Kr(o){var a=o.chart,n=o.options,s=n.interactions;return(0,_.S6)(s,function(c){c.enable===!1?a.removeInteraction(c.type):a.interaction(c.type,c.cfg||{})}),o}function Lr(o){var a=o.chart,n=o.options,s=n.animation;return Nd(a,s),o}function mr(o){var a=o.chart,n=o.options,s=n.theme;return s&&a.theme(s),o}function fl(o){var a=o.chart,n=o.options,s=n.state;return s&&(0,_.S6)(a.geometries,function(c){c.state(s)}),o}function oc(o){var a=o.chart,n=o.options,s=n.slider;return a.option("slider",s),o}function j0(o){var a=o.chart,n=o.options,s=n.scrollbar;return a.option("scrollbar",s),o}function Jr(o,a){return function(n){var s=n.chart,c=n.options,f={};return(0,_.S6)(o,function(d,v){f[v]=kr(d,Xa)}),f=Re({},a,c.meta,f),s.scale(f),n}}function Qr(o){return function(a){var n=a.chart,s=a.options,c=n.getController("annotation");return(0,_.S6)((0,L.ev)((0,L.ev)([],s.annotations||[],!0),o||[],!0),function(f){c.annotation(f)}),a}}function sc(o){var a=o.chart,n=o.options,s=n.yAxis,c=n.limitInPlot,f=c;return(0,_.Kn)(s)&&(0,_.UM)(c)&&(Object.values(kr(s,["min","max","minLimit","maxLimit"])).some(function(d){return!(0,_.UM)(d)})?f=!0:f=!1),a.limitInPlot=f,o}function G0(o){return o===void 0&&(o="rect"),function(a){var n=a.chart,s=a.options,c=s.coordinate,f=Array.from(c||[]).map(function(d){return d.type==="reflectX"?["reflect","x"]:d.type==="reflectY"?["reflect","y"]:d.type==="transpose"?["transpose"]:null}).filter(function(d){return!!d});return f.length!==0&&n.coordinate({type:o,actions:f}),a}}var px={locale:"en-US"};function ZR(o){each(o,function(a,n){return px[n]=a})}var Ff={};function TO(o,a){Ff[o]=a}function W0(o){return{get:function(a,n){return _O((0,_.U2)(Ff[o],a)||(0,_.U2)(Ff[px.locale],a)||(0,_.U2)(Ff["en-US"],a)||a,n)}}}var qR={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},EO={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}};function Pi(o,a){if(o===!1)return{fields:!1};var n=(0,_.U2)(o,"fields"),s=(0,_.U2)(o,"formatter");return s&&!n&&(n=a),{fields:n,formatter:s}}function zd(o,a){var n=o.type,s=o.xField,c=o.yField,f=o.colorField,d=o.shapeField,v=o.sizeField,y=o.styleField,b=o.rawFields,S=[];if(b=((0,_.mf)(b)?b(n,a):b)||[],a==="color")S=(0,L.ev)([f||s],b,!0);else if(a==="shape")S=(0,L.ev)([d||s],b,!0);else if(a==="size")S=(0,L.ev)([v||s],b,!0);else{S=(0,L.ev)([s,c,f,d,v,y],b,!0);var C=["x","y","color","shape","size","style"].indexOf(a),T=S[C];S.splice(C,1),S.unshift(T)}var k=(0,_.jj)(S.filter(function(D){return!!D})),R=n==="line"&&[s,c].includes(k.join("*"))?"":k.join("*");return{mappingFields:k,tileMappingField:R}}function Df(o,a){if(a)return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var c={};return o.forEach(function(f,d){c[f]=n[d]}),delete c.undefined,a(c)}}function Za(o){var a=o.chart,n=o.options,s=n.type,c=n.args,f=n.mapping,d=n.xField,v=n.yField,y=n.colorField,b=n.shapeField,S=n.sizeField,C=n.tooltipFields,T=n.label,k=n.state,R=n.customInfo;if(!f)return o;var D=f.color,V=f.shape,j=f.size,H=f.style,Z=f.tooltip,q=a[s](c).position("".concat(d,"*").concat(v));if((0,_.HD)(D))y?q.color(y,D):q.color(D);else if((0,_.mf)(D)){var K=zd(n,"color"),Ct=K.mappingFields,Ft=K.tileMappingField;q.color(Ft,Df(Ct,D))}else y&&q.color(y,D);if((0,_.HD)(V))b?q.shape(b,[V]):q.shape(V);else if((0,_.mf)(V)){var Jt=zd(n,"shape"),Ct=Jt.mappingFields,Ft=Jt.tileMappingField;q.shape(Ft,Df(Ct,V))}else b&&q.shape(b,V);if((0,_.hj)(j))S?q.size(S,j):q.size(j);else if((0,_.mf)(j)){var _e=zd(n,"size"),Ct=_e.mappingFields,Ft=_e.tileMappingField;q.size(Ft,Df(Ct,j))}else S&&q.size(S,j);if((0,_.mf)(H)){var ge=zd(n,"style"),Ct=ge.mappingFields,Ft=ge.tileMappingField;q.style(Ft,Df(Ct,H))}else(0,_.Kn)(H)&&q.style(H);if(C===!1?q.tooltip(!1):(0,_.xb)(C)||q.tooltip(C.join("*"),Df(C,Z)),T===!1)q.label(!1);else if(T){var Be=T.callback,tn=T.fields,vn=(0,L._T)(T,["callback","fields"]);q.label({fields:tn||[v],callback:Be,cfg:Zi(vn)})}return k&&q.state(k),R&&q.customInfo(R),[d,v].filter(function(Mn){return Mn!==y}).forEach(function(Mn){a.legend(Mn,!1)}),(0,L.pi)((0,L.pi)({},o),{ext:{geometry:q}})}function jd(o){var a=o.options,n=a.area,s=a.xField,c=a.yField,f=a.seriesField,d=a.smooth,v=a.tooltip,y=a.useDeferredLabel,b=Pi(v,[s,c,f]),S=b.fields,C=b.formatter;return n?Za(Re({},o,{options:{type:"area",colorField:f,tooltipFields:S,mapping:(0,_.b$)({shape:d?"smooth":"area",tooltip:C},n),args:{useDeferredLabel:y}}})):o}function vx(o){var a=o.options,n=a.edge,s=a.xField,c=a.yField,f=a.seriesField,d=a.tooltip,v=a.useDeferredLabel,y=Pi(d,[s,c,f]),b=y.fields,S=y.formatter;return n?Za(Re({},o,{options:{type:"edge",colorField:f,tooltipFields:b,mapping:(0,L.pi)({tooltip:S},n),args:{useDeferredLabel:v}}})):o}function kO(o){var a=o.chart,n=o.options,s=o.ext,c=n.seriesField,f=n.isGroup,d=n.isStack,v=n.marginRatio,y=n.widthRatio,b=n.groupField,S=n.theme,C=[];if(c&&(f&&C.push({type:"dodge",dodgeBy:b||c,marginRatio:v}),d&&C.push({type:"stack",marginRatio:v})),C.length&&(s!=null&&s.geometry)){var T=s==null?void 0:s.geometry;T.adjust(C)}return(0,_.UM)(y)||a.theme(Re({},(0,_.Kn)(S)?S:of(S),{columnWidthRatio:y})),o}function aa(o){var a=o.options,n=a.xField,s=a.yField,c=a.interval,f=a.seriesField,d=a.tooltip,v=a.minColumnWidth,y=a.maxColumnWidth,b=a.columnBackground,S=a.dodgePadding,C=a.intervalPadding,T=a.useDeferredLabel,k=Pi(d,[n,s,f]),R=k.fields,D=k.formatter,V=(c?Za(Re({},o,{options:{type:"interval",colorField:f,tooltipFields:R,mapping:(0,L.pi)({tooltip:D},c),args:{dodgePadding:S,intervalPadding:C,minColumnWidth:v,maxColumnWidth:y,background:b,useDeferredLabel:T}}})):o).ext;return kO((0,L.pi)((0,L.pi)({},o),{ext:V}))}function pu(o){var a=o.options,n=a.line,s=a.stepType,c=a.xField,f=a.yField,d=a.seriesField,v=a.smooth,y=a.connectNulls,b=a.tooltip,S=a.useDeferredLabel,C=Pi(b,[c,f,d]),T=C.fields,k=C.formatter;return n?Za(Re({},o,{options:{type:"line",colorField:d,tooltipFields:T,mapping:(0,_.b$)({shape:s||(v?"smooth":"line"),tooltip:k},n),args:{connectNulls:y,useDeferredLabel:S}}})):o}function co(o){var a=o.options,n=a.point,s=a.xField,c=a.yField,f=a.seriesField,d=a.sizeField,v=a.shapeField,y=a.tooltip,b=a.useDeferredLabel,S=Pi(y,[s,c,f,d,v]),C=S.fields,T=S.formatter;return n?Za(Re({},o,{options:{type:"point",colorField:f,shapeField:v,tooltipFields:C,mapping:(0,L.pi)({tooltip:T},n),args:{useDeferredLabel:b}}})):o}function Gd(o){var a=o.options,n=a.polygon,s=a.xField,c=a.yField,f=a.seriesField,d=a.tooltip,v=a.useDeferredLabel,y=Pi(d,[s,c,f]),b=y.fields,S=y.formatter;return n?Za(Re({},o,{options:{type:"polygon",colorField:f,tooltipFields:b,mapping:(0,L.pi)({tooltip:S},n),args:{useDeferredLabel:v}}})):o}function V0(o){var a=o.options,n=a.schema,s=a.xField,c=a.yField,f=a.seriesField,d=a.tooltip,v=a.useDeferredLabel,y=Pi(d,[s,c,f]),b=y.fields,S=y.formatter;return n?Za(Re({},o,{options:{type:"schema",colorField:f,tooltipFields:b,mapping:(0,L.pi)({tooltip:S},n),args:{useDeferredLabel:v}}})):o}function gx(o){var a=o.options,n=a.violin,s=a.xField,c=a.yField,f=a.seriesField,d=a.sizeField,v=a.tooltip,y=Pi(v,[s,c,f,d]),b=y.fields,S=y.formatter;return n?Za(Re({},o,{options:{type:"violin",colorField:f,tooltipFields:b,mapping:(0,L.pi)({tooltip:S},n)}})):o}var PO=kt(18587),yx="data-chart-source-type",mx=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Kn=function(o){(0,L.ZT)(a,o);function a(n,s){var c=o.call(this)||this;return c.container=typeof n=="string"?document.getElementById(n):n,c.options=Re({},c.getDefaultOptions(),s),c.createG2(),c.bindEvents(),c}return a.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},a.prototype.createG2=function(){var n=this.options,s=n.width,c=n.height,f=n.defaultInteractions;this.chart=new Va((0,L.pi)((0,L.pi)((0,L.pi)((0,L.pi)({container:this.container,autoFit:!1},this.getChartSize(s,c)),{localRefresh:!1}),kr(this.options,mx)),{defaultInteractions:f})),this.container.setAttribute(yx,"G2Plot")},a.prototype.getChartSize=function(n,s){var c=lx(this.container);return{width:n||c.width||400,height:s||c.height||400}},a.prototype.bindEvents=function(){var n=this;this.chart&&this.chart.on("*",function(s){s!=null&&s.type&&n.emit(s.type,s)})},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},a.prototype.update=function(n){this.updateOption(n),this.render()},a.prototype.updateOption=function(n){this.options=Re({},this.options,n)},a.prototype.setState=function(n,s,c){c===void 0&&(c=!0);var f=Rf(this.chart);(0,_.S6)(f,function(d){s(d.getData())&&d.setState(n,c)})},a.prototype.getStates=function(){var n=Rf(this.chart),s=[];return(0,_.S6)(n,function(c){var f=c.getData(),d=c.getStates();(0,_.S6)(d,function(v){s.push({data:f,state:v,geometry:c.geometry,element:c})})}),s},a.prototype.changeData=function(n){this.update({data:n})},a.prototype.changeSize=function(n,s){this.chart.changeSize(n,s)},a.prototype.addAnnotations=function(n,s){s=s||this.chart;var c=(0,L.ev)([],n,!0),f=s.getController("annotation"),d=f.getComponents().map(function(b){return b.extra});f.clear(!0);for(var v=function(b){var S=d[b],C=c.findIndex(function(T){return T.id&&T.id===S.id});C!==-1&&(S=Re({},S,c[C]),c.splice(C,1)),f.annotation(S)},y=0;y<d.length;y++)v(y);c.forEach(function(b){return f.annotation(b)}),s.render(!0)},a.prototype.removeAnnotations=function(n){var s=this.chart.getController("annotation"),c=s.getComponents().map(function(v){return v.extra});s.clear(!0);for(var f=function(v){var y=c[v];n.find(function(b){return b.id&&b.id===y.id})||s.annotation(y)},d=0;d<c.length;d++)f(d);this.chart.render(!0)},a.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(yx)},a.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor(),s=this.options,c=s.padding,f=s.appendPadding;this.chart.padding=c,this.chart.appendPadding=f,n({chart:this.chart,options:this.options})},a.prototype.triggerResize=function(){this.chart.forceFit()},a.prototype.bindSizeSensor=function(){var n=this;if(!this.unbind){var s=this.options.autoFit,c=s===void 0?!0:s;c&&(this.unbind=(0,PO.ak)(this.container,function(){var f=lx(n.container),d=f.width,v=f.height;(d!==n.chart.width||v!==n.chart.height)&&n.triggerResize()}))}},a.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},a}(Je.Z);function xx(o,a,n,s){var c=(0,_.u4)(o,function(f,d){var v=d[n],y=f.has(v)?f.get(v):0,b=d[a];return y=du(b)?y+b:y,f.set(v,y),f},new Map);return(0,_.UI)(o,function(f){var d,v=f[a],y=f[n],b=du(v)&&c.get(y)!==0?v/c.get(y):0;return(0,L.pi)((0,L.pi)({},f),(d={},d[s]=b,d))})}function LO(o,a,n,s){var c=(0,_.u4)(o,function(f,d){var v=(0,_.u4)(n,function(S,C){return"".concat(S).concat(d[C])},""),y=f.has(v)?f.get(v):0,b=d[a];return y=du(b)?y+b:y,f.set(v,y),f},new Map);return(0,_.UI)(o,function(f){var d,v=f[a],y=(0,_.u4)(n,function(S,C){return"".concat(S).concat(f[C])},""),b=du(v)&&c.get(y)!==0?v/c.get(y):0;return(0,L.pi)((0,L.pi)({},f),(d={},d[s]=b,d))})}function Wd(o,a,n,s,c){return c?xx(o,a,n,s):o}function IO(o){var a=o.chart,n=o.options,s=n.data,c=n.color,f=n.lineStyle,d=n.lineShape,v=n.point,y=n.area,b=n.seriesField,S=v==null?void 0:v.state,C=y==null?void 0:y.state;a.data(s);var T=Re({},o,{options:{shapeField:b,line:{color:c,style:f,shape:d},point:v&&(0,L.pi)({color:c,shape:"circle"},v),area:y&&(0,L.pi)({color:c},y),label:void 0}}),k=Re({},T,{options:{tooltip:!1,state:S}}),R=Re({},T,{options:{tooltip:!1,state:C}});return pu(T),co(k),jd(R),o}function Vd(o){var a,n,s=o.options,c=s.xAxis,f=s.yAxis,d=s.xField,v=s.yField,y=s.data;return Un(Jr((a={},a[d]=c,a[v]=f,a),(n={},n[d]={type:"cat"},n[v]=If(y,v),n)))(o)}function bx(o){var a=o.chart,n=o.options,s=n.reflect;if(s){var c=s;(0,_.kJ)(c)||(c=[c]);var f=c.map(function(d){return["reflect",d]});a.coordinate({type:"rect",actions:f})}return o}function RO(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?a.axis(d,!1):a.axis(d,c),o}function wx(o){var a=o.chart,n=o.options,s=n.legend,c=n.seriesField;return s&&c?a.legend(c,s):s===!1&&a.legend(!1),o}function FO(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=fi(a,"line");if(!s)f.label(!1);else{var d=s.callback,v=(0,L._T)(s,["callback"]);f.label({fields:[c],callback:d,cfg:(0,L.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Zi(v))})}return o}function DO(o){var a=o.chart,n=o.options,s=n.isStack;return s&&(0,_.S6)(a.geometries,function(c){c.adjust("stack")}),o}function BO(o){return Un(IO,Vd,DO,mr,bx,RO,wx,Oi,FO,oc,j0,Kr,Lr,Qr(),sc)(o)}function $R(o){var a=o.chart,n=o.options,s=n.data,c=n.areaStyle,f=n.areaShape,d=n.color,v=n.point,y=n.line,b=n.isPercent,S=n.xField,C=n.yField,T=n.tooltip,k=n.seriesField,R=n.startOnZero,D=v==null?void 0:v.state,V=Wd(s,C,S,C,b);a.data(V);var j=b?(0,L.pi)({formatter:function(K){return{name:K[k]||K[S],value:(Number(K[C])*100).toFixed(2)+"%"}}},T):T,H=Re({},o,{options:{area:{color:d,style:c,shape:f},point:v&&(0,L.pi)({color:d},v),tooltip:j,label:void 0,args:{startOnZero:R}}}),Z={chart:a,options:Re({line:{size:2}},(0,_.CE)(n,["state"]),{line:y&&(0,L.pi)({color:d},y),sizeField:k,state:y==null?void 0:y.state,tooltip:!1,label:void 0,args:{startOnZero:R}})},q=Re({},H,{options:{tooltip:!1,state:D}});return jd(H),pu(Z),co(q),o}function NO(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=fi(a,"area");if(!s)f.label(!1);else{var d=s.callback,v=(0,L._T)(s,["callback"]);f.label({fields:[c],callback:d,cfg:(0,L.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Zi(v))})}return o}function zO(o){var a=o.chart,n=o.options,s=n.isStack,c=n.isPercent,f=n.seriesField;return(c||s)&&f&&(0,_.S6)(a.geometries,function(d){d.adjust("stack")}),o}function jO(o){return Un(mr,lo("areaStyle"),G0("rect"),$R,Vd,zO,RO,wx,Oi,NO,oc,Qr(),Kr,Lr,sc)(o)}var GO=Re({},Kn.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),WO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="area",n}return a.getDefaultOptions=function(){return GO},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this.options,c=s.isPercent,f=s.xField,d=s.yField,v=this,y=v.chart,b=v.options;Vd({chart:y,options:b}),this.chart.changeData(Wd(n,d,f,d,c))},a.prototype.getSchemaAdaptor=function(){return jO},a}(Kn),VO=10,KR=5,JR={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},HO=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.buttonGroup=null,n.buttonCfg=(0,L.pi)({name:"button"},JR),n}return a.prototype.getButtonCfg=function(){var n=this.context.view,s=(0,_.U2)(n,["interactions","filter-action","cfg","buttonConfig"]);return Re(this.buttonCfg,s,this.cfg)},a.prototype.drawButton=function(){var n=this.getButtonCfg(),s=this.context.view.foregroundGroup.addGroup({name:n.name}),c=this.drawText(s);this.drawBackground(s,c.getBBox()),this.buttonGroup=s},a.prototype.drawText=function(n){var s,c=this.getButtonCfg();return n.addShape({type:"text",name:"button-text",attrs:(0,L.pi)({text:c.text},(s=c.textStyle)===null||s===void 0?void 0:s.default)})},a.prototype.drawBackground=function(n,s){var c,f=this.getButtonCfg(),d=Qn(f.padding),v=n.addShape({type:"rect",name:"button-rect",attrs:(0,L.pi)({x:s.x-d[3],y:s.y-d[0],width:s.width+d[1]+d[3],height:s.height+d[0]+d[2]},(c=f.buttonStyle)===null||c===void 0?void 0:c.default)});return v.toBack(),n.on("mouseenter",function(){var y;v.attr((y=f.buttonStyle)===null||y===void 0?void 0:y.active)}),n.on("mouseleave",function(){var y;v.attr((y=f.buttonStyle)===null||y===void 0?void 0:y.default)}),v},a.prototype.resetPosition=function(){var n=this.context.view,s=n.getCoordinate(),c=s.convert({x:1,y:1}),f=this.buttonGroup,d=f.getBBox(),v=ia.transform(null,[["t",c.x-d.width-VO,c.y+d.height+KR]]);f.setMatrix(v)},a.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},a.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},a.prototype.destroy=function(){var n=this.buttonGroup;n&&n.remove(),o.prototype.destroy.call(this)},a}(Rr);In("brush-reset-button",HO,{name:"brush-reset-button"}),Zn("filter-action",{});function hl(o){return o.isInPlot()}function vu(o,a,n){var s=n||{},c=s.mask,f=s.isStartEnable,d=a||"rect";switch(o){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f||hl,action:["brush:start","".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[null,{maskStyle:c==null?void 0:c.style}]}],processing:[{trigger:"mousemove",isEnable:hl,action:["".concat(d,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:hl,action:["brush:filter","brush:end","".concat(d,"-mask:end"),"".concat(d,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(v){return f?!f(v):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:f||function(v){return!v.isInShape("mask")},action:["".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[{maskStyle:c==null?void 0:c.style}]},{trigger:"mask:dragstart",action:["".concat(d,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(d,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(d,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(d,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(d,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(v){return!v.isInPlot()},action:["element-range-highlight:clear","".concat(d,"-mask:end"),"".concat(d,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(d,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f||hl,action:["brush-x:start","".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[null,{maskStyle:c==null?void 0:c.style}]}],processing:[{trigger:"mousemove",isEnable:hl,action:["".concat(d,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:hl,action:["brush-x:filter","brush-x:end","".concat(d,"-mask:end"),"".concat(d,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:f||function(v){return!v.isInShape("mask")},action:["".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[{maskStyle:c==null?void 0:c.style}]},{trigger:"mask:dragstart",action:["".concat(d,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(d,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(d,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(d,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(d,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(v){return!v.isInPlot()},action:["element-range-highlight:clear","".concat(d,"-mask:end"),"".concat(d,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(d,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f||hl,action:["brush-y:start","".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[null,{maskStyle:c==null?void 0:c.style}]}],processing:[{trigger:"mousemove",isEnable:hl,action:["".concat(d,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:hl,action:["brush-y:filter","brush-y:end","".concat(d,"-mask:end"),"".concat(d,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:f||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:f||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:f||function(v){return!v.isInShape("mask")},action:["".concat(d,"-mask:start"),"".concat(d,"-mask:show")],arg:[{maskStyle:c==null?void 0:c.style}]},{trigger:"mask:dragstart",action:["".concat(d,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(d,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(d,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(d,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(d,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(v){return!v.isInPlot()},action:["element-range-highlight:clear","".concat(d,"-mask:end"),"".concat(d,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(d,"-mask:hide")]}]};default:return{}}}Zn("brush",vu("brush")),Zn("brush-highlight",vu("brush-highlight")),Zn("brush-x",vu("brush-x","x-rect")),Zn("brush-y",vu("brush-y","y-rect")),Zn("brush-x-highlight",vu("brush-x-highlight","x-rect")),Zn("brush-y-highlight",vu("brush-y-highlight","y-rect"));var Mx=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function Sx(o){var a=o.options,n=a.brush,s=(0,_.hX)(a.interactions||[],function(c){return Mx.indexOf(c.type)===-1});return n!=null&&n.enabled&&(Mx.forEach(function(c){var f=!1;switch(n.type){case"x-rect":f=c===(n.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":f=c===(n.action==="highlight"?"brush-y-highlight":"brush-y");break;default:f=c===(n.action==="highlight"?"brush-highlight":"brush");break}var d={type:c,enable:f};n&&(d.cfg=vu(c,n.type,n)),s.push(d)}),(n==null?void 0:n.action)!=="highlight"&&s.push({type:"filter-action",cfg:{buttonConfig:n.button}})),Re({},o,{options:{interactions:s}})}var lc={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},H0=function(o,a){return o==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:a}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:a}]}]};Zn(lc.hover,{start:H0(lc.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Zn(lc.click,{start:H0(lc.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function YO(o){return o===void 0&&(o=!1),function(a){var n=a.chart,s=a.options,c=s.connectedArea,f=function(){n.removeInteraction(lc.hover),n.removeInteraction(lc.click)};if(!o&&c){var d=c.trigger||"hover";f(),n.interaction(lc[d],{start:H0(d,c.style)})}else f();return a}}function _x(o,a){return!(0,_.hj)(o)||!(0,_.hj)(a)||o===0&&a===0?"-":o===a?"100%":o===0?"\u221E":"".concat((100*a/o).toFixed(2),"%")}function QR(o,a){return Re({size:a?32:80,spacing:a?8:12,offset:a?32:0,arrow:o.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:o.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:_x}},o)}function Y0(o,a){return(0,_.UI)(a.getModel().points,function(n){return o.convertPoint(n)})}function tF(o,a,n){var s=o.view,c=o.geometry,f=o.group,d=o.options,v=o.horizontal,y=d.offset,b=d.size,S=d.arrow,C=s.getCoordinate(),T=Y0(C,a)[3],k=Y0(C,n)[0],R=k.y-T.y,D=k.x-T.x;if(typeof S!="boolean"){var V=S.headSize,j=d.spacing,H;v?(D-V)/2<j?(j=Math.max(1,(D-V)/2),H=[[T.x+j,T.y-y],[T.x+j,T.y-y-b],[k.x-j,k.y-y-b/2]]):H=[[T.x+j,T.y-y],[T.x+j,T.y-y-b],[k.x-j-V,k.y-y-b],[k.x-j,k.y-y-b/2],[k.x-j-V,k.y-y]]:(R-V)/2<j?(j=Math.max(1,(R-V)/2),H=[[T.x+y,T.y+j],[T.x+y+b,T.y+j],[k.x+y+b/2,k.y-j]]):H=[[T.x+y,T.y+j],[T.x+y+b,T.y+j],[k.x+y+b,k.y-j-V],[k.x+y+b/2,k.y-j],[k.x+y,k.y-j-V]],f.addShape("polygon",{id:"".concat(s.id,"-conversion-tag-arrow-").concat(c.getElementId(a.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:a,nextElement:n},attrs:(0,L.pi)((0,L.pi)({},S.style||{}),{points:H})})}}function Ox(o,a,n){var s,c,f,d=o.view,v=o.geometry,y=o.group,b=o.options,S=o.field,C=o.horizontal,T=b.offset,k=b.size;if(typeof b.text!="boolean"){var R=d.getCoordinate(),D=((s=b.text)===null||s===void 0?void 0:s.formatter)&&((c=b.text)===null||c===void 0?void 0:c.formatter(a.getData()[S],n.getData()[S])),V=Y0(R,a)[C?3:0],j=Y0(R,n)[C?0:3],H=y.addShape("text",{id:"".concat(d.id,"-conversion-tag-text-").concat(v.getElementId(a.getModel().mappingData)),name:"conversion-tag-text",origin:{element:a,nextElement:n},attrs:(0,L.pi)((0,L.pi)({},((f=b.text)===null||f===void 0?void 0:f.style)||{}),{text:D,x:C?(V.x+j.x)/2:V.x+T+k/2,y:C?V.y-T-k/2:(V.y+j.y)/2})});if(C){var Z=j.x-V.x,q=H.getBBox().width;if(q>Z){var K=q/D.length,Ct=Math.max(1,Math.ceil(Z/K)-1),Ft="".concat(D.slice(0,Ct),"...");H.attr("text",Ft)}}}}function UO(o,a,n){tF(o,a,n),Ox(o,a,n)}function XO(o,a,n){return a===void 0&&(a=!0),n===void 0&&(n=!1),function(s){var c=s.options,f=s.chart,d=c.conversionTag,v=c.theme;return d&&!n&&(f.theme(Re({},(0,_.Kn)(v)?v:of(v),{columnWidthRatio:1/3})),f.annotation().shape({render:function(y,b){var S=y.addGroup({id:"".concat(f.id,"-conversion-tag-group"),name:"conversion-tag-group"}),C=(0,_.sE)(f.geometries,function(R){return R.type==="interval"}),T={view:b,geometry:C,group:S,field:o,horizontal:a,options:QR(d,a)},k=C.elements;(0,_.S6)(k,function(R,D){D>0&&UO(T,k[D-1],R)})}})),s}}function ZO(o){var a=o.options,n=a.legend,s=a.seriesField,c=a.isStack;return s?n!==!1&&(n=(0,L.pi)({position:c?"right-top":"top-left"},n)):n=!1,o.options.legend=n,o}function qO(o){var a=o.chart,n=o.options,s=n.data,c=n.columnStyle,f=n.color,d=n.columnWidthRatio,v=n.isPercent,y=n.isGroup,b=n.isStack,S=n.xField,C=n.yField,T=n.seriesField,k=n.groupField,R=n.tooltip,D=n.shape,V=v&&y&&b?LO(s,C,[S,k],C):Wd(s,C,S,C,v),j=[];b&&T&&!y?V.forEach(function(q){var K=j.find(function(Ct){return Ct[S]===q[S]&&Ct[T]===q[T]});K?K[C]+=q[C]||0:j.push((0,L.pi)({},q))}):j=V,a.data(j);var H=v?(0,L.pi)({formatter:function(q){var K;return{name:y&&b?"".concat(q[T]," - ").concat(q[k]):(K=q[T])!==null&&K!==void 0?K:q[S],value:(Number(q[C])*100).toFixed(2)+"%"}}},R):R,Z=Re({},o,{options:{data:j,widthRatio:d,tooltip:H,interval:{shape:D,style:c,color:f}}});return aa(Z),Z}function U0(o){var a,n,s=o.options,c=s.xAxis,f=s.yAxis,d=s.xField,v=s.yField,y=s.data,b=s.isPercent,S=b?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Un(Jr((a={},a[d]=c,a[v]=f,a),(n={},n[d]={type:"cat"},n[v]=(0,L.pi)((0,L.pi)({},If(y,v)),S),n)))(o)}function $O(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?a.axis(d,!1):a.axis(d,c),o}function KO(o){var a=o.chart,n=o.options,s=n.legend,c=n.seriesField;return s&&c?a.legend(c,s):s===!1&&a.legend(!1),o}function eF(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=n.isRange,d=fi(a,"interval");if(!s)d.label(!1);else{var v=s.callback,y=(0,L._T)(s,["callback"]);d.label({fields:[c],callback:v,cfg:(0,L.pi)({layout:y!=null&&y.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Zi(f?(0,L.pi)({content:function(b){var S;return(S=b[c])===null||S===void 0?void 0:S.join("-")}},y):y))})}return o}function nF(o){var a=o.chart,n=o.options,s=n.tooltip,c=n.isGroup,f=n.isStack,d=n.groupField,v=n.data,y=n.xField,b=n.yField,S=n.seriesField;if(s===!1)a.tooltip(!1);else{var C=s;if(c&&f){var T=C.customItems,k=(C==null?void 0:C.formatter)||function(R){return{name:"".concat(R[S]," - ").concat(R[d]),value:R[b]}};C=(0,L.pi)((0,L.pi)({},C),{customItems:function(R){var D=[];return(0,_.S6)(R,function(V){var j=(0,_.hX)(v,function(H){return(0,_.BD)(H,kr(V.data,[y,S]))});j.forEach(function(H){D.push((0,L.pi)((0,L.pi)((0,L.pi)({},V),{value:H[b],data:H,mappingData:{_origin:H}}),k(H)))})}),T?T(D):D}})}a.tooltip(C)}return o}function X0(o,a){a===void 0&&(a=!1);var n=o.options,s=n.seriesField;return Un(ZO,mr,lo("columnStyle"),fl,G0("rect"),qO,U0,$O,KO,nF,oc,j0,eF,Sx,Kr,Lr,Qr(),XO(n.yField,!a,!!s),YO(!n.isStack),sc)(o)}function JO(o){var a=o.options,n=a.xField,s=a.yField,c=a.xAxis,f=a.yAxis,d={left:"bottom",right:"top",top:"left",bottom:"right"},v=f!==!1?(0,L.pi)({position:d[(f==null?void 0:f.position)||"left"]},f):!1,y=c!==!1?(0,L.pi)({position:d[(c==null?void 0:c.position)||"bottom"]},c):!1;return(0,L.pi)((0,L.pi)({},o),{options:(0,L.pi)((0,L.pi)({},a),{xField:s,yField:n,xAxis:v,yAxis:y})})}function QO(o){var a=o.options,n=a.label;return n&&!n.position&&(n.position="left",n.layout||(n.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Re({},o,{options:{label:n}})}function tC(o){var a=o.options,n=a.seriesField,s=a.isStack,c=a.legend;return n?c!==!1&&(c=(0,L.pi)({position:s?"top-left":"right-top"},c||{})):c=!1,Re({},o,{options:{legend:c}})}function eC(o){var a=o.options,n=[{type:"transpose"},{type:"reflectY"}].concat(a.coordinate||[]);return Re({},o,{options:{coordinate:n}})}function Cx(o){var a=o.chart,n=o.options,s=n.barStyle,c=n.barWidthRatio,f=n.minBarWidth,d=n.maxBarWidth,v=n.barBackground;return X0({chart:a,options:(0,L.pi)((0,L.pi)({},n),{columnStyle:s,columnWidthRatio:c,minColumnWidth:f,maxColumnWidth:d,columnBackground:v})},!0)}function Ax(o){return Un(JO,QO,tC,Oi,eC,Cx)(o)}var nC=Re({},Kn.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),rC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="bar",n}return a.getDefaultOptions=function(){return nC},a.prototype.changeData=function(n){var s,c;this.updateOption({data:n});var f=this,d=f.chart,v=f.options,y=v.isPercent,b=v.xField,S=v.yField,C=v.xAxis,T=v.yAxis;s=[S,b],b=s[0],S=s[1],c=[T,C],C=c[0],T=c[1];var k=(0,L.pi)((0,L.pi)({},v),{xField:b,yField:S,yAxis:T,xAxis:C});U0({chart:d,options:k}),d.changeData(Wd(n,b,S,b,y))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Ax},a}(Kn),iC=Re({},Kn.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),aC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="column",n}return a.getDefaultOptions=function(){return iC},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this.options,c=s.yField,f=s.xField,d=s.isPercent,v=this,y=v.chart,b=v.options;U0({chart:y,options:b}),this.chart.changeData(Wd(n,c,f,c,d))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return X0},a}(Kn),Z0,dl="$$percentage$$",Fs="$$mappingValue$$",Ds="$$conversion$$",q0="$$totalPercentage$$",Bf="$$x$$",Nf="$$y$$",rF={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Z0={},Z0[Fs]={min:0,max:1,nice:!1},Z0),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},Tx="CONVERSION_TAG_NAME";function $0(o,a,n){var s=[],c=n.yField,f=n.maxSize,d=n.minSize,v=(0,_.U2)((0,_.UT)(a,c),[c]),y=(0,_.hj)(f)?f:1,b=(0,_.hj)(d)?d:0;return s=(0,_.UI)(o,function(S,C){var T=(S[c]||0)/v;return S[dl]=T,S[Fs]=(y-b)*T+b,S[Ds]=[(0,_.U2)(o,[C-1,c]),S[c]],S}),s}function Ex(o){return function(a){var n=a.chart,s=a.options,c=s.conversionTag,f=s.filteredData,d=f||n.getOptions().data;if(c){var v=c.formatter;d.forEach(function(y,b){if(!(b<=0||Number.isNaN(y[Fs]))){var S=o(y,b,d,{top:!0,name:Tx,text:{content:(0,_.mf)(v)?v(y,d):v,offsetX:c.offsetX,offsetY:c.offsetY,position:"end",autoRotate:!1,style:(0,L.pi)({textAlign:"start",textBaseline:"middle"},c.style)}});n.annotation().line(S)}})}return a}}function oC(o){var a=o.chart,n=o.options,s=n.data,c=s===void 0?[]:s,f=n.yField,d=n.maxSize,v=n.minSize,y=$0(c,c,{yField:f,maxSize:d,minSize:v});return a.data(y),o}function iF(o){var a=o.chart,n=o.options,s=n.xField,c=n.yField,f=n.color,d=n.tooltip,v=n.label,y=n.shape,b=y===void 0?"funnel":y,S=n.funnelStyle,C=n.state,T=Pi(d,[s,c]),k=T.fields,R=T.formatter;Za({chart:a,options:{type:"interval",xField:s,yField:Fs,colorField:s,tooltipFields:(0,_.kJ)(k)&&k.concat([dl,Ds]),mapping:{shape:b,tooltip:R,color:f,style:S},label:v,state:C}});var D=fi(o.chart,"interval");return D.adjust("symmetric"),o}function sC(o){var a=o.chart,n=o.options,s=n.isTransposed;return a.coordinate({type:"rect",actions:s?[]:[["transpose"],["scale",1,-1]]}),o}function kx(o){var a=o.options,n=o.chart,s=a.maxSize,c=(0,_.U2)(n,["geometries","0","dataArray"],[]),f=(0,_.U2)(n,["options","data","length"]),d=(0,_.UI)(c,function(y){return(0,_.U2)(y,["0","nextPoints","0","x"])*f-.5}),v=function(y,b,S,C){var T=s-(s-y[Fs])/2;return(0,L.pi)((0,L.pi)({},C),{start:[d[b-1]||b-.5,T],end:[d[b-1]||b-.5,T+.05]})};return Ex(v)(o),o}function Px(o){return Un(oC,iF,sC,kx)(o)}function Co(o){var a,n=o.chart,s=o.options,c=s.data,f=c===void 0?[]:c,d=s.yField;return n.data(f),n.scale((a={},a[d]={sync:!0},a)),o}function zr(o){var a=o.chart,n=o.options,s=n.data,c=n.xField,f=n.yField,d=n.color,v=n.compareField,y=n.isTransposed,b=n.tooltip,S=n.maxSize,C=n.minSize,T=n.label,k=n.funnelStyle,R=n.state,D=n.showFacetTitle;return a.facet("mirror",{fields:[v],transpose:!y,padding:y?0:[32,0,0,0],showTitle:D,eachView:function(V,j){var H=y?j.rowIndex:j.columnIndex;y||V.coordinate({type:"rect",actions:[["transpose"],["scale",H===0?-1:1,-1]]});var Z=$0(j.data,s,{yField:f,maxSize:S,minSize:C});V.data(Z);var q=Pi(b,[c,f,v]),K=q.fields,Ct=q.formatter,Ft=y?{offset:H===0?10:-23,position:H===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:H===0?"end":"start"}};Za({chart:V,options:{type:"interval",xField:c,yField:Fs,colorField:c,tooltipFields:(0,_.kJ)(K)&&K.concat([dl,Ds]),mapping:{shape:"funnel",tooltip:Ct,color:d,style:k},label:T===!1?!1:Re({},Ft,T),state:R}})}}),o}function Lx(o){var a=o.chart,n=o.index,s=o.options,c=s.conversionTag,f=s.isTransposed;((0,_.hj)(n)?[a]:a.views).forEach(function(d,v){var y=(0,_.U2)(d,["geometries","0","dataArray"],[]),b=(0,_.U2)(d,["options","data","length"]),S=(0,_.UI)(y,function(T){return(0,_.U2)(T,["0","nextPoints","0","x"])*b-.5}),C=function(T,k,R,D){var V=(n||v)===0?-1:1;return Re({},D,{start:[S[k-1]||k-.5,T[Fs]],end:[S[k-1]||k-.5,T[Fs]+.05],text:f?{style:{textAlign:"start"}}:{offsetX:c!==!1?V*c.offsetX:0,style:{textAlign:(n||v)===0?"end":"start"}}})};Ex(C)(Re({},{chart:d,options:s}))})}function n8(o){var a=o.chart;return a.once("beforepaint",function(){return Lx(o)}),o}function aF(o){return Un(Co,zr,n8)(o)}function oF(o){var a=o.chart,n=o.options,s=n.data,c=s===void 0?[]:s,f=n.yField,d=(0,_.u4)(c,function(b,S){return b+(S[f]||0)},0),v=(0,_.UT)(c,f)[f],y=(0,_.UI)(c,function(b,S){var C=[],T=[];if(b[q0]=(b[f]||0)/d,S){var k=c[S-1][Bf],R=c[S-1][Nf];C[0]=k[3],T[0]=R[3],C[1]=k[2],T[1]=R[2]}else C[0]=-.5,T[0]=1,C[1]=.5,T[1]=1;return T[2]=T[1]-b[q0],C[2]=(T[2]+1)/4,T[3]=T[2],C[3]=-C[2],b[Bf]=C,b[Nf]=T,b[dl]=(b[f]||0)/v,b[Ds]=[(0,_.U2)(c,[S-1,f]),b[f]],b});return a.data(y),o}function K0(o){var a=o.chart,n=o.options,s=n.xField,c=n.yField,f=n.color,d=n.tooltip,v=n.label,y=n.funnelStyle,b=n.state,S=Pi(d,[s,c]),C=S.fields,T=S.formatter;return Za({chart:a,options:{type:"polygon",xField:Bf,yField:Nf,colorField:s,tooltipFields:(0,_.kJ)(C)&&C.concat([dl,Ds]),label:v,state:b,mapping:{tooltip:T,color:f,style:y}}}),o}function sF(o){var a=o.chart,n=o.options,s=n.isTransposed;return a.coordinate({type:"rect",actions:s?[["transpose"],["reflect","x"]]:[]}),o}function lF(o){var a=function(n,s,c,f){return(0,L.pi)((0,L.pi)({},f),{start:[n[Bf][1],n[Nf][1]],end:[n[Bf][1]+.05,n[Nf][1]]})};return Ex(a)(o),o}function cF(o){return Un(oF,K0,sF,lF)(o)}function uF(o){var a,n=o.chart,s=o.options,c=s.data,f=c===void 0?[]:c,d=s.yField;return n.data(f),n.scale((a={},a[d]={sync:!0},a)),o}function fF(o){var a=o.chart,n=o.options,s=n.seriesField,c=n.isTransposed,f=n.showFacetTitle;return a.facet("rect",{fields:[s],padding:[c?0:32,10,0,10],showTitle:f,eachView:function(d,v){Px(Re({},o,{chart:d,options:{data:v.data}}))}}),o}function hF(o){return Un(uF,fF)(o)}var dF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.rendering=!1,n}return a.prototype.change=function(n){var s=this;if(!this.rendering){var c=n.seriesField,f=n.compareField,d=f?Lx:kx,v=this.context.view,y=c||f?v.views:[v];(0,_.UI)(y,function(b,S){var C=b.getController("annotation"),T=(0,_.hX)((0,_.U2)(C,["option"],[]),function(R){var D=R.name;return D!==Tx});C.clear(!0),(0,_.S6)(T,function(R){typeof R=="object"&&b.annotation()[R.type](R)});var k=(0,_.U2)(b,["filteredData"],b.getOptions().data);d({chart:b,index:S,options:(0,L.pi)((0,L.pi)({},n),{filteredData:$0(k,k,n)})}),b.filterData(k),s.rendering=!0,b.render(!0)})}this.rendering=!1},a}(Rr),Ix="funnel-conversion-tag",J0="funnel-afterrender",Rx={trigger:"afterrender",action:"".concat(Ix,":change")};In(Ix,dF),Zn(J0,{start:[Rx]});function lC(o){var a=o.options,n=a.compareField,s=a.xField,c=a.yField,f=a.locale,d=a.funnelStyle,v=a.data,y=W0(f),b={label:n?{fields:[s,c,n,dl,Ds],formatter:function(C){return"".concat(C[c])}}:{fields:[s,c,dl,Ds],offset:0,position:"middle",formatter:function(C){return"".concat(C[s]," ").concat(C[c])}},tooltip:{title:s,formatter:function(C){return{name:C[s],value:C[c]}}},conversionTag:{formatter:function(C){return"".concat(y.get(["conversionTag","label"]),": ").concat(_x.apply(void 0,C[Ds]))}}},S;return(n||d)&&(S=function(C){return Re({},n&&{lineWidth:1,stroke:"#fff"},(0,_.mf)(d)?d(C):d)}),Re({options:b},o,{options:{funnelStyle:S,data:(0,_.d9)(v)}})}function cC(o){var a=o.options,n=a.compareField,s=a.dynamicHeight,c=a.seriesField;return c?hF(o):n?aF(o):s?cF(o):Px(o)}function uC(o){var a,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return Un(Jr((a={},a[f]=s,a[d]=c,a)))(o)}function fC(o){var a=o.chart;return a.axis(!1),o}function hC(o){var a=o.chart,n=o.options,s=n.legend;return s===!1?a.legend(!1):a.legend(s),o}function dC(o){var a=o.chart,n=o.options,s=n.interactions,c=n.dynamicHeight;return(0,_.S6)(s,function(f){f.enable===!1?a.removeInteraction(f.type):a.interaction(f.type,f.cfg||{})}),c?a.removeInteraction(J0):a.interaction(J0,{start:[(0,L.pi)((0,L.pi)({},Rx),{arg:n})]}),o}function Fx(o){return Un(lC,cC,uC,fC,Oi,dC,hC,Lr,mr,Qr())(o)}var pC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="funnel",n}return a.getDefaultOptions=function(){return rF},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Fx},a.prototype.setState=function(n,s,c){c===void 0&&(c=!0);var f=Rf(this.chart);(0,_.S6)(f,function(d){s(d.getData())&&d.setState(n,c)})},a.prototype.getStates=function(){var n=Rf(this.chart),s=[];return(0,_.S6)(n,function(c){var f=c.getData(),d=c.getStates();(0,_.S6)(d,function(v){s.push({data:f,state:v,geometry:c.geometry,element:c})})}),s},a.CONVERSATION_FIELD=Ds,a.PERCENT_FIELD=dl,a.TOTAL_PERCENT_FIELD=q0,a}(Kn),Hd,Q0="range",Dx="type",Bs="percent",vC="#f0f0f0",Bx="indicator-view",Nx="range-view",gC={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(Hd={},Hd[Q0]={sync:"v"},Hd[Bs]={sync:"v",tickCount:5,tickInterval:.2},Hd),animation:!1};function Mr(o,a){return o.map(function(n,s){var c;return c={},c[Q0]=n-(o[s-1]||0),c[Dx]="".concat(s),c[Bs]=a,c})}function zf(o){var a;return[(a={},a[Bs]=(0,_.uZ)(o,0,1),a)]}function Ao(o,a){var n=(0,_.U2)(a,["ticks"],[]),s=(0,_.dp)(n)?(0,_.jj)(n):[0,(0,_.uZ)(o,0,1),1];return s[0]||s.shift(),Mr(s,o)}function yC(o){var a=o.chart,n=o.options,s=n.percent,c=n.range,f=n.radius,d=n.innerRadius,v=n.startAngle,y=n.endAngle,b=n.axis,S=n.indicator,C=n.gaugeStyle,T=n.type,k=n.meter,R=c.color,D=c.width;if(S){var V=zf(s),j=a.createView({id:Bx});j.data(V),j.point().position("".concat(Bs,"*1")).shape(S.shape||"gauge-indicator").customInfo({defaultColor:a.getTheme().defaultColor,indicator:S}),j.coordinate("polar",{startAngle:v,endAngle:y,radius:d*f}),j.axis(Bs,b),j.scale(Bs,kr(b,Xa))}var H=Ao(s,n.range),Z=a.createView({id:Nx});Z.data(H);var q=(0,_.HD)(R)?[R,vC]:R,K=aa({chart:Z,options:{xField:"1",yField:Q0,seriesField:Dx,rawFields:[Bs],isStack:!0,interval:{color:q,style:C,shape:T==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:D,maxColumnWidth:D}}).ext,Ct=K.geometry;return Ct.customInfo({meter:k}),Z.coordinate("polar",{innerRadius:d,radius:f,startAngle:v,endAngle:y}).transpose(),o}function Ar(o){var a;return Un(Jr((a={range:{min:0,max:1,maxLimit:1,minLimit:0}},a[Bs]={},a)))(o)}function mC(o,a){var n=o.chart,s=o.options,c=s.statistic,f=s.percent;if(n.getController("annotation").clear(!0),c){var d=c.content,v=void 0;d&&(v=Re({},{content:"".concat((f*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},d)),GR(n,{statistic:(0,L.pi)((0,L.pi)({},c),{content:v})},{percent:f})}return a&&n.render(!0),o}function xC(o){var a=o.chart,n=o.options,s=n.tooltip;return s?a.tooltip(Re({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(c,f){var d=(0,_.U2)(f,[0,"data",Bs],0);return"".concat((d*100).toFixed(2),"%")}},s)):a.tooltip(!1),o}function bC(o){var a=o.chart;return a.legend(!1),o}function Br(o){return Un(mr,Lr,yC,Ar,xC,mC,Kr,Qr(),bC)(o)}Or("point","gauge-indicator",{draw:function(o,a){var n=o.customInfo,s=n.indicator,c=n.defaultColor,f=s,d=f.pointer,v=f.pin,y=a.addGroup(),b=this.parsePoint({x:0,y:0});return d&&y.addShape("line",{name:"pointer",attrs:(0,L.pi)({x1:b.x,y1:b.y,x2:o.x,y2:o.y,stroke:c},d.style)}),v&&y.addShape("circle",{name:"pin",attrs:(0,L.pi)({x:b.x,y:b.y,stroke:c},v.style)}),y}}),Or("interval","meter-gauge",{draw:function(o,a){var n=o.customInfo.meter,s=n===void 0?{}:n,c=s.steps,f=c===void 0?50:c,d=s.stepRatio,v=d===void 0?.5:d;f=f<1?1:f,v=(0,_.uZ)(v,0,1);var y=this.coordinate,b=y.startAngle,S=y.endAngle,C=0;if(v>0&&v<1){var T=S-b;C=T/f/(v/(1-v)+1-1/f)}for(var k=C/(1-v)*v,R=a.addGroup(),D=this.coordinate.getCenter(),V=this.coordinate.getRadius(),j=ia.getAngle(o,this.coordinate),H=j.startAngle,Z=j.endAngle,q=H;q<Z;){var K=void 0,Ct=(q-b)%(k+C);Ct<k?K=q+(k-Ct):(q+=k+C-Ct,K=q+k);var Ft=ia.getSectorPath(D.x,D.y,V,q,Math.min(K,Z),V*this.coordinate.innerRadius);R.addShape("path",{name:"meter-gauge",attrs:{path:Ft,fill:o.color,stroke:o.color,lineWidth:.5}}),q=K+C}return R}});var pF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="gauge",n}return a.getDefaultOptions=function(){return gC},a.prototype.changeData=function(n){this.chart.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this.chart,jt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n});var s=this.chart.views.find(function(f){return f.id===Bx});s&&s.data(zf(n));var c=this.chart.views.find(function(f){return f.id===Nx});c&&c.data(Ao(n,this.options.range)),mC({chart:this.chart,options:this.options},!0),this.chart.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this.chart,jt.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Br},a}(Kn);function zx(o,a,n){if(n===1)return[0,a];var s=Math.floor(o/a);return[a*s,a*(s+1)]}function wC(o){return Math.ceil(Math.log(o.length)/Math.LN2)+1}function xr(o,a,n,s,c){var f=(0,_.d9)(o);(0,_.MR)(f,a);var d=(0,_.I)(f,a),v=(0,_.rx)(d),y=v.max-v.min,b=n;if(!n&&s&&(b=s>1?y/(s-1):v.max),!n&&!s){var S=wC(d);b=y/S}var C={},T=(0,_.vM)(f,c);(0,_.xb)(T)?(0,_.S6)(f,function(R){var D=R[a],V=zx(D,b,s),j="".concat(V[0],"-").concat(V[1]);(0,_.wH)(C,j)||(C[j]={range:V,count:0}),C[j].count+=1}):Object.keys(T).forEach(function(R){(0,_.S6)(T[R],function(D){var V=D[a],j=zx(V,b,s),H="".concat(j[0],"-").concat(j[1]),Z="".concat(H,"-").concat(R);(0,_.wH)(C,Z)||(C[Z]={range:j,count:0},C[Z][c]=R),C[Z].count+=1})});var k=[];return(0,_.S6)(C,function(R){k.push(R)}),k}var cc="range",Ta="count",MC=Re({},Kn.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function vF(o){var a=o.chart,n=o.options,s=n.data,c=n.binField,f=n.binNumber,d=n.binWidth,v=n.color,y=n.stackField,b=n.legend,S=n.columnStyle,C=xr(s,c,d,f,y);a.data(C);var T=Re({},o,{options:{xField:cc,yField:Ta,seriesField:y,isStack:!0,interval:{color:v,style:S}}});return aa(T),b&&y?a.legend(y,b):a.legend(!1),o}function jx(o){var a,n=o.options,s=n.xAxis,c=n.yAxis;return Un(Jr((a={},a[cc]=s,a[Ta]=c,a)))(o)}function gF(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis;return s===!1?a.axis(cc,!1):a.axis(cc,s),c===!1?a.axis(Ta,!1):a.axis(Ta,c),o}function SC(o){var a=o.chart,n=o.options,s=n.label,c=fi(a,"interval");if(!s)c.label(!1);else{var f=s.callback,d=(0,L._T)(s,["callback"]);c.label({fields:[Ta],callback:f,cfg:Zi(d)})}return o}function gu(o){return Un(mr,lo("columnStyle"),vF,jx,gF,fl,SC,Oi,Kr,Lr)(o)}var yF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="histogram",n}return a.getDefaultOptions=function(){return MC},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this.options,c=s.binField,f=s.binNumber,d=s.binWidth,v=s.stackField;this.chart.changeData(xr(n,c,d,f,v))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return gu},a}(Kn),_C=Re({},Kn.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),OC=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.active=function(){var n=this.getView(),s=this.context.event;if(s.data){var c=s.data.items,f=n.geometries.filter(function(d){return d.type==="point"});(0,_.S6)(f,function(d){(0,_.S6)(d.elements,function(v){var y=(0,_.cx)(c,function(b){return b.data===v.data})!==-1;v.setState("active",y)})})}},a.prototype.reset=function(){var n=this.getView(),s=n.geometries.filter(function(c){return c.type==="point"});(0,_.S6)(s,function(c){(0,_.S6)(c.elements,function(f){f.setState("active",!1)})})},a.prototype.getView=function(){return this.context.view},a}(Rr);In("marker-active",OC),Zn("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var mF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="line",n}return a.getDefaultOptions=function(){return _C},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this,c=s.chart,f=s.options;Vd({chart:c,options:f}),this.chart.changeData(n)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return BO},a}(Kn),CC=Re({},Kn.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),cs=[1,0,0,0,1,0,0,0,1];function Gx(o,a){var n=a?(0,L.ev)([],a,!0):(0,L.ev)([],cs,!0);return ia.transform(n,o)}var xF=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getActiveElements=function(){var n=ia.getDelegationObject(this.context);if(n){var s=this.context.view,c=n.component,f=n.item,d=c.get("field");if(d){var v=s.geometries[0].elements;return v.filter(function(y){return y.getModel().data[d]===f.value})}}return[]},a.prototype.getActiveElementLabels=function(){var n=this.context.view,s=this.getActiveElements(),c=n.geometries[0].labelsContainer.getChildren();return c.filter(function(f){return s.find(function(d){return(0,_.Xy)(d.getData(),f.get("data"))})})},a.prototype.transfrom=function(n){n===void 0&&(n=7.5);var s=this.getActiveElements(),c=this.getActiveElementLabels();s.forEach(function(f,d){var v=c[d],y=f.geometry.coordinate;if(y.isPolar&&y.isTransposed){var b=ia.getAngle(f.getModel(),y),S=b.startAngle,C=b.endAngle,T=(S+C)/2,k=n,R=k*Math.cos(T),D=k*Math.sin(T);f.shape.setMatrix(Gx([["t",R,D]])),v.setMatrix(Gx([["t",R,D]]))}})},a.prototype.active=function(){this.transfrom()},a.prototype.reset=function(){this.transfrom(0)},a}(Rr);function bF(o){var a=o.event,n,s=a.target;return s&&(n=s.get("element")),n}var AC=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnnotations=function(n){var s=n||this.context.view;return s.getController("annotation").option},a.prototype.getInitialAnnotation=function(){return this.initialAnnotation},a.prototype.init=function(){var n=this,s=this.context.view;s.removeInteraction("tooltip"),s.on("afterchangesize",function(){var c=n.getAnnotations(s);n.initialAnnotation=c})},a.prototype.change=function(n){var s=this.context,c=s.view,f=s.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var d=(0,_.U2)(f,["data","data"]);if(f.type.match("legend-item")){var v=ia.getDelegationObject(this.context),y=c.getGroupedFields()[0];if(v&&y){var b=v.item;d=c.getData().find(function(k){return k[y]===b.value})}}if(d){var S=(0,_.U2)(n,"annotations",[]),C=(0,_.U2)(n,"statistic",{});c.getController("annotation").clear(!0),(0,_.S6)(S,function(k){typeof k=="object"&&c.annotation()[k.type](k)}),Dd(c,{statistic:C,plotType:"pie"},d),c.render(!0)}var T=bF(this.context);T&&T.shape.toFront()},a.prototype.reset=function(){var n=this.context.view,s=n.getController("annotation");s.clear(!0);var c=this.getInitialAnnotation();(0,_.S6)(c,function(f){n.annotation()[f.type](f)}),n.render(!0)},a}(Rr),TC="pie-statistic";In(TC,AC),Zn("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),In("pie-legend",xF),Zn("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function tg(o,a){var n=null;return(0,_.S6)(o,function(s){typeof s[a]=="number"&&(n+=s[a])}),n}function Ho(o,a){var n;switch(o){case"inner":return n="-30%",(0,_.HD)(a)&&a.endsWith("%")?parseFloat(a)*.01>0?n:a:a<0?a:n;case"outer":return n=12,(0,_.HD)(a)&&a.endsWith("%")?parseFloat(a)*.01<0?n:a:a>0?a:n;default:return a}}function jf(o,a){return(0,_.yW)(ul(o,a),function(n){return n[a]===0})}function r8(o){var a=o.chart,n=o.options,s=n.data,c=n.angleField,f=n.colorField,d=n.color,v=n.pieStyle,y=n.shape,b=ul(s,c);if(jf(b,c)){var S="$$percentage$$";b=b.map(function(T){var k;return(0,L.pi)((0,L.pi)({},T),(k={},k[S]=1/b.length,k))}),a.data(b);var C=Re({},o,{options:{xField:"1",yField:S,seriesField:f,isStack:!0,interval:{color:d,shape:y,style:v},args:{zIndexReversed:!0,sortZIndex:!0}}});aa(C)}else{a.data(b);var C=Re({},o,{options:{xField:"1",yField:c,seriesField:f,isStack:!0,interval:{color:d,shape:y,style:v},args:{zIndexReversed:!0,sortZIndex:!0}}});aa(C)}return o}function i8(o){var a,n=o.chart,s=o.options,c=s.meta,f=s.colorField,d=Re({},c);return n.scale(d,(a={},a[f]={type:"cat"},a)),o}function Wr(o){var a=o.chart,n=o.options,s=n.radius,c=n.innerRadius,f=n.startAngle,d=n.endAngle;return a.coordinate({type:"theta",cfg:{radius:s,innerRadius:c,startAngle:f,endAngle:d}}),o}function pl(o){var a=o.chart,n=o.options,s=n.label,c=n.colorField,f=n.angleField,d=a.geometries[0];if(!s)d.label(!1);else{var v=s.callback,y=(0,L._T)(s,["callback"]),b=Zi(y);if(b.content){var S=b.content;b.content=function(R,D,V){var j=R[c],H=R[f],Z=a.getScaleByField(f),q=Z==null?void 0:Z.scale(H);return(0,_.mf)(S)?S((0,L.pi)((0,L.pi)({},R),{percent:q}),D,V):(0,_.HD)(S)?_O(S,{value:H,name:j,percentage:(0,_.hj)(q)&&!(0,_.UM)(H)?"".concat((q*100).toFixed(2),"%"):null}):S}}var C={inner:"",outer:"pie-outer",spider:"pie-spider"},T=b.type?C[b.type]:"pie-outer",k=b.layout?(0,_.kJ)(b.layout)?b.layout:[b.layout]:[];b.layout=(T?[{type:T}]:[]).concat(k),d.label({fields:c?[f,c]:[f],callback:v,cfg:(0,L.pi)((0,L.pi)({},b),{offset:Ho(b.type,b.offset),type:"pie"})})}return o}function Gf(o){var a=o.innerRadius,n=o.statistic,s=o.angleField,c=o.colorField,f=o.meta,d=o.locale,v=W0(d);if(a&&n){var y=Re({},CC.statistic,n),b=y.title,S=y.content;return b!==!1&&(b=Re({},{formatter:function(C){var T=C?C[c]:(0,_.UM)(b.content)?v.get(["statistic","total"]):b.content,k=(0,_.U2)(f,[c,"formatter"])||function(R){return R};return k(T)}},b)),S!==!1&&(S=Re({},{formatter:function(C,T){var k=C?C[s]:tg(T,s),R=(0,_.U2)(f,[s,"formatter"])||function(D){return D};return C||(0,_.UM)(S.content)?R(k):S.content}},S)),Re({},{statistic:{title:b,content:S}},o)}return o}function eg(o){var a=o.chart,n=o.options,s=Gf(n),c=s.innerRadius,f=s.statistic;return a.getController("annotation").clear(!0),Un(Qr())(o),c&&f&&Dd(a,{statistic:f,plotType:"pie"}),o}function yu(o){var a=o.chart,n=o.options,s=n.tooltip,c=n.colorField,f=n.angleField,d=n.data;if(s===!1)a.tooltip(s);else if(a.tooltip(Re({},s,{shared:!1})),jf(d,f)){var v=(0,_.U2)(s,"fields"),y=(0,_.U2)(s,"formatter");(0,_.xb)((0,_.U2)(s,"fields"))&&(v=[c,f],y=y||function(b){return{name:b[c],value:(0,_.BB)(b[f])}}),a.geometries[0].tooltip(v.join("*"),Df(v,y))}return o}function mu(o){var a=o.chart,n=o.options,s=Gf(n),c=s.interactions,f=s.statistic,d=s.annotations;return(0,_.S6)(c,function(v){var y,b;if(v.enable===!1)a.removeInteraction(v.type);else if(v.type==="pie-statistic-active"){var S=[];!((y=v.cfg)===null||y===void 0)&&y.start||(S=[{trigger:"element:mouseenter",action:"".concat(TC,":change"),arg:{statistic:f,annotations:d}}]),(0,_.S6)((b=v.cfg)===null||b===void 0?void 0:b.start,function(C){S.push((0,L.pi)((0,L.pi)({},C),{arg:{statistic:f,annotations:d}}))}),a.interaction(v.type,Re({},v.cfg,{start:S}))}else a.interaction(v.type,v.cfg||{})}),o}function Wf(o){return Un(lo("pieStyle"),r8,i8,mr,Wr,ac,yu,pl,fl,eg,mu,Lr)(o)}var EC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="pie",n}return a.getDefaultOptions=function(){return CC},a.prototype.changeData=function(n){this.chart.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this.chart,jt.BEFORE_CHANGE_DATA,null));var s=this.options,c=this.options.angleField,f=ul(s.data,c),d=ul(n,c);jf(f,c)||jf(d,c)?this.update({data:n}):(this.updateOption({data:n}),this.chart.data(d),eg({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this.chart,jt.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Wf},a}(Kn),wF=["#FAAD14","#E8EDF3"],MF={percent:.2,color:wF,animation:{}};function uc(o){var a=(0,_.uZ)(du(o)?o:0,0,1);return[{current:"".concat(a),type:"current",percent:a},{current:"".concat(a),type:"target",percent:1}]}function Wx(o){var a=o.chart,n=o.options,s=n.percent,c=n.progressStyle,f=n.color,d=n.barWidthRatio;a.data(uc(s));var v=Re({},o,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:d,interval:{style:c,color:(0,_.HD)(f)?[f,wF[1]]:f},args:{zIndexReversed:!0,sortZIndex:!0}}});return aa(v),a.tooltip(!1),a.axis(!1),a.legend(!1),o}function Vx(o){var a=o.chart;return a.coordinate("rect").transpose(),o}function kC(o){return Un(Wx,Jr({}),Vx,Lr,mr,Qr())(o)}var SF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="process",n}return a.getDefaultOptions=function(){return MF},a.prototype.changeData=function(n){this.updateOption({percent:n}),this.chart.changeData(uc(n))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return kC},a}(Kn);function PC(o){var a=o.chart,n=o.options,s=n.innerRadius,c=n.radius;return a.coordinate("theta",{innerRadius:s,radius:c}),o}function LC(o,a){var n=o.chart,s=o.options,c=s.innerRadius,f=s.statistic,d=s.percent,v=s.meta;if(n.getController("annotation").clear(!0),c&&f){var y=(0,_.U2)(v,["percent","formatter"])||function(S){return"".concat((S*100).toFixed(2),"%")},b=f.content;b&&(b=Re({},b,{content:(0,_.UM)(b.content)?y(d):b.content})),Dd(n,{statistic:(0,L.pi)((0,L.pi)({},f),{content:b}),plotType:"ring-progress"},{percent:d})}return a&&n.render(!0),o}function Yd(o){return Un(Wx,Jr({}),PC,LC,Lr,mr,Qr())(o)}var vr={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Ns=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="ring-process",n}return a.getDefaultOptions=function(){return vr},a.prototype.changeData=function(n){this.chart.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this.chart,jt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n}),this.chart.data(uc(n)),LC({chart:this.chart,options:this.options},!0),this.chart.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this.chart,jt.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Yd},a}(Kn),qa=kt(56645),Yo={exp:qa.regressionExp,linear:qa.regressionLinear,loess:qa.regressionLoess,log:qa.regressionLog,poly:qa.regressionPoly,pow:qa.regressionPow,quad:qa.regressionQuad};function ng(o,a){var n=10,s={regionStyle:[{position:{start:[o,"max"],end:["max",a]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[o,a]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",a],end:[o,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[o,a],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",a],offsetX:-n,offsetY:-n,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",a],offsetX:n,offsetY:-n,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",a],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",a],offsetX:-n,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return s}var _F=function(o,a){var n=a.view,s=a.options,c=s.xField,f=s.yField,d=n.getScaleByField(c),v=n.getScaleByField(f),y=o.map(function(b){return n.getCoordinate().convert({x:d.scale(b[0]),y:v.scale(b[1])})});return jR(y,!1)},OF=function(o){var a=o.options,n=a.xField,s=a.yField,c=a.data,f=a.regressionLine,d=f.type,v=d===void 0?"linear":d,y=f.algorithm,b=f.equation,S,C=null;if(y)S=(0,_.kJ)(y)?y:y(c),C=b;else{var T=Yo[v]().x(function(k){return k[n]}).y(function(k){return k[s]});S=T(c),C=Vf(v,S)}return[_F(S,o),C]},IC=function(o){var a,n=o.meta,s=n===void 0?{}:n,c=o.xField,f=o.yField,d=o.data,v=d[0][c],y=d[0][f],b=v>0,S=y>0;function C(T,k){var R=(0,_.U2)(s,[T]);function D(j){return(0,_.U2)(R,j)}var V={};return k==="x"?((0,_.hj)(v)&&((0,_.hj)(D("min"))||(V.min=b?0:v*2),(0,_.hj)(D("max"))||(V.max=b?v*2:0)),V):((0,_.hj)(y)&&((0,_.hj)(D("min"))||(V.min=S?0:y*2),(0,_.hj)(D("max"))||(V.max=S?y*2:0)),V)}return(0,L.pi)((0,L.pi)({},s),(a={},a[c]=(0,L.pi)((0,L.pi)({},s[c]),C(c,"x")),a[f]=(0,L.pi)((0,L.pi)({},s[f]),C(f,"y")),a))};function Vf(o,a){var n,s,c,f=function(b,S){return S===void 0&&(S=4),Math.round(b*Math.pow(10,S))/Math.pow(10,S)},d=function(b){return Number.isFinite(b)?f(b):"?"};switch(o){case"linear":return"y = ".concat(d(a.a),"x + ").concat(d(a.b),", R^2 = ").concat(d(a.rSquared));case"exp":return"y = ".concat(d(a.a),"e^(").concat(d(a.b),"x), R^2 = ").concat(d(a.rSquared));case"log":return"y = ".concat(d(a.a),"ln(x) + ").concat(d(a.b),", R^2 = ").concat(d(a.rSquared));case"quad":return"y = ".concat(d(a.a),"x^2 + ").concat(d(a.b),"x + ").concat(d(a.c),", R^2 = ").concat(d(a.rSquared));case"poly":for(var v="y = ".concat(d((n=a.coefficients)===null||n===void 0?void 0:n[0])," + ").concat(d((s=a.coefficients)===null||s===void 0?void 0:s[1]),"x + ").concat(d((c=a.coefficients)===null||c===void 0?void 0:c[2]),"x^2"),y=3;y<a.coefficients.length;++y)v+=" + ".concat(d(a.coefficients[y]),"x^").concat(y);return"".concat(v,", R^2 = ").concat(d(a.rSquared));case"pow":return"y = ".concat(d(a.a),"x^").concat(d(a.b),", R^2 = ").concat(d(a.rSquared))}return null}function Hx(o){var a=o.data,n=a===void 0?[]:a,s=o.xField,c=o.yField;if(n.length){for(var f=!0,d=!0,v=n[0],y=void 0,b=1;b<n.length&&(y=n[b],v[s]!==y[s]&&(f=!1),v[c]!==y[c]&&(d=!1),!(!f&&!d));b++)v=y;var S=[];f&&S.push(s),d&&S.push(c);var C=kr(IC(o),S);return Re({},o,{meta:C})}return o}function CF(o){var a=o.chart,n=o.options,s=n.data,c=n.type,f=n.color,d=n.shape,v=n.pointStyle,y=n.shapeField,b=n.colorField,S=n.xField,C=n.yField,T=n.sizeField,k=n.size,R=n.tooltip;T&&(k||(k=[2,8]),(0,_.hj)(k)&&(k=[k,k])),R&&!R.fields&&(R=(0,L.pi)((0,L.pi)({},R),{fields:[S,C,b,T,y]})),a.data(s),co(Re({},o,{options:{seriesField:b,point:{color:f,shape:d,size:k,style:v},tooltip:R}}));var D=fi(a,"point");return c&&D.adjust(c),o}function Hf(o){var a,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField,v=Hx(n);return Un(Jr((a={},a[f]=s,a[d]=c,a)))(Re({},o,{options:v}))}function AF(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return a.axis(f,s),a.axis(d,c),o}function TF(o){var a=o.chart,n=o.options,s=n.legend,c=n.colorField,f=n.shapeField,d=n.sizeField,v=n.shapeLegend,y=n.sizeLegend,b=s!==!1;return c&&a.legend(c,b?s:!1),f&&(v?a.legend(f,v):a.legend(f,v===!1?!1:s)),d&&a.legend(d,y||!1),!b&&!v&&!y&&a.legend(!1),o}function EF(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=fi(a,"point");if(!s)f.label(!1);else{var d=s.callback,v=(0,L._T)(s,["callback"]);f.label({fields:[c],callback:d,cfg:Zi(v)})}return o}function kF(o){var a=o.options,n=a.quadrant,s=[];if(n){var c=n.xBaseline,f=c===void 0?0:c,d=n.yBaseline,v=d===void 0?0:d,y=n.labels,b=n.regionStyle,S=n.lineStyle,C=ng(f,v),T=new Array(4).join(",").split(",");T.forEach(function(k,R){s.push((0,L.pi)((0,L.pi)({type:"region",top:!1},C.regionStyle[R].position),{style:Re({},C.regionStyle[R].style,b==null?void 0:b[R])}),(0,L.pi)({type:"text",top:!0},Re({},C.labelStyle[R],y==null?void 0:y[R])))}),s.push({type:"line",top:!1,start:["min",v],end:["max",v],style:Re({},C.lineStyle,S)},{type:"line",top:!1,start:[f,"min"],end:[f,"max"],style:Re({},C.lineStyle,S)})}return Un(Qr(s))(o)}function PF(o){var a=o.options,n=o.chart,s=a.regressionLine;if(s){var c=s.style,f=s.equationStyle,d=f===void 0?{}:f,v=s.top,y=v===void 0?!1:v,b=s.showEquation,S=b===void 0?!1:b,C={stroke:"#9ba29a",lineWidth:2,opacity:.5},T={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:y,render:function(k,R){var D=k.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),V=OF({view:R,options:a}),j=V[0],H=V[1];D.addShape("path",{name:"regression-line",attrs:(0,L.pi)((0,L.pi)({path:j},C),c)}),S&&D.addShape("text",{name:"regression-equation",attrs:(0,L.pi)((0,L.pi)((0,L.pi)({},T),d),{text:H})})}})}return o}function fc(o){var a=o.chart,n=o.options,s=n.tooltip;return s?a.tooltip(s):s===!1&&a.tooltip(!1),o}function Yx(o){return Un(CF,Hf,AF,TF,fc,EF,Sx,oc,j0,Kr,kF,Lr,mr,PF)(o)}var LF=Re({},Kn.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Zn("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var IF=function(o){(0,L.ZT)(a,o);function a(n,s){var c=o.call(this,n,s)||this;return c.type="scatter",c.on(jt.BEFORE_RENDER,function(f){var d,v,y=c,b=y.options,S=y.chart;if(((d=f.data)===null||d===void 0?void 0:d.source)===Aa.FILTER){var C=c.chart.filterData(c.chart.getData());Hf({chart:S,options:(0,L.pi)((0,L.pi)({},b),{data:C})})}((v=f.data)===null||v===void 0?void 0:v.source)===Aa.RESET&&Hf({chart:S,options:b})}),c}return a.getDefaultOptions=function(){return LF},a.prototype.changeData=function(n){this.updateOption(Hx(Re({},this.options,{data:n})));var s=this,c=s.options,f=s.chart;Hf({chart:f,options:c}),this.chart.changeData(n)},a.prototype.getSchemaAdaptor=function(){return Yx},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(Kn),Ud="$$stock-range$$",Yf="trend",RC="up",FC="down",rg={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(o,a,n){var s;if(o==="x"){var c=n[0];s=c?c.title:a}else s=a;return{position:o==="y"?"start":"end",content:s,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},xu=Re({},Kn.getDefaultOptions(),{tooltip:rg,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function ig(o,a){return(0,_.UI)(o,function(n){var s=n&&(0,L.pi)({},n);if((0,_.kJ)(a)&&s){var c=a[0],f=a[1],d=a[2],v=a[3];s[Yf]=s[c]<=s[f]?RC:FC,s[Ud]=[s[c],s[f],s[d],s[v]]}return s})}function DC(o){var a=o.chart,n=o.options,s=n.yField,c=n.data,f=n.risingFill,d=n.fallingFill,v=n.tooltip,y=n.stockStyle;a.data(ig(c,s));var b=v;return b!==!1&&(b=Re({},{fields:s},b)),V0(Re({},o,{options:{schema:{shape:"candle",color:[f,d],style:y},yField:Ud,seriesField:Yf,rawFields:s,tooltip:b}})),o}function BC(o){var a,n,s=o.chart,c=o.options,f=c.meta,d=c.xAxis,v=c.yAxis,y=c.xField,b=(a={},a[y]={type:"timeCat",tickCount:6},a[Yf]={values:[RC,FC]},a),S=Re(b,f,(n={},n[y]=kr(d,Xa),n[Ud]=kr(v,Xa),n));return s.scale(S),o}function RF(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?a.axis(Ud,!1):a.axis(Ud,c),o}function Ux(o){var a=o.chart,n=o.options,s=n.tooltip;return s!==!1?a.tooltip(s):a.tooltip(!1),o}function NC(o){var a=o.chart,n=o.options,s=n.legend;return s?a.legend(Yf,s):s===!1&&a.legend(!1),o}function Xd(o){Un(mr,DC,BC,RF,Ux,NC,Kr,Lr,Qr(),oc)(o)}var Xx=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="stock",n}return a.getDefaultOptions=function(){return xu},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Xd},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this.options.yField;this.chart.changeData(ig(n,s))},a}(Kn);function us(o){return(0,_.UI)(o||[],function(a,n){return{x:"".concat(n),y:a}})}var Zd="x",Uf="y",qd={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(o,a){return"".concat((0,_.U2)(a,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},zC={appendPadding:2,tooltip:(0,L.pi)({},qd),animation:{}};function jC(o){var a=o.chart,n=o.options,s=n.data,c=n.color,f=n.areaStyle,d=n.point,v=n.line,y=d==null?void 0:d.state,b=us(s);a.data(b);var S=Re({},o,{options:{xField:Zd,yField:Uf,area:{color:c,style:f},line:v,point:d}}),C=Re({},S,{options:{tooltip:!1}}),T=Re({},S,{options:{tooltip:!1,state:y}});return jd(S),pu(C),co(T),a.axis(!1),a.legend(!1),o}function bu(o){var a,n,s=o.options,c=s.xAxis,f=s.yAxis,d=s.data,v=us(d);return Un(Jr((a={},a[Zd]=c,a[Uf]=f,a),(n={},n[Zd]={type:"cat"},n[Uf]=If(v,Uf),n)))(o)}function Zx(o){return Un(lo("areaStyle"),jC,bu,Oi,mr,Lr,Qr())(o)}var FF={appendPadding:2,tooltip:(0,L.pi)({},qd),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},DF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="tiny-area",n}return a.getDefaultOptions=function(){return FF},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this,c=s.chart,f=s.options;bu({chart:c,options:f}),c.changeData(us(n))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Zx},a}(Kn);function BF(o){var a=o.chart,n=o.options,s=n.data,c=n.color,f=n.columnStyle,d=n.columnWidthRatio,v=us(s);a.data(v);var y=Re({},o,{options:{xField:Zd,yField:Uf,widthRatio:d,interval:{style:f,color:c}}});return aa(y),a.axis(!1),a.legend(!1),a.interaction("element-active"),o}function GC(o){return Un(mr,lo("columnStyle"),BF,bu,Oi,Lr,Qr())(o)}var WC={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(o,a){return"".concat((0,_.U2)(a,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},NF={appendPadding:2,tooltip:(0,L.pi)({},WC),animation:{}},zF=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="tiny-column",n}return a.getDefaultOptions=function(){return NF},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this,c=s.chart,f=s.options;bu({chart:c,options:f}),c.changeData(us(n))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return GC},a}(Kn);function jF(o){var a=o.chart,n=o.options,s=n.data,c=n.color,f=n.lineStyle,d=n.point,v=d==null?void 0:d.state,y=us(s);a.data(y);var b=Re({},o,{options:{xField:Zd,yField:Uf,line:{color:c,style:f},point:d}}),S=Re({},b,{options:{tooltip:!1,state:v}});return pu(b),co(S),a.axis(!1),a.legend(!1),o}function VC(o){return Un(jF,bu,mr,Oi,Lr,Qr())(o)}var HC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="tiny-line",n}return a.getDefaultOptions=function(){return zC},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this,c=s.chart,f=s.options;bu({chart:c,options:f}),c.changeData(us(n))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return VC},a}(Kn),GF={line:BO,pie:Wf,column:X0,bar:Ax,area:jO,gauge:Br,"tiny-line":VC,"tiny-column":GC,"tiny-area":Zx,"ring-progress":Yd,progress:kC,scatter:Yx,histogram:gu,funnel:Fx,stock:Xd},WF={line:mF,pie:EC,column:aC,bar:rC,area:WO,gauge:pF,"tiny-line":HC,"tiny-column":zF,"tiny-area":DF,"ring-progress":Ns,progress:SF,scatter:IF,histogram:yF,funnel:pC,stock:Xx},VF={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function qi(o,a,n){var s=WF[o];if(!s){console.error("could not find ".concat(o," plot"));return}var c=GF[o];c({chart:a,options:Re({},s.getDefaultOptions(),(0,_.U2)(VF,o,{}),n)})}function ag(o){var a=o.chart,n=o.options,s=n.views,c=n.legend;return(0,_.S6)(s,function(f){var d=f.region,v=f.data,y=f.meta,b=f.axes,S=f.coordinate,C=f.interactions,T=f.annotations,k=f.tooltip,R=f.geometries,D=a.createView({region:d});D.data(v);var V={};b&&(0,_.S6)(b,function(j,H){V[H]=kr(j,Xa)}),V=Re({},y,V),D.scale(V),b?(0,_.S6)(b,function(j,H){D.axis(H,j)}):D.axis(!1),D.coordinate(S),(0,_.S6)(R,function(j){var H=Za({chart:D,options:j}).ext,Z=j.adjust;Z&&H.geometry.adjust(Z)}),(0,_.S6)(C,function(j){j.enable===!1?D.removeInteraction(j.type):D.interaction(j.type,j.cfg)}),(0,_.S6)(T,function(j){D.annotation()[j.type]((0,L.pi)({},j))}),typeof f.animation=="boolean"?D.animate(!1):(D.animate(!0),(0,_.S6)(D.geometries,function(j){j.animate(f.animation)})),k&&(D.interaction("tooltip"),D.tooltip(k))}),c?(0,_.S6)(c,function(f,d){a.legend(d,f)}):a.legend(!1),a.tooltip(n.tooltip),o}function HF(o){var a=o.chart,n=o.options,s=n.plots,c=n.data,f=c===void 0?[]:c;return(0,_.S6)(s,function(d){var v=d.type,y=d.region,b=d.options,S=b===void 0?{}:b,C=d.top,T=S.tooltip;if(C){qi(v,a,(0,L.pi)((0,L.pi)({},S),{data:f}));return}var k=a.createView((0,L.pi)({region:y},kr(S,mx)));T&&k.interaction("tooltip"),qi(v,k,(0,L.pi)({data:f},S))}),o}function qx(o){var a=o.chart,n=o.options;return a.option("slider",n.slider),o}function YC(o){return Un(Lr,ag,HF,Kr,Lr,mr,Oi,qx,Qr())(o)}function UC(o,a){var n=o.getModel(),s=n.data,c;return(0,_.kJ)(s)?c=s[0][a]:c=s[a],c}function $x(o){var a=B0(o);(0,_.S6)(a,function(n){n.hasState("active")&&n.setState("active",!1),n.hasState("selected")&&n.setState("selected",!1),n.hasState("inactive")&&n.setState("inactive",!1)})}var YF=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAssociationItems=function(n,s){var c,f=this.context.event,d=s||{},v=d.linkField,y=d.dim,b=[];if(!((c=f.data)===null||c===void 0)&&c.data){var S=f.data.data;(0,_.S6)(n,function(C){var T,k,R=v;if(y==="x"?R=C.getXScale().field:y==="y"?R=(T=C.getYScales().find(function(V){return V.field===R}))===null||T===void 0?void 0:T.field:R||(R=(k=C.getGroupScales()[0])===null||k===void 0?void 0:k.field),!!R){var D=(0,_.UI)(B0(C),function(V){var j=!1,H=!1,Z=(0,_.kJ)(S)?(0,_.U2)(S[0],R):(0,_.U2)(S,R);return UC(V,R)===Z?j=!0:H=!0,{element:V,view:C,active:j,inactive:H}});b.push.apply(b,D)}})}return b},a.prototype.showTooltip=function(n){var s=cx(this.context.view),c=this.getAssociationItems(s,n);(0,_.S6)(c,function(f){if(f.active){var d=f.element.shape.getCanvasBBox();f.view.showTooltip({x:d.minX+d.width/2,y:d.minY+d.height/2})}})},a.prototype.hideTooltip=function(){var n=cx(this.context.view);(0,_.S6)(n,function(s){s.hideTooltip()})},a.prototype.active=function(n){var s=Bd(this.context.view),c=this.getAssociationItems(s,n);(0,_.S6)(c,function(f){var d=f.active,v=f.element;d&&v.setState("active",!0)})},a.prototype.selected=function(n){var s=Bd(this.context.view),c=this.getAssociationItems(s,n);(0,_.S6)(c,function(f){var d=f.active,v=f.element;d&&v.setState("selected",!0)})},a.prototype.highlight=function(n){var s=Bd(this.context.view),c=this.getAssociationItems(s,n);(0,_.S6)(c,function(f){var d=f.inactive,v=f.element;d&&v.setState("inactive",!0)})},a.prototype.reset=function(){var n=Bd(this.context.view);(0,_.S6)(n,function(s){$x(s)})},a}(Rr);In("association",YF),Zn("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Zn("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Zn("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Zn("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var XC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="mix",n}return a.prototype.getSchemaAdaptor=function(){return YC},a}(Kn),vl;(function(o){o.DEV="DEV",o.BETA="BETA",o.STABLE="STABLE"})(vl||(vl={}));function ZC(o,a){console.warn(o===vl.DEV?"Plot '".concat(a,"' is in DEV stage, just give us issues."):o===vl.BETA?"Plot '".concat(a,"' is in BETA stage, DO NOT use it in production env."):o===vl.STABLE?"Plot '".concat(a,`' is in STABLE stage, import it by "import { `).concat(a,` } from '@antv/g2plot'".`):"invalid Stage type.")}var Ea=function(){function o(){}return Object.defineProperty(o,"MultiView",{get:function(){return ZC(vl.STABLE,"MultiView"),XC},enumerable:!1,configurable:!0}),o}(),Uo="first-axes-view",To="second-axes-view",gl="series-field-key";function Xf(o,a,n,s,c){var f=[];a.forEach(function(C){s.forEach(function(T){var k,R=(k={},k[o]=T[o],k[n]=C,k[C]=T[C],k);f.push(R)})});var d=Object.values((0,_.vM)(f,n)),v=d[0],y=v===void 0?[]:v,b=d[1],S=b===void 0?[]:b;return c?[y.reverse(),S.reverse()]:[y,S]}function Eo(o){return o!=="vertical"}function UF(o,a,n){var s=a[0],c=a[1],f=s.autoPadding,d=c.autoPadding,v=o.__axisPosition,y=v.layout,b=v.position;if(Eo(y)&&b==="top"&&(s.autoPadding=n.instance(f.top,0,f.bottom,f.left),c.autoPadding=n.instance(d.top,f.left,d.bottom,0)),Eo(y)&&b==="bottom"&&(s.autoPadding=n.instance(f.top,f.right/2+5,f.bottom,f.left),c.autoPadding=n.instance(d.top,d.right,d.bottom,f.right/2+5)),!Eo(y)&&b==="bottom"){var S=f.left>=d.left?f.left:d.left;s.autoPadding=n.instance(f.top,f.right,f.bottom/2+5,S),c.autoPadding=n.instance(f.bottom/2+5,d.right,d.bottom,S)}if(!Eo(y)&&b==="top"){var S=f.left>=d.left?f.left:d.left;s.autoPadding=n.instance(f.top,f.right,0,S),c.autoPadding=n.instance(0,d.right,f.top,S)}}function XF(o){var a=o.chart,n=o.options,s=n.data,c=n.xField,f=n.yField,d=n.color,v=n.barStyle,y=n.widthRatio,b=n.legend,S=n.layout,C=Xf(c,f,gl,s,Eo(S));b?a.legend(gl,b):b===!1&&a.legend(!1);var T,k,R=C[0],D=C[1];Eo(S)?(T=a.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Uo}),T.coordinate().transpose().reflect("x"),k=a.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:To}),k.coordinate().transpose(),T.data(R),k.data(D)):(T=a.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Uo}),k=a.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:To}),k.coordinate().reflect("y"),T.data(R),k.data(D));var V=Re({},o,{chart:T,options:{widthRatio:y,xField:c,yField:f[0],seriesField:gl,interval:{color:d,style:v}}});aa(V);var j=Re({},o,{chart:k,options:{xField:c,yField:f[1],seriesField:gl,widthRatio:y,interval:{color:d,style:v}}});return aa(j),o}function ZF(o){var a,n,s,c=o.options,f=o.chart,d=c.xAxis,v=c.yAxis,y=c.xField,b=c.yField,S=ar(f,Uo),C=ar(f,To),T={};return(0,_.XP)((c==null?void 0:c.meta)||{}).map(function(k){(0,_.U2)(c==null?void 0:c.meta,[k,"alias"])&&(T[k]=c.meta[k].alias)}),f.scale((a={},a[gl]={sync:!0,formatter:function(k){return(0,_.U2)(T,k,k)}},a)),Jr((n={},n[y]=d,n[b[0]]=v[b[0]],n))(Re({},o,{chart:S})),Jr((s={},s[y]=d,s[b[1]]=v[b[1]],s))(Re({},o,{chart:C})),o}function qF(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField,v=n.layout,y=ar(a,Uo),b=ar(a,To);return(s==null?void 0:s.position)==="bottom"?b.axis(f,(0,L.pi)((0,L.pi)({},s),{label:{formatter:function(){return""}}})):b.axis(f,!1),s===!1?y.axis(f,!1):y.axis(f,(0,L.pi)({position:Eo(v)?"top":"bottom"},s)),c===!1?(y.axis(d[0],!1),b.axis(d[1],!1)):(y.axis(d[0],c[d[0]]),b.axis(d[1],c[d[1]])),a.__axisPosition={position:y.getOptions().axes[f].position,layout:v},o}function qC(o){var a=o.chart;return Kr(Re({},o,{chart:ar(a,Uo)})),Kr(Re({},o,{chart:ar(a,To)})),o}function $C(o){var a=o.chart,n=o.options,s=n.yField,c=n.yAxis;return sc(Re({},o,{chart:ar(a,Uo),options:{yAxis:c[s[0]]}})),sc(Re({},o,{chart:ar(a,To),options:{yAxis:c[s[1]]}})),o}function a8(o){var a=o.chart;return mr(Re({},o,{chart:ar(a,Uo)})),mr(Re({},o,{chart:ar(a,To)})),mr(o),o}function $F(o){var a=o.chart;return Lr(Re({},o,{chart:ar(a,Uo)})),Lr(Re({},o,{chart:ar(a,To)})),o}function KF(o){var a=this,n,s,c=o.chart,f=o.options,d=f.label,v=f.yField,y=f.layout,b=ar(c,Uo),S=ar(c,To),C=fi(b,"interval"),T=fi(S,"interval");if(!d)C.label(!1),T.label(!1);else{var k=d.callback,R=(0,L._T)(d,["callback"]);R.position||(R.position="middle"),R.offset===void 0&&(R.offset=2);var D=(0,L.pi)({},R);if(Eo(y)){var V=((n=D.style)===null||n===void 0?void 0:n.textAlign)||(R.position==="middle"?"center":"left");R.style=Re({},R.style,{textAlign:V});var j={left:"right",right:"left",center:"center"};D.style=Re({},D.style,{textAlign:j[V]})}else{var H={top:"bottom",bottom:"top",middle:"middle"};typeof R.position=="string"?R.position=H[R.position]:typeof R.position=="function"&&(R.position=function(){for(var K=[],Ct=0;Ct<arguments.length;Ct++)K[Ct]=arguments[Ct];return H[R.position.apply(a,K)]});var Z=((s=D.style)===null||s===void 0?void 0:s.textBaseline)||"bottom";D.style=Re({},D.style,{textBaseline:Z});var q={top:"bottom",bottom:"top",middle:"middle"};R.style=Re({},R.style,{textBaseline:q[Z]})}C.label({fields:[v[0]],callback:k,cfg:Zi(D)}),T.label({fields:[v[1]],callback:k,cfg:Zi(R)})}return o}function og(o){return Un(XF,ZF,qF,$C,a8,KF,Oi,qC,$F)(o)}var KC=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="bidirectional-bar",n}return a.getDefaultOptions=function(){return Re({},o.getDefaultOptions.call(this),{syncViewPadding:UF})},a.prototype.changeData=function(n){n===void 0&&(n=[]),this.chart.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this.chart,jt.BEFORE_CHANGE_DATA,null)),this.updateOption({data:n});var s=this.options,c=s.xField,f=s.yField,d=s.layout,v=Xf(c,f,gl,n,Eo(d)),y=v[0],b=v[1],S=ar(this.chart,Uo),C=ar(this.chart,To);S.data(y),C.data(b),this.chart.render(!0),this.chart.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this.chart,jt.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return og},a.SERIES_FIELD_KEY=gl,a}(Kn),Kx,$d="$$range$$",JC="low-q1-median-q3-high",o8="$$y_outliers$$",QC="outliers_view",s8=Re({},Kn.getDefaultOptions(),{meta:(Kx={},Kx[$d]={min:0,alias:JC},Kx),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),tA=function(o,a){var n=o;if(Array.isArray(a)){var s=a[0],c=a[1],f=a[2],d=a[3],v=a[4];n=(0,_.UI)(o,function(y){return y[$d]=[y[s],y[c],y[f],y[d],y[v]],y})}return n};function JF(o){var a=o.chart,n=o.options,s=n.xField,c=n.yField,f=n.groupField,d=n.color,v=n.tooltip,y=n.boxStyle;a.data(tA(n.data,c));var b=(0,_.kJ)(c)?$d:c,S=c?(0,_.kJ)(c)?c:[c]:[],C=v;C!==!1&&(C=Re({},{fields:(0,_.kJ)(c)?c:[]},C));var T=V0(Re({},o,{options:{xField:s,yField:b,seriesField:f,tooltip:C,rawFields:S,label:!1,schema:{shape:"box",color:d,style:y}}})).ext;return f&&T.geometry.adjust("dodge"),o}function QF(o){var a=o.chart,n=o.options,s=n.xField,c=n.data,f=n.outliersField,d=n.outliersStyle,v=n.padding,y=n.label;if(!f)return o;var b=a.createView({padding:v,id:QC}),S=c.reduce(function(C,T){var k=T[f];return k.forEach(function(R){var D;return C.push((0,L.pi)((0,L.pi)({},T),(D={},D[f]=R,D)))}),C},[]);return b.data(S),co({chart:b,options:{xField:s,yField:f,point:{shape:"circle",style:d},label:y}}),b.axis(!1),o}function t5(o){var a,n,s=o.chart,c=o.options,f=c.meta,d=c.xAxis,v=c.yAxis,y=c.xField,b=c.yField,S=c.outliersField,C=Array.isArray(b)?$d:b,T={};if(S){var k=o8;T=(a={},a[S]={sync:k,nice:!0},a[C]={sync:k,nice:!0},a)}var R=Re(T,f,(n={},n[y]=kr(d,Xa),n[C]=kr(v,Xa),n));return s.scale(R),o}function e5(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField,v=Array.isArray(d)?$d:d;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?a.axis($d,!1):a.axis(v,c),o}function n5(o){var a=o.chart,n=o.options,s=n.legend,c=n.groupField;return c?s?a.legend(c,s):a.legend(c,{position:"bottom"}):a.legend(!1),o}function r5(o){return Un(JF,QF,t5,e5,n5,Oi,Qr(),Kr,Lr,mr)(o)}var l8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="box",n}return a.getDefaultOptions=function(){return s8},a.prototype.changeData=function(n){this.updateOption({data:n});var s=this.options.yField,c=this.chart.views.find(function(f){return f.id===QC});c&&c.data(n),this.chart.changeData(tA(n,s))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return r5},a}(Kn);function eA(o,a,n){return o.length>1?"".concat(a,"_").concat(n):"".concat(a)}function nA(o){var a=o.data,n=o.xField,s=o.measureField,c=o.rangeField,f=o.targetField,d=o.layout,v=[],y=[];a.forEach(function(C,T){var k=[C[c]].flat();k.sort(function(V,j){return V-j}),k.forEach(function(V,j){var H,Z=j===0?V:k[j]-k[j-1];v.push((H={rKey:"".concat(c,"_").concat(j)},H[n]=n?C[n]:String(T),H[c]=Z,H))});var R=[C[s]].flat();R.forEach(function(V,j){var H;v.push((H={mKey:eA(R,s,j)},H[n]=n?C[n]:String(T),H[s]=V,H))});var D=[C[f]].flat();D.forEach(function(V,j){var H;v.push((H={tKey:eA(D,f,j)},H[n]=n?C[n]:String(T),H[f]=V,H))}),y.push(C[c],C[s],C[f])});var b=Math.min.apply(Math,y.flat(1/0)),S=Math.max.apply(Math,y.flat(1/0));return b=b>0?0:b,d==="vertical"&&v.reverse(),{min:b,max:S,ds:v}}function i5(o){var a=o.chart,n=o.options,s=n.bulletStyle,c=n.targetField,f=n.rangeField,d=n.measureField,v=n.xField,y=n.color,b=n.layout,S=n.size,C=n.label,T=nA(n),k=T.min,R=T.max,D=T.ds;a.data(D);var V=Re({},o,{options:{xField:v,yField:f,seriesField:"rKey",isStack:!0,label:(0,_.U2)(C,"range"),interval:{color:(0,_.U2)(y,"range"),style:(0,_.U2)(s,"range"),size:(0,_.U2)(S,"range")}}});aa(V),a.geometries[0].tooltip(!1);var j=Re({},o,{options:{xField:v,yField:d,seriesField:"mKey",isStack:!0,label:(0,_.U2)(C,"measure"),interval:{color:(0,_.U2)(y,"measure"),style:(0,_.U2)(s,"measure"),size:(0,_.U2)(S,"measure")}}});aa(j);var H=Re({},o,{options:{xField:v,yField:c,seriesField:"tKey",label:(0,_.U2)(C,"target"),point:{color:(0,_.U2)(y,"target"),style:(0,_.U2)(s,"target"),size:(0,_.mf)((0,_.U2)(S,"target"))?function(Z){return(0,_.U2)(S,"target")(Z)/2}:(0,_.U2)(S,"target")/2,shape:b==="horizontal"?"line":"hyphen"}}});return co(H),b==="horizontal"&&a.coordinate().transpose(),(0,L.pi)((0,L.pi)({},o),{ext:{data:{min:k,max:R}}})}function Jx(o){var a,n,s=o.options,c=o.ext,f=s.xAxis,d=s.yAxis,v=s.targetField,y=s.rangeField,b=s.measureField,S=s.xField,C=c.data;return Un(Jr((a={},a[S]=f,a[b]=d,a),(n={},n[b]={min:C==null?void 0:C.min,max:C==null?void 0:C.max,sync:!0},n[v]={sync:"".concat(b)},n[y]={sync:"".concat(b)},n)))(o)}function Qx(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.measureField,v=n.rangeField,y=n.targetField;return a.axis("".concat(v),!1),a.axis("".concat(y),!1),s===!1?a.axis("".concat(f),!1):a.axis("".concat(f),s),c===!1?a.axis("".concat(d),!1):a.axis("".concat(d),c),o}function a5(o){var a=o.chart,n=o.options,s=n.legend;return a.removeInteraction("legend-filter"),a.legend(s),a.legend("rKey",!1),a.legend("mKey",!1),a.legend("tKey",!1),o}function o5(o){var a=o.chart,n=o.options,s=n.label,c=n.measureField,f=n.targetField,d=n.rangeField,v=a.geometries,y=v[0],b=v[1],S=v[2];return(0,_.U2)(s,"range")?y.label("".concat(d),(0,L.pi)({layout:[{type:"limit-in-plot"}]},Zi(s.range))):y.label(!1),(0,_.U2)(s,"measure")?b.label("".concat(c),(0,L.pi)({layout:[{type:"limit-in-plot"}]},Zi(s.measure))):b.label(!1),(0,_.U2)(s,"target")?S.label("".concat(f),(0,L.pi)({layout:[{type:"limit-in-plot"}]},Zi(s.target))):S.label(!1),o}function rA(o){Un(i5,Jx,Qx,a5,mr,o5,Oi,Kr,Lr)(o)}var s5=Re({},Kn.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),l5=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="bullet",n}return a.getDefaultOptions=function(){return s5},a.prototype.changeData=function(n){this.updateOption({data:n});var s=nA(this.options),c=s.min,f=s.max,d=s.ds;Jx({options:this.options,ext:{data:{min:c,max:f}},chart:this.chart}),this.chart.changeData(d)},a.prototype.getSchemaAdaptor=function(){return rA},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(Kn),c5={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(o){return o.id},source:function(o){return o.source},target:function(o){return o.target},sourceWeight:function(o){return o.value||1},targetWeight:function(o){return o.value||1},sortBy:null};function iA(o,a,n){(0,_.U5)(o,function(s,c){s.inEdges=a.filter(function(f){return"".concat(n.target(f))==="".concat(c)}),s.outEdges=a.filter(function(f){return"".concat(n.source(f))==="".concat(c)}),s.edges=s.outEdges.concat(s.inEdges),s.frequency=s.edges.length,s.value=0,s.inEdges.forEach(function(f){s.value+=n.targetWeight(f)}),s.outEdges.forEach(function(f){s.value+=n.sourceWeight(f)})})}function aA(o,a){var n={weight:function(c,f){return f.value-c.value},frequency:function(c,f){return f.frequency-c.frequency},id:function(c,f){return"".concat(a.id(c)).localeCompare("".concat(a.id(f)))}},s=n[a.sortBy];!s&&(0,_.mf)(a.sortBy)&&(s=a.sortBy),s&&o.sort(s)}function oA(o,a){var n=o.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(a.weight){var s=a.nodePaddingRatio;if(s<0||s>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var c=s/(2*n),f=a.nodeWidthRatio;if(f<=0||f>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var d=0;o.forEach(function(y){d+=y.value}),o.forEach(function(y){y.weight=y.value/d,y.width=y.weight*(1-s),y.height=f}),o.forEach(function(y,b){for(var S=0,C=b-1;C>=0;C--)S+=o[C].width+2*c;var T=y.minX=c+S,k=y.maxX=y.minX+y.width,R=y.minY=a.y-f/2,D=y.maxY=R+f;y.x=[T,k,k,T],y.y=[R,R,D,D]})}else{var v=1/n;o.forEach(function(y,b){y.x=(b+.5)*v,y.y=a.y})}return o}function u5(o,a,n){if(n.weight){var s={};(0,_.U5)(o,function(c,f){s[f]=c.value}),a.forEach(function(c){var f=n.source(c),d=n.target(c),v=o[f],y=o[d];if(v&&y){var b=s[f],S=n.sourceWeight(c),C=v.minX+(v.value-b)/v.value*v.width,T=C+S/v.value*v.width;s[f]-=S;var k=s[d],R=n.targetWeight(c),D=y.minX+(y.value-k)/y.value*y.width,V=D+R/y.value*y.width;s[d]-=R;var j=n.y;c.x=[C,T,D,V],c.y=[j,j,j,j],c.source=v,c.target=y}})}else a.forEach(function(c){var f=o[n.source(c)],d=o[n.target(c)];f&&d&&(c.x=[f.x,d.x],c.y=[f.y,d.y],c.source=f,c.target=d)});return a}function sA(o){return(0,_.f0)({},c5,o)}function f5(o,a){var n=sA(o),s={},c=a.nodes,f=a.links;c.forEach(function(y){var b=n.id(y);s[b]=y}),iA(s,f,n),aA(c,n);var d=oA(c,n),v=u5(s,f,n);return{nodes:d,links:v}}var lA="x",cA="y",uA="name",tb="source",h5={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(o,a){var n=(o[0]+o[1])/2,s=n>.5?-4:4;return{offsetX:s,content:a}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(o){return!(0,_.U2)(o,[0,"data","isNode"])},formatter:function(o){var a=o.source,n=o.target,s=o.value;return{name:"".concat(a," -> ").concat(n),value:s}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function xi(o){var a=o.options,n=a.data,s=a.sourceField,c=a.targetField,f=a.weightField,d=a.nodePaddingRatio,v=a.nodeWidthRatio,y=a.rawFields,b=y===void 0?[]:y,S=rc(n,s,c,f),C=f5({weight:!0,nodePaddingRatio:d,nodeWidthRatio:v},S),T=C.nodes,k=C.links,R=T.map(function(V){return(0,L.pi)((0,L.pi)({},kr(V,(0,L.ev)(["id","x","y","name"],b,!0))),{isNode:!0})}),D=k.map(function(V){return(0,L.pi)((0,L.pi)({source:V.source.name,target:V.target.name,name:V.source.name||V.target.name},kr(V,(0,L.ev)(["x","y","value"],b,!0))),{isNode:!1})});return(0,L.pi)((0,L.pi)({},o),{ext:(0,L.pi)((0,L.pi)({},o.ext),{chordData:{nodesData:R,edgesData:D}})})}function c8(o){var a,n=o.chart;return n.scale((a={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},a[uA]={sync:"color"},a[tb]={sync:"color"},a)),o}function fA(o){var a=o.chart;return a.axis(!1),o}function sg(o){var a=o.chart;return a.legend(!1),o}function d5(o){var a=o.chart,n=o.options,s=n.tooltip;return a.tooltip(s),o}function p5(o){var a=o.chart;return a.coordinate("polar").reflect("y"),o}function v5(o){var a=o.chart,n=o.options,s=o.ext.chordData.nodesData,c=n.nodeStyle,f=n.label,d=n.tooltip,v=a.createView();return v.data(s),Gd({chart:v,options:{xField:lA,yField:cA,seriesField:uA,polygon:{style:c},label:f,tooltip:d}}),o}function hA(o){var a=o.chart,n=o.options,s=o.ext.chordData.edgesData,c=n.edgeStyle,f=n.tooltip,d=a.createView();d.data(s);var v={xField:lA,yField:cA,seriesField:tb,edge:{style:c,shape:"arc"},tooltip:f};return vx({chart:d,options:v}),o}function g5(o){var a=o.chart,n=o.options,s=n.animation;return Nd(a,s,FR(a)),o}function y5(o){return Un(mr,xi,p5,c8,fA,sg,d5,hA,v5,Kr,fl,g5)(o)}var m5=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="chord",n}return a.getDefaultOptions=function(){return h5},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return y5},a}(Kn),x5=["x","y","r","name","value","path","depth"],dA={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},lg=4,b5=0,pA=5,vA="drilldown-bread-crumb",w5={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Kd="hierarchy-data-transform-params",gA=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.name="drill-down",n.historyCache=[],n.breadCrumbGroup=null,n.breadCrumbCfg=w5,n}return a.prototype.click=function(){var n=(0,_.U2)(this.context,["event","data","data"]);if(!n)return!1;this.drill(n),this.drawBreadCrumb()},a.prototype.resetPosition=function(){if(this.breadCrumbGroup){var n=this.context.view.getCoordinate(),s=this.breadCrumbGroup,c=s.getBBox(),f=this.getButtonCfg().position,d={x:n.start.x,y:n.end.y-(c.height+pA*2)};n.isPolar&&(d={x:0,y:0}),f==="bottom-left"&&(d={x:n.start.x,y:n.start.y});var v=ia.transform(null,[["t",d.x+b5,d.y+c.height+pA]]);s.setMatrix(v)}},a.prototype.back=function(){(0,_.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},a.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},a.prototype.drill=function(n){var s=this.context.view,c=(0,_.U2)(s,["interactions","drill-down","cfg","transformData"],function(b){return b}),f=c((0,L.pi)({data:n.data},n[Kd]));s.changeData(f);for(var d=[],v=n;v;){var y=v.data;d.unshift({id:"".concat(y.name,"_").concat(v.height,"_").concat(v.depth),name:y.name,children:c((0,L.pi)({data:y},n[Kd]))}),v=v.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(d)},a.prototype.backTo=function(n){if(!(!n||n.length<=0)){var s=this.context.view,c=(0,_.Z$)(n).children;s.changeData(c),n.length>1?(this.historyCache=n,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},a.prototype.getButtonCfg=function(){var n=this.context.view,s=(0,_.U2)(n,["interactions","drill-down","cfg","drillDownConfig"]);return Re(this.breadCrumbCfg,s==null?void 0:s.breadCrumb,this.cfg)},a.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},a.prototype.drawBreadCrumbGroup=function(){var n=this,s=this.getButtonCfg(),c=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:vA});var f=0;c.forEach(function(d,v){var y=n.breadCrumbGroup.addShape({type:"text",id:d.id,name:"".concat(vA,"_").concat(d.name,"_text"),attrs:(0,L.pi)((0,L.pi)({text:v===0&&!(0,_.UM)(s.rootText)?s.rootText:d.name},s.textStyle),{x:f,y:0})}),b=y.getBBox();if(f+=b.width+lg,y.on("click",function(T){var k,R=T.target.get("id");if(R!==((k=(0,_.Z$)(c))===null||k===void 0?void 0:k.id)){var D=c.slice(0,c.findIndex(function(V){return V.id===R})+1);n.backTo(D)}}),y.on("mouseenter",function(T){var k,R=T.target.get("id");R!==((k=(0,_.Z$)(c))===null||k===void 0?void 0:k.id)?y.attr(s.activeTextStyle):y.attr({cursor:"default"})}),y.on("mouseleave",function(){y.attr(s.textStyle)}),v<c.length-1){var S=n.breadCrumbGroup.addShape({type:"text",name:"".concat(s.name,"_").concat(d.name,"_divider"),attrs:(0,L.pi)((0,L.pi)({text:s.dividerText},s.textStyle),{x:f,y:0})}),C=S.getBBox();f+=C.width+lg}})},a.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},a.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),o.prototype.destroy.call(this)},a}(Rr);function M5(o){return Bt()(o)==="object"&&"length"in o?o:Array.from(o)}function hc(o){for(var a=o.length,n,s;a;)s=Math.random()*a--|0,n=o[a],o[a]=o[s],o[s]=n;return o}function yA(o){for(var a=0,n=(o=hc(Array.from(o))).length,s=[],c,f;a<n;)c=o[a],f&&mA(f,c)?++a:(f=S5(s=cg(s,c)),a=0);return f}function cg(o,a){var n,s;if(eb(a,o))return[a];for(n=0;n<o.length;++n)if(ug(a,o[n])&&eb(wu(o[n],a),o))return[o[n],a];for(n=0;n<o.length-1;++n)for(s=n+1;s<o.length;++s)if(ug(wu(o[n],o[s]),a)&&ug(wu(o[n],a),o[s])&&ug(wu(o[s],a),o[n])&&eb(xA(o[n],o[s],a),o))return[o[n],o[s],a];throw new Error}function ug(o,a){var n=o.r-a.r,s=a.x-o.x,c=a.y-o.y;return n<0||n*n<s*s+c*c}function mA(o,a){var n=o.r-a.r+Math.max(o.r,a.r,1)*1e-9,s=a.x-o.x,c=a.y-o.y;return n>0&&n*n>s*s+c*c}function eb(o,a){for(var n=0;n<a.length;++n)if(!mA(o,a[n]))return!1;return!0}function S5(o){switch(o.length){case 1:return nb(o[0]);case 2:return wu(o[0],o[1]);case 3:return xA(o[0],o[1],o[2])}}function nb(o){return{x:o.x,y:o.y,r:o.r}}function wu(o,a){var n=o.x,s=o.y,c=o.r,f=a.x,d=a.y,v=a.r,y=f-n,b=d-s,S=v-c,C=Math.sqrt(y*y+b*b);return{x:(n+f+y/C*S)/2,y:(s+d+b/C*S)/2,r:(C+c+v)/2}}function xA(o,a,n){var s=o.x,c=o.y,f=o.r,d=a.x,v=a.y,y=a.r,b=n.x,S=n.y,C=n.r,T=s-d,k=s-b,R=c-v,D=c-S,V=y-f,j=C-f,H=s*s+c*c-f*f,Z=H-d*d-v*v+y*y,q=H-b*b-S*S+C*C,K=k*R-T*D,Ct=(R*q-D*Z)/(K*2)-s,Ft=(D*V-R*j)/K,Jt=(k*Z-T*q)/(K*2)-c,_e=(T*j-k*V)/K,ge=Ft*Ft+_e*_e-1,Be=2*(f+Ct*Ft+Jt*_e),tn=Ct*Ct+Jt*Jt-f*f,vn=-(ge?(Be+Math.sqrt(Be*Be-4*ge*tn))/(2*ge):tn/Be);return{x:s+Ct+Ft*vn,y:c+Jt+_e*vn,r:vn}}function rb(o,a,n){var s=o.x-a.x,c,f,d=o.y-a.y,v,y,b=s*s+d*d;b?(f=a.r+n.r,f*=f,y=o.r+n.r,y*=y,f>y?(c=(b+y-f)/(2*b),v=Math.sqrt(Math.max(0,y/b-c*c)),n.x=o.x-c*s-v*d,n.y=o.y-c*d+v*s):(c=(b+f-y)/(2*b),v=Math.sqrt(Math.max(0,f/b-c*c)),n.x=a.x+c*s-v*d,n.y=a.y+c*d+v*s)):(n.x=a.x+n.r,n.y=a.y)}function bA(o,a){var n=o.r+a.r-1e-6,s=a.x-o.x,c=a.y-o.y;return n>0&&n*n>s*s+c*c}function ib(o){var a=o._,n=o.next._,s=a.r+n.r,c=(a.x*n.r+n.x*a.r)/s,f=(a.y*n.r+n.y*a.r)/s;return c*c+f*f}function Jd(o){this._=o,this.next=null,this.previous=null}function ab(o){if(!(c=(o=M5(o)).length))return 0;var a,n,s,c,f,d,v,y,b,S,C;if(a=o[0],a.x=0,a.y=0,!(c>1))return a.r;if(n=o[1],a.x=-n.r,n.x=a.r,n.y=0,!(c>2))return a.r+n.r;rb(n,a,s=o[2]),a=new Jd(a),n=new Jd(n),s=new Jd(s),a.next=s.previous=n,n.next=a.previous=s,s.next=n.previous=a;t:for(v=3;v<c;++v){rb(a._,n._,s=o[v]),s=new Jd(s),y=n.next,b=a.previous,S=n._.r,C=a._.r;do if(S<=C){if(bA(y._,s._)){n=y,a.next=n,n.previous=a,--v;continue t}S+=y._.r,y=y.next}else{if(bA(b._,s._)){a=b,a.next=n,n.previous=a,--v;continue t}C+=b._.r,b=b.previous}while(y!==b.next);for(s.previous=a,s.next=n,a.next=n.previous=n=s,f=ib(a);(s=s.next)!==n;)(d=ib(s))<f&&(a=s,f=d);n=a.next}for(a=[n._],s=n;(s=s.next)!==n;)a.push(s._);for(s=yA(a),v=0;v<c;++v)a=o[v],a.x-=s.x,a.y-=s.y;return s.r}function wA(o){return ab(o),o}function MA(o){return o==null?null:fg(o)}function fg(o){if(typeof o!="function")throw new Error;return o}function zs(){return 0}function ko(o){return function(){return o}}function _5(o){return Math.sqrt(o.value)}function SA(){var o=null,a=1,n=1,s=zs;function c(f){return f.x=a/2,f.y=n/2,o?f.eachBefore(ob(o)).eachAfter(sb(s,.5)).eachBefore(_A(1)):f.eachBefore(ob(_5)).eachAfter(sb(zs,1)).eachAfter(sb(s,f.r/Math.min(a,n))).eachBefore(_A(Math.min(a,n)/(2*f.r))),f}return c.radius=function(f){return arguments.length?(o=MA(f),c):o},c.size=function(f){return arguments.length?(a=+f[0],n=+f[1],c):[a,n]},c.padding=function(f){return arguments.length?(s=typeof f=="function"?f:ko(+f),c):s},c}function ob(o){return function(a){a.children||(a.r=Math.max(0,+o(a)||0))}}function sb(o,a){return function(n){if(s=n.children){var s,c,f=s.length,d=o(n)*a||0,v;if(d)for(c=0;c<f;++c)s[c].r+=d;if(v=ab(s),d)for(c=0;c<f;++c)s[c].r-=d;n.r=v+d}}}function _A(o){return function(a){var n=a.parent;a.r*=o,n&&(a.x=n.x+o*a.x,a.y=n.y+o*a.y)}}var O5=kt(9783),C5=kt.n(O5);function A5(o){var a=0,n=o.children,s=n&&n.length;if(!s)a=1;else for(;--s>=0;)a+=n[s].value;o.value=a}function T5(){return this.eachAfter(A5)}var OA=kt(96695),Qd=kt.n(OA);function CA(o,a){var n=-1,s=Qd()(this),c;try{for(s.s();!(c=s.n()).done;){var f=c.value;o.call(a,f,++n,this)}}catch(d){s.e(d)}finally{s.f()}return this}function AA(o,a){for(var n=this,s=[n],c,f,d=-1;n=s.pop();)if(o.call(a,n,++d,this),c=n.children)for(f=c.length-1;f>=0;--f)s.push(c[f]);return this}function E5(o,a){for(var n=this,s=[n],c=[],f,d,v,y=-1;n=s.pop();)if(c.push(n),f=n.children)for(d=0,v=f.length;d<v;++d)s.push(f[d]);for(;n=c.pop();)o.call(a,n,++y,this);return this}function js(o,a){var n=-1,s=Qd()(this),c;try{for(s.s();!(c=s.n()).done;){var f=c.value;if(o.call(a,f,++n,this))return f}}catch(d){s.e(d)}finally{s.f()}}function k5(o){return this.eachAfter(function(a){for(var n=+o(a.data)||0,s=a.children,c=s&&s.length;--c>=0;)n+=s[c].value;a.value=n})}function P5(o){return this.eachBefore(function(a){a.children&&a.children.sort(o)})}function TA(o){for(var a=this,n=L5(a,o),s=[a];a!==n;)a=a.parent,s.push(a);for(var c=s.length;o!==n;)s.splice(c,0,o),o=o.parent;return s}function L5(o,a){if(o===a)return o;var n=o.ancestors(),s=a.ancestors(),c=null;for(o=n.pop(),a=s.pop();o===a;)c=o,o=n.pop(),a=s.pop();return c}function hg(){for(var o=this,a=[o];o=o.parent;)a.push(o);return a}function EA(){return Array.from(this)}function kA(){var o=[];return this.eachBefore(function(a){a.children||o.push(a)}),o}function PA(){var o=this,a=[];return o.each(function(n){n!==o&&a.push({source:n.parent,target:n})}),a}var I5=kt(15009),LA=kt.n(I5),IA=LA()().mark(RA);function RA(){var o,a,n,s,c,f;return LA()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:o=this,n=[o];case 1:a=n.reverse(),n=[];case 2:if(!(o=a.pop())){v.next=8;break}return v.next=5,o;case 5:if(s=o.children)for(c=0,f=s.length;c<f;++c)n.push(s[c]);v.next=2;break;case 8:if(n.length){v.next=1;break}case 9:case"end":return v.stop()}},IA,this)}function Mu(o,a){o instanceof Map?(o=[void 0,o],a===void 0&&(a=D5)):a===void 0&&(a=F5);for(var n=new Zf(o),s,c=[n],f,d,v,y;s=c.pop();)if((d=a(s.data))&&(y=(d=Array.from(d)).length))for(s.children=d,v=y-1;v>=0;--v)c.push(f=d[v]=new Zf(d[v])),f.parent=s,f.depth=s.depth+1;return n.eachBefore(FA)}function R5(){return Mu(this).eachBefore(B5)}function F5(o){return o.children}function D5(o){return Array.isArray(o)?o[1]:null}function B5(o){o.data.value!==void 0&&(o.value=o.data.value),o.data=o.data.data}function FA(o){var a=0;do o.height=a;while((o=o.parent)&&o.height<++a)}function Zf(o){this.data=o,this.depth=this.height=0,this.parent=null}Zf.prototype=Mu.prototype=C5()({constructor:Zf,count:T5,each:CA,eachAfter:E5,eachBefore:AA,find:js,sum:k5,sort:P5,path:TA,ancestors:hg,descendants:EA,leaves:kA,links:PA,copy:R5},Symbol.iterator,RA);var DA="nodeIndex",BA="childNodeCount",lb="nodeAncestor",cb="Invalid field: it must be a string!";function dg(o,a){var n=o.field,s=o.fields;if((0,_.HD)(n))return n;if((0,_.kJ)(n))return console.warn(cb),n[0];if(console.warn("".concat(cb," will try to get fields instead.")),(0,_.HD)(s))return s;if((0,_.kJ)(s)&&s.length)return s[0];if(a)return a;throw new TypeError(cb)}function Gs(o){var a=[];if(o&&o.each){var n,s;o.each(function(c){var f,d;c.parent!==n?(n=c.parent,s=0):s+=1;var v=(0,_.hX)((((f=c.ancestors)===null||f===void 0?void 0:f.call(c))||[]).map(function(y){return a.find(function(b){return b.name===y.name})||y}),function(y){var b=y.depth;return b>0&&b<c.depth});c[lb]=v,c[BA]=((d=c.children)===null||d===void 0?void 0:d.length)||0,c[DA]=s,a.push(c)})}else o&&o.eachNode&&o.eachNode(function(c){a.push(c)});return a}var NA={field:"value",as:["x","y","r"],sort:function(o,a){return a.value-o.value}};function zA(o,a){a=(0,_.f0)({},NA,a);var n=a.as;if(!(0,_.kJ)(n)||n.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var s;try{s=dg(a)}catch(b){console.warn(b)}var c=function(b){return SA().size(a.size).padding(a.padding)(Mu(b).sum(function(S){return S[s]}).sort(a.sort))},f=c(o),d=n[0],v=n[1],y=n[2];return f.each(function(b){b[d]=b.x,b[v]=b.y,b[y]=b.r}),Gs(f)}function N5(o){var a=o.data,n=o.hierarchyConfig,s=o.rawFields,c=s===void 0?[]:s,f=o.enableDrillDown,d=zA(a,(0,L.pi)((0,L.pi)({},n),{field:"value",as:["x","y","r"]})),v=[];return d.forEach(function(y){for(var b,S=y.data.name,C=(0,L.pi)({},y);C.depth>1;)S="".concat((b=C.parent.data)===null||b===void 0?void 0:b.name," / ").concat(S),C=C.parent;if(f&&y.depth>2)return null;var T=Re({},y.data,(0,L.pi)((0,L.pi)((0,L.pi)({},kr(y.data,c)),{path:S}),y));T.ext=n,T[Kd]={hierarchyConfig:n,rawFields:c,enableDrillDown:f},v.push(T)}),v}function ub(o,a,n){var s=N0([o,a]),c=s[0],f=s[1],d=s[2],v=s[3],y=n.width,b=n.height,S=y-(v+f),C=b-(c+d),T=Math.min(S,C),k=(S-T)/2,R=(C-T)/2,D=c+R,V=f+k,j=d+R,H=v+k,Z=[D,V,j,H],q=T<0?0:T;return{finalPadding:Z,finalSize:q}}function fb(o){var a=o.chart,n=Math.min(a.viewBBox.width,a.viewBBox.height);return Re({options:{size:function(s){var c=s.r;return c*n}}},o)}function z5(o){var a=o.options,n=o.chart,s=n.viewBBox,c=a.padding,f=a.appendPadding,d=a.drilldown,v=f;if(d!=null&&d.enabled){var y=Fd(n.appendPadding,(0,_.U2)(d,["breadCrumb","position"]));v=N0([y,f])}var b=ub(c,v,s).finalPadding;return n.padding=b,n.appendPadding=0,o}function j5(o){var a=o.chart,n=o.options,s=a.padding,c=a.appendPadding,f=n.color,d=n.colorField,v=n.pointStyle,y=n.hierarchyConfig,b=n.sizeField,S=n.rawFields,C=S===void 0?[]:S,T=n.drilldown,k=N5({data:n.data,hierarchyConfig:y,enableDrillDown:T==null?void 0:T.enabled,rawFields:C});a.data(k);var R=a.viewBBox,D=ub(s,c,R).finalSize,V=function(j){var H=j.r;return H*D};return b&&(V=function(j){return j[b]*D}),co(Re({},o,{options:{xField:"x",yField:"y",seriesField:d,sizeField:b,rawFields:(0,L.ev)((0,L.ev)([],x5,!0),C,!0),point:{color:f,style:v,shape:"circle",size:V}}})),o}function G5(o){return Un(Jr({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(o)}function dc(o){var a=o.chart,n=o.options,s=n.tooltip;if(s===!1)a.tooltip(!1);else{var c=s;(0,_.U2)(s,"fields")||(c=Re({},{customItems:function(f){return f.map(function(d){var v=(0,_.U2)(a.getOptions(),"scales"),y=(0,_.U2)(v,["name","formatter"],function(S){return S}),b=(0,_.U2)(v,["value","formatter"],function(S){return S});return(0,L.pi)((0,L.pi)({},d),{name:y(d.data.name),value:b(d.data.value)})})}},c)),a.tooltip(c)}return o}function W5(o){var a=o.chart;return a.axis(!1),o}function V5(o){var a=o.drilldown,n=o.interactions,s=n===void 0?[]:n;return a!=null&&a.enabled?Re({},o,{interactions:(0,L.ev)((0,L.ev)([],s,!0),[{type:"drill-down",cfg:{drillDownConfig:a,transformData:N5,enableDrillDown:!0}}],!1)}):o}function H5(o){var a=o.chart,n=o.options;return Kr({chart:a,options:V5(n)}),o}function Xo(o){return Un(lo("pointStyle"),fb,z5,mr,G5,j5,W5,ac,dc,H5,Lr,Qr())(o)}function jA(o){var a=(0,_.U2)(o,["event","data","data"],{});return(0,_.kJ)(a.children)&&a.children.length>0}function GA(o){var a=o.view.getCoordinate(),n=a.innerRadius;if(n){var s=o.event,c=s.x,f=s.y,d=a.center,v=d.x,y=d.y,b=a.getRadius()*n,S=Math.sqrt(Math.pow(v-c,2)+Math.pow(y-f,2));return S<b}return!1}In("drill-down-action",gA),Zn("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:jA},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:GA}],start:[{trigger:"element:click",isEnable:jA,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:GA,action:["drill-down-action:back"]}]});var u8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="circle-packing",n}return a.getDefaultOptions=function(){return dA},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return Xo},a.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},a}(Kn),uo="left-axes-view",fo="right-axes-view",WA={nice:!0,label:{autoHide:!0,autoRotate:!1}},Y5=(0,L.pi)((0,L.pi)({},WA),{position:"left"}),f8=(0,L.pi)((0,L.pi)({},WA),{position:"right",grid:null}),qf;(function(o){o.Left="Left",o.Right="Right"})(qf||(qf={}));var ka;(function(o){o.Line="line",o.Column="column"})(ka||(ka={}));function $a(o){return(0,_.U2)(o,"geometry")===ka.Line}function hb(o){return(0,_.U2)(o,"geometry")===ka.Column}function VA(o,a,n){return hb(n)?Re({},{geometry:ka.Column,label:n.label&&n.isRange?{content:function(s){var c;return(c=s[a])===null||c===void 0?void 0:c.join("-")}}:void 0},n):(0,L.pi)({geometry:ka.Line},n)}function pc(o,a){var n=o[0],s=o[1];if((0,_.kJ)(a)){var c=a[0],f=a[1];return[c,f]}var d=(0,_.U2)(a,n),v=(0,_.U2)(a,s);return[d,v]}function db(o,a){return a===qf.Left?o===!1?!1:Re({},Y5,o):a===qf.Right?o===!1?!1:Re({},f8,o):o}function U5(o){var a=o.options,n=o.chart,s=a.geometryOption,c=s.isStack,f=s.color,d=s.seriesField,v=s.groupField,y=s.isGroup,b=["xField","yField"];if($a(s)){pu(Re({},o,{options:(0,L.pi)((0,L.pi)((0,L.pi)({},kr(a,b)),s),{line:{color:s.color,style:s.lineStyle}})})),co(Re({},o,{options:(0,L.pi)((0,L.pi)((0,L.pi)({},kr(a,b)),s),{point:s.point&&(0,L.pi)({color:f,shape:"circle"},s.point)})}));var S=[];y&&S.push({type:"dodge",dodgeBy:v||d,customOffset:0}),c&&S.push({type:"stack"}),S.length&&(0,_.S6)(n.geometries,function(C){C.adjust(S)})}return hb(s)&&X0(Re({},o,{options:(0,L.pi)((0,L.pi)((0,L.pi)({},kr(a,b)),s),{widthRatio:s.columnWidthRatio,interval:(0,L.pi)((0,L.pi)({},kr(s,["color"])),{style:s.columnStyle})})})),o}function $f(o){var a=o.view,n=o.geometryOption,s=o.yField,c=o.legend,f=(0,_.U2)(c,"marker"),d=fi(a,$a(n)?"line":"interval");if(!n.seriesField){var v=(0,_.U2)(a,"options.scales.".concat(s,".alias"))||s,y=d.getAttribute("color"),b=a.getTheme().defaultColor;y&&(b=ia.getMappingValue(y,v,(0,_.U2)(y,["values",0],b)));var S=((0,_.mf)(f)?f:!(0,_.xb)(f)&&Re({},{style:{stroke:b,fill:b}},f))||($a(n)?{symbol:function(T,k,R){return[["M",T-R,k],["L",T+R,k]]},style:{lineWidth:2,r:6,stroke:b}}:{symbol:"square",style:{fill:b}});return[{value:s,name:v,marker:S,isGeometry:!0,viewId:a.id}]}var C=d.getGroupAttributes();return(0,_.u4)(C,function(T,k){var R=ia.getLegendItems(a,d,k,a.getTheme(),f);return T.concat(R)},[])}var pb=function(o,a){var n=a[0],s=a[1],c=o.getOptions().data,f=o.getXScale(),d=(0,_.dp)(c);if(!(!f||!d)){var v=!0,y=(0,_.I)(c,f.field),b=v?y:y.reverse(),S=(0,_.dp)(b),C=Math.floor(n*(S-1)),T=Math.floor(s*(S-1));o.filter(f.field,function(k){var R=b.indexOf(k);return R>-1?DR(R,C,T):!0}),o.getRootView().render(!0)}};function X5(o){var a,n=o.options,s=n.geometryOptions,c=s===void 0?[]:s,f=n.xField,d=n.yField,v=(0,_.yW)(c,function(y){var b=y.geometry;return b===ka.Line||b===void 0});return Re({},{options:{geometryOptions:[],meta:(a={},a[f]={type:"cat",sync:!0,range:v?[0,1]:void 0},a),tooltip:{showMarkers:v,showCrosshairs:v,shared:!0,crosshairs:{type:"x"}},interactions:v?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},o,{options:{yAxis:pc(d,n.yAxis),geometryOptions:[VA(f,d[0],c[0]),VA(f,d[1],c[1])],annotations:pc(d,n.annotations)}})}function HA(o){var a,n,s=o.chart,c=o.options,f=c.geometryOptions,d={line:0,column:1},v=[{type:(a=f[0])===null||a===void 0?void 0:a.geometry,id:uo},{type:(n=f[1])===null||n===void 0?void 0:n.geometry,id:fo}];return v.sort(function(y,b){return-d[y.type]+d[b.type]}).forEach(function(y){return s.createView({id:y.id})}),o}function Z5(o){var a=o.chart,n=o.options,s=n.xField,c=n.yField,f=n.geometryOptions,d=n.data,v=n.tooltip,y=[(0,L.pi)((0,L.pi)({},f[0]),{id:uo,data:d[0],yField:c[0]}),(0,L.pi)((0,L.pi)({},f[1]),{id:fo,data:d[1],yField:c[1]})];return y.forEach(function(b){var S=b.id,C=b.data,T=b.yField,k=hb(b)&&b.isPercent,R=k?xx(C,T,s,T):C,D=ar(a,S).data(R),V=k?(0,L.pi)({formatter:function(j){return{name:j[b.seriesField]||T,value:(Number(j[T])*100).toFixed(2)+"%"}}},v):v;U5({chart:D,options:{xField:s,yField:T,tooltip:V,geometryOption:b}})}),o}function q5(o){var a,n=o.chart,s=o.options,c=s.geometryOptions,f=((a=n.getTheme())===null||a===void 0?void 0:a.colors10)||[],d=0;return n.once("beforepaint",function(){(0,_.S6)(c,function(v,y){var b=ar(n,y===0?uo:fo);if(!v.color){var S=b.getGroupScales(),C=(0,_.U2)(S,[0,"values","length"],1),T=f.slice(d,d+C).concat(y===0?[]:f);b.geometries.forEach(function(k){v.seriesField?k.color(v.seriesField,T):k.color(T[0])}),d+=C}}),n.render(!0)}),o}function $5(o){var a,n,s=o.chart,c=o.options,f=c.xAxis,d=c.yAxis,v=c.xField,y=c.yField;return Jr((a={},a[v]=f,a[y[0]]=d[0],a))(Re({},o,{chart:ar(s,uo)})),Jr((n={},n[v]=f,n[y[1]]=d[1],n))(Re({},o,{chart:ar(s,fo)})),o}function h8(o){var a=o.chart,n=o.options,s=ar(a,uo),c=ar(a,fo),f=n.xField,d=n.yField,v=n.xAxis,y=n.yAxis;return a.axis(f,!1),a.axis(d[0],!1),a.axis(d[1],!1),s.axis(f,v),s.axis(d[0],db(y[0],qf.Left)),c.axis(f,!1),c.axis(d[1],db(y[1],qf.Right)),o}function oa(o){var a=o.chart,n=o.options,s=n.tooltip,c=ar(a,uo),f=ar(a,fo);return a.tooltip(s),c.tooltip({shared:!0}),f.tooltip({shared:!0}),o}function K5(o){var a=o.chart;return Kr(Re({},o,{chart:ar(a,uo)})),Kr(Re({},o,{chart:ar(a,fo)})),o}function J5(o){var a=o.chart,n=o.options,s=n.annotations,c=(0,_.U2)(s,[0]),f=(0,_.U2)(s,[1]);return Qr(c)(Re({},o,{chart:ar(a,uo),options:{annotations:c}})),Qr(f)(Re({},o,{chart:ar(a,fo),options:{annotations:f}})),o}function vb(o){var a=o.chart;return mr(Re({},o,{chart:ar(a,uo)})),mr(Re({},o,{chart:ar(a,fo)})),mr(o),o}function Q5(o){var a=o.chart;return Lr(Re({},o,{chart:ar(a,uo)})),Lr(Re({},o,{chart:ar(a,fo)})),o}function tD(o){var a=o.chart,n=o.options,s=n.yAxis;return sc(Re({},o,{chart:ar(a,uo),options:{yAxis:s[0]}})),sc(Re({},o,{chart:ar(a,fo),options:{yAxis:s[1]}})),o}function eD(o){var a=o.chart,n=o.options,s=n.legend,c=n.geometryOptions,f=n.yField,d=n.data,v=ar(a,uo),y=ar(a,fo);if(s===!1)a.legend(!1);else if((0,_.Kn)(s)&&s.custom===!0)a.legend(s);else{var b=(0,_.U2)(c,[0,"legend"],s),S=(0,_.U2)(c,[1,"legend"],s);a.once("beforepaint",function(){var C=d[0].length?$f({view:v,geometryOption:c[0],yField:f[0],legend:b}):[],T=d[1].length?$f({view:y,geometryOption:c[1],yField:f[1],legend:S}):[];a.legend(Re({},s,{custom:!0,items:C.concat(T)}))}),c[0].seriesField&&v.legend(c[0].seriesField,b),c[1].seriesField&&y.legend(c[1].seriesField,S),a.on("legend-item:click",function(C){var T=(0,_.U2)(C,"gEvent.delegateObject",{});if(T&&T.item){var k=T.item,R=k.value,D=k.isGeometry,V=k.viewId;if(D){var j=(0,_.cx)(f,function(q){return q===R});if(j>-1){var H=(0,_.U2)(ar(a,V),"geometries");(0,_.S6)(H,function(q){q.changeVisible(!T.item.unchecked)})}}else{var Z=(0,_.U2)(a.getController("legend"),"option.items",[]);(0,_.S6)(a.views,function(q){var K=q.getGroupScales();(0,_.S6)(K,function(Ct){Ct.values&&Ct.values.indexOf(R)>-1&&q.filter(Ct.field,function(Ft){var Jt=(0,_.sE)(Z,function(_e){return _e.value===Ft});return!Jt.unchecked})}),a.render(!0)})}}})}return o}function nD(o){var a=o.chart,n=o.options,s=n.slider,c=ar(a,uo),f=ar(a,fo);return s&&(c.option("slider",s),c.on("slider:valuechanged",function(d){var v=d.event,y=v.value,b=v.originValue;(0,_.Xy)(y,b)||pb(f,y)}),a.once("afterpaint",function(){if(!(0,_.jn)(s)){var d=s.start,v=s.end;(d||v)&&pb(f,[d,v])}})),o}function rD(o){return Un(X5,HA,vb,Z5,$5,h8,tD,oa,K5,J5,Q5,q5,eD,nD)(o)}var iD=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="dual-axes",n}return a.prototype.getDefaultOptions=function(){return Re({},o.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},a.prototype.getSchemaAdaptor=function(){return rD},a}(Kn);function aD(o,a){var n=a.data,s=a.coordinate,c=a.interactions,f=a.annotations,d=a.animation,v=a.tooltip,y=a.axes,b=a.meta,S=a.geometries;n&&o.data(n);var C={};y&&(0,_.S6)(y,function(T,k){C[k]=kr(T,Xa)}),C=Re({},b,C),o.scale(C),s&&o.coordinate(s),y===!1?o.axis(!1):(0,_.S6)(y,function(T,k){o.axis(k,T)}),(0,_.S6)(S,function(T){var k=Za({chart:o,options:T}).ext,R=T.adjust;R&&k.geometry.adjust(R)}),(0,_.S6)(c,function(T){T.enable===!1?o.removeInteraction(T.type):o.interaction(T.type,T.cfg)}),(0,_.S6)(f,function(T){o.annotation()[T.type]((0,L.pi)({},T))}),Nd(o,d),v?(o.interaction("tooltip"),o.tooltip(v)):v===!1&&o.removeInteraction("tooltip")}function oD(o){var a=o.chart,n=o.options,s=n.type,c=n.data,f=n.fields,d=n.eachView,v=(0,_.CE)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return a.data(c),a.facet(s,(0,L.pi)((0,L.pi)({},v),{fields:f,eachView:function(y,b){var S=d(y,b);if(S.geometries)aD(y,S);else{var C=S,T=C.options;T.tooltip&&y.interaction("tooltip"),qi(C.type,y,T)}}})),o}function gb(o){var a=o.chart,n=o.options,s=n.axes,c=n.meta,f=n.tooltip,d=n.coordinate,v=n.theme,y=n.legend,b=n.interactions,S=n.annotations,C={};return s&&(0,_.S6)(s,function(T,k){C[k]=kr(T,Xa)}),C=Re({},c,C),a.scale(C),a.coordinate(d),s?(0,_.S6)(s,function(T,k){a.axis(k,T)}):a.axis(!1),f?(a.interaction("tooltip"),a.tooltip(f)):f===!1&&a.removeInteraction("tooltip"),a.legend(y),v&&a.theme(v),(0,_.S6)(b,function(T){T.enable===!1?a.removeInteraction(T.type):a.interaction(T.type,T.cfg)}),(0,_.S6)(S,function(T){a.annotation()[T.type]((0,L.pi)({},T))}),o}function vc(o){return Un(mr,oD,gb)(o)}var Kf={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},d8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="area",n}return a.getDefaultOptions=function(){return Kf},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return vc},a}(Kn);function sD(o){var a=o.chart,n=o.options,s=n.data,c=n.type,f=n.xField,d=n.yField,v=n.colorField,y=n.sizeField,b=n.sizeRatio,S=n.shape,C=n.color,T=n.tooltip,k=n.heatmapStyle,R=n.meta;a.data(s);var D="polygon";c==="density"&&(D="heatmap");var V=Pi(T,[f,d,v]),j=V.fields,H=V.formatter,Z=1;return(b||b===0)&&(!S&&!y?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):b<0||b>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):Z=b),Za(Re({},o,{options:{type:D,colorField:v,tooltipFields:j,shapeField:y||"",label:void 0,mapping:{tooltip:H,shape:S&&(y?function(q){var K=s.map(function(_e){return _e[y]}),Ct=(R==null?void 0:R[y])||{},Ft=Ct.min,Jt=Ct.max;return Ft=(0,_.hj)(Ft)?Ft:Math.min.apply(Math,K),Jt=(0,_.hj)(Jt)?Jt:Math.max.apply(Math,K),[S,((0,_.U2)(q,y)-Ft)/(Jt-Ft),Z]}:function(){return[S,1,Z]}),color:C||v&&a.getTheme().sequenceColors.join("-"),style:k}}})),o}function yb(o){var a,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return Un(Jr((a={},a[f]=s,a[d]=c,a)))(o)}function mb(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?a.axis(d,!1):a.axis(d,c),o}function xb(o){var a=o.chart,n=o.options,s=n.legend,c=n.colorField,f=n.sizeField,d=n.sizeLegend,v=s!==!1;return c&&a.legend(c,v?s:!1),f&&a.legend(f,d===void 0?s:d),!v&&!d&&a.legend(!1),o}function pg(o){var a=o.chart,n=o.options,s=n.label,c=n.colorField,f=n.type,d=fi(a,f==="density"?"heatmap":"polygon");if(!s)d.label(!1);else if(c){var v=s.callback,y=(0,L._T)(s,["callback"]);d.label({fields:[c],callback:v,cfg:Zi(y)})}return o}function p8(o){var a,n,s=o.chart,c=o.options,f=c.coordinate,d=c.reflect,v=Re({actions:[]},f!=null?f:{type:"rect"});return d&&((n=(a=v.actions)===null||a===void 0?void 0:a.push)===null||n===void 0||n.call(a,["reflect",d])),s.coordinate(v),o}function lD(o){return Un(mr,lo("heatmapStyle"),yb,p8,sD,mb,xb,Oi,pg,Qr(),Kr,Lr,fl)(o)}var tp=Re({},Kn.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});Or("polygon","circle",{draw:function(o,a){var n,s,c=o.x,f=o.y,d=this.parsePoints(o.points),v=Math.abs(d[2].x-d[1].x),y=Math.abs(d[1].y-d[0].y),b=Math.min(v,y)/2,S=Number(o.shape[1]),C=Number(o.shape[2]),T=Math.sqrt(C),k=b*T*Math.sqrt(S),R=((n=o.style)===null||n===void 0?void 0:n.fill)||o.color||((s=o.defaultStyle)===null||s===void 0?void 0:s.fill),D=a.addShape("circle",{attrs:(0,L.pi)((0,L.pi)((0,L.pi)({x:c,y:f,r:k},o.defaultStyle),o.style),{fill:R})});return D}}),Or("polygon","square",{draw:function(o,a){var n,s,c=o.x,f=o.y,d=this.parsePoints(o.points),v=Math.abs(d[2].x-d[1].x),y=Math.abs(d[1].y-d[0].y),b=Math.min(v,y),S=Number(o.shape[1]),C=Number(o.shape[2]),T=Math.sqrt(C),k=b*T*Math.sqrt(S),R=((n=o.style)===null||n===void 0?void 0:n.fill)||o.color||((s=o.defaultStyle)===null||s===void 0?void 0:s.fill),D=a.addShape("rect",{attrs:(0,L.pi)((0,L.pi)((0,L.pi)({x:c-k/2,y:f-k/2,width:k,height:k},o.defaultStyle),o.style),{fill:R})});return D}});var vg=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="heatmap",n}return a.getDefaultOptions=function(){return tp},a.prototype.getSchemaAdaptor=function(){return lD},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(Kn),ep="liquid";function gc(o){return[{percent:o,type:ep}]}function Jf(o){var a=o.chart,n=o.options,s=n.percent,c=n.liquidStyle,f=n.radius,d=n.outline,v=n.wave,y=n.shape,b=n.shapeStyle,S=n.animation;a.scale({percent:{min:0,max:1}}),a.data(gc(s));var C=n.color||a.getTheme().defaultColor,T=Re({},o,{options:{xField:"type",yField:"percent",widthRatio:f,interval:{color:C,style:c,shape:"liquid-fill-gauge"}}}),k=aa(T).ext,R=k.geometry,D=a.getTheme().background,V={percent:s,radius:f,outline:d,wave:v,shape:y,shapeStyle:b,background:D,animation:S};return R.customInfo(V),a.legend(!1),a.axis(!1),a.tooltip(!1),o}function bb(o,a){var n=o.chart,s=o.options,c=s.statistic,f=s.percent,d=s.meta;n.getController("annotation").clear(!0);var v=(0,_.U2)(d,["percent","formatter"])||function(b){return"".concat((b*100).toFixed(2),"%")},y=c.content;return y&&(y=Re({},y,{content:(0,_.UM)(y.content)?v(f):y.content})),Dd(n,{statistic:(0,L.pi)((0,L.pi)({},c),{content:y}),plotType:"liquid"},{percent:f}),a&&n.render(!0),o}function YA(o){return Un(mr,lo("liquidStyle"),Jf,bb,Jr({}),Lr,Kr)(o)}var Pa={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},UA=5e3;function XA(o,a,n){return o+(a-o)*n}function cD(o){var a=(0,L.pi)({opacity:1},o.style);return o.color&&!a.fill&&(a.fill=o.color),a}function uD(o){var a={fill:"#fff",fillOpacity:0,lineWidth:4},n=(0,_.CD)({},a,o.style);return o.color&&!n.stroke&&(n.stroke=o.color),(0,_.hj)(o.opacity)&&(n.opacity=n.strokeOpacity=o.opacity),n}function fD(o,a,n,s){return a===0?[[o+1/2*n/Math.PI/2,s/2],[o+1/2*n/Math.PI,s],[o+n/4,s]]:a===1?[[o+1/2*n/Math.PI/2*(Math.PI-2),s],[o+1/2*n/Math.PI/2*(Math.PI-1),s/2],[o+n/4,0]]:a===2?[[o+1/2*n/Math.PI/2,-s/2],[o+1/2*n/Math.PI,-s],[o+n/4,-s]]:[[o+1/2*n/Math.PI/2*(Math.PI-2),-s],[o+1/2*n/Math.PI/2*(Math.PI-1),-s/2],[o+n/4,0]]}function ZA(o,a,n,s,c,f,d){for(var v=Math.ceil(2*o/n*4)*4,y=[],b=s;b<-Math.PI*2;)b+=Math.PI*2;for(;b>0;)b-=Math.PI*2;b=b/Math.PI/2*n;var S=f-o+b-o*2;y.push(["M",S,a]);for(var C=0,T=0;T<v;++T){var k=T%4,R=fD(T*n/4,k,n,c);y.push(["C",R[0][0]+S,-R[0][1]+a,R[1][0]+S,-R[1][1]+a,R[2][0]+S,-R[2][1]+a]),T===v-1&&(C=R[2][0])}return y.push(["L",C+S,d+o]),y.push(["L",S,d+o]),y.push(["Z"]),y}function hD(o,a,n,s,c,f,d,v,y,b){for(var S=c.fill,C=c.opacity,T=d.getBBox(),k=T.maxX-T.minX,R=T.maxY-T.minY,D=0;D<s;D++){var V=s<=1?1:D/(s-1),j=f.addShape("path",{name:"waterwave-path",attrs:{path:ZA(v,T.minY+R*n,y,0,k/32,o,a),fill:S,opacity:XA(.2,.9,V)*C}});try{if(b===!1)return;var H=Gx([["t",y,0]]);j.stopAnimate(),j.animate({matrix:H},{duration:XA(.5*UA,UA,V),repeat:!0})}catch(Z){console.warn("off-screen group animate error!")}}}function dD(o,a,n,s){var c=n*2/3,f=Math.max(c,s),d=c/2,v=o,y=d+a-f/2,b=Math.asin(d/((f-d)*.85)),S=Math.sin(b)*d,C=Math.cos(b)*d,T=v-C,k=y+S,R=o,D=y+d/Math.sin(b);return`
      M `.concat(T," ").concat(k,`
      A `).concat(d," ").concat(d," 0 1 1 ").concat(T+C*2," ").concat(k,`
      Q `).concat(R," ").concat(D," ").concat(o," ").concat(a+f/2,`
      Q `).concat(R," ").concat(D," ").concat(T," ").concat(k,`
      Z 
    `)}function v8(o,a,n,s){var c=n/2,f=s/2;return`
      M `.concat(o," ").concat(a-f,` 
      a `).concat(c," ").concat(f," 0 1 0 0 ").concat(f*2,`
      a `).concat(c," ").concat(f," 0 1 0 0 ").concat(-f*2,`
      Z
    `)}function pD(o,a,n,s){var c=s/2,f=n/2;return`
      M `.concat(o," ").concat(a-c,`
      L `).concat(o+f," ").concat(a,`
      L `).concat(o," ").concat(a+c,`
      L `).concat(o-f," ").concat(a,`
      Z
    `)}function vD(o,a,n,s){var c=s/2,f=n/2;return`
      M `.concat(o," ").concat(a-c,`
      L `).concat(o+f," ").concat(a+c,`
      L `).concat(o-f," ").concat(a+c,`
      Z
    `)}function gD(o,a,n,s){var c=.618,f=s/2,d=n/2*c;return`
      M `.concat(o-d," ").concat(a-f,`
      L `).concat(o+d," ").concat(a-f,`
      L `).concat(o+d," ").concat(a+f,`
      L `).concat(o-d," ").concat(a+f,`
      Z
    `)}var qA={pin:dD,circle:v8,diamond:pD,triangle:vD,rect:gD};Or("interval","liquid-fill-gauge",{draw:function(o,a){var n=.5,s=.5,c=o.customInfo,f=c,d=f.percent,v=f.radius,y=f.shape,b=f.shapeStyle,S=f.background,C=f.animation,T=c.outline,k=c.wave,R=T.border,D=T.distance,V=k.count,j=k.length,H=(0,_.u4)(o.points,function(Mn,Pn){return Math.min(Mn,Pn.x)},1/0),Z=this.parsePoint({x:n,y:s}),q=this.parsePoint({x:H,y:s}),K=Z.x-q.x,Ct=Math.min(K,q.y*v),Ft=cD(o),Jt=uD((0,_.CD)({},o,T)),_e=Ct-R/2,ge=typeof y=="function"?y:qA[y]||qA.circle,Be=ge(Z.x,Z.y,_e*2,_e*2);if(b&&a.addShape("path",{name:"shape",attrs:(0,L.pi)({path:Be},b)}),d>0){var tn=a.addGroup({name:"waves"}),vn=tn.setClip({type:"path",attrs:{path:Be}});hD(Z.x,Z.y,1-o.points[1].y,V,Ft,tn,vn,Ct*2,j,C)}return a.addShape("path",{name:"distance",attrs:{path:Be,fill:"transparent",lineWidth:R+D*2,stroke:S==="transparent"?"#fff":S}}),a.addShape("path",{name:"wrap",attrs:(0,_.CD)(Jt,{path:Be,fill:"transparent",lineWidth:R})}),a}});var g8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="liquid",n}return a.getDefaultOptions=function(){return Pa},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.changeData=function(n){this.chart.emit(jt.BEFORE_CHANGE_DATA,$r.fromData(this.chart,jt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:n}),this.chart.data(gc(n)),bb({chart:this.chart,options:this.options},!0),this.chart.emit(jt.AFTER_CHANGE_DATA,$r.fromData(this.chart,jt.AFTER_CHANGE_DATA,null))},a.prototype.getSchemaAdaptor=function(){return YA},a}(Kn);function $A(o){var a=o.chart,n=o.options,s=n.data,c=n.lineStyle,f=n.color,d=n.point,v=n.area;a.data(s);var y=Re({},o,{options:{line:{style:c,color:f},point:d&&(0,L.pi)({color:f},d),area:v&&(0,L.pi)({color:f},v),label:void 0}}),b=Re({},y,{options:{tooltip:!1}}),S=(d==null?void 0:d.state)||n.state,C=Re({},y,{options:{tooltip:!1,state:S}});return pu(y),co(C),jd(b),o}function yD(o){var a,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return Un(Jr((a={},a[f]=s,a[d]=c,a)))(o)}function mD(o){var a=o.chart,n=o.options,s=n.radius,c=n.startAngle,f=n.endAngle;return a.coordinate("polar",{radius:s,startAngle:c,endAngle:f}),o}function y8(o){var a=o.chart,n=o.options,s=n.xField,c=n.xAxis,f=n.yField,d=n.yAxis;return a.axis(s,c),a.axis(f,d),o}function xD(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=fi(a,"line");if(!s)f.label(!1);else{var d=s.callback,v=(0,L._T)(s,["callback"]);f.label({fields:[c],callback:d,cfg:Zi(v)})}return o}function m8(o){return Un($A,yD,mr,mD,y8,ac,Oi,xD,Kr,Lr,Qr())(o)}var x8=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),a.prototype.getTooltipItems=function(n){var s=this.getTooltipCfg(),c=s.shared,f=s.title,d=o.prototype.getTooltipItems.call(this,n);if(d.length>0){var v=this.view.geometries[0],y=v.dataArray,b=d[0].name,S=[];return y.forEach(function(C){C.forEach(function(T){var k=ia.getTooltipItems(T,v),R=k[0];if(!c&&R&&R.name===b){var D=(0,_.UM)(f)?b:f;S.push((0,L.pi)((0,L.pi)({},R),{name:R.title,title:D}))}else if(c&&R){var D=(0,_.UM)(f)?R.name||b:f;S.push((0,L.pi)((0,L.pi)({},R),{name:R.title,title:D}))}})}),S}return[]},a}(jl);pr("radar-tooltip",x8);var bD=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.init=function(){var n=this.context.view;n.removeInteraction("tooltip")},a.prototype.show=function(){var n=this.context.event,s=this.getTooltipController();s.showTooltip({x:n.x,y:n.y})},a.prototype.hide=function(){var n=this.getTooltipController();n.hideTooltip()},a.prototype.getTooltipController=function(){var n=this.context.view;return n.getController("radar-tooltip")},a}(Rr);In("radar-tooltip",bD),Zn("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var b8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="radar",n}return a.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(n)},a.prototype.getDefaultOptions=function(){return Re({},o.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},a.prototype.getSchemaAdaptor=function(){return m8},a}(Kn);function np(o,a,n){var s=n.map(function(d){return d[a]}).filter(function(d){return d!==void 0}),c=s.length>0?Math.max.apply(Math,s):0,f=Math.abs(o)%360;return f?c*360/f:c}function wb(o,a,n){var s=[];return o.forEach(function(c){var f=s.find(function(d){return d[a]===c[a]});f?f[n]+=c[n]||null:s.push((0,L.pi)({},c))}),s}function KA(o){var a=o.chart,n=o.options,s=n.barStyle,c=n.color,f=n.tooltip,d=n.colorField,v=n.type,y=n.xField,b=n.yField,S=n.data,C=n.shape,T=ul(S,b);a.data(T);var k=Re({},o,{options:{tooltip:f,seriesField:d,interval:{style:s,color:c,shape:C||(v==="line"?"line":"intervel")},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}});return aa(k),v==="line"&&co({chart:a,options:{xField:y,yField:b,seriesField:d,point:{shape:"circle",color:c}}}),o}function JA(o){var a,n=o.options,s=n.yField,c=n.xField,f=n.data,d=n.isStack,v=n.isGroup,y=n.colorField,b=n.maxAngle,S=d&&!v&&y?wb(f,c,s):f,C=ul(S,s);return Un(Jr((a={},a[s]={min:0,max:np(b,s,C)},a)))(o)}function wD(o){var a=o.chart,n=o.options,s=n.radius,c=n.innerRadius,f=n.startAngle,d=n.endAngle;return a.coordinate({type:"polar",cfg:{radius:s,innerRadius:c,startAngle:f,endAngle:d}}).transpose(),o}function QA(o){var a=o.chart,n=o.options,s=n.xField,c=n.xAxis;return a.axis(s,c),o}function w8(o){var a=o.chart,n=o.options,s=n.label,c=n.yField,f=fi(a,"interval");if(!s)f.label(!1);else{var d=s.callback,v=(0,L._T)(s,["callback"]);f.label({fields:[c],callback:d,cfg:(0,L.pi)((0,L.pi)({},Zi(v)),{type:"polar"})})}return o}function M8(o){return Un(lo("barStyle"),KA,JA,QA,wD,Kr,Lr,mr,Oi,ac,Qr(),w8)(o)}var S8=Re({},Kn.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),IV=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="radial-bar",n}return a.getDefaultOptions=function(){return S8},a.prototype.changeData=function(n){this.updateOption({data:n}),JA({chart:this.chart,options:this.options}),this.chart.changeData(n)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return M8},a}(Kn);function MD(o){var a=o.chart,n=o.options,s=n.data,c=n.sectorStyle,f=n.shape,d=n.color;return a.data(s),Un(aa)(Re({},o,{options:{marginRatio:1,interval:{style:c,color:d,shape:f}}})),o}function SD(o){var a=o.chart,n=o.options,s=n.label,c=n.xField,f=fi(a,"interval");if(s===!1)f.label(!1);else if((0,_.Kn)(s)){var d=s.callback,v=s.fields,y=(0,L._T)(s,["callback","fields"]),b=y.offset,S=y.layout;(b===void 0||b>=0)&&(S=S?(0,_.kJ)(S)?S:[S]:[],y.layout=(0,_.hX)(S,function(C){return C.type!=="limit-in-shape"}),y.layout.length||delete y.layout),f.label({fields:v||[c],callback:d,cfg:Zi(y)})}else Gi(Vo.WARN,s===null,"the label option must be an Object."),f.label({fields:[c]});return o}function _D(o){var a=o.chart,n=o.options,s=n.legend,c=n.seriesField;return s===!1?a.legend(!1):c&&a.legend(c,s),o}function tT(o){var a=o.chart,n=o.options,s=n.radius,c=n.innerRadius,f=n.startAngle,d=n.endAngle;return a.coordinate({type:"polar",cfg:{radius:s,innerRadius:c,startAngle:f,endAngle:d}}),o}function _8(o){var a,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return Un(Jr((a={},a[f]=s,a[d]=c,a)))(o)}function O8(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return s?a.axis(f,s):a.axis(f,!1),c?a.axis(d,c):a.axis(d,!1),o}function C8(o){Un(lo("sectorStyle"),MD,_8,SD,tT,O8,_D,Oi,Kr,Lr,mr,Qr(),fl)(o)}var A8=Re({},Kn.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),RV=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="rose",n}return a.getDefaultOptions=function(){return A8},a.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(n)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return C8},a}(Kn),OD="x",eT="y",CD="name",Mb="nodes",Sb="edges";function T8(o,a,n){var s=[];return o.forEach(function(c){var f=c[a],d=c[n];s.includes(f)||s.push(f),s.includes(d)||s.push(d)}),s}function E8(o,a,n,s){var c={};return a.forEach(function(f){c[f]={},a.forEach(function(d){c[f][d]=0})}),o.forEach(function(f){c[f[n]][f[s]]=1}),c}function nT(o,a,n){if(!(0,_.kJ)(o))return[];var s=[],c=T8(o,a,n),f=E8(o,c,a,n),d={};c.forEach(function(y){d[y]=0});function v(y){d[y]=1,c.forEach(function(b){if(f[y][b]!=0)if(d[b]==1)s.push("".concat(y,"_").concat(b));else{if(d[b]==-1)return;v(b)}}),d[y]=-1}return c.forEach(function(y){d[y]!=-1&&v(y)}),s.length!==0&&console.warn("sankey data contains circle, ".concat(s.length," records removed."),s),o.filter(function(y){return s.findIndex(function(b){return b==="".concat(y[a],"_").concat(y[n])})<0})}function AD(o){return o.target.depth}function TD(o){return o.depth}function k8(o,a){return a-1-o.height}function rT(o,a){return o.sourceLinks.length?o.depth:a-1}function ED(o){return o.targetLinks.length?o.depth:o.sourceLinks.length?(0,_.F)(o.sourceLinks,AD)-1:0}function _b(o){return function(){return o}}function iT(o,a){for(var n=0,s=0;s<o.length;s++)n+=a(o[s]);return n}function aT(o,a){for(var n=-1/0,s=0;s<o.length;s++)n=Math.max(a(o[s]),n);return n}function P8(o,a){for(var n=1/0,s=0;s<o.length;s++)n=Math.min(a(o[s]),n);return n}function kD(o,a){return gg(o.source,a.source)||o.index-a.index}function PD(o,a){return gg(o.target,a.target)||o.index-a.index}function gg(o,a){return o.y0-a.y0}function oT(o){return o.value}function L8(o){return o.index}function I8(o){return o.nodes}function R8(o){return o.links}function LD(o,a){var n=o.get(a);if(!n)throw new Error("missing: "+a);return n}function ID(o){for(var a=o.nodes,n=0,s=a;n<s.length;n++){for(var c=s[n],f=c.y0,d=f,v=0,y=c.sourceLinks;v<y.length;v++){var b=y[v];b.y0=f+b.width/2,f+=b.width}for(var S=0,C=c.targetLinks;S<C.length;S++){var b=C[S];b.y1=d+b.width/2,d+=b.width}}}function F8(){var o=0,a=0,n=1,s=1,c=24,f=8,d,v=L8,y=rT,b,S,C,T=I8,k=R8,R=6;function D(Ze){var ln={nodes:T(Ze),links:k(Ze)};return V(ln),j(ln),H(ln),Z(ln),Ct(ln),ID(ln),ln}D.update=function(Ze){return ID(Ze),Ze},D.nodeId=function(Ze){return arguments.length?(v=typeof Ze=="function"?Ze:_b(Ze),D):v},D.nodeAlign=function(Ze){return arguments.length?(y=typeof Ze=="function"?Ze:_b(Ze),D):y},D.nodeDepth=function(Ze){return arguments.length?(b=Ze,D):b},D.nodeSort=function(Ze){return arguments.length?(S=Ze,D):S},D.nodeWidth=function(Ze){return arguments.length?(c=+Ze,D):c},D.nodePadding=function(Ze){return arguments.length?(f=d=+Ze,D):f},D.nodes=function(Ze){return arguments.length?(T=typeof Ze=="function"?Ze:_b(Ze),D):T},D.links=function(Ze){return arguments.length?(k=typeof Ze=="function"?Ze:_b(Ze),D):k},D.linkSort=function(Ze){return arguments.length?(C=Ze,D):C},D.size=function(Ze){return arguments.length?(o=a=0,n=+Ze[0],s=+Ze[1],D):[n-o,s-a]},D.extent=function(Ze){return arguments.length?(o=+Ze[0][0],n=+Ze[1][0],a=+Ze[0][1],s=+Ze[1][1],D):[[o,a],[n,s]]},D.iterations=function(Ze){return arguments.length?(R=+Ze,D):R};function V(Ze){var ln=Ze.nodes,dn=Ze.links;ln.forEach(function(er,Ir){er.index=Ir,er.sourceLinks=[],er.targetLinks=[]});var fn=new Map(ln.map(function(er){return[v(er),er]}));if(dn.forEach(function(er,Ir){er.index=Ir;var hi=er.source,si=er.target;typeof hi!="object"&&(hi=er.source=LD(fn,hi)),typeof si!="object"&&(si=er.target=LD(fn,si)),hi.sourceLinks.push(er),si.targetLinks.push(er)}),C!=null)for(var bn=0,Bn=ln;bn<Bn.length;bn++){var tr=Bn[bn],sr=tr.sourceLinks,Xn=tr.targetLinks;sr.sort(C),Xn.sort(C)}}function j(Ze){for(var ln=Ze.nodes,dn=0,fn=ln;dn<fn.length;dn++){var bn=fn[dn];bn.value=bn.fixedValue===void 0?Math.max(iT(bn.sourceLinks,oT),iT(bn.targetLinks,oT)):bn.fixedValue}}function H(Ze){for(var ln=Ze.nodes,dn=ln.length,fn=new Set(ln),bn=new Set,Bn=0;fn.size;){if(fn.forEach(function(er){er.depth=Bn;for(var Ir=0,hi=er.sourceLinks;Ir<hi.length;Ir++){var si=hi[Ir].target;bn.add(si)}}),++Bn>dn)throw new Error("circular link");fn=bn,bn=new Set}if(b)for(var tr=Math.max(aT(ln,function(er){return er.depth})+1,0),sr=void 0,Xn=0;Xn<ln.length;Xn++)sr=ln[Xn],sr.depth=b.call(null,sr,tr)}function Z(Ze){for(var ln=Ze.nodes,dn=ln.length,fn=new Set(ln),bn=new Set,Bn=0;fn.size;){if(fn.forEach(function(tr){tr.height=Bn;for(var sr=0,Xn=tr.targetLinks;sr<Xn.length;sr++){var er=Xn[sr].source;bn.add(er)}}),++Bn>dn)throw new Error("circular link");fn=bn,bn=new Set}}function q(Ze){for(var ln=Ze.nodes,dn=Math.max(aT(ln,function(si){return si.depth})+1,0),fn=(n-o-c)/(dn-1),bn=new Array(dn).fill(0).map(function(){return[]}),Bn=0,tr=ln;Bn<tr.length;Bn++){var sr=tr[Bn],Xn=Math.max(0,Math.min(dn-1,Math.floor(y.call(null,sr,dn))));sr.layer=Xn,sr.x0=o+Xn*fn,sr.x1=sr.x0+c,bn[Xn]?bn[Xn].push(sr):bn[Xn]=[sr]}if(S)for(var er=0,Ir=bn;er<Ir.length;er++){var hi=Ir[er];hi.sort(S)}return bn}function K(Ze){for(var ln=P8(Ze,function(po){return(s-a-(po.length-1)*d)/iT(po,oT)}),dn=0,fn=Ze;dn<fn.length;dn++){for(var bn=fn[dn],Bn=a,tr=0,sr=bn;tr<sr.length;tr++){var Xn=sr[tr];Xn.y0=Bn,Xn.y1=Bn+Xn.value*ln,Bn=Xn.y1+d;for(var er=0,Ir=Xn.sourceLinks;er<Ir.length;er++){var hi=Ir[er];hi.width=hi.value*ln}}Bn=(s-Bn+d)/(bn.length+1);for(var si=0;si<bn.length;++si){var Xn=bn[si];Xn.y0+=Bn*(si+1),Xn.y1+=Bn*(si+1)}vn(bn)}}function Ct(Ze){var ln=q(Ze);d=Math.min(f,(s-a)/(aT(ln,function(Bn){return Bn.length})-1)),K(ln);for(var dn=0;dn<R;++dn){var fn=Math.pow(.99,dn),bn=Math.max(1-fn,(dn+1)/R);Jt(ln,fn,bn),Ft(ln,fn,bn)}}function Ft(Ze,ln,dn){for(var fn=1,bn=Ze.length;fn<bn;++fn){for(var Bn=Ze[fn],tr=0,sr=Bn;tr<sr.length;tr++){for(var Xn=sr[tr],er=0,Ir=0,hi=0,si=Xn.targetLinks;hi<si.length;hi++){var po=si[hi],wc=po.source,Ys=po.value,Au=Ys*(Xn.layer-wc.layer);er+=Mn(wc,Xn)*Au,Ir+=Au}if(Ir>0){var Po=(er/Ir-Xn.y0)*ln;Xn.y0+=Po,Xn.y1+=Po,tn(Xn)}}S===void 0&&Bn.sort(gg),Bn.length&&_e(Bn,dn)}}function Jt(Ze,ln,dn){for(var fn=Ze.length,bn=fn-2;bn>=0;--bn){for(var Bn=Ze[bn],tr=0,sr=Bn;tr<sr.length;tr++){for(var Xn=sr[tr],er=0,Ir=0,hi=0,si=Xn.sourceLinks;hi<si.length;hi++){var po=si[hi],wc=po.target,Ys=po.value,Au=Ys*(wc.layer-Xn.layer);er+=Pn(Xn,wc)*Au,Ir+=Au}if(Ir>0){var Po=(er/Ir-Xn.y0)*ln;Xn.y0+=Po,Xn.y1+=Po,tn(Xn)}}S===void 0&&Bn.sort(gg),Bn.length&&_e(Bn,dn)}}function _e(Ze,ln){var dn=Ze.length>>1,fn=Ze[dn];Be(Ze,fn.y0-d,dn-1,ln),ge(Ze,fn.y1+d,dn+1,ln),Be(Ze,s,Ze.length-1,ln),ge(Ze,a,0,ln)}function ge(Ze,ln,dn,fn){for(;dn<Ze.length;++dn){var bn=Ze[dn],Bn=(ln-bn.y0)*fn;Bn>1e-6&&(bn.y0+=Bn,bn.y1+=Bn),ln=bn.y1+d}}function Be(Ze,ln,dn,fn){for(;dn>=0;--dn){var bn=Ze[dn],Bn=(bn.y1-ln)*fn;Bn>1e-6&&(bn.y0-=Bn,bn.y1-=Bn),ln=bn.y0-d}}function tn(Ze){var ln=Ze.sourceLinks,dn=Ze.targetLinks;if(C===void 0){for(var fn=0,bn=dn;fn<bn.length;fn++){var Bn=bn[fn].source.sourceLinks;Bn.sort(PD)}for(var tr=0,sr=ln;tr<sr.length;tr++){var Xn=sr[tr].target.targetLinks;Xn.sort(kD)}}}function vn(Ze){if(C===void 0)for(var ln=0,dn=Ze;ln<dn.length;ln++){var fn=dn[ln],bn=fn.sourceLinks,Bn=fn.targetLinks;bn.sort(PD),Bn.sort(kD)}}function Mn(Ze,ln){for(var dn=Ze.y0-(Ze.sourceLinks.length-1)*d/2,fn=0,bn=Ze.sourceLinks;fn<bn.length;fn++){var Bn=bn[fn],tr=Bn.target,sr=Bn.width;if(tr===ln)break;dn+=sr+d}for(var Xn=0,er=ln.targetLinks;Xn<er.length;Xn++){var Ir=er[Xn],tr=Ir.source,sr=Ir.width;if(tr===Ze)break;dn-=sr}return dn}function Pn(Ze,ln){for(var dn=ln.y0-(ln.targetLinks.length-1)*d/2,fn=0,bn=ln.targetLinks;fn<bn.length;fn++){var Bn=bn[fn],tr=Bn.source,sr=Bn.width;if(tr===Ze)break;dn+=sr+d}for(var Xn=0,er=Ze.sourceLinks;Xn<er.length;Xn++){var Ir=er[Xn],tr=Ir.target,sr=Ir.width;if(tr===ln)break;dn-=sr}return dn}return D}var RD={left:TD,right:k8,center:ED,justify:rT},D8={nodeId:function(o){return o.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function B8(o){var a=(0,_.HD)(o)?RD[o]:(0,_.mf)(o)?o:null;return a||rT}function N8(o){return(0,_.f0)({},D8,o)}function z8(o,a){var n=N8(o),s=n.nodeId,c=n.nodeSort,f=n.nodeAlign,d=n.nodeWidth,v=n.nodePadding,y=n.nodeDepth,b=F8().nodeSort(c).nodeWidth(d).nodePadding(v).nodeDepth(y).nodeAlign(B8(f)).extent([[0,0],[1,1]]).nodeId(s),S=b(a),C=S.nodes.map(function(k){var R=k.x0,D=k.x1,V=k.y0,j=k.y1;return k.x=[R,D,D,R],k.y=[V,V,j,j],k}).filter(function(k){return k.name!==null}),T=S.links.map(function(k){var R=k.source,D=k.target,V=R.x1,j=D.x0;k.x=[V,V,j,j];var H=k.width/2;return k.y=[k.y0+H,k.y0-H,k.y1+H,k.y1-H],k}).filter(function(k){var R=k.source,D=k.target;return R.name!==null&&D.name!==null});return{nodes:C,links:T}}function sT(o){return o==="node-link"}function j8(o,a,n){return du(o)?o/n:a}function G8(o,a,n){return du(o)?o/n:a}function FD(o,a,n){var s=o.dataType,c=o.data,f=o.sourceField,d=o.targetField,v=o.weightField,y=o.nodeAlign,b=o.nodeSort,S=o.nodePadding,C=o.nodePaddingRatio,T=o.nodeWidth,k=o.nodeWidthRatio,R=o.nodeDepth,D=o.rawFields,V=D===void 0?[]:D,j;sT(s)?j=c:j=rc(nT(c,f,d),f,d,v,V);var H=z8({nodeAlign:y,nodePadding:G8(S,C,n),nodeWidth:j8(T,k,a),nodeSort:b,nodeDepth:R},j),Z=H.nodes,q=H.links;return{nodes:Z.map(function(K){return(0,L.pi)((0,L.pi)({},kr(K,(0,L.ev)(["x","y","name"],V,!0))),{isNode:!0})}),edges:q.map(function(K){return(0,L.pi)((0,L.pi)({source:K.source.name,target:K.target.name,name:K.source.name||K.target.name},kr(K,(0,L.ev)(["x","y","value"],V,!0))),{isNode:!1})})}}function W8(o){var a=o.options,n=a.rawFields,s=n===void 0?[]:n;return Re({},{options:{tooltip:{fields:(0,_.jj)((0,L.ev)(["name","source","target","value","isNode"],s,!0))},label:{fields:(0,_.jj)((0,L.ev)(["x","name"],s,!0))}}},o)}function DD(o){var a=o.chart,n=o.options,s=n.color,c=n.nodeStyle,f=n.edgeStyle,d=n.label,v=n.tooltip,y=n.nodeState,b=n.edgeState,S=n.rawFields,C=S===void 0?[]:S;a.legend(!1),a.tooltip(v),a.axis(!1),a.coordinate().reflect("y");var T=FD(n,a.width,a.height),k=T.nodes,R=T.edges,D=a.createView({id:Sb});D.data(R),vx({chart:D,options:{xField:OD,yField:eT,seriesField:CD,rawFields:(0,L.ev)(["source","target"],C,!0),edge:{color:s,style:f,shape:"arc"},tooltip:v,state:b}});var V=a.createView({id:Mb});return V.data(k),Gd({chart:V,options:{xField:OD,yField:eT,seriesField:CD,polygon:{color:s,style:c},label:d,tooltip:v,state:y}}),a.interaction("element-active"),a.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),o}function lT(o){var a=o.chart,n=o.options,s=n.animation,c=(0,L.ev)((0,L.ev)([],a.views[0].geometries,!0),a.views[1].geometries,!0);return Nd(a,s,c),o}function V8(o){var a=o.chart,n=o.options,s=n.nodeDraggable,c="sankey-node-draggable";return s?a.interaction(c):a.removeInteraction(c),o}function H8(o){var a=o.chart,n=o.options,s=n.interactions,c=s===void 0?[]:s,f=[].concat(c,n.nodeInteractions||[]),d=[].concat(c,n.edgeInteractions||[]),v=ar(a,Mb),y=ar(a,Sb);return f.forEach(function(b){(b==null?void 0:b.enable)===!1?v.removeInteraction(b.type):v.interaction(b.type,b.cfg||{})}),d.forEach(function(b){(b==null?void 0:b.enable)===!1?y.removeInteraction(b.type):y.interaction(b.type,b.cfg||{})}),o}function Y8(o){return Un(W8,DD,H8,V8,lT,mr)(o)}var U8=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.isDragging=!1,n}return a.prototype.isNodeElement=function(){var n=(0,_.U2)(this.context,"event.target");if(n){var s=n.get("element");return s&&s.getModel().data.isNode}return!1},a.prototype.getNodeView=function(){return ar(this.context.view,Mb)},a.prototype.getEdgeView=function(){return ar(this.context.view,Sb)},a.prototype.getCurrentDatumIdx=function(n){return this.getNodeView().geometries[0].elements.indexOf(n)},a.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,_.U2)(this.context,"event.x"),y:(0,_.U2)(this.context,"event.y")};var n=this.context.event.target.get("element"),s=this.getCurrentDatumIdx(n);if(s===-1)return;this.currentElementIdx=s,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},a.prototype.translate=function(){if(this.isDragging){var n=this.context.view,s={x:(0,_.U2)(this.context,"event.x"),y:(0,_.U2)(this.context,"event.y")},c=s.x-this.prevPoint.x,f=s.y-this.prevPoint.y,d=this.getNodeView(),v=d.geometries[0].elements[this.currentElementIdx];if(v&&v.getModel()){var y=v.getModel().data,b=d.getOptions().data,S=d.getCoordinate(),C={x:c/S.getWidth(),y:f/S.getHeight()},T=(0,L.pi)((0,L.pi)({},y),{x:y.x.map(function(j){return j+=C.x}),y:y.y.map(function(j){return j+=C.y})}),k=(0,L.ev)([],b,!0);k[this.currentElementIdx]=T,d.data(k);var R=y.name,D=this.getEdgeView(),V=D.getOptions().data;V.forEach(function(j){j.source===R&&(j.x[0]+=C.x,j.x[1]+=C.x,j.y[0]+=C.y,j.y[1]+=C.y),j.target===R&&(j.x[2]+=C.x,j.x[3]+=C.x,j.y[2]+=C.y,j.y[3]+=C.y)}),D.data(V),this.prevPoint=s,n.render(!0)}}},a.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},a}(Rr);In("sankey-node-drag",U8),Zn("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(o){return o.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var FV=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="sankey",n}return a.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(n){var s=n.name;return s},callback:function(n){var s=n[1]===1;return{style:{fill:"#545454",textAlign:s?"end":"start"},offsetX:s?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(n){return!(0,_.U2)(n,[0,"data","isNode"])},formatter:function(n){var s=n.source,c=n.target,f=n.value;return{name:s+" -> "+c,value:f}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},a.prototype.changeData=function(n){this.updateOption({data:n});var s=FD(this.options,this.chart.width,this.chart.height),c=s.nodes,f=s.edges,d=ar(this.chart,Mb),v=ar(this.chart,Sb);d.changeData(c),v.changeData(f)},a.prototype.getSchemaAdaptor=function(){return Y8},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(Kn),cT="ancestor-node",BD="value",yg="path",X8=[yg,DA,lb,BA,"name","depth","height"],Z8=Re({},Kn.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function ND(o){o.x0=Math.round(o.x0),o.y0=Math.round(o.y0),o.x1=Math.round(o.x1),o.y1=Math.round(o.y1)}function mg(o,a,n,s,c){for(var f=o.children,d,v=-1,y=f.length,b=o.value&&(s-a)/o.value;++v<y;)d=f[v],d.y0=n,d.y1=c,d.x0=a,d.x1=a+=d.value*b}function zD(){var o=1,a=1,n=0,s=!1;function c(d){var v=d.height+1;return d.x0=d.y0=n,d.x1=o,d.y1=a/v,d.eachBefore(f(a,v)),s&&d.eachBefore(ND),d}function f(d,v){return function(y){y.children&&mg(y,y.x0,d*(y.depth+1)/v,y.x1,d*(y.depth+2)/v);var b=y.x0,S=y.y0,C=y.x1-n,T=y.y1-n;C<b&&(b=C=(b+C)/2),T<S&&(S=T=(S+T)/2),y.x0=b,y.y0=S,y.x1=C,y.y1=T}}return c.round=function(d){return arguments.length?(s=!!d,c):s},c.size=function(d){return arguments.length?(o=+d[0],a=+d[1],c):[o,a]},c.padding=function(d){return arguments.length?(n=+d,c):n},c}var q8={field:"value",size:[1,1],round:!1,padding:0,sort:function(o,a){return a.value-o.value},as:["x","y"],ignoreParentValue:!0};function jD(o,a){a=(0,_.f0)({},q8,a);var n=a.as;if(!(0,_.kJ)(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s;try{s=dg(a)}catch(y){console.warn(y)}var c=function(y){return zD().size(a.size).round(a.round).padding(a.padding)(Mu(y).sum(function(b){return(0,_.dp)(b.children)?a.ignoreParentValue?0:b[s]-(0,_.u4)(b.children,function(S,C){return S+C[s]},0):b[s]}).sort(a.sort))},f=c(o),d=n[0],v=n[1];return f.each(function(y){var b,S;y[d]=[y.x0,y.x1,y.x1,y.x0],y[v]=[y.y1,y.y1,y.y0,y.y0],y.name=y.name||((b=y.data)===null||b===void 0?void 0:b.name)||((S=y.data)===null||S===void 0?void 0:S.label),y.data.name=y.name,["x0","x1","y0","y1"].forEach(function(C){n.indexOf(C)===-1&&delete y[C]})}),Gs(f)}function $8(o,a){return o.parent===a.parent?1:2}function K8(o){return o.reduce(J8,0)/o.length}function J8(o,a){return o+a.x}function GD(o){return 1+o.reduce(Q8,0)}function Q8(o,a){return Math.max(o,a.y)}function t9(o){for(var a;a=o.children;)o=a[0];return o}function e9(o){for(var a;a=o.children;)o=a[a.length-1];return o}function WD(){var o=$8,a=1,n=1,s=!1;function c(f){var d,v=0;f.eachAfter(function(T){var k=T.children;k?(T.x=K8(k),T.y=GD(k)):(T.x=d?v+=o(T,d):0,T.y=0,d=T)});var y=t9(f),b=e9(f),S=y.x-o(y,b)/2,C=b.x+o(b,y)/2;return f.eachAfter(s?function(T){T.x=(T.x-f.x)*a,T.y=(f.y-T.y)*n}:function(T){T.x=(T.x-S)/(C-S)*a,T.y=(1-(f.y?T.y/f.y:1))*n})}return c.separation=function(f){return arguments.length?(o=f,c):o},c.size=function(f){return arguments.length?(s=!1,a=+f[0],n=+f[1],c):s?null:[a,n]},c.nodeSize=function(f){return arguments.length?(s=!0,a=+f[0],n=+f[1],c):s?[a,n]:null},c}var VD={depth:-1},HD={};function YD(o){return o.id}function n9(o){return o.parentId}function r9(){var o=YD,a=n9;function n(s){var c=Array.from(s),f=c.length,d,v,y,b,S,C,T,k=new Map;for(v=0;v<f;++v)d=c[v],S=c[v]=new Zf(d),(C=o(d,v,s))!=null&&(C+="")&&(T=S.id=C,k.set(T,k.has(T)?HD:S)),(C=a(d,v,s))!=null&&(C+="")&&(S.parent=C);for(v=0;v<f;++v)if(S=c[v],C=S.parent){if(b=k.get(C),!b)throw new Error("missing: "+C);if(b===HD)throw new Error("ambiguous: "+C);b.children?b.children.push(S):b.children=[S],S.parent=b}else{if(y)throw new Error("multiple roots");y=S}if(!y)throw new Error("no root");if(y.parent=VD,y.eachBefore(function(R){R.depth=R.parent.depth+1,--f}).eachBefore(FA),y.parent=null,f>0)throw new Error("cycle");return y}return n.id=function(s){return arguments.length?(o=fg(s),n):o},n.parentId=function(s){return arguments.length?(a=fg(s),n):a},n}function i9(o,a){return o.parent===a.parent?1:2}function uT(o){var a=o.children;return a?a[0]:o.t}function fT(o){var a=o.children;return a?a[a.length-1]:o.t}function a9(o,a,n){var s=n/(a.i-o.i);a.c-=s,a.s+=n,o.c+=s,a.z+=n,a.m+=n}function o9(o){for(var a=0,n=0,s=o.children,c=s.length,f;--c>=0;)f=s[c],f.z+=a,f.m+=a,a+=f.s+(n+=f.c)}function s9(o,a,n){return o.a.parent===a.parent?o.a:n}function Ob(o,a){this._=o,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=a}Ob.prototype=Object.create(Zf.prototype);function l9(o){for(var a=new Ob(o,0),n,s=[a],c,f,d,v;n=s.pop();)if(f=n._.children)for(n.children=new Array(v=f.length),d=v-1;d>=0;--d)s.push(c=n.children[d]=new Ob(f[d],d)),c.parent=n;return(a.parent=new Ob(null,0)).children=[a],a}function c9(){var o=i9,a=1,n=1,s=null;function c(b){var S=l9(b);if(S.eachAfter(f),S.parent.m=-S.z,S.eachBefore(d),s)b.eachBefore(y);else{var C=b,T=b,k=b;b.eachBefore(function(H){H.x<C.x&&(C=H),H.x>T.x&&(T=H),H.depth>k.depth&&(k=H)});var R=C===T?1:o(C,T)/2,D=R-C.x,V=a/(T.x+R+D),j=n/(k.depth||1);b.eachBefore(function(H){H.x=(H.x+D)*V,H.y=H.depth*j})}return b}function f(b){var S=b.children,C=b.parent.children,T=b.i?C[b.i-1]:null;if(S){o9(b);var k=(S[0].z+S[S.length-1].z)/2;T?(b.z=T.z+o(b._,T._),b.m=b.z-k):b.z=k}else T&&(b.z=T.z+o(b._,T._));b.parent.A=v(b,T,b.parent.A||C[0])}function d(b){b._.x=b.z+b.parent.m,b.m+=b.parent.m}function v(b,S,C){if(S){for(var T=b,k=b,R=S,D=T.parent.children[0],V=T.m,j=k.m,H=R.m,Z=D.m,q;R=fT(R),T=uT(T),R&&T;)D=uT(D),k=fT(k),k.a=b,q=R.z+H-T.z-V+o(R._,T._),q>0&&(a9(s9(R,b,C),b,q),V+=q,j+=q),H+=R.m,V+=T.m,Z+=D.m,j+=k.m;R&&!fT(k)&&(k.t=R,k.m+=H-j),T&&!uT(D)&&(D.t=T,D.m+=V-Z,C=b)}return C}function y(b){b.x*=a,b.y=b.depth*n}return c.separation=function(b){return arguments.length?(o=b,c):o},c.size=function(b){return arguments.length?(s=!1,a=+b[0],n=+b[1],c):s?null:[a,n]},c.nodeSize=function(b){return arguments.length?(s=!0,a=+b[0],n=+b[1],c):s?[a,n]:null},c}function xg(o,a,n,s,c){for(var f=o.children,d,v=-1,y=f.length,b=o.value&&(c-n)/o.value;++v<y;)d=f[v],d.x0=a,d.x1=s,d.y0=n,d.y1=n+=d.value*b}var hT=(1+Math.sqrt(5))/2;function dT(o,a,n,s,c,f){for(var d=[],v=a.children,y,b,S=0,C=0,T=v.length,k,R,D=a.value,V,j,H,Z,q,K,Ct;S<T;){k=c-n,R=f-s;do V=v[C++].value;while(!V&&C<T);for(j=H=V,K=Math.max(R/k,k/R)/(D*o),Ct=V*V*K,q=Math.max(H/Ct,Ct/j);C<T;++C){if(V+=b=v[C].value,b<j&&(j=b),b>H&&(H=b),Ct=V*V*K,Z=Math.max(H/Ct,Ct/j),Z>q){V-=b;break}q=Z}d.push(y={value:V,dice:k<R,children:v.slice(S,C)}),y.dice?mg(y,n,s,c,D?s+=R*V/D:f):xg(y,n,s,D?n+=k*V/D:c,f),D-=V,S=C}return d}var UD=function o(a){function n(s,c,f,d,v){dT(a,s,c,f,d,v)}return n.ratio=function(s){return o((s=+s)>1?s:1)},n}(hT);function XD(){var o=UD,a=!1,n=1,s=1,c=[0],f=zs,d=zs,v=zs,y=zs,b=zs;function S(T){return T.x0=T.y0=0,T.x1=n,T.y1=s,T.eachBefore(C),c=[0],a&&T.eachBefore(ND),T}function C(T){var k=c[T.depth],R=T.x0+k,D=T.y0+k,V=T.x1-k,j=T.y1-k;V<R&&(R=V=(R+V)/2),j<D&&(D=j=(D+j)/2),T.x0=R,T.y0=D,T.x1=V,T.y1=j,T.children&&(k=c[T.depth+1]=f(T)/2,R+=b(T)-k,D+=d(T)-k,V-=v(T)-k,j-=y(T)-k,V<R&&(R=V=(R+V)/2),j<D&&(D=j=(D+j)/2),o(T,R,D,V,j))}return S.round=function(T){return arguments.length?(a=!!T,S):a},S.size=function(T){return arguments.length?(n=+T[0],s=+T[1],S):[n,s]},S.tile=function(T){return arguments.length?(o=fg(T),S):o},S.padding=function(T){return arguments.length?S.paddingInner(T).paddingOuter(T):S.paddingInner()},S.paddingInner=function(T){return arguments.length?(f=typeof T=="function"?T:ko(+T),S):f},S.paddingOuter=function(T){return arguments.length?S.paddingTop(T).paddingRight(T).paddingBottom(T).paddingLeft(T):S.paddingTop()},S.paddingTop=function(T){return arguments.length?(d=typeof T=="function"?T:ko(+T),S):d},S.paddingRight=function(T){return arguments.length?(v=typeof T=="function"?T:ko(+T),S):v},S.paddingBottom=function(T){return arguments.length?(y=typeof T=="function"?T:ko(+T),S):y},S.paddingLeft=function(T){return arguments.length?(b=typeof T=="function"?T:ko(+T),S):b},S}function u9(o,a,n,s,c){var f=o.children,d,v=f.length,y,b=new Array(v+1);for(b[0]=y=d=0;d<v;++d)b[d+1]=y+=f[d].value;S(0,v,o.value,a,n,s,c);function S(C,T,k,R,D,V,j){if(C>=T-1){var H=f[C];H.x0=R,H.y0=D,H.x1=V,H.y1=j;return}for(var Z=b[C],q=k/2+Z,K=C+1,Ct=T-1;K<Ct;){var Ft=K+Ct>>>1;b[Ft]<q?K=Ft+1:Ct=Ft}q-b[K-1]<b[K]-q&&C+1<K&&--K;var Jt=b[K]-Z,_e=k-Jt;if(V-R>j-D){var ge=k?(R*_e+V*Jt)/k:V;S(C,K,Jt,R,D,ge,j),S(K,T,_e,ge,D,V,j)}else{var Be=k?(D*_e+j*Jt)/k:j;S(C,K,Jt,R,D,V,Be),S(K,T,_e,R,Be,V,j)}}}function f9(o,a,n,s,c){(o.depth&1?xg:mg)(o,a,n,s,c)}var ZD=function o(a){function n(s,c,f,d,v){if((y=s._squarify)&&y.ratio===a)for(var y,b,S,C,T=-1,k,R=y.length,D=s.value;++T<R;){for(b=y[T],S=b.children,C=b.value=0,k=S.length;C<k;++C)b.value+=S[C].value;b.dice?mg(b,c,f,d,D?f+=(v-f)*b.value/D:v):xg(b,c,f,D?c+=(d-c)*b.value/D:d,v),D-=b.value}else s._squarify=y=dT(a,s,c,f,d,v),y.ratio=a}return n.ratio=function(s){return o((s=+s)>1?s:1)},n}(hT),qD={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(o,a){return a.value-o.value},ratio:.5*(1+Math.sqrt(5))};function h9(o,a){return o==="treemapSquarify"?Kt[o].ratio(a):Kt[o]}function $D(o,a){a=(0,_.f0)({},qD,a);var n=a.as;if(!(0,_.kJ)(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s;try{s=dg(a)}catch(b){console.warn(b)}var c=h9(a.tile,a.ratio),f=function(b){return XD().tile(c).size(a.size).round(a.round).padding(a.padding).paddingInner(a.paddingInner).paddingOuter(a.paddingOuter).paddingTop(a.paddingTop).paddingRight(a.paddingRight).paddingBottom(a.paddingBottom).paddingLeft(a.paddingLeft)(Mu(b).sum(function(S){return a.ignoreParentValue&&S.children?0:S[s]}).sort(a.sort))},d=f(o),v=n[0],y=n[1];return d.each(function(b){b[v]=[b.x0,b.x1,b.x1,b.x0],b[y]=[b.y1,b.y1,b.y0,b.y0],["x0","x1","y0","y1"].forEach(function(S){n.indexOf(S)===-1&&delete b[S]})}),Gs(d)}function Cb(o){var a=o.data,n=o.colorField,s=o.rawFields,c=o.hierarchyConfig,f=c===void 0?{}:c,d=f.activeDepth,v={partition:jD,treemap:$D},y=o.seriesField,b=o.type||"partition",S=v[b](a,(0,L.pi)((0,L.pi)({field:y||"value"},(0,_.CE)(f,["activeDepth"])),{type:"hierarchy.".concat(b),as:["x","y"]})),C=[];return S.forEach(function(T){var k,R,D,V,j,H;if(T.depth===0||d>0&&T.depth>d)return null;for(var Z=T.data.name,q=(0,L.pi)({},T);q.depth>1;)Z="".concat((R=q.parent.data)===null||R===void 0?void 0:R.name," / ").concat(Z),q=q.parent;var K=(0,L.pi)((0,L.pi)((0,L.pi)({},kr(T.data,(0,L.ev)((0,L.ev)([],s||[],!0),[f.field],!1))),(k={},k[yg]=Z,k[cT]=q.data.name,k)),T);y&&(K[y]=T.data[y]||((V=(D=T.parent)===null||D===void 0?void 0:D.data)===null||V===void 0?void 0:V[y])),n&&(K[n]=T.data[n]||((H=(j=T.parent)===null||j===void 0?void 0:j.data)===null||H===void 0?void 0:H[n])),K.ext=f,K[Kd]={hierarchyConfig:f,colorField:n,rawFields:s},C.push(K)}),C}function d9(o){var a=o.chart,n=o.options,s=n.color,c=n.colorField,f=c===void 0?cT:c,d=n.sunburstStyle,v=n.rawFields,y=v===void 0?[]:v,b=n.shape,S=Cb(n);a.data(S);var C;return d&&(C=function(T){return Re({},{fillOpacity:Math.pow(.85,T.depth)},(0,_.mf)(d)?d(T):d)}),Gd(Re({},o,{options:{xField:"x",yField:"y",seriesField:f,rawFields:(0,_.jj)((0,L.ev)((0,L.ev)([],X8,!0),y,!0)),polygon:{color:s,style:C,shape:b}}})),o}function KD(o){var a=o.chart;return a.axis(!1),o}function JD(o){var a=o.chart,n=o.options,s=n.label,c=fi(a,"polygon");if(!s)c.label(!1);else{var f=s.fields,d=f===void 0?["name"]:f,v=s.callback,y=(0,L._T)(s,["fields","callback"]);c.label({fields:d,callback:v,cfg:Zi(y)})}return o}function pT(o){var a=o.chart,n=o.options,s=n.innerRadius,c=n.radius,f=n.reflect,d=a.coordinate({type:"polar",cfg:{innerRadius:s,radius:c}});return f&&d.reflect(f),o}function QD(o){var a,n=o.options,s=n.hierarchyConfig,c=n.meta;return Un(Jr({},(a={},a[BD]=(0,_.U2)(c,(0,_.U2)(s,["field"],"value")),a)))(o)}function vT(o){var a=o.chart,n=o.options,s=n.tooltip;if(s===!1)a.tooltip(!1);else{var c=s;(0,_.U2)(s,"fields")||(c=Re({},{customItems:function(f){return f.map(function(d){var v=(0,_.U2)(a.getOptions(),"scales"),y=(0,_.U2)(v,[yg,"formatter"],function(S){return S}),b=(0,_.U2)(v,[BD,"formatter"],function(S){return S});return(0,L.pi)((0,L.pi)({},d),{name:y(d.data[yg]),value:b(d.data.value)})})}},c)),a.tooltip(c)}return o}function p9(o){var a=o.drilldown,n=o.interactions,s=n===void 0?[]:n;return a!=null&&a.enabled?Re({},o,{interactions:(0,L.ev)((0,L.ev)([],s,!0),[{type:"drill-down",cfg:{drillDownConfig:a,transformData:Cb}}],!1)}):o}function v9(o){var a=o.chart,n=o.options,s=n.drilldown;return Kr({chart:a,options:p9(n)}),s!=null&&s.enabled&&(a.appendPadding=Fd(a.appendPadding,(0,_.U2)(s,["breadCrumb","position"]))),o}function t3(o){return Un(mr,lo("sunburstStyle"),d9,KD,QD,ac,pT,vT,JD,v9,Lr,Qr())(o)}var DV=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="sunburst",n}return a.getDefaultOptions=function(){return Z8},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return t3},a.SUNBURST_ANCESTOR_FIELD=cT,a.SUNBURST_PATH_FIELD=yg,a.NODE_ANCESTORS_FIELD=lb,a}(Kn);function e3(o,a){if((0,_.kJ)(o))return o.find(function(n){return n.type===a})}function Ab(o,a){var n=e3(o,a);return n&&n.enable!==!1}function gT(o){var a=o.interactions,n=o.drilldown;return(0,_.U2)(n,"enabled")||Ab(a,"treemap-drill-down")}function g9(o){var a=o.interactions["drill-down"];if(a){var n=a.context.actions.find(function(s){return s.name==="drill-down-action"});n.reset()}}function yT(o){var a=o.data,n=o.colorField,s=o.enableDrillDown,c=o.hierarchyConfig,f=$D(a,(0,L.pi)((0,L.pi)({},c),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),d=[];return f.forEach(function(v){if(v.depth===0||s&&v.depth!==1||!s&&v.children)return null;var y=v.ancestors().map(function(T){return{data:T.data,height:T.height,value:T.value}}),b=s&&(0,_.kJ)(a.path)?y.concat(a.path.slice(1)):y,S=Object.assign({},v.data,(0,L.pi)({x:v.x,y:v.y,depth:v.depth,value:v.value,path:b},v));if(!v.data[n]&&v.parent){var C=v.ancestors().find(function(T){return T.data[n]});S[n]=C==null?void 0:C.data[n]}else S[n]=v.data[n];S[Kd]={hierarchyConfig:c,colorField:n,enableDrillDown:s},d.push(S)}),d}function y9(o){var a=o.options,n=a.colorField;return Re({options:{rawFields:["value"],tooltip:{fields:["name","value",n,"path"],formatter:function(s){return{name:s.name,value:s.value}}}}},o)}function n3(o){var a=o.chart,n=o.options,s=n.color,c=n.colorField,f=n.rectStyle,d=n.hierarchyConfig,v=n.rawFields,y=yT({data:n.data,colorField:n.colorField,enableDrillDown:gT(n),hierarchyConfig:d});return a.data(y),Gd(Re({},o,{options:{xField:"x",yField:"y",seriesField:c,rawFields:v,polygon:{color:s,style:f}}})),a.coordinate().reflect("y"),o}function m9(o){var a=o.chart;return a.axis(!1),o}function x9(o){var a=o.drilldown,n=o.interactions,s=n===void 0?[]:n,c=gT(o);return c?Re({},o,{interactions:(0,L.ev)((0,L.ev)([],s,!0),[{type:"drill-down",cfg:{drillDownConfig:a,transformData:yT}}],!1)}):o}function bg(o){var a=o.chart,n=o.options,s=n.interactions,c=n.drilldown;Kr({chart:a,options:x9(n)});var f=e3(s,"view-zoom");f&&(f.enable!==!1?a.getCanvas().on("mousewheel",function(v){v.preventDefault()}):a.getCanvas().off("mousewheel"));var d=gT(n);return d&&(a.appendPadding=Fd(a.appendPadding,(0,_.U2)(c,["breadCrumb","position"]))),o}function b9(o){return Un(y9,mr,lo("rectStyle"),n3,m9,ac,Oi,bg,Lr,Qr())(o)}var rp={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},Tb=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="treemap",n}return a.getDefaultOptions=function(){return rp},a.prototype.changeData=function(n){var s=this.options,c=s.colorField,f=s.interactions,d=s.hierarchyConfig;this.updateOption({data:n});var v=yT({data:n,colorField:c,enableDrillDown:Ab(f,"treemap-drill-down"),hierarchyConfig:d});this.chart.changeData(v),g9(this.chart)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return b9},a}(Kn),yc="id",mT="path",w9={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(o){return{name:o.id,value:o.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function Eb(o){if(o){var a=o.geometries[0].elements;a.forEach(function(n){n.shape.toFront()})}}var xT=Qu("element-active"),r3=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.syncElementsPos=function(){Eb(this.context.view)},a.prototype.active=function(){o.prototype.active.call(this),this.syncElementsPos()},a.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},a}(xT),bT=Qu("element-highlight"),kb=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.syncElementsPos=function(){Eb(this.context.view)},a.prototype.highlight=function(){o.prototype.highlight.call(this),this.syncElementsPos()},a.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.clear=function(){o.prototype.clear.call(this),this.syncElementsPos()},a.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},a}(bT),i3=Qu("element-selected"),wT=Qu("element-single-selected"),Su=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.syncElementsPos=function(){Eb(this.context.view)},a.prototype.selected=function(){o.prototype.selected.call(this),this.syncElementsPos()},a.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},a}(i3),a3=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.syncElementsPos=function(){Eb(this.context.view)},a.prototype.selected=function(){o.prototype.selected.call(this),this.syncElementsPos()},a.prototype.toggle=function(){o.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){o.prototype.reset.call(this),this.syncElementsPos()},a}(wT);In("venn-element-active",r3),In("venn-element-highlight",kb),In("venn-element-selected",Su),In("venn-element-single-selected",a3),Zn("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Zn("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Zn("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Zn("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Zn("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Zn("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var o3=function(o){(0,L.ZT)(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getLabelPoint=function(n,s,c){var f=n.data,d=f.x,v=f.y,y=n.customLabelInfo,b=y.offsetX,S=y.offsetY;return{content:n.content[c],x:d+b,y:v+S}},a}(Uh);lf("venn",o3);var s3=Array.isArray,MT=s3,ip=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,l3=new RegExp("([a-z])["+ip+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ip+"]*,?["+ip+"]*)+)","ig"),c3=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ip+"]*,?["+ip+"]*","ig");function ST(o){if(!o)return null;if(MT(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(o).replace(l3,function(s,c,f){var d=[],v=c.toLowerCase();if(f.replace(c3,function(y,b){b&&d.push(+b)}),v==="m"&&d.length>2&&(n.push([c].concat(d.splice(0,2))),v="l",c=c==="m"?"l":"L"),v==="o"&&d.length===1&&n.push([c,d[0]]),v==="r")n.push([c].concat(d));else for(;d.length>=a[v]&&(n.push([c].concat(d.splice(0,a[v]))),!!a[v]););return""}),n}var _T=/[a-z]/;function wg(o,a){return[a[0]+(a[0]-o[0]),a[1]+(a[1]-o[1])]}function u3(o){var a=parsePathString(o);if(!a||!a.length)return[["M",0,0]];for(var n=!1,s=0;s<a.length;s++){var c=a[s][0];if(_T.test(c)||["V","H","T","S"].indexOf(c)>=0){n=!0;break}}if(!n)return a;var f=[],d=0,v=0,y=0,b=0,S=0,C,T,k=a[0];(k[0]==="M"||k[0]==="m")&&(d=+k[1],v=+k[2],y=d,b=v,S++,f[0]=["M",d,v]);for(var s=S,R=a.length;s<R;s++){var D=a[s],V=f[s-1],j=[],c=D[0],H=c.toUpperCase();if(c!==H)switch(j[0]=H,H){case"A":j[1]=D[1],j[2]=D[2],j[3]=D[3],j[4]=D[4],j[5]=D[5],j[6]=+D[6]+d,j[7]=+D[7]+v;break;case"V":j[1]=+D[1]+v;break;case"H":j[1]=+D[1]+d;break;case"M":y=+D[1]+d,b=+D[2]+v,j[1]=y,j[2]=b;break;default:for(var Z=1,q=D.length;Z<q;Z++)j[Z]=+D[Z]+(Z%2?d:v)}else j=a[s];switch(H){case"Z":d=+y,v=+b;break;case"H":d=j[1],j=["L",d,v];break;case"V":v=j[1],j=["L",d,v];break;case"T":d=j[1],v=j[2];var K=wg([V[1],V[2]],[V[3],V[4]]);j=["Q",K[0],K[1],d,v];break;case"S":d=j[j.length-2],v=j[j.length-1];var Ct=V.length,Ft=wg([V[Ct-4],V[Ct-3]],[V[Ct-2],V[Ct-1]]);j=["C",Ft[0],Ft[1],j[1],j[2],d,v];break;case"M":y=j[j.length-2],b=j[j.length-1];break;default:d=j[j.length-2],v=j[j.length-1]}f.push(j)}return f}var Qf=Math.PI*2,Mg=function(o,a,n,s,c,f,d){var v=o.x,y=o.y;v*=a,y*=n;var b=s*v-c*y,S=c*v+s*y;return{x:b+f,y:S+d}},Pb=function(o,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),s=Math.cos(o),c=Math.sin(o),f=Math.cos(o+a),d=Math.sin(o+a);return[{x:s-c*n,y:c+s*n},{x:f+d*n,y:d-f*n},{x:f,y:d}]},OT=function(o,a,n,s){var c=o*s-a*n<0?-1:1,f=o*n+a*s;return f>1&&(f=1),f<-1&&(f=-1),c*Math.acos(f)},f3=function(o,a,n,s,c,f,d,v,y,b,S,C){var T=Math.pow(c,2),k=Math.pow(f,2),R=Math.pow(S,2),D=Math.pow(C,2),V=T*k-T*D-k*R;V<0&&(V=0),V/=T*D+k*R,V=Math.sqrt(V)*(d===v?-1:1);var j=V*c/f*C,H=V*-f/c*S,Z=b*j-y*H+(o+n)/2,q=y*j+b*H+(a+s)/2,K=(S-j)/c,Ct=(C-H)/f,Ft=(-S-j)/c,Jt=(-C-H)/f,_e=OT(1,0,K,Ct),ge=OT(K,Ct,Ft,Jt);return v===0&&ge>0&&(ge-=Qf),v===1&&ge<0&&(ge+=Qf),[Z,q,_e,ge]},h3=function(o){var a=o.px,n=o.py,s=o.cx,c=o.cy,f=o.rx,d=o.ry,v=o.xAxisRotation,y=v===void 0?0:v,b=o.largeArcFlag,S=b===void 0?0:b,C=o.sweepFlag,T=C===void 0?0:C,k=[];if(f===0||d===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];var R=Math.sin(y*Qf/360),D=Math.cos(y*Qf/360),V=D*(a-s)/2+R*(n-c)/2,j=-R*(a-s)/2+D*(n-c)/2;if(V===0&&j===0)return[{x1:0,y1:0,x2:0,y2:0,x:s,y:c}];f=Math.abs(f),d=Math.abs(d);var H=Math.pow(V,2)/Math.pow(f,2)+Math.pow(j,2)/Math.pow(d,2);H>1&&(f*=Math.sqrt(H),d*=Math.sqrt(H));var Z=f3(a,n,s,c,f,d,S,T,R,D,V,j),q=Z[0],K=Z[1],Ct=Z[2],Ft=Z[3],Jt=Math.abs(Ft)/(Qf/4);Math.abs(1-Jt)<1e-7&&(Jt=1);var _e=Math.max(Math.ceil(Jt),1);Ft/=_e;for(var ge=0;ge<_e;ge++)k.push(Pb(Ct,Ft)),Ct+=Ft;return k.map(function(Be){var tn=Mg(Be[0],f,d,D,R,q,K),vn=tn.x,Mn=tn.y,Pn=Mg(Be[1],f,d,D,R,q,K),Ze=Pn.x,ln=Pn.y,dn=Mg(Be[2],f,d,D,R,q,K),fn=dn.x,bn=dn.y;return{x1:vn,y1:Mn,x2:Ze,y2:ln,x:fn,y:bn}})};function M9(o,a,n,s,c,f,d,v,y){var b=h3({px:o,py:a,cx:v,cy:y,rx:n,ry:s,xAxisRotation:c,largeArcFlag:f,sweepFlag:d});return b.reduce(function(S,C){var T=C.x1,k=C.y1,R=C.x2,D=C.y2,V=C.x,j=C.y;return S.push(T,k,R,D,V,j),S},[])}function S9(o,a){"TQ".indexOf(o[0])<0&&(a.qx=null,a.qy=null);var n=o.slice(1),s=n[0],c=n[1];switch(o[0]){case"M":return a.x=s,a.y=c,o;case"A":return["C"].concat(arcToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"Q":return a.qx=s,a.qy=c,["C"].concat(quadToCubic.apply(0,[a.x1,a.y1].concat(o.slice(1))));case"L":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],o[2]));case"H":return["C"].concat(lineToCubic(a.x1,a.y1,o[1],a.y1));case"V":return["C"].concat(lineToCubic(a.x1,a.y1,a.x1,o[1]));case"Z":return["C"].concat(lineToCubic(a.x1,a.y1,a.x,a.y));default:}return o}function CT(o,a){a===void 0&&(a=!1);for(var n=path2Absolute(o),s={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},c=[],f="",d=n.length,v,y,b=[],S=0;S<d;S+=1)n[S]&&(f=n[S][0]),c[S]=f,n[S]=segmentToCubic(n[S],s),Lb(n,c,S),d=n.length,f==="Z"&&b.push(S),v=n[S],y=v.length,s.x1=+v[y-2],s.y1=+v[y-1],s.x2=+v[y-4]||s.x1,s.y2=+v[y-3]||s.y1;return a?[n,b]:n}function Lb(o,a,n){if(o[n].length>7){o[n].shift();for(var s=o[n],c=n;s.length;)a[n]="A",o.splice(c+=1,0,["C"].concat(s.splice(0,6)));o.splice(n,1)}}var Ib=function(o,a,n,s,c){var f=-3*a+9*n-9*s+3*c,d=o*f+6*a-12*n+6*s;return o*d-3*a+3*n},AT=function(o,a,n,s,c,f,d,v,y){y===null&&(y=1),y=y>1?1:y<0?0:y;for(var b=y/2,S=12,C=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],T=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,R=0;R<S;R++){var D=b*C[R]+b,V=Ib(D,o,n,c,d),j=Ib(D,a,s,f,v),H=V*V+j*j;k+=T[R]*Math.sqrt(H)}return b*k},_9=function(o,a,n,s,c,f,d,v){for(var y=[],b=[[],[]],S,C,T,k,R=0;R<2;++R){if(R===0?(C=6*o-12*n+6*c,S=-3*o+9*n-9*c+3*d,T=3*n-3*o):(C=6*a-12*s+6*f,S=-3*a+9*s-9*f+3*v,T=3*s-3*a),Math.abs(S)<1e-12){if(Math.abs(C)<1e-12)continue;k=-T/C,k>0&&k<1&&y.push(k);continue}var D=C*C-4*T*S,V=Math.sqrt(D);if(!(D<0)){var j=(-C+V)/(2*S);j>0&&j<1&&y.push(j);var H=(-C-V)/(2*S);H>0&&H<1&&y.push(H)}}for(var Z=y.length,q=Z,K;Z--;)k=y[Z],K=1-k,b[0][Z]=K*K*K*o+3*K*K*k*n+3*K*k*k*c+k*k*k*d,b[1][Z]=K*K*K*a+3*K*K*k*s+3*K*k*k*f+k*k*k*v;return b[0][q]=o,b[1][q]=a,b[0][q+1]=d,b[1][q+1]=v,b[0].length=b[1].length=q+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}},TT=function(o,a,n,s,c,f,d,v){if(!(Math.max(o,n)<Math.min(c,d)||Math.min(o,n)>Math.max(c,d)||Math.max(a,s)<Math.min(f,v)||Math.min(a,s)>Math.max(f,v))){var y=(o*s-a*n)*(c-d)-(o-n)*(c*v-f*d),b=(o*s-a*n)*(f-v)-(a-s)*(c*v-f*d),S=(o-n)*(f-v)-(a-s)*(c-d);if(S){var C=y/S,T=b/S,k=+C.toFixed(2),R=+T.toFixed(2);if(!(k<+Math.min(o,n).toFixed(2)||k>+Math.max(o,n).toFixed(2)||k<+Math.min(c,d).toFixed(2)||k>+Math.max(c,d).toFixed(2)||R<+Math.min(a,s).toFixed(2)||R>+Math.max(a,s).toFixed(2)||R<+Math.min(f,v).toFixed(2)||R>+Math.max(f,v).toFixed(2)))return{x:C,y:T}}}},mc=function(o,a,n){return a>=o.x&&a<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},Rb=function(o,a,n,s){return o===null&&(o=a=n=s=0),a===null&&(a=o.y,n=o.width,s=o.height,o=o.x),{x:o,y:a,width:n,w:n,height:s,h:s,x2:o+n,y2:a+s,cx:o+n/2,cy:a+s/2,r1:Math.min(n,s)/2,r2:Math.max(n,s)/2,r0:Math.sqrt(n*n+s*s)/2,path:rectPath(o,a,n,s),vb:[o,a,n,s].join(" ")}},d3=function(o,a){return o=Rb(o),a=Rb(a),mc(a,o.x,o.y)||mc(a,o.x2,o.y)||mc(a,o.x,o.y2)||mc(a,o.x2,o.y2)||mc(o,a.x,a.y)||mc(o,a.x2,a.y)||mc(o,a.x,a.y2)||mc(o,a.x2,a.y2)||(o.x<a.x2&&o.x>a.x||a.x<o.x2&&a.x>o.x)&&(o.y<a.y2&&o.y>a.y||a.y<o.y2&&a.y>o.y)},ET=function(o,a,n,s,c,f,d,v){isArray(o)||(o=[o,a,n,s,c,f,d,v]);var y=_9.apply(null,o);return Rb(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},kT=function(o,a,n,s,c,f,d,v,y){var b=1-y,S=Math.pow(b,3),C=Math.pow(b,2),T=y*y,k=T*y,R=S*o+C*3*y*n+b*3*y*y*c+k*d,D=S*a+C*3*y*s+b*3*y*y*f+k*v,V=o+2*y*(n-o)+T*(c-2*n+o),j=a+2*y*(s-a)+T*(f-2*s+a),H=n+2*y*(c-n)+T*(d-2*c+n),Z=s+2*y*(f-s)+T*(v-2*f+s),q=b*o+y*n,K=b*a+y*s,Ct=b*c+y*d,Ft=b*f+y*v,Jt=90-Math.atan2(V-H,j-Z)*180/Math.PI;return{x:R,y:D,m:{x:V,y:j},n:{x:H,y:Z},start:{x:q,y:K},end:{x:Ct,y:Ft},alpha:Jt}},p3=function(o,a,n){var s=ET(o),c=ET(a);if(!d3(s,c))return n?0:[];for(var f=AT.apply(0,o),d=AT.apply(0,a),v=~~(f/8),y=~~(d/8),b=[],S=[],C={},T=n?0:[],k=0;k<v+1;k++){var R=kT.apply(0,o.concat(k/v));b.push({x:R.x,y:R.y,t:k/v})}for(var k=0;k<y+1;k++){var R=kT.apply(0,a.concat(k/y));S.push({x:R.x,y:R.y,t:k/y})}for(var k=0;k<v;k++)for(var D=0;D<y;D++){var V=b[k],j=b[k+1],H=S[D],Z=S[D+1],q=Math.abs(j.x-V.x)<.001?"y":"x",K=Math.abs(Z.x-H.x)<.001?"y":"x",Ct=TT(V.x,V.y,j.x,j.y,H.x,H.y,Z.x,Z.y);if(Ct){if(C[Ct.x.toFixed(4)]===Ct.y.toFixed(4))continue;C[Ct.x.toFixed(4)]=Ct.y.toFixed(4);var Ft=V.t+Math.abs((Ct[q]-V[q])/(j[q]-V[q]))*(j.t-V.t),Jt=H.t+Math.abs((Ct[K]-H[K])/(Z[K]-H[K]))*(Z.t-H.t);Ft>=0&&Ft<=1&&Jt>=0&&Jt<=1&&(n?T++:T.push({x:Ct.x,y:Ct.y,t1:Ft,t2:Jt}))}}return T},v3=function(o,a,n){o=path2Curve(o),a=path2Curve(a);for(var s,c,f,d,v,y,b,S,C,T,k=n?0:[],R=0,D=o.length;R<D;R++){var V=o[R];if(V[0]==="M")s=v=V[1],c=y=V[2];else{V[0]==="C"?(C=[s,c].concat(V.slice(1)),s=C[6],c=C[7]):(C=[s,c,s,c,v,y,v,y],s=v,c=y);for(var j=0,H=a.length;j<H;j++){var Z=a[j];if(Z[0]==="M")f=b=Z[1],d=S=Z[2];else{Z[0]==="C"?(T=[f,d].concat(Z.slice(1)),f=T[6],d=T[7]):(T=[f,d,f,d,b,S,b,S],f=b,d=S);var q=p3(C,T,n);if(n)k+=q;else{for(var K=0,Ct=q.length;K<Ct;K++)q[K].segment1=R,q[K].segment2=j,q[K].bez1=C,q[K].bez2=T;k=k.concat(q)}}}}}return k};function O9(o,a){return v3(o,a)}function g3(o){return Re({},o.defaultStyle,{fill:o.color},o.style)}Or("schema","venn",{draw:function(o,a){var n=o.data,s=ST(n[mT]),c=g3(o),f=a.addGroup({name:"venn-shape"});f.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},c),{path:s}),name:"venn-path"});var d=o.customInfo,v=d.offsetX,y=d.offsetY,b=ia.transform(null,[["t",v,y]]);return f.setMatrix(b),f},getMarker:function(o){var a=o.color;return{symbol:"circle",style:{lineWidth:0,stroke:a,fill:a,r:4}}}});var C9=function(o){return function(a,n){var s=[];return s[0]=o(a[0],n[0]),s[1]=o(a[1],n[1]),s[2]=o(a[2],n[2]),s}},Fb={normal:function(o){return o},multiply:function(o,a){return o*a/255},screen:function(o,a){return 255*(1-(1-o/255)*(1-a/255))},overlay:function(o,a){return a<128?2*o*a/255:255*(1-2*(1-o/255)*(1-a/255))},darken:function(o,a){return o>a?a:o},lighten:function(o,a){return o>a?o:a},dodge:function(o,a){return o===255?255:(o=255*(a/255)/(1-o/255),o>255?255:o)},burn:function(o,a){return a===255?255:o===0?0:255*(1-Math.min(1,(1-a/255)/(o/255)))}},y3=function(o){if(!Fb[o])throw new Error("unknown blend mode "+o);return Fb[o]};function m3(o,a,n){n===void 0&&(n="normal");var s=C9(y3(n))(ap(o),ap(a)),c=ap(o),f=c[0],d=c[1],v=c[2],y=c[3],b=ap(a),S=b[0],C=b[1],T=b[2],k=b[3],R=Number((y+k*(1-y)).toFixed(2)),D=Math.round((y*(1-k)*(f/255)+y*k*(s[0]/255)+(1-y)*k*(S/255))/R*255),V=Math.round((y*(1-k)*(d/255)+y*k*(s[1]/255)+(1-y)*k*(C/255))/R*255),j=Math.round((y*(1-k)*(v/255)+y*k*(s[2]/255)+(1-y)*k*(T/255))/R*255);return"rgba(".concat(D,", ").concat(V,", ").concat(j,", ").concat(R,")")}function ap(o){var a=o.replace("/s+/g",""),n;return typeof a=="string"&&!a.startsWith("rgba")&&!a.startsWith("#")?n=ut.rgb2arr(ut.toRGB(a)).concat([1]):(a.startsWith("rgba")&&(n=a.replace("rgba(","").replace(")","").split(",")),a.startsWith("#")&&(n=ut.rgb2arr(a).concat([1])),n.map(function(s,c){return c===3?Number(s):s|0}))}var Ws=kt(87026),Vs=1e-10;function Sg(o,a){var n=b3(o),s=n.filter(function(Ft){return x3(Ft,o)}),c=0,f=0,d,v=[];if(s.length>1){var y=w3(s);for(d=0;d<s.length;++d){var b=s[d];b.angle=Math.atan2(b.x-y.x,b.y-y.y)}s.sort(function(Ft,Jt){return Jt.angle-Ft.angle});var S=s[s.length-1];for(d=0;d<s.length;++d){var C=s[d];f+=(S.x+C.x)*(C.y-S.y);for(var T={x:(C.x+S.x)/2,y:(C.y+S.y)/2},k=null,R=0;R<C.parentIndex.length;++R)if(S.parentIndex.indexOf(C.parentIndex[R])>-1){var D=o[C.parentIndex[R]],V=Math.atan2(C.x-D.x,C.y-D.y),j=Math.atan2(S.x-D.x,S.y-D.y),H=j-V;H<0&&(H+=2*Math.PI);var Z=j-H/2,q=Zo(T,{x:D.x+D.radius*Math.sin(Z),y:D.y+D.radius*Math.cos(Z)});q>D.radius*2&&(q=D.radius*2),(k===null||k.width>q)&&(k={circle:D,width:q,p1:C,p2:S})}k!==null&&(v.push(k),c+=Db(k.circle.radius,k.width),S=C)}}else{var K=o[0];for(d=1;d<o.length;++d)o[d].radius<K.radius&&(K=o[d]);var Ct=!1;for(d=0;d<o.length;++d)if(Zo(o[d],K)>Math.abs(K.radius-o[d].radius)){Ct=!0;break}Ct?c=f=0:(c=K.radius*K.radius*Math.PI,v.push({circle:K,p1:{x:K.x,y:K.y+K.radius},p2:{x:K.x-Vs,y:K.y+K.radius},width:K.radius*2}))}return f/=2,a&&(a.area=c+f,a.arcArea=c,a.polygonArea=f,a.arcs=v,a.innerPoints=s,a.intersectionPoints=n),c+f}function x3(o,a){for(var n=0;n<a.length;++n)if(Zo(o,a[n])>a[n].radius+Vs)return!1;return!0}function b3(o){for(var a=[],n=0;n<o.length;++n)for(var s=n+1;s<o.length;++s)for(var c=Nb(o[n],o[s]),f=0;f<c.length;++f){var d=c[f];d.parentIndex=[n,s],a.push(d)}return a}function Db(o,a){return o*o*Math.acos(1-a/o)-(o-a)*Math.sqrt(a*(2*o-a))}function Zo(o,a){return Math.sqrt((o.x-a.x)*(o.x-a.x)+(o.y-a.y)*(o.y-a.y))}function Bb(o,a,n){if(n>=o+a)return 0;if(n<=Math.abs(o-a))return Math.PI*Math.min(o,a)*Math.min(o,a);var s=o-(n*n-a*a+o*o)/(2*n),c=a-(n*n-o*o+a*a)/(2*n);return Db(o,s)+Db(a,c)}function Nb(o,a){var n=Zo(o,a),s=o.radius,c=a.radius;if(n>=s+c||n<=Math.abs(s-c))return[];var f=(s*s-c*c+n*n)/(2*n),d=Math.sqrt(s*s-f*f),v=o.x+f*(a.x-o.x)/n,y=o.y+f*(a.y-o.y)/n,b=-(a.y-o.y)*(d/n),S=-(a.x-o.x)*(d/n);return[{x:v+b,y:y-S},{x:v-b,y:y+S}]}function w3(o){for(var a={x:0,y:0},n=0;n<o.length;++n)a.x+=o[n].x,a.y+=o[n].y;return a.x/=o.length,a.y/=o.length,a}function _g(o,a,n){var s=a[0].radius-Zo(a[0],o),c,f;for(c=1;c<a.length;++c)f=a[c].radius-Zo(a[c],o),f<=s&&(s=f);for(c=0;c<n.length;++c)f=Zo(n[c],o)-n[c].radius,f<=s&&(s=f);return s}function zb(o,a){var n=[],s;for(s=0;s<o.length;++s){var c=o[s];n.push({x:c.x,y:c.y}),n.push({x:c.x+c.radius/2,y:c.y}),n.push({x:c.x-c.radius/2,y:c.y}),n.push({x:c.x,y:c.y+c.radius/2}),n.push({x:c.x,y:c.y-c.radius/2})}var f=n[0],d=_g(n[0],o,a);for(s=1;s<n.length;++s){var v=_g(n[s],o,a);v>=d&&(f=n[s],d=v)}var y=(0,Ws.nelderMead)(function(T){return-1*_g({x:T[0],y:T[1]},o,a)},[f.x,f.y],{maxIterations:500,minErrorDelta:1e-10}).x,b={x:y[0],y:y[1]},S=!0;for(s=0;s<o.length;++s)if(Zo(b,o[s])>o[s].radius){S=!1;break}for(s=0;s<a.length;++s)if(Zo(b,a[s])<a[s].radius){S=!1;break}if(!S)if(o.length==1)b={x:o[0].x,y:o[0].y};else{var C={};Sg(o,C),C.arcs.length===0?b={x:0,y:-1e3,disjoint:!0}:C.arcs.length==1?b={x:C.arcs[0].circle.x,y:C.arcs[0].circle.y}:a.length?b=zb(o,[]):b=w3(C.arcs.map(function(T){return T.p1}))}return b}function PT(o){var a={},n=[];for(var s in o)n.push(s),a[s]=[];for(var c=0;c<n.length;c++)for(var f=o[n[c]],d=c+1;d<n.length;++d){var v=o[n[d]],y=Zo(f,v);y+v.radius<=f.radius+1e-10?a[n[d]].push(n[c]):y+f.radius<=v.radius+1e-10&&a[n[c]].push(n[d])}return a}function A9(o,a){for(var n={},s=PT(o),c=0;c<a.length;++c){for(var f=a[c].sets,d={},v={},y=0;y<f.length;++y){d[f[y]]=!0;for(var b=s[f[y]],S=0;S<b.length;++S)v[b[S]]=!0}var C=[],T=[];for(var k in o)k in d?C.push(o[k]):k in v||T.push(o[k]);var R=zb(C,T);n[f]=R,R.disjoint&&a[c].size>0&&console.log("WARNING: area "+f+" not represented on screen")}return n}function M3(o,a,n){var s=[],c=o-n,f=a;return s.push("M",c,f),s.push("A",n,n,0,1,0,c+2*n,f),s.push("A",n,n,0,1,0,c,f),s.join(" ")}function S3(o){var a=o.split(" ");return{x:parseFloat(a[1]),y:parseFloat(a[2]),radius:-parseFloat(a[4])}}function _3(o){var a={};Sg(o,a);var n=a.arcs;if(n.length===0)return"M 0 0";if(n.length==1){var s=n[0].circle;return M3(s.x,s.y,s.radius)}else{for(var c=[`
M`,n[0].p2.x,n[0].p2.y],f=0;f<n.length;++f){var d=n[f],v=d.circle.radius,y=d.width>v;c.push(`
A`,v,v,0,y?1:0,1,d.p1.x,d.p1.y)}return c.join(" ")}}function jb(o,a){a=a||{},a.maxIterations=a.maxIterations||500;var n=a.initialLayout||C3,s=a.lossFunction||Vb;o=IT(o);var c=n(o,a),f=[],d=[],v;for(v in c)c.hasOwnProperty(v)&&(f.push(c[v].x),f.push(c[v].y),d.push(v));for(var y=(0,Ws.nelderMead)(function(C){for(var T={},k=0;k<d.length;++k){var R=d[k];T[R]={x:C[2*k],y:C[2*k+1],radius:c[R].radius}}return s(T,o)},f,a),b=y.x,S=0;S<d.length;++S)v=d[S],c[v].x=b[2*S],c[v].y=b[2*S+1];return c}var LT=1e-10;function Gb(o,a,n){return Math.min(o,a)*Math.min(o,a)*Math.PI<=n+LT?Math.abs(o-a):(0,Ws.bisect)(function(s){return Bb(o,a,s)-n},0,o+a)}function IT(o){o=o.slice();var a=[],n={},s,c,f,d;for(s=0;s<o.length;++s){var v=o[s];v.sets.length==1?a.push(v.sets[0]):v.sets.length==2&&(f=v.sets[0],d=v.sets[1],n[[f,d]]=!0,n[[d,f]]=!0)}for(a.sort(function(y,b){return y>b?1:-1}),s=0;s<a.length;++s)for(f=a[s],c=s+1;c<a.length;++c)d=a[c],[f,d]in n||o.push({sets:[f,d],size:0});return o}function O3(o,a,n){var s=(0,Ws.zerosM)(a.length,a.length),c=(0,Ws.zerosM)(a.length,a.length);return o.filter(function(f){return f.sets.length==2}).map(function(f){var d=n[f.sets[0]],v=n[f.sets[1]],y=Math.sqrt(a[d].size/Math.PI),b=Math.sqrt(a[v].size/Math.PI),S=Gb(y,b,f.size);s[d][v]=s[v][d]=S;var C=0;f.size+1e-10>=Math.min(a[d].size,a[v].size)?C=1:f.size<=1e-10&&(C=-1),c[d][v]=c[v][d]=C}),{distances:s,constraints:c}}function Wb(o,a,n,s){var c=0,f;for(f=0;f<a.length;++f)a[f]=0;for(f=0;f<n.length;++f)for(var d=o[2*f],v=o[2*f+1],y=f+1;y<n.length;++y){var b=o[2*y],S=o[2*y+1],C=n[f][y],T=s[f][y],k=(b-d)*(b-d)+(S-v)*(S-v),R=Math.sqrt(k),D=k-C*C;T>0&&R<=C||T<0&&R>=C||(c+=2*D*D,a[2*f]+=4*D*(d-b),a[2*f+1]+=4*D*(v-S),a[2*y]+=4*D*(b-d),a[2*y+1]+=4*D*(S-v))}return c}function C3(o,a){var n=RT(o,a),s=a.lossFunction||Vb;if(o.length>=8){var c=A3(o,a),f=s(c,o),d=s(n,o);f+1e-8<d&&(n=c)}return n}function A3(o,a){a=a||{};var n=a.restarts||10,s=[],c={},f;for(f=0;f<o.length;++f){var d=o[f];d.sets.length==1&&(c[d.sets[0]]=s.length,s.push(d))}var v=O3(o,s,c),y=v.distances,b=v.constraints,S=(0,Ws.norm2)(y.map(Ws.norm2))/y.length;y=y.map(function(H){return H.map(function(Z){return Z/S})});var C=function(H,Z){return Wb(H,Z,y,b)},T,k;for(f=0;f<n;++f){var R=(0,Ws.zeros)(y.length*2).map(Math.random);k=(0,Ws.conjugateGradient)(C,R,a),(!T||k.fx<T.fx)&&(T=k)}var D=T.x,V={};for(f=0;f<s.length;++f){var j=s[f];V[j.sets[0]]={x:D[2*f]*S,y:D[2*f+1]*S,radius:Math.sqrt(j.size/Math.PI)}}if(a.history)for(f=0;f<a.history.length;++f)(0,Ws.scale)(a.history[f].x,S);return V}function RT(o,a){for(var n=a&&a.lossFunction?a.lossFunction:Vb,s={},c={},f,d=0;d<o.length;++d){var v=o[d];v.sets.length==1&&(f=v.sets[0],s[f]={x:1e10,y:1e10,rowid:Object.keys(s).length,size:v.size,radius:Math.sqrt(v.size/Math.PI)},c[f]=[])}o=o.filter(function(Ze){return Ze.sets.length==2});for(var d=0;d<o.length;++d){var y=o[d],b=y.hasOwnProperty("weight")?y.weight:1,S=y.sets[0],C=y.sets[1];y.size+LT>=Math.min(s[S].size,s[C].size)&&(b=0),c[S].push({set:C,size:y.size,weight:b}),c[C].push({set:S,size:y.size,weight:b})}var T=[];for(f in c)if(c.hasOwnProperty(f)){for(var k=0,d=0;d<c[f].length;++d)k+=c[f][d].size*c[f][d].weight;T.push({set:f,size:k})}function R(Ze,ln){return ln.size-Ze.size}T.sort(R);var D={};function V(Ze){return Ze.set in D}function j(Ze,ln){s[ln].x=Ze.x,s[ln].y=Ze.y,D[ln]=!0}j({x:0,y:0},T[0].set);for(var d=1;d<T.length;++d){var H=T[d].set,Z=c[H].filter(V);if(f=s[H],Z.sort(R),Z.length===0)throw"ERROR: missing pairwise overlap information";for(var q=[],K=0;K<Z.length;++K){var Ct=s[Z[K].set],Ft=Gb(f.radius,Ct.radius,Z[K].size);q.push({x:Ct.x+Ft,y:Ct.y}),q.push({x:Ct.x-Ft,y:Ct.y}),q.push({y:Ct.y+Ft,x:Ct.x}),q.push({y:Ct.y-Ft,x:Ct.x});for(var Jt=K+1;Jt<Z.length;++Jt)for(var _e=s[Z[Jt].set],ge=Gb(f.radius,_e.radius,Z[Jt].size),Be=Nb({x:Ct.x,y:Ct.y,radius:Ft},{x:_e.x,y:_e.y,radius:ge}),tn=0;tn<Be.length;++tn)q.push(Be[tn])}for(var vn=1e50,Mn=q[0],K=0;K<q.length;++K){s[H].x=q[K].x,s[H].y=q[K].y;var Pn=n(s,o);Pn<vn&&(vn=Pn,Mn=q[K])}j(Mn,H)}return s}function Vb(o,a){var n=0;function s(S){return S.map(function(C){return o[C]})}for(var c=0;c<a.length;++c){var f=a[c],d=void 0;if(f.sets.length!=1){if(f.sets.length==2){var v=o[f.sets[0]],y=o[f.sets[1]];d=Bb(v.radius,y.radius,Zo(v,y))}else d=Sg(s(f.sets));var b=f.hasOwnProperty("weight")?f.weight:1;n+=b*(d-f.size)*(d-f.size)}}return n}function T3(o,a,n){n===null?o.sort(function(D,V){return V.radius-D.radius}):o.sort(n);var s;if(o.length>0){var c=o[0].x,f=o[0].y;for(s=0;s<o.length;++s)o[s].x-=c,o[s].y-=f}if(o.length==2){var d=distance(o[0],o[1]);d<Math.abs(o[1].radius-o[0].radius)&&(o[1].x=o[0].x+o[0].radius-o[1].radius-1e-10,o[1].y=o[0].y)}if(o.length>1){var v=Math.atan2(o[1].x,o[1].y)-a,y=void 0,b=void 0,S=Math.cos(v),C=Math.sin(v);for(s=0;s<o.length;++s)y=o[s].x,b=o[s].y,o[s].x=S*y-C*b,o[s].y=C*y+S*b}if(o.length>2){for(var T=Math.atan2(o[2].x,o[2].y)-a;T<0;)T+=2*Math.PI;for(;T>2*Math.PI;)T-=2*Math.PI;if(T>Math.PI){var k=o[1].y/(1e-10+o[1].x);for(s=0;s<o.length;++s){var R=(o[s].x+k*o[s].y)/(1+k*k);o[s].x=2*R-o[s].x,o[s].y=2*R*k-o[s].y}}}}function Og(o){o.map(function(b){b.parent=b});function a(b){return b.parent!==b&&(b.parent=a(b.parent)),b.parent}function n(b,S){var C=a(b),T=a(S);C.parent=T}for(var s=0;s<o.length;++s)for(var c=s+1;c<o.length;++c){var f=o[s].radius+o[c].radius;distance(o[s],o[c])+1e-10<f&&n(o[c],o[s])}for(var d={},v,s=0;s<o.length;++s)v=a(o[s]).parent.setid,v in d||(d[v]=[]),d[v].push(o[s]);o.map(function(b){delete b.parent});var y=[];for(v in d)d.hasOwnProperty(v)&&y.push(d[v]);return y}function FT(o){var a=function(n){var s=Math.max.apply(null,o.map(function(f){return f[n]+f.radius})),c=Math.min.apply(null,o.map(function(f){return f[n]-f.radius}));return{max:s,min:c}};return{xRange:a("x"),yRange:a("y")}}function BV(o,a,n){a===null&&(a=Math.PI/2);var s=[],c,f;for(f in o)if(o.hasOwnProperty(f)){var d=o[f];s.push({x:d.x,y:d.y,radius:d.radius,setid:f})}var v=Og(s);for(c=0;c<v.length;++c){T3(v[c],a,n);var y=FT(v[c]);v[c].size=(y.xRange.max-y.xRange.min)*(y.yRange.max-y.yRange.min),v[c].bounds=y}v.sort(function(R,D){return D.size-R.size}),s=v[0];var b=s.bounds,S=(b.xRange.max-b.xRange.min)/50;function C(R,D,V){if(R){var j=R.bounds,H,Z,q;D?H=b.xRange.max-j.xRange.min+S:(H=b.xRange.max-j.xRange.max,q=(j.xRange.max-j.xRange.min)/2-(b.xRange.max-b.xRange.min)/2,q<0&&(H+=q)),V?Z=b.yRange.max-j.yRange.min+S:(Z=b.yRange.max-j.yRange.max,q=(j.yRange.max-j.yRange.min)/2-(b.yRange.max-b.yRange.min)/2,q<0&&(Z+=q));for(var K=0;K<R.length;++K)R[K].x+=H,R[K].y+=Z,s.push(R[K])}}for(var T=1;T<v.length;)C(v[T],!0,!1),C(v[T+1],!1,!0),C(v[T+2],!0,!0),T+=3,b=FT(s);var k={};for(c=0;c<s.length;++c)k[s[c].setid]=s[c];return k}function T9(o,a,n,s){var c=[],f=[];for(var d in o)o.hasOwnProperty(d)&&(f.push(d),c.push(o[d]));a-=2*s,n-=2*s;var v=FT(c),y=v.xRange,b=v.yRange;if(y.max==y.min||b.max==b.min)return console.log("not scaling solution: zero size detected"),o;for(var S=a/(y.max-y.min),C=n/(b.max-b.min),T=Math.min(C,S),k=(a-(y.max-y.min)*T)/2,R=(n-(b.max-b.min)*T)/2,D={},V=0;V<c.length;++V){var j=c[V];D[f[V]]={radius:T*j.radius,x:s+k+(j.x-y.min)*T,y:s+R+(j.y-b.min)*T}}return D}var E9=(0,_.HP)(function(o,a,n,s){var c=new Map,f=o.length;return a.forEach(function(d,v){if(d[s].length===1)c.set(d[yc],o[(v+f)%f]);else{var y=d[s].map(function(b){return c.get(b)});c.set(d[yc],y.slice(1).reduce(function(b,S){return m3(b,S,n)},y[0]))}}),c},function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return JSON.stringify(o)});function k9(o,a,n,s){s===void 0&&(s=0);var c=o.data,f=o.setsField,d=o.sizeField;if(c.length===0)return Gi(Vo.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var v=c.map(function(C){var T;return(0,L.pi)((0,L.pi)({},C),(T={sets:C[f]||[],size:C[d]},T[mT]="",T[yc]="",T))});v.sort(function(C,T){return C.sets.length-T.sets.length});var y=jb(v),b=T9(y,a,n,s),S=A9(b,v);return v.forEach(function(C){var T=C.sets,k=T.join(",");C[yc]=k;var R=T.map(function(j){return b[j]}),D=_3(R);/[zZ]$/.test(D)||(D+=" Z"),C[mT]=D;var V=S[k]||{x:0,y:0};(0,_.f0)(C,V)}),v}function P9(o,a){for(var n=0;n<a.length;n++)if(!o.includes(a[n]))return!1;return!0}var L9=40;function op(o,a,n){var s=o.chart,c=o.options,f=c.blendMode,d=c.setsField,v=s.getTheme(),y=v.colors10,b=v.colors20,S=n;(0,_.kJ)(S)||(S=a.filter(function(T){return T[d].length===1}).length<=10?y:b);var C=E9(S,a,f,d);return function(T){return C.get(T)||S[0]}}function E3(o,a){var n=o.options,s=n.color;if(typeof s!="function"){var c=typeof s=="string"?[s]:s,f=op(o,a,c);return function(d){return f(d[yc])}}return s}function Hb(o){var a=o.chart,n=o.options,s=n.legend,c=n.appendPadding,f=n.padding,d=Qn(c);return s!==!1&&(d=Fd(c,(0,_.U2)(s,"position"),L9)),a.appendPadding=N0([d,f]),o}function k3(o){var a=o.options,n=a.data;n||(Gi(Vo.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),n=[]);var s=n.filter(function(f){return f.sets.length===1}).map(function(f){return f.sets[0]}),c=n.filter(function(f){var d=f.sets;return P9(s,d)});return(0,_.Xy)(c,n)||Gi(Vo.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,_.b$)({},o,{options:{data:c}})}function P3(o){var a=o.chart,n=o.options,s=n.pointStyle,c=n.setsField,f=n.sizeField,d=Qn(a.appendPadding),v=d[0],y=d[1],b=d[2],S=d[3],C={offsetX:S,offsetY:v},T=a.viewBBox,k=T.width,R=T.height,D=k9(n,Math.max(k-(y+S),0),Math.max(R-(v+b),0),0);a.data(D);var V=V0(Re({},o,{options:{xField:"x",yField:"y",sizeField:f,seriesField:yc,rawFields:[c,f],schema:{shape:"venn",style:s}}})).ext,j=V.geometry;j.customInfo(C);var H=E3(o,D);return typeof H=="function"&&j.color(yc,function(Z){var q=D.find(function(Ct){return Ct[yc]===Z}),K=op(o,D)(Z);return H(q,K)}),o}function L3(o){var a=o.chart,n=o.options,s=n.label,c=Qn(a.appendPadding),f=c[0],d=c[3],v={offsetX:d,offsetY:f},y=fi(a,"schema");if(!s)y.label(!1);else{var b=s.callback,S=(0,L._T)(s,["callback"]);y.label({fields:["id"],callback:b,cfg:(0,_.b$)({},Zi(S),{type:"venn",customLabelInfo:v})})}return o}function DT(o){var a=o.chart,n=o.options,s=n.legend,c=n.sizeField;return a.legend(yc,s),a.legend(c,!1),o}function sp(o){var a=o.chart;return a.axis(!1),o}function BT(o){var a=o.options,n=o.chart,s=a.interactions;if(s){var c={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Kr(Re({},o,{options:{interactions:s.map(function(f){return(0,L.pi)((0,L.pi)({},f),{type:c[f.type]||f.type})})}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),o}function NT(o){return Un(Hb,mr,k3,P3,L3,Jr({}),DT,sp,Oi,BT,Lr)(o)}var I9=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="venn",n}return a.getDefaultOptions=function(){return w9},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return NT},a.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},a}(Kn),qo="x",_u="violinY",I3="violinSize",zT="minMax",jT="quantile",Yb="median",Cg="violin_view",GT="min_max_view",Ou="quantile_view",xc="median_view",R3=Re({},Kn.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),WT=kt(53843),F3=kt.n(WT);function VT(o,a){var n=o.length*a;if(o.length===0)throw new Error("quantile requires at least one data point.");if(a<0||a>1)throw new Error("quantiles must be between 0 and 1");return a===1?o[o.length-1]:a===0?o[0]:n%1!==0?o[Math.ceil(n)-1]:o.length%2===0?(o[n-1]+o[n])/2:o[n]}function lp(o,a,n){var s=o[a];o[a]=o[n],o[n]=s}function Ag(o,a,n,s){for(n=n||0,s=s||o.length-1;s>n;){if(s-n>600){var c=s-n+1,f=a-n+1,d=Math.log(c),v=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*v*(c-v)/c);f-c/2<0&&(y*=-1);var b=Math.max(n,Math.floor(a-f*v/c+y)),S=Math.min(s,Math.floor(a+(c-f)*v/c+y));Ag(o,a,b,S)}var C=o[a],T=n,k=s;for(lp(o,n,a),o[s]>C&&lp(o,n,s);T<k;){for(lp(o,T,k),T++,k--;o[T]<C;)T++;for(;o[k]>C;)k--}o[n]===C?lp(o,n,k):(k++,lp(o,k,s)),k<=a&&(n=k+1),a<=k&&(s=k-1)}}function cp(o,a){var n=o.slice();if(Array.isArray(a)){D3(n,a);for(var s=[],c=0;c<a.length;c++)s[c]=VT(n,a[c]);return s}else{var f=Tg(n.length,a);return HT(n,f,0,n.length-1),VT(n,a)}}function HT(o,a,n,s){a%1===0?Ag(o,a,n,s):(a=Math.floor(a),Ag(o,a,n,s),Ag(o,a+1,a+1,s))}function D3(o,a){for(var n=[0],s=0;s<a.length;s++)n.push(Tg(o.length,a[s]));n.push(o.length-1),n.sort(B3);for(var c=[0,n.length-1];c.length;){var f=Math.ceil(c.pop()),d=Math.floor(c.pop());if(!(f-d<=1)){var v=Math.floor((d+f)/2);HT(o,n[v],Math.floor(n[d]),Math.ceil(n[f])),c.push(d,v,v,f)}}}function B3(o,a){return o-a}function Tg(o,a){var n=o*a;return a===1?o-1:a===0?0:n%1!==0?Math.ceil(n)-1:o%2===0?n-.5:n}var YT=function(o){return{low:(0,_.VV)(o),high:(0,_.Fp)(o),q1:cp(o,.25),q3:cp(o,.75),median:cp(o,[.5]),minMax:[(0,_.VV)(o),(0,_.Fp)(o)],quantile:[cp(o,.25),cp(o,.75)]}},UT=function(o,a){var n=F3().create(o,a);return{violinSize:n.map(function(s){return s.y}),violinY:n.map(function(s){return s.x})}},XT=function(o){var a=o.xField,n=o.yField,s=o.seriesField,c=o.data,f=o.kde,d={min:f.min,max:f.max,size:f.sampleSize,width:f.width};if(!s){var v=(0,_.vM)(c,a);return Object.keys(v).map(function(S){var C=v[S],T=C.map(function(k){return k[n]});return(0,L.pi)((0,L.pi)({x:S},UT(T,d)),YT(T))})}var y=[],b=(0,_.vM)(c,s);return Object.keys(b).forEach(function(S){var C=(0,_.vM)(b[S],a);return Object.keys(C).forEach(function(T){var k,R=C[T],D=R.map(function(V){return V[n]});y.push((0,L.pi)((0,L.pi)((k={x:T},k[s]=S,k),UT(D,d)),YT(D)))})}),y},fs=["low","high","q1","q3","median"],up=[{type:"dodge",marginRatio:1/32}];function N3(o){var a=o.chart,n=o.options;return a.data(XT(n)),o}function ZT(o){var a=o.chart,n=o.options,s=n.seriesField,c=n.color,f=n.shape,d=f===void 0?"violin":f,v=n.violinStyle,y=n.tooltip,b=n.state,S=a.createView({id:Cg});return gx({chart:S,options:{xField:qo,yField:_u,seriesField:s||qo,sizeField:I3,tooltip:(0,L.pi)({fields:fs},y),violin:{style:v,color:c,shape:d},state:b}}),S.geometries[0].adjust(up),o}function z3(o){var a=o.chart,n=o.options,s=n.seriesField,c=n.color,f=n.tooltip,d=n.box;if(d===!1)return o;var v=a.createView({id:GT});aa({chart:v,options:{xField:qo,yField:zT,seriesField:s||qo,tooltip:(0,L.pi)({fields:fs},f),state:typeof d=="object"?d.state:{},interval:{color:c,size:1,style:{lineWidth:0}}}}),v.geometries[0].adjust(up);var y=a.createView({id:Ou});aa({chart:y,options:{xField:qo,yField:jT,seriesField:s||qo,tooltip:(0,L.pi)({fields:fs},f),state:typeof d=="object"?d.state:{},interval:{color:c,size:8,style:{fillOpacity:1}}}}),y.geometries[0].adjust(up);var b=a.createView({id:xc});return co({chart:b,options:{xField:qo,yField:Yb,seriesField:s||qo,tooltip:(0,L.pi)({fields:fs},f),state:typeof d=="object"?d.state:{},point:{color:c,size:1,style:{fill:"white",lineWidth:0}}}}),b.geometries[0].adjust(up),y.axis(!1),v.axis(!1),b.axis(!1),b.legend(!1),v.legend(!1),y.legend(!1),o}function qT(o){var a,n=o.chart,s=o.options,c=s.meta,f=s.xAxis,d=s.yAxis,v={},y=Re(v,c,(a={},a[qo]=(0,L.pi)((0,L.pi)({sync:!0},kr(f,Xa)),{type:"cat"}),a[_u]=(0,L.pi)({sync:!0},kr(d,Xa)),a[zT]=(0,L.pi)({sync:_u},kr(d,Xa)),a[jT]=(0,L.pi)({sync:_u},kr(d,Xa)),a[Yb]=(0,L.pi)({sync:_u},kr(d,Xa)),a));return n.scale(y),o}function Ub(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=ar(a,Cg);return s===!1?f.axis(qo,!1):f.axis(qo,s),c===!1?f.axis(_u,!1):f.axis(_u,c),a.axis(!1),o}function Xb(o){var a=o.chart,n=o.options,s=n.legend,c=n.seriesField,f=n.shape;if(s===!1)a.legend(!1);else{var d=c||qo,v=(0,_.CE)(s,["selected"]);(!f||!f.startsWith("hollow"))&&((0,_.U2)(v,["marker","style","lineWidth"])||(0,_.t8)(v,["marker","style","lineWidth"],0)),a.legend(d,v),(0,_.U2)(s,"selected")&&(0,_.S6)(a.views,function(y){return y.legend(d,s)})}return o}function j3(o){var a=o.chart,n=ar(a,Cg);return Qr()((0,L.pi)((0,L.pi)({},o),{chart:n})),o}function G3(o){var a=o.chart,n=o.options,s=n.animation;return(0,_.S6)(a.views,function(c){Nd(c,s)}),o}function W3(o){return Un(mr,N3,ZT,z3,qT,Oi,Ub,Xb,Kr,j3,G3)(o)}var V3=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="violin",n}return a.getDefaultOptions=function(){return R3},a.prototype.changeData=function(n){this.updateOption({data:n}),this.chart.changeData(XT(this.options))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return W3},a}(Kn),ho="$$yField$$",Eg="$$diffField$$",Zb="$$absoluteField$$",qb="$$isTotal$$",H3={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function fp(o){for(var a=[],n=0;n<o.length;n++){var s=o[n];if(s){var c=n===0?"M":"L";a.push([c,s.x,s.y])}}var f=o[0];return a.push(["L",f.x,f.y]),a.push(["z"]),a}function kg(o){return Re({},o.defaultStyle,o.style,{fill:o.color})}Or("interval","waterfall",{draw:function(o,a){var n=o.customInfo,s=o.points,c=o.nextPoints,f=a.addGroup(),d=this.parsePath(fp(s)),v=kg(o);f.addShape("path",{attrs:(0,L.pi)((0,L.pi)({},v),{path:d})});var y=(0,_.U2)(n,"leaderLine");if(y&&c){var b=[["M",s[2].x,s[2].y],["L",c[0].x,c[0].y]];s[2].y===c[1].y&&(b[1]=["L",c[1].x,c[1].y]),b=this.parsePath(b),f.addShape("path",{attrs:(0,L.pi)({path:b},y.style||{})})}return f}});function $b(o,a,n,s,c){var f,d=[];if((0,_.u4)(o,function(y,b){var S;Gi(Vo.WARN,(0,_.hj)(b[n]),"".concat(b[n]," is not a valid number"));var C=(0,_.o8)(b[n])?null:b[n];return d.push((0,L.pi)((0,L.pi)({},b),(S={},S[s]=[y,y+C],S))),y+C},0),d.length&&c){var v=(0,_.U2)(d,[[o.length-1],s,[1]]);d.push((f={},f[a]=c.label,f[n]=v,f[s]=[0,v],f))}return d}function $T(o,a,n,s){var c=$b(o,a,n,ho,s);return c.map(function(f,d){var v;return(0,_.Kn)(f)?(0,L.pi)((0,L.pi)({},f),(v={},v[Zb]=f[ho][1],v[Eg]=f[ho][1]-f[ho][0],v[qb]=d===o.length,v)):f})}function Y3(o){var a=o.options,n=a.locale,s=a.total,c=W0(n).get(["waterfall","total"]);return s&&typeof s.label!="string"&&c&&(o.options.total.label=c),o}function U3(o){var a=o.chart,n=o.options,s=n.data,c=n.xField,f=n.yField,d=n.total,v=n.leaderLine,y=n.columnWidthRatio,b=n.waterfallStyle,S=n.risingFill,C=n.fallingFill,T=n.color,k=n.shape,R=n.customInfo;a.data($T(s,c,f,d));var D=T||function(Z){return(0,_.U2)(Z,[qb])?(0,_.U2)(d,["style","fill"],""):(0,_.U2)(Z,[ho,1])-(0,_.U2)(Z,[ho,0])>0?S:C},V=Re({},o,{options:{xField:c,yField:ho,seriesField:c,rawFields:[f,Eg,qb,ho],widthRatio:y,interval:{style:b,shape:k||"waterfall",color:D}}}),j=aa(V).ext,H=j.geometry;return H.customInfo((0,L.pi)((0,L.pi)({},R),{leaderLine:v})),o}function KT(o){var a,n,s=o.options,c=s.xAxis,f=s.yAxis,d=s.xField,v=s.yField,y=s.meta,b=Re({},{alias:v},(0,_.U2)(y,v));return Un(Jr((a={},a[d]=c,a[v]=f,a[ho]=f,a),Re({},y,(n={},n[ho]=b,n[Eg]=b,n[Zb]=b,n))))(o)}function X3(o){var a=o.chart,n=o.options,s=n.xAxis,c=n.yAxis,f=n.xField,d=n.yField;return s===!1?a.axis(f,!1):a.axis(f,s),c===!1?(a.axis(d,!1),a.axis(ho,!1)):(a.axis(d,c),a.axis(ho,c)),o}function JT(o){var a=o.chart,n=o.options,s=n.legend,c=n.total,f=n.risingFill,d=n.fallingFill,v=n.locale,y=W0(v);if(s===!1)a.legend(!1);else{var b=[{name:y.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:f}}},{name:y.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:d}}}];c&&b.push({name:c.label||"",value:"total",marker:{symbol:"square",style:Re({},{r:5},(0,_.U2)(c,"style"))}}),a.legend(Re({},{custom:!0,position:"top",items:b},s)),a.removeInteraction("legend-filter")}return o}function Z3(o){var a=o.chart,n=o.options,s=n.label,c=n.labelMode,f=n.xField,d=fi(a,"interval");if(!s)d.label(!1);else{var v=s.callback,y=(0,L._T)(s,["callback"]);d.label({fields:c==="absolute"?[Zb,f]:[Eg,f],callback:v,cfg:Zi(y)})}return o}function QT(o){var a=o.chart,n=o.options,s=n.tooltip,c=n.xField,f=n.yField;if(s!==!1){a.tooltip((0,L.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[f]},s));var d=a.geometries[0];s!=null&&s.formatter?d.tooltip("".concat(c,"*").concat(f),s.formatter):d.tooltip(f)}else a.tooltip(!1);return o}function tE(o){return Un(Y3,mr,U3,KT,X3,JT,QT,Z3,fl,Kr,Lr,Qr())(o)}var R9=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="waterfall",n}return a.getDefaultOptions=function(){return H3},a.prototype.changeData=function(n){var s=this.options,c=s.xField,f=s.yField,d=s.total;this.updateOption({data:n}),this.chart.changeData($T(n,c,f,d))},a.prototype.getSchemaAdaptor=function(){return tE},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(Kn),Pg="color",Ci=Re({},Kn.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",Pg],formatter:function(o){return{name:o.text,value:o.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),q3={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function hp(o,a){return a=(0,_.f0)({},q3,a),$3(o,a)}function $3(o,a){var n=rB();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(y){(0,_.UM)(a[y])||n[y](a[y])}),n.words(o),a.imageMask&&n.createMask(a.imageMask);var s=n.start(),c=s._tags;c.forEach(function(y){y.x+=a.size[0]/2,y.y+=a.size[1]/2});var f=a.size,d=f[0],v=f[1];return c.push({text:"",value:0,x:0,y:0,opacity:0}),c.push({text:"",value:0,x:d,y:v,opacity:0}),c}var dp=Math.PI/180,pp=64,vp=2048;function K3(o){return o.text}function J3(){return"serif"}function eE(){return"normal"}function Q3(o){return o.value}function tB(){return~~(Math.random()*2)*90}function yl(){return 1}function nE(o,a,n,s){if(!a.sprite){var c=o.context,f=o.ratio;c.clearRect(0,0,(pp<<5)/f,vp/f);var d=0,v=0,y=0,b=n.length;for(--s;++s<b;){a=n[s],c.save(),c.font=a.style+" "+a.weight+" "+~~((a.size+1)/f)+"px "+a.font;var S=c.measureText(a.text+"m").width*f,C=a.size<<1;if(a.rotate){var T=Math.sin(a.rotate*dp),k=Math.cos(a.rotate*dp),R=S*k,D=S*T,V=C*k,j=C*T;S=Math.max(Math.abs(R+j),Math.abs(R-j))+31>>5<<5,C=~~Math.max(Math.abs(D+V),Math.abs(D-V))}else S=S+31>>5<<5;if(C>y&&(y=C),d+S>=pp<<5&&(d=0,v+=y,y=0),v+C>=vp)break;c.translate((d+(S>>1))/f,(v+(C>>1))/f),a.rotate&&c.rotate(a.rotate*dp),c.fillText(a.text,0,0),a.padding&&(c.lineWidth=2*a.padding,c.strokeText(a.text,0,0)),c.restore(),a.width=S,a.height=C,a.xoff=d,a.yoff=v,a.x1=S>>1,a.y1=C>>1,a.x0=-a.x1,a.y0=-a.y1,a.hasText=!0,d+=S}for(var H=c.getImageData(0,0,(pp<<5)/f,vp/f).data,Z=[];--s>=0;)if(a=n[s],!!a.hasText){for(var S=a.width,q=S>>5,C=a.y1-a.y0,K=0;K<C*q;K++)Z[K]=0;if(d=a.xoff,d==null)return;v=a.yoff;for(var Ct=0,Ft=-1,Jt=0;Jt<C;Jt++){for(var K=0;K<S;K++){var _e=q*Jt+(K>>5),ge=H[(v+Jt)*(pp<<5)+(d+K)<<2]?1<<31-K%32:0;Z[_e]|=ge,Ct|=ge}Ct?Ft=Jt:(a.y0++,C--,Jt--,v++)}a.y1=a.y0+Ft,a.sprite=Z.slice(0,(a.y1-a.y0)*q)}}}function gp(o,a,n){n>>=5;for(var s=o.sprite,c=o.width>>5,f=o.x-(c<<4),d=f&127,v=32-d,y=o.y1-o.y0,b=(o.y+o.y0)*n+(f>>5),S,C=0;C<y;C++){S=0;for(var T=0;T<=c;T++)if((S<<v|(T<c?(S=s[C*c+T])>>>d:0))&a[b+T])return!0;b+=n}return!1}function eB(o,a){var n=o[0],s=o[1];a.x+a.x0<n.x&&(n.x=a.x+a.x0),a.y+a.y0<n.y&&(n.y=a.y+a.y0),a.x+a.x1>s.x&&(s.x=a.x+a.x1),a.y+a.y1>s.y&&(s.y=a.y+a.y1)}function yp(o,a){return o.x+o.x1>a[0].x&&o.x+o.x0<a[1].x&&o.y+o.y1>a[0].y&&o.y+o.y0<a[1].y}function Cu(o){var a=o[0]/o[1];return function(n){return[a*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function bc(o){var a=4,n=a*o[0]/o[1],s=0,c=0;return function(f){var d=f<0?-1:1;switch(Math.sqrt(1+4*d*f)-d&3){case 0:s+=n;break;case 1:c+=a;break;case 2:s-=n;break;default:c-=a;break}return[s,c]}}function Kb(o){for(var a=[],n=-1;++n<o;)a[n]=0;return a}function Lg(){return document.createElement("canvas")}function Hs(o){return(0,_.mf)(o)?o:function(){return o}}var nB={archimedean:Cu,rectangular:bc};function rB(){var o=[256,256],a=J3,n=Q3,s=eE,c=tB,f=yl,d=Cu,v=Math.random,y=[],b=1/0,S=K3,C=eE,T=Lg,k={};k.start=function(){var V=o[0],j=o[1],H=R(T()),Z=k.board?k.board:Kb((o[0]>>5)*o[1]),q=y.length,K=[],Ct=y.map(function(ge,Be,tn){return ge.text=S.call(this,ge,Be,tn),ge.font=a.call(this,ge,Be,tn),ge.style=C.call(this,ge,Be,tn),ge.weight=s.call(this,ge,Be,tn),ge.rotate=c.call(this,ge,Be,tn),ge.size=~~n.call(this,ge,Be,tn),ge.padding=f.call(this,ge,Be,tn),ge}).sort(function(ge,Be){return Be.size-ge.size}),Ft=-1,Jt=k.board?[{x:0,y:0},{x:V,y:j}]:null;_e();function _e(){for(var ge=Date.now();Date.now()-ge<b&&++Ft<q;){var Be=Ct[Ft];Be.x=V*(v()+.5)>>1,Be.y=j*(v()+.5)>>1,nE(H,Be,Ct,Ft),Be.hasText&&D(Z,Be,Jt)&&(K.push(Be),Jt?k.hasImage||eB(Jt,Be):Jt=[{x:Be.x+Be.x0,y:Be.y+Be.y0},{x:Be.x+Be.x1,y:Be.y+Be.y1}],Be.x-=o[0]>>1,Be.y-=o[1]>>1)}k._tags=K,k._bounds=Jt}return k};function R(V){V.width=V.height=1;var j=Math.sqrt(V.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);V.width=(pp<<5)/j,V.height=vp/j;var H=V.getContext("2d",{willReadFrequently:!0});return H.fillStyle=H.strokeStyle="red",H.textAlign="center",{context:H,ratio:j}}function D(V,j,H){for(var Z=j.x,q=j.y,K=Math.sqrt(o[0]*o[0]+o[1]*o[1]),Ct=d(o),Ft=v()<.5?1:-1,Jt,_e=-Ft,ge,Be;(Jt=Ct(_e+=Ft))&&(ge=~~Jt[0],Be=~~Jt[1],!(Math.min(Math.abs(ge),Math.abs(Be))>=K));)if(j.x=Z+ge,j.y=q+Be,!(j.x+j.x0<0||j.y+j.y0<0||j.x+j.x1>o[0]||j.y+j.y1>o[1])&&(!H||!gp(j,V,o[0]))&&(!H||yp(j,H))){for(var tn=j.sprite,vn=j.width>>5,Mn=o[0]>>5,Pn=j.x-(vn<<4),Ze=Pn&127,ln=32-Ze,dn=j.y1-j.y0,fn=void 0,bn=(j.y+j.y0)*Mn+(Pn>>5),Bn=0;Bn<dn;Bn++){fn=0;for(var tr=0;tr<=vn;tr++)V[bn+tr]|=fn<<ln|(tr<vn?(fn=tn[Bn*vn+tr])>>>Ze:0);bn+=Mn}return delete j.sprite,!0}return!1}return k.createMask=function(V){var j=document.createElement("canvas"),H=o[0],Z=o[1];if(!(!H||!Z)){var q=H>>5,K=Kb((H>>5)*Z);j.width=H,j.height=Z;var Ct=j.getContext("2d");Ct.drawImage(V,0,0,V.width,V.height,0,0,H,Z);for(var Ft=Ct.getImageData(0,0,H,Z).data,Jt=0;Jt<Z;Jt++)for(var _e=0;_e<H;_e++){var ge=q*Jt+(_e>>5),Be=Jt*H+_e<<2,tn=Ft[Be]>=250&&Ft[Be+1]>=250&&Ft[Be+2]>=250,vn=tn?1<<31-_e%32:0;K[ge]|=vn}k.board=K,k.hasImage=!0}},k.timeInterval=function(V){b=V==null?1/0:V},k.words=function(V){y=V},k.size=function(V){o=[+V[0],+V[1]]},k.font=function(V){a=Hs(V)},k.fontWeight=function(V){s=Hs(V)},k.rotate=function(V){c=Hs(V)},k.spiral=function(V){d=nB[V]||V},k.fontSize=function(V){n=Hs(V)},k.padding=function(V){f=Hs(V)},k.random=function(V){v=Hs(V)},k}function th(o){var a=o.options,n=o.chart,s=n,c=s.width,f=s.height,d=s.padding,v=s.appendPadding,y=s.ele,b=a.data,S=a.imageMask,C=a.wordField,T=a.weightField,k=a.colorField,R=a.wordStyle,D=a.timeInterval,V=a.random,j=a.spiral,H=a.autoFit,Z=H===void 0?!0:H,q=a.placementStrategy;if(!b||!b.length)return[];var K=R.fontFamily,Ct=R.fontWeight,Ft=R.padding,Jt=R.fontSize,_e=mp(b,T),ge=[Jb(_e),oB(_e)],Be=b.map(function(Mn){return{text:Mn[C],value:Mn[T],color:Mn[k],datum:Mn}}),tn={imageMask:S,font:K,fontSize:aB(Jt,ge),fontWeight:Ct,size:rE({width:c,height:f,padding:d,appendPadding:v,autoFit:Z,container:y}),padding:Ft,timeInterval:D,random:V,spiral:j,rotate:aE(a)};if((0,_.mf)(q)){var vn=Be.map(function(Mn,Pn,Ze){return(0,L.pi)((0,L.pi)((0,L.pi)({},Mn),{hasText:!!Mn.text,font:Hs(tn.font)(Mn,Pn,Ze),weight:Hs(tn.fontWeight)(Mn,Pn,Ze),rotate:Hs(tn.rotate)(Mn,Pn,Ze),size:Hs(tn.fontSize)(Mn,Pn,Ze),style:"normal"}),q.call(n,Mn,Pn,Ze))});return vn.push({text:"",value:0,x:0,y:0,opacity:0}),vn.push({text:"",value:0,x:tn.size[0],y:tn.size[1],opacity:0}),vn}return hp(Be,tn)}function rE(o){var a=o.width,n=o.height,s=o.container,c=o.autoFit,f=o.padding,d=o.appendPadding;if(c){var v=lx(s);a=v.width,n=v.height}a=a||400,n=n||400;var y=iE({padding:f,appendPadding:d}),b=y[0],S=y[1],C=y[2],T=y[3],k=[a-(T+S),n-(b+C)];return k}function iE(o){var a=Qn(o.padding),n=Qn(o.appendPadding),s=a[0]+n[0],c=a[1]+n[1],f=a[2]+n[2],d=a[3]+n[3];return[s,c,f,d]}function iB(o){return new Promise(function(a,n){if(o instanceof HTMLImageElement){a(o);return}if((0,_.HD)(o)){var s=new Image;s.crossOrigin="anonymous",s.src=o,s.onload=function(){a(s)},s.onerror=function(){Gi(Vo.ERROR,!1,"image %s load failed !!!",o),n()};return}Gi(Vo.WARN,o===void 0,"The type of imageMask option must be String or HTMLImageElement."),n()})}function aB(o,a){if((0,_.mf)(o))return o;if((0,_.kJ)(o)){var n=o[0],s=o[1];if(!a)return function(){return(s+n)/2};var c=a[0],f=a[1];return f===c?function(){return(s+n)/2}:function(v){var y=v.value;return(s-n)/(f-c)*(y-c)+n}}return function(){return o}}function mp(o,a){return o.map(function(n){return n[a]}).filter(function(n){return typeof n=="number"&&!isNaN(n)})}function aE(o){var a=oE(o),n=a.rotation,s=a.rotationSteps;if(!(0,_.kJ)(n))return n;var c=n[0],f=n[1],d=s===1?0:(f-c)/(s-1);return function(){return f===c?f:Math.floor(Math.random()*s)*d}}function oE(o){var a=o.wordStyle.rotationSteps;return a<1&&(Gi(Vo.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),a=1),{rotation:o.wordStyle.rotation,rotationSteps:a}}function Jb(o){return Math.min.apply(Math,o)}function oB(o){return Math.max.apply(Math,o)}function sE(o){var a=o.chart,n=o.options,s=n.colorField,c=n.color,f=th(o);a.data(f);var d=Re({},o,{options:{xField:"x",yField:"y",seriesField:s&&Pg,rawFields:(0,_.mf)(c)&&(0,L.ev)((0,L.ev)([],(0,_.U2)(n,"rawFields",[]),!0),["datum"],!1),point:{color:c,shape:"word-cloud"}}}),v=co(d).ext;return v.geometry.label(!1),a.coordinate().reflect("y"),a.axis(!1),o}function sB(o){return Un(Jr({x:{nice:!1},y:{nice:!1}}))(o)}function lE(o){var a=o.chart,n=o.options,s=n.legend,c=n.colorField;return s===!1?a.legend(!1):c&&a.legend(Pg,s),o}function cE(o){Un(sE,sB,Oi,lE,Kr,Lr,mr,fl)(o)}Or("point","word-cloud",{draw:function(o,a){var n=o.x,s=o.y,c=a.addShape("text",{attrs:(0,L.pi)((0,L.pi)({},uE(o)),{x:n,y:s})}),f=o.data.rotate;return typeof f=="number"&&ia.rotate(c,f*Math.PI/180),c}});function uE(o){return{fontSize:o.data.size,text:o.data.text,textAlign:"center",fontFamily:o.data.font,fontWeight:o.data.weight,fill:o.color||o.defaultStyle.stroke,textBaseline:"alphabetic"}}var F9=function(o){(0,L.ZT)(a,o);function a(){var n=o!==null&&o.apply(this,arguments)||this;return n.type="word-cloud",n}return a.getDefaultOptions=function(){return Ci},a.prototype.changeData=function(n){this.updateOption({data:n}),this.options.imageMask?this.render():this.chart.changeData(th({chart:this.chart,options:this.options}))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.render=function(){var n=this;return new Promise(function(s){var c=n.options.imageMask;if(!c){o.prototype.render.call(n),s();return}var f=function(d){n.options=(0,L.pi)((0,L.pi)({},n.options),{imageMask:d||null}),o.prototype.render.call(n),s()};iB(c).then(f).catch(f)})},a.prototype.getSchemaAdaptor=function(){return cE},a.prototype.triggerResize=function(){var n=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){o.prototype.triggerResize.call(n)}))},a}(Kn),D9=function(o){(0,L.ZT)(a,o);function a(n,s,c,f){var d=o.call(this,n,Re({},f,s))||this;return d.type="g2-plot",d.defaultOptions=f,d.adaptor=c,d}return a.prototype.getDefaultOptions=function(){return this.defaultOptions},a.prototype.getSchemaAdaptor=function(){return this.adaptor},a}(Kn),lB="2.4.31";TO("en-US",qR),TO("zh-CN",EO);var xp={scale:Jr,legend:ac,tooltip:Oi,annotation:Qr,interaction:Kr,theme:mr,animation:Lr}},31506:function(Dn,mn,kt){"use strict";kt.d(mn,{Dg:function(){return rt},lh:function(){return Ee},m$:function(){return Ge},vs:function(){return Gt},zu:function(){return je}});var Te=kt(35600),ne=kt(31437);function Ge(se,de,Kt){var L=[0,0,0,0,0,0,0,0,0];return Te.vc(L,Kt),Te.Jp(se,L,de)}function je(se,de,Kt){var L=[0,0,0,0,0,0,0,0,0];return Te.Us(L,Kt),Te.Jp(se,L,de)}function Ee(se,de,Kt){var L=[0,0,0,0,0,0,0,0,0];return Te.xJ(L,Kt),Te.Jp(se,L,de)}function B(se,de,Kt){return Te.Jp(se,Kt,de)}function Gt(se,de){for(var Kt=se?[].concat(se):[1,0,0,0,1,0,0,0,1],L=0,_=de.length;L<_;L++){var Ht=de[L];switch(Ht[0]){case"t":Ge(Kt,Kt,[Ht[1],Ht[2]]);break;case"s":Ee(Kt,Kt,[Ht[1],Ht[2]]);break;case"r":je(Kt,Kt,Ht[1]);break;case"m":B(Kt,Kt,Ht[1]);break;default:break}}return Kt}function fe(se,de){return se[0]*de[1]-de[0]*se[1]}function rt(se,de,Kt){var L=ne.EU(se,de),_=fe(se,de)>=0;return Kt?_?Math.PI*2-L:L:_?L:Math.PI*2-L}function ue(se,de,Kt){return Kt?(se[0]=de[1],se[1]=-1*de[0]):(se[0]=-1*de[1],se[1]=de[0]),se}},23077:function(Dn,mn,kt){"use strict";kt.d(mn,{e9:function(){return rt},zx:function(){return Wt}});var Te=kt(45098),ne=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Ge=/[^\s\,]+/ig;function je(at){var mt=at||[];if((0,Te.kJ)(mt))return mt;if((0,Te.HD)(mt))return mt=mt.match(ne),(0,Te.S6)(mt,function(It,te){if(It=It.match(Ge),It[0].length>1){var Qt=It[0].charAt(0);It.splice(1,0,It[0].substr(1)),It[0]=Qt}(0,Te.S6)(It,function(ee,me){isNaN(ee)||(It[me]=+ee)}),mt[te]=It}),mt}var Ee=je,B=kt(31437);function Gt(at,mt,It,te){var Qt=[],ee=!!te,me,dt,it,Tt,_t,Dt,$t;if(ee){it=te[0],Tt=te[1];for(var bt=0,lt=at.length;bt<lt;bt+=1){var pt=at[bt];it=B.VV([0,0],it,pt),Tt=B.Fp([0,0],Tt,pt)}}for(var bt=0,Rt=at.length;bt<Rt;bt+=1){var pt=at[bt];if(bt===0&&!It)$t=pt;else if(bt===Rt-1&&!It)Dt=pt,Qt.push($t),Qt.push(Dt);else{var Nt=[bt?bt-1:Rt-1,bt-1][It?0:1];me=at[Nt],dt=at[It?(bt+1)%Rt:bt+1];var he=[0,0];he=B.lu(he,dt,me),he=B.bA(he,he,mt);var Pe=B.TE(pt,me),Fe=B.TE(pt,dt),rn=Pe+Fe;rn!==0&&(Pe/=rn,Fe/=rn);var un=B.bA([0,0],he,-Pe),En=B.bA([0,0],he,Fe);Dt=B.IH([0,0],pt,un),_t=B.IH([0,0],pt,En),_t=B.VV([0,0],_t,B.Fp([0,0],dt,pt)),_t=B.Fp([0,0],_t,B.VV([0,0],dt,pt)),un=B.lu([0,0],_t,pt),un=B.bA([0,0],un,-Pe/Fe),Dt=B.IH([0,0],pt,un),Dt=B.VV([0,0],Dt,B.Fp([0,0],me,pt)),Dt=B.Fp([0,0],Dt,B.VV([0,0],me,pt)),En=B.lu([0,0],pt,Dt),En=B.bA([0,0],En,Fe/Pe),_t=B.IH([0,0],pt,En),ee&&(Dt=B.Fp([0,0],Dt,it),Dt=B.VV([0,0],Dt,Tt),_t=B.Fp([0,0],_t,it),_t=B.VV([0,0],_t,Tt)),Qt.push($t),Qt.push(Dt),$t=_t}}return It&&Qt.push(Qt.shift()),Qt}function fe(at,mt,It){mt===void 0&&(mt=!1),It===void 0&&(It=[[0,0],[1,1]]);for(var te=!!mt,Qt=[],ee=0,me=at.length;ee<me;ee+=2)Qt.push([at[ee],at[ee+1]]);for(var dt=Gt(Qt,.4,te,It),it=Qt.length,Tt=[],_t,Dt,$t,ee=0;ee<it-1;ee+=1)_t=dt[ee*2],Dt=dt[ee*2+1],$t=Qt[ee+1],Tt.push(["C",_t[0],_t[1],Dt[0],Dt[1],$t[0],$t[1]]);return te&&(_t=dt[it],Dt=dt[it+1],$t=Qt[0],Tt.push(["C",_t[0],_t[1],Dt[0],Dt[1],$t[0],$t[1]])),Tt}var rt=fe;function ue(at,mt,It){var te=null,Qt=It;return mt<Qt&&(Qt=mt,te="add"),at<Qt&&(Qt=at,te="del"),{type:te,min:Qt}}var se=function(at,mt){var It=at.length,te=mt.length,Qt,ee,me=0;if(It===0||te===0)return null;for(var dt=[],it=0;it<=It;it++)dt[it]=[],dt[it][0]={min:it};for(var Tt=0;Tt<=te;Tt++)dt[0][Tt]={min:Tt};for(var it=1;it<=It;it++){Qt=at[it-1];for(var Tt=1;Tt<=te;Tt++){ee=mt[Tt-1],isEqual(Qt,ee)?me=0:me=1;var _t=dt[it-1][Tt].min+1,Dt=dt[it][Tt-1].min+1,$t=dt[it-1][Tt-1].min+me;dt[it][Tt]=ue(_t,Dt,$t)}}return dt};function de(at,mt){var It=se(at,mt),te=at.length,Qt=mt.length,ee=[],me=1,dt=1;if(It[te][Qt]!==te){for(var it=1;it<=te;it++){var Tt=It[it][it].min;dt=it;for(var _t=me;_t<=Qt;_t++)It[it][_t].min<Tt&&(Tt=It[it][_t].min,dt=_t);me=dt,It[it][me].type&&ee.push({index:it-1,type:It[it][me].type})}for(var it=ee.length-1;it>=0;it--)me=ee[it].index,ee[it].type==="add"?at.splice(me,0,[].concat(at[me])):at.splice(me,1)}if(te=at.length,te<Qt)for(var it=0;it<Qt-te;it++)at[te-1][0]==="z"||at[te-1][0]==="Z"?at.splice(te-2,0,at[te-2]):at.push(at[te-1]);return at}var Kt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+Kt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Kt+"]*,?["+Kt+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Kt+"]*,?["+Kt+"]*","ig");function Ht(at){if(!at)return null;if(isArray(at))return at;var mt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},It=[];return String(at).replace(L,function(te,Qt,ee){var me=[],dt=Qt.toLowerCase();if(ee.replace(_,function(it,Tt){Tt&&me.push(+Tt)}),dt==="m"&&me.length>2&&(It.push([Qt].concat(me.splice(0,2))),dt="l",Qt=Qt==="m"?"l":"L"),dt==="o"&&me.length===1&&It.push([Qt,me[0]]),dt==="r")It.push([Qt].concat(me));else for(;me.length>=mt[dt]&&(It.push([Qt].concat(me.splice(0,mt[dt]))),!!mt[dt]););return""}),It}var Lt=/[a-z]/;function Oe(at,mt){return[mt[0]+(mt[0]-at[0]),mt[1]+(mt[1]-at[1])]}function Ae(at){var mt=parsePathString(at);if(!mt||!mt.length)return[["M",0,0]];for(var It=!1,te=0;te<mt.length;te++){var Qt=mt[te][0];if(Lt.test(Qt)||["V","H","T","S"].indexOf(Qt)>=0){It=!0;break}}if(!It)return mt;var ee=[],me=0,dt=0,it=0,Tt=0,_t=0,Dt,$t,bt=mt[0];(bt[0]==="M"||bt[0]==="m")&&(me=+bt[1],dt=+bt[2],it=me,Tt=dt,_t++,ee[0]=["M",me,dt]);for(var te=_t,lt=mt.length;te<lt;te++){var pt=mt[te],Rt=ee[te-1],Nt=[],Qt=pt[0],he=Qt.toUpperCase();if(Qt!==he)switch(Nt[0]=he,he){case"A":Nt[1]=pt[1],Nt[2]=pt[2],Nt[3]=pt[3],Nt[4]=pt[4],Nt[5]=pt[5],Nt[6]=+pt[6]+me,Nt[7]=+pt[7]+dt;break;case"V":Nt[1]=+pt[1]+dt;break;case"H":Nt[1]=+pt[1]+me;break;case"M":it=+pt[1]+me,Tt=+pt[2]+dt,Nt[1]=it,Nt[2]=Tt;break;default:for(var Pe=1,Fe=pt.length;Pe<Fe;Pe++)Nt[Pe]=+pt[Pe]+(Pe%2?me:dt)}else Nt=mt[te];switch(he){case"Z":me=+it,dt=+Tt;break;case"H":me=Nt[1],Nt=["L",me,dt];break;case"V":dt=Nt[1],Nt=["L",me,dt];break;case"T":me=Nt[1],dt=Nt[2];var rn=Oe([Rt[1],Rt[2]],[Rt[3],Rt[4]]);Nt=["Q",rn[0],rn[1],me,dt];break;case"S":me=Nt[Nt.length-2],dt=Nt[Nt.length-1];var un=Rt.length,En=Oe([Rt[un-4],Rt[un-3]],[Rt[un-2],Rt[un-1]]);Nt=["C",En[0],En[1],Nt[1],Nt[2],me,dt];break;case"M":it=Nt[Nt.length-2],Tt=Nt[Nt.length-1];break;default:me=Nt[Nt.length-2],dt=Nt[Nt.length-1]}ee.push(Nt)}return ee}var jt=Math.PI*2,le=function(at,mt,It,te,Qt,ee,me){var dt=at.x,it=at.y;dt*=mt,it*=It;var Tt=te*dt-Qt*it,_t=Qt*dt+te*it;return{x:Tt+ee,y:_t+me}},Ce=function(at,mt){var It=mt===1.5707963267948966?.551915024494:mt===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(mt/4),te=Math.cos(at),Qt=Math.sin(at),ee=Math.cos(at+mt),me=Math.sin(at+mt);return[{x:te-Qt*It,y:Qt+te*It},{x:ee+me*It,y:me-ee*It},{x:ee,y:me}]},Ve=function(at,mt,It,te){var Qt=at*te-mt*It<0?-1:1,ee=at*It+mt*te;return ee>1&&(ee=1),ee<-1&&(ee=-1),Qt*Math.acos(ee)},qe=function(at,mt,It,te,Qt,ee,me,dt,it,Tt,_t,Dt){var $t=Math.pow(Qt,2),bt=Math.pow(ee,2),lt=Math.pow(_t,2),pt=Math.pow(Dt,2),Rt=$t*bt-$t*pt-bt*lt;Rt<0&&(Rt=0),Rt/=$t*pt+bt*lt,Rt=Math.sqrt(Rt)*(me===dt?-1:1);var Nt=Rt*Qt/ee*Dt,he=Rt*-ee/Qt*_t,Pe=Tt*Nt-it*he+(at+It)/2,Fe=it*Nt+Tt*he+(mt+te)/2,rn=(_t-Nt)/Qt,un=(Dt-he)/ee,En=(-_t-Nt)/Qt,qn=(-Dt-he)/ee,_r=Ve(1,0,rn,un),fr=Ve(rn,un,En,qn);return dt===0&&fr>0&&(fr-=jt),dt===1&&fr<0&&(fr+=jt),[Pe,Fe,_r,fr]},Xe=function(at){var mt=at.px,It=at.py,te=at.cx,Qt=at.cy,ee=at.rx,me=at.ry,dt=at.xAxisRotation,it=dt===void 0?0:dt,Tt=at.largeArcFlag,_t=Tt===void 0?0:Tt,Dt=at.sweepFlag,$t=Dt===void 0?0:Dt,bt=[];if(ee===0||me===0)return[{x1:0,y1:0,x2:0,y2:0,x:te,y:Qt}];var lt=Math.sin(it*jt/360),pt=Math.cos(it*jt/360),Rt=pt*(mt-te)/2+lt*(It-Qt)/2,Nt=-lt*(mt-te)/2+pt*(It-Qt)/2;if(Rt===0&&Nt===0)return[{x1:0,y1:0,x2:0,y2:0,x:te,y:Qt}];ee=Math.abs(ee),me=Math.abs(me);var he=Math.pow(Rt,2)/Math.pow(ee,2)+Math.pow(Nt,2)/Math.pow(me,2);he>1&&(ee*=Math.sqrt(he),me*=Math.sqrt(he));var Pe=qe(mt,It,te,Qt,ee,me,_t,$t,lt,pt,Rt,Nt),Fe=Pe[0],rn=Pe[1],un=Pe[2],En=Pe[3],qn=Math.abs(En)/(jt/4);Math.abs(1-qn)<1e-7&&(qn=1);var _r=Math.max(Math.ceil(qn),1);En/=_r;for(var fr=0;fr<_r;fr++)bt.push(Ce(un,En)),un+=En;return bt.map(function(Ur){var Li=le(Ur[0],ee,me,pt,lt,Fe,rn),Hi=Li.x,Ra=Li.y,Fa=le(Ur[1],ee,me,pt,lt,Fe,rn),Da=Fa.x,Jo=Fa.y,Ba=le(Ur[2],ee,me,pt,lt,Fe,rn),Fo=Ba.x,Do=Ba.y;return{x1:Hi,y1:Ra,x2:Da,y2:Jo,x:Fo,y:Do}})};function On(at,mt,It,te,Qt,ee,me,dt,it){var Tt=Xe({px:at,py:mt,cx:dt,cy:it,rx:It,ry:te,xAxisRotation:Qt,largeArcFlag:ee,sweepFlag:me});return Tt.reduce(function(_t,Dt){var $t=Dt.x1,bt=Dt.y1,lt=Dt.x2,pt=Dt.y2,Rt=Dt.x,Nt=Dt.y;return _t.push($t,bt,lt,pt,Rt,Nt),_t},[])}function ve(at,mt){"TQ".indexOf(at[0])<0&&(mt.qx=null,mt.qy=null);var It=at.slice(1),te=It[0],Qt=It[1];switch(at[0]){case"M":return mt.x=te,mt.y=Qt,at;case"A":return["C"].concat(arcToCubic.apply(0,[mt.x1,mt.y1].concat(at.slice(1))));case"Q":return mt.qx=te,mt.qy=Qt,["C"].concat(quadToCubic.apply(0,[mt.x1,mt.y1].concat(at.slice(1))));case"L":return["C"].concat(lineToCubic(mt.x1,mt.y1,at[1],at[2]));case"H":return["C"].concat(lineToCubic(mt.x1,mt.y1,at[1],mt.y1));case"V":return["C"].concat(lineToCubic(mt.x1,mt.y1,mt.x1,at[1]));case"Z":return["C"].concat(lineToCubic(mt.x1,mt.y1,mt.x,mt.y));default:}return at}function Ne(at,mt){mt===void 0&&(mt=!1);for(var It=path2Absolute(at),te={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Qt=[],ee="",me=It.length,dt,it,Tt=[],_t=0;_t<me;_t+=1)It[_t]&&(ee=It[_t][0]),Qt[_t]=ee,It[_t]=segmentToCubic(It[_t],te),Qe(It,Qt,_t),me=It.length,ee==="Z"&&Tt.push(_t),dt=It[_t],it=dt.length,te.x1=+dt[it-2],te.y1=+dt[it-1],te.x2=+dt[it-4]||te.x1,te.y2=+dt[it-3]||te.y1;return mt?[It,Tt]:It}function Qe(at,mt,It){if(at[It].length>7){at[It].shift();for(var te=at[It],Qt=It;te.length;)mt[It]="A",at.splice(Qt+=1,0,["C"].concat(te.splice(0,6)));at.splice(It,1)}}var Ue=function(at,mt,It,te,Qt){var ee=-3*mt+9*It-9*te+3*Qt,me=at*ee+6*mt-12*It+6*te;return at*me-3*mt+3*It},Ie=function(at,mt,It,te,Qt,ee,me,dt,it){it===null&&(it=1),it=it>1?1:it<0?0:it;for(var Tt=it/2,_t=12,Dt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$t=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],bt=0,lt=0;lt<_t;lt++){var pt=Tt*Dt[lt]+Tt,Rt=Ue(pt,at,It,Qt,me),Nt=Ue(pt,mt,te,ee,dt),he=Rt*Rt+Nt*Nt;bt+=$t[lt]*Math.sqrt(he)}return Tt*bt},zt=function(at,mt,It,te,Qt,ee,me,dt){for(var it=[],Tt=[[],[]],_t,Dt,$t,bt,lt=0;lt<2;++lt){if(lt===0?(Dt=6*at-12*It+6*Qt,_t=-3*at+9*It-9*Qt+3*me,$t=3*It-3*at):(Dt=6*mt-12*te+6*ee,_t=-3*mt+9*te-9*ee+3*dt,$t=3*te-3*mt),Math.abs(_t)<1e-12){if(Math.abs(Dt)<1e-12)continue;bt=-$t/Dt,bt>0&&bt<1&&it.push(bt);continue}var pt=Dt*Dt-4*$t*_t,Rt=Math.sqrt(pt);if(!(pt<0)){var Nt=(-Dt+Rt)/(2*_t);Nt>0&&Nt<1&&it.push(Nt);var he=(-Dt-Rt)/(2*_t);he>0&&he<1&&it.push(he)}}for(var Pe=it.length,Fe=Pe,rn;Pe--;)bt=it[Pe],rn=1-bt,Tt[0][Pe]=rn*rn*rn*at+3*rn*rn*bt*It+3*rn*bt*bt*Qt+bt*bt*bt*me,Tt[1][Pe]=rn*rn*rn*mt+3*rn*rn*bt*te+3*rn*bt*bt*ee+bt*bt*bt*dt;return Tt[0][Fe]=at,Tt[1][Fe]=mt,Tt[0][Fe+1]=me,Tt[1][Fe+1]=dt,Tt[0].length=Tt[1].length=Fe+2,{min:{x:Math.min.apply(0,Tt[0]),y:Math.min.apply(0,Tt[1])},max:{x:Math.max.apply(0,Tt[0]),y:Math.max.apply(0,Tt[1])}}},ye=function(at,mt,It,te,Qt,ee,me,dt){if(!(Math.max(at,It)<Math.min(Qt,me)||Math.min(at,It)>Math.max(Qt,me)||Math.max(mt,te)<Math.min(ee,dt)||Math.min(mt,te)>Math.max(ee,dt))){var it=(at*te-mt*It)*(Qt-me)-(at-It)*(Qt*dt-ee*me),Tt=(at*te-mt*It)*(ee-dt)-(mt-te)*(Qt*dt-ee*me),_t=(at-It)*(ee-dt)-(mt-te)*(Qt-me);if(_t){var Dt=it/_t,$t=Tt/_t,bt=+Dt.toFixed(2),lt=+$t.toFixed(2);if(!(bt<+Math.min(at,It).toFixed(2)||bt>+Math.max(at,It).toFixed(2)||bt<+Math.min(Qt,me).toFixed(2)||bt>+Math.max(Qt,me).toFixed(2)||lt<+Math.min(mt,te).toFixed(2)||lt>+Math.max(mt,te).toFixed(2)||lt<+Math.min(ee,dt).toFixed(2)||lt>+Math.max(ee,dt).toFixed(2)))return{x:Dt,y:$t}}}},nt=function(at,mt,It){return mt>=at.x&&mt<=at.x+at.width&&It>=at.y&&It<=at.y+at.height},Et=function(at,mt,It,te){return at===null&&(at=mt=It=te=0),mt===null&&(mt=at.y,It=at.width,te=at.height,at=at.x),{x:at,y:mt,width:It,w:It,height:te,h:te,x2:at+It,y2:mt+te,cx:at+It/2,cy:mt+te/2,r1:Math.min(It,te)/2,r2:Math.max(It,te)/2,r0:Math.sqrt(It*It+te*te)/2,path:rectPath(at,mt,It,te),vb:[at,mt,It,te].join(" ")}},ie=function(at,mt){return at=Et(at),mt=Et(mt),nt(mt,at.x,at.y)||nt(mt,at.x2,at.y)||nt(mt,at.x,at.y2)||nt(mt,at.x2,at.y2)||nt(at,mt.x,mt.y)||nt(at,mt.x2,mt.y)||nt(at,mt.x,mt.y2)||nt(at,mt.x2,mt.y2)||(at.x<mt.x2&&at.x>mt.x||mt.x<at.x2&&mt.x>at.x)&&(at.y<mt.y2&&at.y>mt.y||mt.y<at.y2&&mt.y>at.y)},He=function(at,mt,It,te,Qt,ee,me,dt){isArray(at)||(at=[at,mt,It,te,Qt,ee,me,dt]);var it=zt.apply(null,at);return Et(it.min.x,it.min.y,it.max.x-it.min.x,it.max.y-it.min.y)},Je=function(at,mt,It,te,Qt,ee,me,dt,it){var Tt=1-it,_t=Math.pow(Tt,3),Dt=Math.pow(Tt,2),$t=it*it,bt=$t*it,lt=_t*at+Dt*3*it*It+Tt*3*it*it*Qt+bt*me,pt=_t*mt+Dt*3*it*te+Tt*3*it*it*ee+bt*dt,Rt=at+2*it*(It-at)+$t*(Qt-2*It+at),Nt=mt+2*it*(te-mt)+$t*(ee-2*te+mt),he=It+2*it*(Qt-It)+$t*(me-2*Qt+It),Pe=te+2*it*(ee-te)+$t*(dt-2*ee+te),Fe=Tt*at+it*It,rn=Tt*mt+it*te,un=Tt*Qt+it*me,En=Tt*ee+it*dt,qn=90-Math.atan2(Rt-he,Nt-Pe)*180/Math.PI;return{x:lt,y:pt,m:{x:Rt,y:Nt},n:{x:he,y:Pe},start:{x:Fe,y:rn},end:{x:un,y:En},alpha:qn}},tt=function(at,mt,It){var te=He(at),Qt=He(mt);if(!ie(te,Qt))return It?0:[];for(var ee=Ie.apply(0,at),me=Ie.apply(0,mt),dt=~~(ee/8),it=~~(me/8),Tt=[],_t=[],Dt={},$t=It?0:[],bt=0;bt<dt+1;bt++){var lt=Je.apply(0,at.concat(bt/dt));Tt.push({x:lt.x,y:lt.y,t:bt/dt})}for(var bt=0;bt<it+1;bt++){var lt=Je.apply(0,mt.concat(bt/it));_t.push({x:lt.x,y:lt.y,t:bt/it})}for(var bt=0;bt<dt;bt++)for(var pt=0;pt<it;pt++){var Rt=Tt[bt],Nt=Tt[bt+1],he=_t[pt],Pe=_t[pt+1],Fe=Math.abs(Nt.x-Rt.x)<.001?"y":"x",rn=Math.abs(Pe.x-he.x)<.001?"y":"x",un=ye(Rt.x,Rt.y,Nt.x,Nt.y,he.x,he.y,Pe.x,Pe.y);if(un){if(Dt[un.x.toFixed(4)]===un.y.toFixed(4))continue;Dt[un.x.toFixed(4)]=un.y.toFixed(4);var En=Rt.t+Math.abs((un[Fe]-Rt[Fe])/(Nt[Fe]-Rt[Fe]))*(Nt.t-Rt.t),qn=he.t+Math.abs((un[rn]-he[rn])/(Pe[rn]-he[rn]))*(Pe.t-he.t);En>=0&&En<=1&&qn>=0&&qn<=1&&(It?$t++:$t.push({x:un.x,y:un.y,t1:En,t2:qn}))}}return $t},ct=function(at,mt,It){at=path2Curve(at),mt=path2Curve(mt);for(var te,Qt,ee,me,dt,it,Tt,_t,Dt,$t,bt=It?0:[],lt=0,pt=at.length;lt<pt;lt++){var Rt=at[lt];if(Rt[0]==="M")te=dt=Rt[1],Qt=it=Rt[2];else{Rt[0]==="C"?(Dt=[te,Qt].concat(Rt.slice(1)),te=Dt[6],Qt=Dt[7]):(Dt=[te,Qt,te,Qt,dt,it,dt,it],te=dt,Qt=it);for(var Nt=0,he=mt.length;Nt<he;Nt++){var Pe=mt[Nt];if(Pe[0]==="M")ee=Tt=Pe[1],me=_t=Pe[2];else{Pe[0]==="C"?($t=[ee,me].concat(Pe.slice(1)),ee=$t[6],me=$t[7]):($t=[ee,me,ee,me,Tt,_t,Tt,_t],ee=Tt,me=_t);var Fe=tt(Dt,$t,It);if(It)bt+=Fe;else{for(var rn=0,un=Fe.length;rn<un;rn++)Fe[rn].segment1=lt,Fe[rn].segment2=Nt,Fe[rn].bez1=Dt,Fe[rn].bez2=$t;bt=bt.concat(Fe)}}}}}return bt};function Ot(at,mt){return ct(at,mt)}function yt(at){return Math.sqrt(at[0]*at[0]+at[1]*at[1])}function Yt(at,mt){return yt(at)*yt(mt)?(at[0]*mt[0]+at[1]*mt[1])/(yt(at)*yt(mt)):1}function qt(at,mt){return(at[0]*mt[1]<at[1]*mt[0]?-1:1)*Math.acos(Yt(at,mt))}function we(at,mt){return at[0]===mt[0]&&at[1]===mt[1]}function xe(at,mt){var It=mt[1],te=mt[2],Qt=(0,Te.wQ)((0,Te.c$)(mt[3]),Math.PI*2),ee=mt[4],me=mt[5],dt=at[0],it=at[1],Tt=mt[6],_t=mt[7],Dt=Math.cos(Qt)*(dt-Tt)/2+Math.sin(Qt)*(it-_t)/2,$t=-1*Math.sin(Qt)*(dt-Tt)/2+Math.cos(Qt)*(it-_t)/2,bt=Dt*Dt/(It*It)+$t*$t/(te*te);bt>1&&(It*=Math.sqrt(bt),te*=Math.sqrt(bt));var lt=It*It*($t*$t)+te*te*(Dt*Dt),pt=lt?Math.sqrt((It*It*(te*te)-lt)/lt):1;ee===me&&(pt*=-1),isNaN(pt)&&(pt=0);var Rt=te?pt*It*$t/te:0,Nt=It?pt*-te*Dt/It:0,he=(dt+Tt)/2+Math.cos(Qt)*Rt-Math.sin(Qt)*Nt,Pe=(it+_t)/2+Math.sin(Qt)*Rt+Math.cos(Qt)*Nt,Fe=[(Dt-Rt)/It,($t-Nt)/te],rn=[(-1*Dt-Rt)/It,(-1*$t-Nt)/te],un=qt([1,0],Fe),En=qt(Fe,rn);return Yt(Fe,rn)<=-1&&(En=Math.PI),Yt(Fe,rn)>=1&&(En=0),me===0&&En>0&&(En=En-2*Math.PI),me===1&&En<0&&(En=En+2*Math.PI),{cx:he,cy:Pe,rx:we(at,[Tt,_t])?0:It,ry:we(at,[Tt,_t])?0:te,startAngle:un,endAngle:un+En,xRotation:Qt,arcFlag:ee,sweepFlag:me}}function xt(at,mt){return[mt[0]+(mt[0]-at[0]),mt[1]+(mt[1]-at[1])]}function Wt(at){at=Ee(at);for(var mt=[],It=null,te=null,Qt=null,ee=0,me=at.length,dt=0;dt<me;dt++){var it=at[dt];te=at[dt+1];var Tt=it[0],_t={command:Tt,prePoint:It,params:it,startTangent:null,endTangent:null};switch(Tt){case"M":Qt=[it[1],it[2]],ee=dt;break;case"A":var Dt=xe(It,it);_t.arcParams=Dt;break;default:break}if(Tt==="Z")It=Qt,te=at[ee+1];else{var $t=it.length;It=[it[$t-2],it[$t-1]]}te&&te[0]==="Z"&&(te=at[ee],mt[ee]&&(mt[ee].prePoint=It)),_t.currentPoint=It,mt[ee]&&we(It,mt[ee].currentPoint)&&(mt[ee].prePoint=_t.prePoint);var bt=te?[te[te.length-2],te[te.length-1]]:null;_t.nextPoint=bt;var lt=_t.prePoint;if(["L","H","V"].includes(Tt))_t.startTangent=[lt[0]-It[0],lt[1]-It[1]],_t.endTangent=[It[0]-lt[0],It[1]-lt[1]];else if(Tt==="Q"){var pt=[it[1],it[2]];_t.startTangent=[lt[0]-pt[0],lt[1]-pt[1]],_t.endTangent=[It[0]-pt[0],It[1]-pt[1]]}else if(Tt==="T"){var Rt=mt[dt-1],pt=xt(Rt.currentPoint,lt);Rt.command==="Q"?(_t.command="Q",_t.startTangent=[lt[0]-pt[0],lt[1]-pt[1]],_t.endTangent=[It[0]-pt[0],It[1]-pt[1]]):(_t.command="TL",_t.startTangent=[lt[0]-It[0],lt[1]-It[1]],_t.endTangent=[It[0]-lt[0],It[1]-lt[1]])}else if(Tt==="C"){var Nt=[it[1],it[2]],he=[it[3],it[4]];_t.startTangent=[lt[0]-Nt[0],lt[1]-Nt[1]],_t.endTangent=[It[0]-he[0],It[1]-he[1]],_t.startTangent[0]===0&&_t.startTangent[1]===0&&(_t.startTangent=[Nt[0]-he[0],Nt[1]-he[1]]),_t.endTangent[0]===0&&_t.endTangent[1]===0&&(_t.endTangent=[he[0]-Nt[0],he[1]-Nt[1]])}else if(Tt==="S"){var Rt=mt[dt-1],Nt=xt(Rt.currentPoint,lt),he=[it[1],it[2]];Rt.command==="C"?(_t.command="C",_t.startTangent=[lt[0]-Nt[0],lt[1]-Nt[1]],_t.endTangent=[It[0]-he[0],It[1]-he[1]]):(_t.command="SQ",_t.startTangent=[lt[0]-he[0],lt[1]-he[1]],_t.endTangent=[It[0]-he[0],It[1]-he[1]])}else if(Tt==="A"){var Pe=.001,Fe=_t.arcParams||{},rn=Fe.cx,un=rn===void 0?0:rn,En=Fe.cy,qn=En===void 0?0:En,_r=Fe.rx,fr=_r===void 0?0:_r,Ur=Fe.ry,Li=Ur===void 0?0:Ur,Hi=Fe.sweepFlag,Ra=Hi===void 0?0:Hi,Fa=Fe.startAngle,Da=Fa===void 0?0:Fa,Jo=Fe.endAngle,Ba=Jo===void 0?0:Jo;Ra===0&&(Pe*=-1);var Fo=fr*Math.cos(Da-Pe)+un,Do=Li*Math.sin(Da-Pe)+qn;_t.startTangent=[Fo-Qt[0],Do-Qt[1]];var hh=fr*Math.cos(Da+Ba+Pe)+un,vs=Li*Math.sin(Da+Ba-Pe)+qn;_t.endTangent=[lt[0]-hh,lt[1]-vs]}mt.push(_t)}return mt}function re(at){for(var mt=[],It=at.length,te=0;te<It-1;te++){var Qt=at[te],ee=at[te+1];mt.push({from:{x:Qt[0],y:Qt[1]},to:{x:ee[0],y:ee[1]}})}if(mt.length>1){var me=at[0],dt=at[It-1];mt.push({from:{x:dt[0],y:dt[1]},to:{x:me[0],y:me[1]}})}return mt}function wt(at,mt){var It=!1;return each(at,function(te){if(getLineIntersect(te.from,te.to,mt.from,mt.to))return It=!0,!1}),It}function vt(at){var mt=at.map(function(te){return te[0]}),It=at.map(function(te){return te[1]});return{minX:Math.min.apply(null,mt),maxX:Math.max.apply(null,mt),minY:Math.min.apply(null,It),maxY:Math.max.apply(null,It)}}function Bt(at,mt){return!(mt.minX>at.maxX||mt.maxX<at.minX||mt.minY>at.maxY||mt.maxY<at.minY)}function Zt(at,mt){if(at.length<2||mt.length<2)return!1;var It=vt(at),te=vt(mt);if(!Bt(It,te))return!1;var Qt=!1;if(each(mt,function(it){if(isPointInPolygon(at,it[0],it[1]))return Qt=!0,!1}),Qt||(each(at,function(it){if(isPointInPolygon(mt,it[0],it[1]))return Qt=!0,!1}),Qt))return!0;var ee=re(at),me=re(mt),dt=!1;return each(me,function(it){if(wt(ee,it))return dt=!0,!1}),dt}},45098:function(Dn,mn,kt){"use strict";kt.d(mn,{Ct:function(){return sy},f0:function(){return Nu},uZ:function(){return _r},VS:function(){return vh},d9:function(){return qg},FX:function(){return je},Ds:function(){return ys},b$:function(){return gh},e5:function(){return fe},S6:function(){return Oe},yW:function(){return Dt},hX:function(){return B},sE:function(){return Ne},cx:function(){return Ue},Wx:function(){return zt},ri:function(){return Ur},xH:function(){return nt},U5:function(){return Me},U2:function(){return zu},Lo:function(){return Hp},rx:function(){return ct},ru:function(){return he},vM:function(){return Rt},Ms:function(){return Nt},wH:function(){return oe},YM:function(){return Qt},q9:function(){return je},cq:function(){return $g},kJ:function(){return _},jn:function(){return ci},J_:function(){return bi},kK:function(){return Fp},xb:function(){return mh},Xy:function(){return Pc},mf:function(){return de},BD:function(){return Ce},UM:function(){return L},Ft:function(){return Rp},hj:function(){return Hi},vQ:function(){return wl},Kn:function(){return Ht},PO:function(){return On},HD:function(){return Zt},P9:function(){return se},o8:function(){return Ji},XP:function(){return jt},Z$:function(){return ee},vl:function(){return hn},UI:function(){return Qg},Q8:function(){return Gp},Fp:function(){return He},UT:function(){return ph},HP:function(){return Bp},VV:function(){return Je},F:function(){return Fu},CD:function(){return Nu},wQ:function(){return Ec},ZT:function(){return iy},CE:function(){return Wp},ei:function(){return ty},u4:function(){return wt},Od:function(){return Bt},U7:function(){return Dp},t8:function(){return xa},dp:function(){return Vp},G:function(){return bt},MR:function(){return mt},ng:function(){return _n},P2:function(){return ey},qo:function(){return ny},c$:function(){return Se},BB:function(){return gn},jj:function(){return It},EL:function(){return ry},jC:function(){return Hn},VO:function(){return We},I:function(){return te}});var Te=function(ht){return ht!==null&&typeof ht!="function"&&isFinite(ht.length)},ne=Te,Ge=function(ht,Vt){return ne(ht)?ht.indexOf(Vt)>-1:!1},je=Ge,Ee=function(ht,Vt){if(!ne(ht))return ht;for(var pe=[],ke=0;ke<ht.length;ke++){var $e=ht[ke];Vt($e,ke)&&pe.push($e)}return pe},B=Ee,Gt=function(ht,Vt){return Vt===void 0&&(Vt=[]),B(ht,function(pe){return!je(Vt,pe)})},fe=Gt,rt={}.toString,ue=function(ht,Vt){return rt.call(ht)==="[object "+Vt+"]"},se=ue,de=function(ht){return se(ht,"Function")},Kt=function(ht){return ht==null},L=Kt,_=function(ht){return Array.isArray?Array.isArray(ht):se(ht,"Array")},Ht=function(ht){var Vt=typeof ht;return ht!==null&&Vt==="object"||Vt==="function"};function Lt(ht,Vt){if(ht){var pe;if(_(ht))for(var ke=0,$e=ht.length;ke<$e&&(pe=Vt(ht[ke],ke),pe!==!1);ke++);else if(Ht(ht)){for(var yn in ht)if(ht.hasOwnProperty(yn)&&(pe=Vt(ht[yn],yn),pe===!1))break}}}var Oe=Lt,Ae=Object.keys?function(ht){return Object.keys(ht)}:function(ht){var Vt=[];return Oe(ht,function(pe,ke){de(ht)&&ke==="prototype"||Vt.push(ke)}),Vt},jt=Ae;function le(ht,Vt){var pe=jt(Vt),ke=pe.length;if(L(ht))return!ke;for(var $e=0;$e<ke;$e+=1){var yn=pe[$e];if(Vt[yn]!==ht[yn]||!(yn in ht))return!1}return!0}var Ce=le,Ve=function(ht){return typeof ht=="object"&&ht!==null},qe=Ve,Xe=function(ht){if(!qe(ht)||!se(ht,"Object"))return!1;if(Object.getPrototypeOf(ht)===null)return!0;for(var Vt=ht;Object.getPrototypeOf(Vt)!==null;)Vt=Object.getPrototypeOf(Vt);return Object.getPrototypeOf(ht)===Vt},On=Xe;function ve(ht,Vt){if(!_(ht))return null;var pe;if(de(Vt)&&(pe=Vt),On(Vt)&&(pe=function($e){return Ce($e,Vt)}),pe){for(var ke=0;ke<ht.length;ke+=1)if(pe(ht[ke]))return ht[ke]}return null}var Ne=ve;function Qe(ht,Vt,pe){pe===void 0&&(pe=0);for(var ke=pe;ke<ht.length;ke++)if(Vt(ht[ke],ke))return ke;return-1}var Ue=Qe,Ie=function(ht,Vt){for(var pe=null,ke=0;ke<ht.length;ke++){var $e=ht[ke],yn=$e[Vt];if(!L(yn)){_(yn)?pe=yn[0]:pe=yn;break}}return pe},zt=Ie,ye=function(ht){if(!_(ht))return[];for(var Vt=[],pe=0;pe<ht.length;pe++)Vt=Vt.concat(ht[pe]);return Vt},nt=ye,Et=function(ht,Vt){if(Vt===void 0&&(Vt=[]),!isArray(ht))Vt.push(ht);else for(var pe=0;pe<ht.length;pe+=1)Et(ht[pe],Vt);return Vt},ie=null,He=function(ht){if(_(ht))return ht.reduce(function(Vt,pe){return Math.max(Vt,pe)},ht[0])},Je=function(ht){if(_(ht))return ht.reduce(function(Vt,pe){return Math.min(Vt,pe)},ht[0])},tt=function(ht){var Vt=ht.filter(function(Wn){return!isNaN(Wn)});if(!Vt.length)return{min:0,max:0};if(_(ht[0])){for(var pe=[],ke=0;ke<ht.length;ke++)pe=pe.concat(ht[ke]);Vt=pe}var $e=He(Vt),yn=Je(Vt);return{min:yn,max:$e}},ct=tt,Ot=Array.prototype,yt=Ot.splice,Yt=Ot.indexOf,qt=function(ht){for(var Vt=[],pe=1;pe<arguments.length;pe++)Vt[pe-1]=arguments[pe];for(var ke=0;ke<Vt.length;ke++)for(var $e=Vt[ke],yn=-1;(yn=Yt.call(ht,$e))>-1;)yt.call(ht,yn,1);return ht},we=null,xe=Array.prototype.splice,xt=function(Vt,pe){if(!ne(Vt))return[];for(var ke=Vt?pe.length:0,$e=ke-1;ke--;){var yn=void 0,Wn=pe[ke];(ke===$e||Wn!==yn)&&(yn=Wn,xe.call(Vt,Wn,1))}return Vt},Wt=xt,re=function(ht,Vt,pe){if(!_(ht)&&!On(ht))return ht;var ke=pe;return Oe(ht,function($e,yn){ke=Vt(ke,$e,yn)}),ke},wt=re,vt=function(ht,Vt){var pe=[];if(!ne(ht))return pe;for(var ke=-1,$e=[],yn=ht.length;++ke<yn;){var Wn=ht[ke];Vt(Wn,ke,ht)&&(pe.push(Wn),$e.push(ke))}return Wt(ht,$e),pe},Bt=vt,Zt=function(ht){return se(ht,"String")};function at(ht,Vt){var pe;if(de(Vt))pe=function($e,yn){return Vt($e)-Vt(yn)};else{var ke=[];Zt(Vt)?ke.push(Vt):_(Vt)&&(ke=Vt),pe=function($e,yn){for(var Wn=0;Wn<ke.length;Wn+=1){var wr=ke[Wn];if($e[wr]>yn[wr])return 1;if($e[wr]<yn[wr])return-1}return 0}}return ht.sort(pe),ht}var mt=at;function It(ht,Vt){Vt===void 0&&(Vt=new Map);var pe=[];if(Array.isArray(ht))for(var ke=0,$e=ht.length;ke<$e;ke++){var yn=ht[ke];Vt.has(yn)||(pe.push(yn),Vt.set(yn,!0))}return pe}var te=function(ht,Vt){for(var pe=[],ke={},$e=0;$e<ht.length;$e++){var yn=ht[$e],Wn=yn[Vt];if(!L(Wn)){_(Wn)||(Wn=[Wn]);for(var wr=0;wr<Wn.length;wr++){var ba=Wn[wr];ke[ba]||(pe.push(ba),ke[ba]=!0)}}}return pe};function Qt(ht){if(ne(ht))return ht[0]}function ee(ht){if(ne(ht)){var Vt=ht;return Vt[Vt.length-1]}}function me(ht,Vt){return isArray(ht)||isString(ht)?ht[0]===Vt:!1}var dt=null;function it(ht,Vt){return isArray(ht)||isString(ht)?ht[ht.length-1]===Vt:!1}var Tt=null,_t=function(ht,Vt){for(var pe=0;pe<ht.length;pe++)if(!Vt(ht[pe],pe))return!1;return!0},Dt=_t,$t=function(ht,Vt){for(var pe=0;pe<ht.length;pe++)if(Vt(ht[pe],pe))return!0;return!1},bt=$t,lt=Object.prototype.hasOwnProperty;function pt(ht,Vt){if(!Vt||!_(ht))return{};for(var pe={},ke=de(Vt)?Vt:function(wr){return wr[Vt]},$e,yn=0;yn<ht.length;yn++){var Wn=ht[yn];$e=ke(Wn),lt.call(pe,$e)?pe[$e].push(Wn):pe[$e]=[Wn]}return pe}var Rt=pt;function Nt(ht,Vt){if(!Vt)return{0:ht};if(!de(Vt)){var pe=_(Vt)?Vt:Vt.replace(/\s+/g,"").split("*");Vt=function(ke){for(var $e="_",yn=0,Wn=pe.length;yn<Wn;yn++)$e+=ke[pe[yn]]&&ke[pe[yn]].toString();return $e}}return Rt(ht,Vt)}var he=function(ht,Vt){if(!Vt)return[ht];var pe=Nt(ht,Vt),ke=[];for(var $e in pe)ke.push(pe[$e]);return ke},Pe={};function Fe(ht){var Vt=Pe[ht];if(!Vt){for(var pe=ht.toString(16),ke=pe.length;ke<6;ke++)pe="0"+pe;Vt="#"+pe,Pe[ht]=Vt}return Vt}var rn=null;function un(ht){var Vt=0,pe=0,ke=0,$e=0;return isArray(ht)?ht.length===1?Vt=pe=ke=$e=ht[0]:ht.length===2?(Vt=ke=ht[0],pe=$e=ht[1]):ht.length===3?(Vt=ht[0],pe=$e=ht[1],ke=ht[2]):(Vt=ht[0],pe=ht[1],ke=ht[2],$e=ht[3]):Vt=pe=ke=$e=ht,{r1:Vt,r2:pe,r3:ke,r4:$e}}var En=null,qn=function(ht,Vt,pe){return ht<Vt?Vt:ht>pe?pe:ht},_r=qn,fr=function(ht,Vt){var pe=Vt.toString(),ke=pe.indexOf(".");if(ke===-1)return Math.round(ht);var $e=pe.substr(ke+1).length;return $e>20&&($e=20),parseFloat(ht.toFixed($e))},Ur=fr,Li=function(ht){return se(ht,"Number")},Hi=Li,Ra=function(ht){return isNumber(ht)&&ht%1!==0},Fa=null,Da=function(ht){return isNumber(ht)&&ht%2===0},Jo=null,Ba=Number.isInteger?Number.isInteger:function(ht){return Hi(ht)&&ht%1===0},Fo=null,Do=function(ht){return isNumber(ht)&&ht<0},hh=null,vs=1e-5;function wl(ht,Vt,pe){return pe===void 0&&(pe=vs),Math.abs(ht-Vt)<pe}var Tc=function(ht){return isNumber(ht)&&ht%2!==0},Pp=null,dh=function(ht){return isNumber(ht)&&ht>0},Lp=null,ph=function(ht,Vt){if(_(ht)){for(var pe,ke=-1/0,$e=0;$e<ht.length;$e++){var yn=ht[$e],Wn=de(Vt)?Vt(yn):yn[Vt];Wn>ke&&(pe=yn,ke=Wn)}return pe}},Fu=function(ht,Vt){if(_(ht)){for(var pe,ke=1/0,$e=0;$e<ht.length;$e++){var yn=ht[$e],Wn=de(Vt)?Vt(yn):yn[Vt];Wn<ke&&(pe=yn,ke=Wn)}return pe}},Ip=function(ht,Vt){return(ht%Vt+Vt)%Vt},Ec=Ip,Ki=180/Math.PI,ya=function(ht){return Ki*ht},et=null,ut=parseInt,Pt=Math.PI/180,Xt=function(ht){return Pt*ht},Se=Xt,Me=Oe,ae=function(ht,Vt){return ht.hasOwnProperty(Vt)},oe=ae,ze=Object.values?function(ht){return Object.values(ht)}:function(ht){var Vt=[];return Oe(ht,function(pe,ke){de(ht)&&ke==="prototype"||Vt.push(pe)}),Vt},We=ze,pn=function(ht,Vt){return contains(values(ht),Vt)},gn=function(ht){return L(ht)?"":ht.toString()},Ln=function(ht){return gn(ht).toLowerCase()},hn=Ln;function wn(ht,Vt){return!ht||!Vt?ht:ht.replace(/\\?\{([^{}]+)\}/g,function(pe,ke){return pe.charAt(0)==="\\"?pe.slice(1):Vt[ke]===void 0?"":Vt[ke]})}var _n=wn,on=function(ht){var Vt=gn(ht);return Vt.charAt(0).toUpperCase()+Vt.substring(1)},Hn=on,Cn={}.toString,Yn=function(ht){return Cn.call(ht).replace(/^\[object /,"").replace(/]$/,"")},An=Yn,zn=function(ht){return isType(ht,"Arguments")},or=null,Yi=function(ht){return se(ht,"Boolean")},ci=Yi,li=function(ht){return se(ht,"Date")},bi=li,Ti=function(ht){return isType(ht,"Error")},Xr=null;function ei(ht){return isNumber(ht)&&isFinite(ht)}var Qo=function(ht){return ht===null},Rp=Qo,Ml=Object.prototype,ma=function(ht){var Vt=ht&&ht.constructor,pe=typeof Vt=="function"&&Vt.prototype||Ml;return ht===pe},Di=ma,gs=function(ht){return isType(ht,"RegExp")},kc=null,ts=function(ht){return ht===void 0},Ji=ts,Qi=function(ht){return ht instanceof Element||ht instanceof HTMLDocument},Fp=Qi;function Dp(ht){var Vt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(pe){return setTimeout(pe,16)};return Vt(ht)}function vh(ht){var Vt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Vt(ht)}var B2=function(){for(var ht=[],Vt=0;Vt<arguments.length;Vt++)ht[Vt]=arguments[Vt];for(var pe=ht[0],ke=1;ke<ht.length;ke++){var $e=ht[ke];isFunction($e)&&($e=$e.prototype),mix(pe.prototype,$e)}},Sl=null,la=function(ht){if(typeof ht!="object"||ht===null)return ht;var Vt;if(_(ht)){Vt=[];for(var pe=0,ke=ht.length;pe<ke;pe++)typeof ht[pe]=="object"&&ht[pe]!=null?Vt[pe]=la(ht[pe]):Vt[pe]=ht[pe]}else{Vt={};for(var $e in ht)typeof ht[$e]=="object"&&ht[$e]!=null?Vt[$e]=la(ht[$e]):Vt[$e]=ht[$e]}return Vt},qg=la;function nr(ht,Vt,pe){var ke;return function(){var $e=this,yn=arguments,Wn=function(){ke=null,pe||ht.apply($e,yn)},wr=pe&&!ke;clearTimeout(ke),ke=setTimeout(Wn,Vt),wr&&ht.apply($e,yn)}}var ys=nr,Bp=function(ht,Vt){if(!de(ht))throw new TypeError("Expected a function");var pe=function(){for(var ke=[],$e=0;$e<arguments.length;$e++)ke[$e]=arguments[$e];var yn=Vt?Vt.apply(this,ke):ke[0],Wn=pe.cache;if(Wn.has(yn))return Wn.get(yn);var wr=ht.apply(this,ke);return Wn.set(yn,wr),wr};return pe.cache=new Map,pe},_l=5;function Ol(ht,Vt,pe,ke){pe=pe||0,ke=ke||_l;for(var $e in Vt)if(Vt.hasOwnProperty($e)){var yn=Vt[$e];yn!==null&&On(yn)?(On(ht[$e])||(ht[$e]={}),pe<ke?Ol(ht[$e],yn,pe+1,ke):ht[$e]=Vt[$e]):_(yn)?(ht[$e]=[],ht[$e]=ht[$e].concat(yn)):yn!==void 0&&(ht[$e]=yn)}}var Np=function(ht){for(var Vt=[],pe=1;pe<arguments.length;pe++)Vt[pe-1]=arguments[pe];for(var ke=0;ke<Vt.length;ke+=1)Ol(ht,Vt[ke]);return ht},gh=Np,yh=function(ht,Vt,pe,ke){isFunction(Vt)||(pe=Vt,Vt=ht,ht=function(){});var $e=Object.create?function(Wn,wr){return Object.create(Wn,{constructor:{value:wr}})}:function(Wn,wr){function ba(){}ba.prototype=Wn;var ta=new ba;return ta.constructor=wr,ta},yn=$e(Vt.prototype,ht);return ht.prototype=mix(yn,ht.prototype),ht.superclass=$e(Vt.prototype,Vt),mix(yn,pe),mix(ht,ke),ht},Bo=null,zp=function(ht,Vt){if(!ne(ht))return-1;var pe=Array.prototype.indexOf;if(pe)return pe.call(ht,Vt);for(var ke=-1,$e=0;$e<ht.length;$e++)if(ht[$e]===Vt){ke=$e;break}return ke},$g=zp,jp=Object.prototype.hasOwnProperty;function Cl(ht){if(L(ht))return!0;if(ne(ht))return!ht.length;var Vt=An(ht);if(Vt==="Map"||Vt==="Set")return!ht.size;if(Di(ht))return!Object.keys(ht).length;for(var pe in ht)if(jp.call(ht,pe))return!1;return!0}var mh=Cl,Du=function(ht,Vt){if(ht===Vt)return!0;if(!ht||!Vt||Zt(ht)||Zt(Vt))return!1;if(ne(ht)||ne(Vt)){if(ht.length!==Vt.length)return!1;for(var pe=!0,ke=0;ke<ht.length&&(pe=Du(ht[ke],Vt[ke]),!!pe);ke++);return pe}if(qe(ht)||qe(Vt)){var $e=Object.keys(ht),yn=Object.keys(Vt);if($e.length!==yn.length)return!1;for(var pe=!0,ke=0;ke<$e.length&&(pe=Du(ht[$e[ke]],Vt[$e[ke]]),!!pe);ke++);return pe}return!1},Pc=Du,Kg=function(ht,Vt,pe){return isFunction(pe)?!!pe(ht,Vt):isEqual(ht,Vt)},Jg=function(ht,Vt){if(!ne(ht))return ht;for(var pe=[],ke=0;ke<ht.length;ke++){var $e=ht[ke];pe.push(Vt($e,ke))}return pe},Qg=Jg,Bu=function(ht){return ht},Gp=function(ht,Vt){Vt===void 0&&(Vt=Bu);var pe={};return Ht(ht)&&!L(ht)&&Object.keys(ht).forEach(function(ke){pe[ke]=Vt(ht[ke],ke)}),pe};function Lc(ht,Vt){for(var pe in Vt)Vt.hasOwnProperty(pe)&&pe!=="constructor"&&Vt[pe]!==void 0&&(ht[pe]=Vt[pe])}function Nu(ht,Vt,pe,ke){return Vt&&Lc(ht,Vt),pe&&Lc(ht,pe),ke&&Lc(ht,ke),ht}var zu=function(ht,Vt,pe){for(var ke=0,$e=Zt(Vt)?Vt.split("."):Vt;ht&&ke<$e.length;)ht=ht[$e[ke++]];return ht===void 0||ke<$e.length?pe:ht},xa=function(ht,Vt,pe){var ke=ht,$e=Zt(Vt)?Vt.split("."):Vt;return $e.forEach(function(yn,Wn){Wn<$e.length-1?(Ht(ke[yn])||(ke[yn]=Hi($e[Wn+1])?[]:{}),ke=ke[yn]):ke[yn]=pe}),ht},xh=Object.prototype.hasOwnProperty,ty=function(ht,Vt){if(ht===null||!On(ht))return{};var pe={};return Oe(Vt,function(ke){xh.call(ht,ke)&&(pe[ke]=ht[ke])}),pe},Wp=function(ht,Vt){return wt(ht,function(pe,ke,$e){return Vt.includes($e)||(pe[$e]=ke),pe},{})},ey=function(ht,Vt,pe){var ke,$e,yn,Wn,wr=0;pe||(pe={});var ba=function(){wr=pe.leading===!1?0:Date.now(),ke=null,Wn=ht.apply($e,yn),ke||($e=yn=null)},ta=function(){var go=Date.now();!wr&&pe.leading===!1&&(wr=go);var ju=Vt-(go-wr);return $e=this,yn=arguments,ju<=0||ju>Vt?(ke&&(clearTimeout(ke),ke=null),wr=go,Wn=ht.apply($e,yn),ke||($e=yn=null)):!ke&&pe.trailing!==!1&&(ke=setTimeout(ba,ju)),Wn};return ta.cancel=function(){clearTimeout(ke),wr=0,ke=$e=yn=null},ta},ny=function(ht){return ne(ht)?Array.prototype.slice.call(ht):[]},Ic={},ry=function(ht){return ht=ht||"g",Ic[ht]?Ic[ht]+=1:Ic[ht]=1,ht+Ic[ht]},iy=function(){};function Vp(ht){return L(ht)?0:ne(ht)?ht.length:Object.keys(ht).length}var ay=kt(97582),Rc,Fc=Bp(function(ht,Vt){Vt===void 0&&(Vt={});var pe=Vt.fontSize,ke=Vt.fontFamily,$e=Vt.fontWeight,yn=Vt.fontStyle,Wn=Vt.fontVariant;return Rc||(Rc=document.createElement("canvas").getContext("2d")),Rc.font=[yn,Wn,$e,pe+"px",ke].join(" "),Rc.measureText(Zt(ht)?ht:"").width},function(ht,Vt){return Vt===void 0&&(Vt={}),(0,ay.pr)([ht],We(Vt)).join("")}),Hp=function(ht,Vt,pe,ke){ke===void 0&&(ke="...");var $e=16,yn=Fc(ke,pe),Wn=Zt(ht)?ht:gn(ht),wr=Vt,ba=[],ta,go;if(Fc(ht,pe)<=Vt)return ht;for(;ta=Wn.substr(0,$e),go=Fc(ta,pe),!(go+yn>wr&&go>wr);)if(ba.push(ta),wr-=go,Wn=Wn.substr($e),!Wn)return ba.join("");for(;ta=Wn.substr(0,1),go=Fc(ta,pe),!(go+yn>wr);)if(ba.push(ta),wr-=go,Wn=Wn.substr(1),!Wn)return ba.join("");return""+ba.join("")+ke},oy=function(){function ht(){this.map={}}return ht.prototype.has=function(Vt){return this.map[Vt]!==void 0},ht.prototype.get=function(Vt,pe){var ke=this.map[Vt];return ke===void 0?pe:ke},ht.prototype.set=function(Vt,pe){this.map[Vt]=pe},ht.prototype.clear=function(){this.map={}},ht.prototype.delete=function(Vt){delete this.map[Vt]},ht.prototype.size=function(){return Object.keys(this.map).length},ht}(),sy=oy},8874:function(Dn){"use strict";Dn.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(Dn,mn,kt){var Te=kt(8874),ne=kt(86851),Ge=Object.hasOwnProperty,je=Object.create(null);for(var Ee in Te)Ge.call(Te,Ee)&&(je[Te[Ee]]=Ee);var B=Dn.exports={to:{},get:{}};B.get=function(rt){var ue=rt.substring(0,3).toLowerCase(),se,de;switch(ue){case"hsl":se=B.get.hsl(rt),de="hsl";break;case"hwb":se=B.get.hwb(rt),de="hwb";break;default:se=B.get.rgb(rt),de="rgb";break}return se?{model:de,value:se}:null},B.get.rgb=function(rt){if(!rt)return null;var ue=/^#([a-f0-9]{3,4})$/i,se=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,de=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,Kt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,L=/^(\w+)$/,_=[0,0,0,1],Ht,Lt,Oe;if(Ht=rt.match(se)){for(Oe=Ht[2],Ht=Ht[1],Lt=0;Lt<3;Lt++){var Ae=Lt*2;_[Lt]=parseInt(Ht.slice(Ae,Ae+2),16)}Oe&&(_[3]=parseInt(Oe,16)/255)}else if(Ht=rt.match(ue)){for(Ht=Ht[1],Oe=Ht[3],Lt=0;Lt<3;Lt++)_[Lt]=parseInt(Ht[Lt]+Ht[Lt],16);Oe&&(_[3]=parseInt(Oe+Oe,16)/255)}else if(Ht=rt.match(de)){for(Lt=0;Lt<3;Lt++)_[Lt]=parseInt(Ht[Lt+1],0);Ht[4]&&(Ht[5]?_[3]=parseFloat(Ht[4])*.01:_[3]=parseFloat(Ht[4]))}else if(Ht=rt.match(Kt)){for(Lt=0;Lt<3;Lt++)_[Lt]=Math.round(parseFloat(Ht[Lt+1])*2.55);Ht[4]&&(Ht[5]?_[3]=parseFloat(Ht[4])*.01:_[3]=parseFloat(Ht[4]))}else return(Ht=rt.match(L))?Ht[1]==="transparent"?[0,0,0,0]:Ge.call(Te,Ht[1])?(_=Te[Ht[1]],_[3]=1,_):null:null;for(Lt=0;Lt<3;Lt++)_[Lt]=Gt(_[Lt],0,255);return _[3]=Gt(_[3],0,1),_},B.get.hsl=function(rt){if(!rt)return null;var ue=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,se=rt.match(ue);if(se){var de=parseFloat(se[4]),Kt=(parseFloat(se[1])%360+360)%360,L=Gt(parseFloat(se[2]),0,100),_=Gt(parseFloat(se[3]),0,100),Ht=Gt(isNaN(de)?1:de,0,1);return[Kt,L,_,Ht]}return null},B.get.hwb=function(rt){if(!rt)return null;var ue=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,se=rt.match(ue);if(se){var de=parseFloat(se[4]),Kt=(parseFloat(se[1])%360+360)%360,L=Gt(parseFloat(se[2]),0,100),_=Gt(parseFloat(se[3]),0,100),Ht=Gt(isNaN(de)?1:de,0,1);return[Kt,L,_,Ht]}return null},B.to.hex=function(){var rt=ne(arguments);return"#"+fe(rt[0])+fe(rt[1])+fe(rt[2])+(rt[3]<1?fe(Math.round(rt[3]*255)):"")},B.to.rgb=function(){var rt=ne(arguments);return rt.length<4||rt[3]===1?"rgb("+Math.round(rt[0])+", "+Math.round(rt[1])+", "+Math.round(rt[2])+")":"rgba("+Math.round(rt[0])+", "+Math.round(rt[1])+", "+Math.round(rt[2])+", "+rt[3]+")"},B.to.rgb.percent=function(){var rt=ne(arguments),ue=Math.round(rt[0]/255*100),se=Math.round(rt[1]/255*100),de=Math.round(rt[2]/255*100);return rt.length<4||rt[3]===1?"rgb("+ue+"%, "+se+"%, "+de+"%)":"rgba("+ue+"%, "+se+"%, "+de+"%, "+rt[3]+")"},B.to.hsl=function(){var rt=ne(arguments);return rt.length<4||rt[3]===1?"hsl("+rt[0]+", "+rt[1]+"%, "+rt[2]+"%)":"hsla("+rt[0]+", "+rt[1]+"%, "+rt[2]+"%, "+rt[3]+")"},B.to.hwb=function(){var rt=ne(arguments),ue="";return rt.length>=4&&rt[3]!==1&&(ue=", "+rt[3]),"hwb("+rt[0]+", "+rt[1]+"%, "+rt[2]+"%"+ue+")"},B.to.keyword=function(rt){return je[rt.slice(0,3)]};function Gt(rt,ue,se){return Math.min(Math.max(ue,rt),se)}function fe(rt){var ue=Math.round(rt).toString(16).toUpperCase();return ue.length<2?"0"+ue:ue}},56645:function(Dn,mn){(function(kt,Te){Te(mn)})(this,function(kt){"use strict";function Te(ve,Ne){return ne(ve)||Ge(ve,Ne)||je()}function ne(ve){if(Array.isArray(ve))return ve}function Ge(ve,Ne){var Qe=[],Ue=!0,Ie=!1,zt=void 0;try{for(var ye=ve[Symbol.iterator](),nt;!(Ue=(nt=ye.next()).done)&&(Qe.push(nt.value),!(Ne&&Qe.length===Ne));Ue=!0);}catch(Et){Ie=!0,zt=Et}finally{try{!Ue&&ye.return!=null&&ye.return()}finally{if(Ie)throw zt}}return Qe}function je(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ee(ve,Ne,Qe,Ue){ve=ve.filter(function(Ot,yt){var Yt=Ne(Ot,yt),qt=Qe(Ot,yt);return Yt!=null&&isFinite(Yt)&&qt!=null&&isFinite(qt)}),Ue&&ve.sort(function(Ot,yt){return Ne(Ot)-Ne(yt)});for(var Ie=ve.length,zt=new Float64Array(Ie),ye=new Float64Array(Ie),nt=0,Et=0,ie,He,Je,tt=0;tt<Ie;)Je=ve[tt],zt[tt]=ie=+Ne(Je,tt,ve),ye[tt]=He=+Qe(Je,tt,ve),++tt,nt+=(ie-nt)/tt,Et+=(He-Et)/tt;for(var ct=0;ct<Ie;++ct)zt[ct]-=nt,ye[ct]-=Et;return[zt,ye,nt,Et]}function B(ve,Ne,Qe,Ue){for(var Ie=0,zt=0,ye=ve.length;zt<ye;zt++){var nt=ve[zt],Et=+Ne(nt,zt,ve),ie=+Qe(nt,zt,ve);Et!=null&&isFinite(Et)&&ie!=null&&isFinite(ie)&&Ue(Et,ie,Ie++)}}function Gt(ve,Ne,Qe,Ue,Ie){var zt=0,ye=0;return B(ve,Ne,Qe,function(nt,Et){var ie=Et-Ie(nt),He=Et-Ue;zt+=ie*ie,ye+=He*He}),1-zt/ye}function fe(ve){return Math.atan2(ve[1][1]-ve[0][1],ve[1][0]-ve[0][0])*180/Math.PI}function rt(ve){return[(ve[0][0]+ve[1][0])/2,(ve[0][1]+ve[1][1])/2]}function ue(ve,Ne,Qe){for(var Ue=Math.log(Ne-ve)*Math.LOG10E+1|0,Ie=1*Math.pow(10,-Ue/2-1),zt=1e4,ye=[Et(ve),Et(Ne)],nt=0;ie(ye)&&nt<zt;);return ye;function Et(He){return[He,Qe(He)]}function ie(He){nt++;for(var Je=He.length,tt=!1,ct=0;ct<Je-1;ct++){var Ot=He[ct],yt=He[ct+1],Yt=rt([Ot,yt]),qt=Et(Yt[0]),we=fe([Ot,Yt]),xe=fe([Ot,qt]),xt=Math.abs(we-xe);xt>Ie&&(He.splice(ct+1,0,qt),tt=!0)}return tt}}function se(ve,Ne,Qe,Ue){var Ie=Ue-ve*ve,zt=Math.abs(Ie)<1e-24?0:(Qe-ve*Ne)/Ie,ye=Ne-zt*ve;return[ye,zt]}function de(){var ve=function(zt){return zt[0]},Ne=function(zt){return zt[1]},Qe;function Ue(Ie){var zt=0,ye=0,nt=0,Et=0,ie=0,He=0,Je=Qe?+Qe[0]:1/0,tt=Qe?+Qe[1]:-1/0;B(Ie,ve,Ne,function(xe,xt){var Wt=Math.log(xt),re=xe*xt;++zt,ye+=(xt-ye)/zt,Et+=(re-Et)/zt,He+=(xe*re-He)/zt,nt+=(xt*Wt-nt)/zt,ie+=(re*Wt-ie)/zt,Qe||(xe<Je&&(Je=xe),xe>tt&&(tt=xe))});var ct=se(Et/ye,nt/ye,ie/ye,He/ye),Ot=Te(ct,2),yt=Ot[0],Yt=Ot[1];yt=Math.exp(yt);var qt=function(xt){return yt*Math.exp(Yt*xt)},we=ue(Je,tt,qt);return we.a=yt,we.b=Yt,we.predict=qt,we.rSquared=Gt(Ie,ve,Ne,ye,qt),we}return Ue.domain=function(Ie){return arguments.length?(Qe=Ie,Ue):Qe},Ue.x=function(Ie){return arguments.length?(ve=Ie,Ue):ve},Ue.y=function(Ie){return arguments.length?(Ne=Ie,Ue):Ne},Ue}function Kt(){var ve=function(zt){return zt[0]},Ne=function(zt){return zt[1]},Qe;function Ue(Ie){var zt=0,ye=0,nt=0,Et=0,ie=0,He=Qe?+Qe[0]:1/0,Je=Qe?+Qe[1]:-1/0;B(Ie,ve,Ne,function(we,xe){++zt,ye+=(we-ye)/zt,nt+=(xe-nt)/zt,Et+=(we*xe-Et)/zt,ie+=(we*we-ie)/zt,Qe||(we<He&&(He=we),we>Je&&(Je=we))});var tt=se(ye,nt,Et,ie),ct=Te(tt,2),Ot=ct[0],yt=ct[1],Yt=function(xe){return yt*xe+Ot},qt=[[He,Yt(He)],[Je,Yt(Je)]];return qt.a=yt,qt.b=Ot,qt.predict=Yt,qt.rSquared=Gt(Ie,ve,Ne,nt,Yt),qt}return Ue.domain=function(Ie){return arguments.length?(Qe=Ie,Ue):Qe},Ue.x=function(Ie){return arguments.length?(ve=Ie,Ue):ve},Ue.y=function(Ie){return arguments.length?(Ne=Ie,Ue):Ne},Ue}function L(ve){ve.sort(function(Qe,Ue){return Qe-Ue});var Ne=ve.length/2;return Ne%1===0?(ve[Ne-1]+ve[Ne])/2:ve[Math.floor(Ne)]}var _=2,Ht=1e-12;function Lt(){var ve=function(zt){return zt[0]},Ne=function(zt){return zt[1]},Qe=.3;function Ue(Ie){for(var zt=Ee(Ie,ve,Ne,!0),ye=Te(zt,4),nt=ye[0],Et=ye[1],ie=ye[2],He=ye[3],Je=nt.length,tt=Math.max(2,~~(Qe*Je)),ct=new Float64Array(Je),Ot=new Float64Array(Je),yt=new Float64Array(Je).fill(1),Yt=-1;++Yt<=_;){for(var qt=[0,tt-1],we=0;we<Je;++we){for(var xe=nt[we],xt=qt[0],Wt=qt[1],re=xe-nt[xt]>nt[Wt]-xe?xt:Wt,wt=0,vt=0,Bt=0,Zt=0,at=0,mt=1/Math.abs(nt[re]-xe||1),It=xt;It<=Wt;++It){var te=nt[It],Qt=Et[It],ee=Oe(Math.abs(xe-te)*mt)*yt[It],me=te*ee;wt+=ee,vt+=me,Bt+=Qt*ee,Zt+=Qt*me,at+=te*me}var dt=se(vt/wt,Bt/wt,Zt/wt,at/wt),it=Te(dt,2),Tt=it[0],_t=it[1];ct[we]=Tt+_t*xe,Ot[we]=Math.abs(Et[we]-ct[we]),Ae(nt,we+1,qt)}if(Yt===_)break;var Dt=L(Ot);if(Math.abs(Dt)<Ht)break;for(var $t=0,bt,lt;$t<Je;++$t)bt=Ot[$t]/(6*Dt),yt[$t]=bt>=1?Ht:(lt=1-bt*bt)*lt}return jt(nt,ct,ie,He)}return Ue.bandwidth=function(Ie){return arguments.length?(Qe=Ie,Ue):Qe},Ue.x=function(Ie){return arguments.length?(ve=Ie,Ue):ve},Ue.y=function(Ie){return arguments.length?(Ne=Ie,Ue):Ne},Ue}function Oe(ve){return(ve=1-ve*ve*ve)*ve*ve}function Ae(ve,Ne,Qe){var Ue=ve[Ne],Ie=Qe[0],zt=Qe[1]+1;if(!(zt>=ve.length))for(;Ne>Ie&&ve[zt]-Ue<=Ue-ve[Ie];)Qe[0]=++Ie,Qe[1]=zt,++zt}function jt(ve,Ne,Qe,Ue){for(var Ie=ve.length,zt=[],ye=0,nt=0,Et=[],ie;ye<Ie;++ye)ie=ve[ye]+Qe,Et[0]===ie?Et[1]+=(Ne[ye]-Et[1])/++nt:(nt=0,Et[1]+=Ue,Et=[ie,Ne[ye]],zt.push(Et));return Et[1]+=Ue,zt}function le(){var ve=function(ye){return ye[0]},Ne=function(ye){return ye[1]},Qe=Math.E,Ue;function Ie(zt){var ye=0,nt=0,Et=0,ie=0,He=0,Je=Ue?+Ue[0]:1/0,tt=Ue?+Ue[1]:-1/0,ct=Math.log(Qe);B(zt,ve,Ne,function(xt,Wt){var re=Math.log(xt)/ct;++ye,nt+=(re-nt)/ye,Et+=(Wt-Et)/ye,ie+=(re*Wt-ie)/ye,He+=(re*re-He)/ye,Ue||(xt<Je&&(Je=xt),xt>tt&&(tt=xt))});var Ot=se(nt,Et,ie,He),yt=Te(Ot,2),Yt=yt[0],qt=yt[1],we=function(Wt){return qt*Math.log(Wt)/ct+Yt},xe=ue(Je,tt,we);return xe.a=qt,xe.b=Yt,xe.predict=we,xe.rSquared=Gt(zt,ve,Ne,Et,we),xe}return Ie.domain=function(zt){return arguments.length?(Ue=zt,Ie):Ue},Ie.x=function(zt){return arguments.length?(ve=zt,Ie):ve},Ie.y=function(zt){return arguments.length?(Ne=zt,Ie):Ne},Ie.base=function(zt){return arguments.length?(Qe=zt,Ie):Qe},Ie}function Ce(){var ve=function(zt){return zt[0]},Ne=function(zt){return zt[1]},Qe;function Ue(Ie){var zt=Ee(Ie,ve,Ne),ye=Te(zt,4),nt=ye[0],Et=ye[1],ie=ye[2],He=ye[3],Je=nt.length,tt=0,ct=0,Ot=0,yt=0,Yt=0,qt,we,xe,xt;for(qt=0;qt<Je;)we=nt[qt],xe=Et[qt++],xt=we*we,tt+=(xt-tt)/qt,ct+=(xt*we-ct)/qt,Ot+=(xt*xt-Ot)/qt,yt+=(we*xe-yt)/qt,Yt+=(xt*xe-Yt)/qt;var Wt=0,re=0,wt=Qe?+Qe[0]:1/0,vt=Qe?+Qe[1]:-1/0;B(Ie,ve,Ne,function(ee,me){re++,Wt+=(me-Wt)/re,Qe||(ee<wt&&(wt=ee),ee>vt&&(vt=ee))});var Bt=Ot-tt*tt,Zt=tt*Bt-ct*ct,at=(Yt*tt-yt*ct)/Zt,mt=(yt*Bt-Yt*ct)/Zt,It=-at*tt,te=function(me){return me=me-ie,at*me*me+mt*me+It+He},Qt=ue(wt,vt,te);return Qt.a=at,Qt.b=mt-2*at*ie,Qt.c=It-mt*ie+at*ie*ie+He,Qt.predict=te,Qt.rSquared=Gt(Ie,ve,Ne,Wt,te),Qt}return Ue.domain=function(Ie){return arguments.length?(Qe=Ie,Ue):Qe},Ue.x=function(Ie){return arguments.length?(ve=Ie,Ue):ve},Ue.y=function(Ie){return arguments.length?(Ne=Ie,Ue):Ne},Ue}function Ve(){var ve=function(ye){return ye[0]},Ne=function(ye){return ye[1]},Qe=3,Ue;function Ie(zt){if(Qe===1){var ye=Kt().x(ve).y(Ne).domain(Ue)(zt);return ye.coefficients=[ye.b,ye.a],delete ye.a,delete ye.b,ye}if(Qe===2){var nt=Ce().x(ve).y(Ne).domain(Ue)(zt);return nt.coefficients=[nt.c,nt.b,nt.a],delete nt.a,delete nt.b,delete nt.c,nt}var Et=Ee(zt,ve,Ne),ie=Te(Et,4),He=ie[0],Je=ie[1],tt=ie[2],ct=ie[3],Ot=He.length,yt=[],Yt=[],qt=Qe+1,we=0,xe=0,xt=Ue?+Ue[0]:1/0,Wt=Ue?+Ue[1]:-1/0;B(zt,ve,Ne,function(te,Qt){++xe,we+=(Qt-we)/xe,Ue||(te<xt&&(xt=te),te>Wt&&(Wt=te))});var re,wt,vt,Bt,Zt;for(re=0;re<qt;++re){for(vt=0,Bt=0;vt<Ot;++vt)Bt+=Math.pow(He[vt],re)*Je[vt];for(yt.push(Bt),Zt=new Float64Array(qt),wt=0;wt<qt;++wt){for(vt=0,Bt=0;vt<Ot;++vt)Bt+=Math.pow(He[vt],re+wt);Zt[wt]=Bt}Yt.push(Zt)}Yt.push(yt);var at=Xe(Yt),mt=function(Qt){Qt-=tt;var ee=ct+at[0]+at[1]*Qt+at[2]*Qt*Qt;for(re=3;re<qt;++re)ee+=at[re]*Math.pow(Qt,re);return ee},It=ue(xt,Wt,mt);return It.coefficients=qe(qt,at,-tt,ct),It.predict=mt,It.rSquared=Gt(zt,ve,Ne,we,mt),It}return Ie.domain=function(zt){return arguments.length?(Ue=zt,Ie):Ue},Ie.x=function(zt){return arguments.length?(ve=zt,Ie):ve},Ie.y=function(zt){return arguments.length?(Ne=zt,Ie):Ne},Ie.order=function(zt){return arguments.length?(Qe=zt,Ie):Qe},Ie}function qe(ve,Ne,Qe,Ue){var Ie=Array(ve),zt,ye,nt,Et;for(zt=0;zt<ve;++zt)Ie[zt]=0;for(zt=ve-1;zt>=0;--zt)for(nt=Ne[zt],Et=1,Ie[zt]+=nt,ye=1;ye<=zt;++ye)Et*=(zt+1-ye)/ye,Ie[zt-ye]+=nt*Math.pow(Qe,ye)*Et;return Ie[0]+=Ue,Ie}function Xe(ve){var Ne=ve.length-1,Qe=[],Ue,Ie,zt,ye,nt;for(Ue=0;Ue<Ne;++Ue){for(ye=Ue,Ie=Ue+1;Ie<Ne;++Ie)Math.abs(ve[Ue][Ie])>Math.abs(ve[Ue][ye])&&(ye=Ie);for(zt=Ue;zt<Ne+1;++zt)nt=ve[zt][Ue],ve[zt][Ue]=ve[zt][ye],ve[zt][ye]=nt;for(Ie=Ue+1;Ie<Ne;++Ie)for(zt=Ne;zt>=Ue;zt--)ve[zt][Ie]-=ve[zt][Ue]*ve[Ue][Ie]/ve[Ue][Ue]}for(Ie=Ne-1;Ie>=0;--Ie){for(nt=0,zt=Ie+1;zt<Ne;++zt)nt+=ve[zt][Ie]*Qe[zt];Qe[Ie]=(ve[Ne][Ie]-nt)/ve[Ie][Ie]}return Qe}function On(){var ve=function(zt){return zt[0]},Ne=function(zt){return zt[1]},Qe;function Ue(Ie){var zt=0,ye=0,nt=0,Et=0,ie=0,He=0,Je=Qe?+Qe[0]:1/0,tt=Qe?+Qe[1]:-1/0;B(Ie,ve,Ne,function(xe,xt){var Wt=Math.log(xe),re=Math.log(xt);++zt,ye+=(Wt-ye)/zt,nt+=(re-nt)/zt,Et+=(Wt*re-Et)/zt,ie+=(Wt*Wt-ie)/zt,He+=(xt-He)/zt,Qe||(xe<Je&&(Je=xe),xe>tt&&(tt=xe))});var ct=se(ye,nt,Et,ie),Ot=Te(ct,2),yt=Ot[0],Yt=Ot[1];yt=Math.exp(yt);var qt=function(xt){return yt*Math.pow(xt,Yt)},we=ue(Je,tt,qt);return we.a=yt,we.b=Yt,we.predict=qt,we.rSquared=Gt(Ie,ve,Ne,He,qt),we}return Ue.domain=function(Ie){return arguments.length?(Qe=Ie,Ue):Qe},Ue.x=function(Ie){return arguments.length?(ve=Ie,Ue):ve},Ue.y=function(Ie){return arguments.length?(Ne=Ie,Ue):Ne},Ue}kt.regressionExp=de,kt.regressionLinear=Kt,kt.regressionLoess=Lt,kt.regressionLog=le,kt.regressionPoly=Ve,kt.regressionPow=On,kt.regressionQuad=Ce,Object.defineProperty(kt,"__esModule",{value:!0})})},43631:function(Dn,mn,kt){"use strict";kt.d(mn,{qY:function(){return Kt}});var Te=kt(34155),ne=function(jt,le,Ce){if(Ce||arguments.length===2)for(var Ve=0,qe=le.length,Xe;Ve<qe;Ve++)(Xe||!(Ve in le))&&(Xe||(Xe=Array.prototype.slice.call(le,0,Ve)),Xe[Ve]=le[Ve]);return jt.concat(Xe||Array.prototype.slice.call(le))},Ge=function(){function jt(le,Ce,Ve){this.name=le,this.version=Ce,this.os=Ve,this.type="browser"}return jt}(),je=function(){function jt(le){this.version=le,this.type="node",this.name="node",this.os=Te.platform}return jt}(),Ee=function(){function jt(le,Ce,Ve,qe){this.name=le,this.version=Ce,this.os=Ve,this.bot=qe,this.type="bot-device"}return jt}(),B=function(){function jt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return jt}(),Gt=function(){function jt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return jt}(),fe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,rt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ue=3,se=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fe]],de=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Kt(jt){return jt?Ht(jt):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Gt:typeof navigator!="undefined"?Ht(navigator.userAgent):Oe()}function L(jt){return jt!==""&&se.reduce(function(le,Ce){var Ve=Ce[0],qe=Ce[1];if(le)return le;var Xe=qe.exec(jt);return!!Xe&&[Ve,Xe]},!1)}function _(jt){var le=L(jt);return le?le[0]:null}function Ht(jt){var le=L(jt);if(!le)return null;var Ce=le[0],Ve=le[1];if(Ce==="searchbot")return new B;var qe=Ve[1]&&Ve[1].split(".").join("_").split("_").slice(0,3);qe?qe.length<ue&&(qe=ne(ne([],qe,!0),Ae(ue-qe.length),!0)):qe=[];var Xe=qe.join("."),On=Lt(jt),ve=rt.exec(jt);return ve&&ve[1]?new Ee(Ce,Xe,On,ve[1]):new Ge(Ce,Xe,On)}function Lt(jt){for(var le=0,Ce=de.length;le<Ce;le++){var Ve=de[le],qe=Ve[0],Xe=Ve[1],On=Xe.exec(jt);if(On)return qe}return null}function Oe(){var jt=typeof Te!="undefined"&&Te.version;return jt?new je(Te.version.slice(1)):null}function Ae(jt){for(var le=[],Ce=0;Ce<jt;Ce++)le.push("0");return le}},26729:function(Dn){"use strict";var mn=Object.prototype.hasOwnProperty,kt="~";function Te(){}Object.create&&(Te.prototype=Object.create(null),new Te().__proto__||(kt=!1));function ne(B,Gt,fe){this.fn=B,this.context=Gt,this.once=fe||!1}function Ge(B,Gt,fe,rt,ue){if(typeof fe!="function")throw new TypeError("The listener must be a function");var se=new ne(fe,rt||B,ue),de=kt?kt+Gt:Gt;return B._events[de]?B._events[de].fn?B._events[de]=[B._events[de],se]:B._events[de].push(se):(B._events[de]=se,B._eventsCount++),B}function je(B,Gt){--B._eventsCount===0?B._events=new Te:delete B._events[Gt]}function Ee(){this._events=new Te,this._eventsCount=0}Ee.prototype.eventNames=function(){var Gt=[],fe,rt;if(this._eventsCount===0)return Gt;for(rt in fe=this._events)mn.call(fe,rt)&&Gt.push(kt?rt.slice(1):rt);return Object.getOwnPropertySymbols?Gt.concat(Object.getOwnPropertySymbols(fe)):Gt},Ee.prototype.listeners=function(Gt){var fe=kt?kt+Gt:Gt,rt=this._events[fe];if(!rt)return[];if(rt.fn)return[rt.fn];for(var ue=0,se=rt.length,de=new Array(se);ue<se;ue++)de[ue]=rt[ue].fn;return de},Ee.prototype.listenerCount=function(Gt){var fe=kt?kt+Gt:Gt,rt=this._events[fe];return rt?rt.fn?1:rt.length:0},Ee.prototype.emit=function(Gt,fe,rt,ue,se,de){var Kt=kt?kt+Gt:Gt;if(!this._events[Kt])return!1;var L=this._events[Kt],_=arguments.length,Ht,Lt;if(L.fn){switch(L.once&&this.removeListener(Gt,L.fn,void 0,!0),_){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,fe),!0;case 3:return L.fn.call(L.context,fe,rt),!0;case 4:return L.fn.call(L.context,fe,rt,ue),!0;case 5:return L.fn.call(L.context,fe,rt,ue,se),!0;case 6:return L.fn.call(L.context,fe,rt,ue,se,de),!0}for(Lt=1,Ht=new Array(_-1);Lt<_;Lt++)Ht[Lt-1]=arguments[Lt];L.fn.apply(L.context,Ht)}else{var Oe=L.length,Ae;for(Lt=0;Lt<Oe;Lt++)switch(L[Lt].once&&this.removeListener(Gt,L[Lt].fn,void 0,!0),_){case 1:L[Lt].fn.call(L[Lt].context);break;case 2:L[Lt].fn.call(L[Lt].context,fe);break;case 3:L[Lt].fn.call(L[Lt].context,fe,rt);break;case 4:L[Lt].fn.call(L[Lt].context,fe,rt,ue);break;default:if(!Ht)for(Ae=1,Ht=new Array(_-1);Ae<_;Ae++)Ht[Ae-1]=arguments[Ae];L[Lt].fn.apply(L[Lt].context,Ht)}}return!0},Ee.prototype.on=function(Gt,fe,rt){return Ge(this,Gt,fe,rt,!1)},Ee.prototype.once=function(Gt,fe,rt){return Ge(this,Gt,fe,rt,!0)},Ee.prototype.removeListener=function(Gt,fe,rt,ue){var se=kt?kt+Gt:Gt;if(!this._events[se])return this;if(!fe)return je(this,se),this;var de=this._events[se];if(de.fn)de.fn===fe&&(!ue||de.once)&&(!rt||de.context===rt)&&je(this,se);else{for(var Kt=0,L=[],_=de.length;Kt<_;Kt++)(de[Kt].fn!==fe||ue&&!de[Kt].once||rt&&de[Kt].context!==rt)&&L.push(de[Kt]);L.length?this._events[se]=L.length===1?L[0]:L:je(this,se)}return this},Ee.prototype.removeAllListeners=function(Gt){var fe;return Gt?(fe=kt?kt+Gt:Gt,this._events[fe]&&je(this,fe)):(this._events=new Te,this._eventsCount=0),this},Ee.prototype.off=Ee.prototype.removeListener,Ee.prototype.addListener=Ee.prototype.on,Ee.prefixed=kt,Ee.EventEmitter=Ee,Dn.exports=Ee},19432:function(Dn,mn,kt){"use strict";kt.r(mn),kt.d(mn,{assign:function(){return ue},defaultI18n:function(){return _},format:function(){return Qe},parse:function(){return Ue},setGlobalDateI18n:function(){return Lt},setGlobalDateMasks:function(){return Ne}});var Te=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ne="\\d\\d?",Ge="\\d\\d",je="\\d{3}",Ee="\\d{4}",B="[^\\s]+",Gt=/\[([^]*?)\]/gm;function fe(zt,ye){for(var nt=[],Et=0,ie=zt.length;Et<ie;Et++)nt.push(zt[Et].substr(0,ye));return nt}var rt=function(zt){return function(ye,nt){var Et=nt[zt].map(function(He){return He.toLowerCase()}),ie=Et.indexOf(ye.toLowerCase());return ie>-1?ie:null}};function ue(zt){for(var ye=[],nt=1;nt<arguments.length;nt++)ye[nt-1]=arguments[nt];for(var Et=0,ie=ye;Et<ie.length;Et++){var He=ie[Et];for(var Je in He)zt[Je]=He[Je]}return zt}var se=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],de=["January","February","March","April","May","June","July","August","September","October","November","December"],Kt=fe(de,3),L=fe(se,3),_={dayNamesShort:L,dayNames:se,monthNamesShort:Kt,monthNames:de,amPm:["am","pm"],DoFn:function(zt){return zt+["th","st","nd","rd"][zt%10>3?0:(zt-zt%10!==10?1:0)*zt%10]}},Ht=ue({},_),Lt=function(zt){return Ht=ue(Ht,zt)},Oe=function(zt){return zt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ae=function(zt,ye){for(ye===void 0&&(ye=2),zt=String(zt);zt.length<ye;)zt="0"+zt;return zt},jt={D:function(zt){return String(zt.getDate())},DD:function(zt){return Ae(zt.getDate())},Do:function(zt,ye){return ye.DoFn(zt.getDate())},d:function(zt){return String(zt.getDay())},dd:function(zt){return Ae(zt.getDay())},ddd:function(zt,ye){return ye.dayNamesShort[zt.getDay()]},dddd:function(zt,ye){return ye.dayNames[zt.getDay()]},M:function(zt){return String(zt.getMonth()+1)},MM:function(zt){return Ae(zt.getMonth()+1)},MMM:function(zt,ye){return ye.monthNamesShort[zt.getMonth()]},MMMM:function(zt,ye){return ye.monthNames[zt.getMonth()]},YY:function(zt){return Ae(String(zt.getFullYear()),4).substr(2)},YYYY:function(zt){return Ae(zt.getFullYear(),4)},h:function(zt){return String(zt.getHours()%12||12)},hh:function(zt){return Ae(zt.getHours()%12||12)},H:function(zt){return String(zt.getHours())},HH:function(zt){return Ae(zt.getHours())},m:function(zt){return String(zt.getMinutes())},mm:function(zt){return Ae(zt.getMinutes())},s:function(zt){return String(zt.getSeconds())},ss:function(zt){return Ae(zt.getSeconds())},S:function(zt){return String(Math.round(zt.getMilliseconds()/100))},SS:function(zt){return Ae(Math.round(zt.getMilliseconds()/10),2)},SSS:function(zt){return Ae(zt.getMilliseconds(),3)},a:function(zt,ye){return zt.getHours()<12?ye.amPm[0]:ye.amPm[1]},A:function(zt,ye){return zt.getHours()<12?ye.amPm[0].toUpperCase():ye.amPm[1].toUpperCase()},ZZ:function(zt){var ye=zt.getTimezoneOffset();return(ye>0?"-":"+")+Ae(Math.floor(Math.abs(ye)/60)*100+Math.abs(ye)%60,4)},Z:function(zt){var ye=zt.getTimezoneOffset();return(ye>0?"-":"+")+Ae(Math.floor(Math.abs(ye)/60),2)+":"+Ae(Math.abs(ye)%60,2)}},le=function(zt){return+zt-1},Ce=[null,ne],Ve=[null,B],qe=["isPm",B,function(zt,ye){var nt=zt.toLowerCase();return nt===ye.amPm[0]?0:nt===ye.amPm[1]?1:null}],Xe=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(zt){var ye=(zt+"").match(/([+-]|\d\d)/gi);if(ye){var nt=+ye[1]*60+parseInt(ye[2],10);return ye[0]==="+"?nt:-nt}return 0}],On={D:["day",ne],DD:["day",Ge],Do:["day",ne+B,function(zt){return parseInt(zt,10)}],M:["month",ne,le],MM:["month",Ge,le],YY:["year",Ge,function(zt){var ye=new Date,nt=+(""+ye.getFullYear()).substr(0,2);return+(""+(+zt>68?nt-1:nt)+zt)}],h:["hour",ne,void 0,"isPm"],hh:["hour",Ge,void 0,"isPm"],H:["hour",ne],HH:["hour",Ge],m:["minute",ne],mm:["minute",Ge],s:["second",ne],ss:["second",Ge],YYYY:["year",Ee],S:["millisecond","\\d",function(zt){return+zt*100}],SS:["millisecond",Ge,function(zt){return+zt*10}],SSS:["millisecond",je],d:Ce,dd:Ce,ddd:Ve,dddd:Ve,MMM:["month",B,rt("monthNamesShort")],MMMM:["month",B,rt("monthNames")],a:qe,A:qe,ZZ:Xe,Z:Xe},ve={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ne=function(zt){return ue(ve,zt)},Qe=function(zt,ye,nt){if(ye===void 0&&(ye=ve.default),nt===void 0&&(nt={}),typeof zt=="number"&&(zt=new Date(zt)),Object.prototype.toString.call(zt)!=="[object Date]"||isNaN(zt.getTime()))throw new Error("Invalid Date pass to format");ye=ve[ye]||ye;var Et=[];ye=ye.replace(Gt,function(He,Je){return Et.push(Je),"@@@"});var ie=ue(ue({},Ht),nt);return ye=ye.replace(Te,function(He){return jt[He](zt,ie)}),ye.replace(/@@@/g,function(){return Et.shift()})};function Ue(zt,ye,nt){if(nt===void 0&&(nt={}),typeof ye!="string")throw new Error("Invalid format in fecha parse");if(ye=ve[ye]||ye,zt.length>1e3)return null;var Et=new Date,ie={year:Et.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},He=[],Je=[],tt=ye.replace(Gt,function(Bt,Zt){return Je.push(Oe(Zt)),"@@@"}),ct={},Ot={};tt=Oe(tt).replace(Te,function(Bt){var Zt=On[Bt],at=Zt[0],mt=Zt[1],It=Zt[3];if(ct[at])throw new Error("Invalid format. "+at+" specified twice in format");return ct[at]=!0,It&&(Ot[It]=!0),He.push(Zt),"("+mt+")"}),Object.keys(Ot).forEach(function(Bt){if(!ct[Bt])throw new Error("Invalid format. "+Bt+" is required in specified format")}),tt=tt.replace(/@@@/g,function(){return Je.shift()});var yt=zt.match(new RegExp(tt,"i"));if(!yt)return null;for(var Yt=ue(ue({},Ht),nt),qt=1;qt<yt.length;qt++){var we=He[qt-1],xe=we[0],xt=we[2],Wt=xt?xt(yt[qt],Yt):+yt[qt];if(Wt==null)return null;ie[xe]=Wt}ie.isPm===1&&ie.hour!=null&&+ie.hour!=12?ie.hour=+ie.hour+12:ie.isPm===0&&+ie.hour==12&&(ie.hour=0);var re;if(ie.timezoneOffset==null){re=new Date(ie.year,ie.month,ie.day,ie.hour,ie.minute,ie.second,ie.millisecond);for(var wt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],qt=0,vt=wt.length;qt<vt;qt++)if(ct[wt[qt][0]]&&ie[wt[qt][0]]!==re[wt[qt][1]]())return null}else if(re=new Date(Date.UTC(ie.year,ie.month,ie.day,ie.hour,ie.minute-ie.timezoneOffset,ie.second,ie.millisecond)),ie.month>11||ie.month<0||ie.day>31||ie.day<1||ie.hour>23||ie.hour<0||ie.minute>59||ie.minute<0||ie.second>59||ie.second<0)return null;return re}var Ie={format:Qe,parse:Ue,defaultI18n:_,setGlobalDateI18n:Lt,setGlobalDateMasks:Ne};mn.default=Ie},87026:function(Dn,mn){(function(kt,Te){Te(mn)})(this,function(kt){"use strict";function Te(Kt,L,_,Ht){Ht=Ht||{};var Lt=Ht.maxIterations||100,Oe=Ht.tolerance||1e-10,Ae=Kt(L),jt=Kt(_),le=_-L;if(Ae*jt>0)throw"Initial bisect points must have opposite signs";if(Ae===0)return L;if(jt===0)return _;for(var Ce=0;Ce<Lt;++Ce){le/=2;var Ve=L+le,qe=Kt(Ve);if(qe*Ae>=0&&(L=Ve),Math.abs(le)<Oe||qe===0)return Ve}return L+le}function ne(Kt){for(var L=new Array(Kt),_=0;_<Kt;++_)L[_]=0;return L}function Ge(Kt,L){return ne(Kt).map(function(){return ne(L)})}function je(Kt,L){for(var _=0,Ht=0;Ht<Kt.length;++Ht)_+=Kt[Ht]*L[Ht];return _}function Ee(Kt){return Math.sqrt(je(Kt,Kt))}function B(Kt,L,_){for(var Ht=0;Ht<L.length;++Ht)Kt[Ht]=L[Ht]*_}function Gt(Kt,L,_,Ht,Lt){for(var Oe=0;Oe<Kt.length;++Oe)Kt[Oe]=L*_[Oe]+Ht*Lt[Oe]}function fe(Kt,L,_){_=_||{};var Ht=_.maxIterations||L.length*200,Lt=_.nonZeroDelta||1.05,Oe=_.zeroDelta||.001,Ae=_.minErrorDelta||1e-6,jt=_.minErrorDelta||1e-5,le=_.rho!==void 0?_.rho:1,Ce=_.chi!==void 0?_.chi:2,Ve=_.psi!==void 0?_.psi:-.5,qe=_.sigma!==void 0?_.sigma:.5,Xe,On=L.length,ve=new Array(On+1);ve[0]=L,ve[0].fx=Kt(L),ve[0].id=0;for(var Ne=0;Ne<On;++Ne){var Qe=L.slice();Qe[Ne]=Qe[Ne]?Qe[Ne]*Lt:Oe,ve[Ne+1]=Qe,ve[Ne+1].fx=Kt(Qe),ve[Ne+1].id=Ne+1}function Ue(Ot){for(var yt=0;yt<Ot.length;yt++)ve[On][yt]=Ot[yt];ve[On].fx=Ot.fx}for(var Ie=function(Ot,yt){return Ot.fx-yt.fx},zt=L.slice(),ye=L.slice(),nt=L.slice(),Et=L.slice(),ie=0;ie<Ht;++ie){if(ve.sort(Ie),_.history){var He=ve.map(function(Ot){var yt=Ot.slice();return yt.fx=Ot.fx,yt.id=Ot.id,yt});He.sort(function(Ot,yt){return Ot.id-yt.id}),_.history.push({x:ve[0].slice(),fx:ve[0].fx,simplex:He})}for(Xe=0,Ne=0;Ne<On;++Ne)Xe=Math.max(Xe,Math.abs(ve[0][Ne]-ve[1][Ne]));if(Math.abs(ve[0].fx-ve[On].fx)<Ae&&Xe<jt)break;for(Ne=0;Ne<On;++Ne){zt[Ne]=0;for(var Je=0;Je<On;++Je)zt[Ne]+=ve[Je][Ne];zt[Ne]/=On}var tt=ve[On];if(Gt(ye,1+le,zt,-le,tt),ye.fx=Kt(ye),ye.fx<ve[0].fx)Gt(Et,1+Ce,zt,-Ce,tt),Et.fx=Kt(Et),Et.fx<ye.fx?Ue(Et):Ue(ye);else if(ye.fx>=ve[On-1].fx){var ct=!1;if(ye.fx>tt.fx?(Gt(nt,1+Ve,zt,-Ve,tt),nt.fx=Kt(nt),nt.fx<tt.fx?Ue(nt):ct=!0):(Gt(nt,1-Ve*le,zt,Ve*le,tt),nt.fx=Kt(nt),nt.fx<ye.fx?Ue(nt):ct=!0),ct){if(qe>=1)break;for(Ne=1;Ne<ve.length;++Ne)Gt(ve[Ne],1-qe,ve[0],qe,ve[Ne]),ve[Ne].fx=Kt(ve[Ne])}}else Ue(ye)}return ve.sort(Ie),{fx:ve[0].fx,x:ve[0]}}function rt(Kt,L,_,Ht,Lt,Oe,Ae){var jt=_.fx,le=je(_.fxprime,L),Ce=jt,Ve=jt,qe=le,Xe=0;Lt=Lt||1,Oe=Oe||1e-6,Ae=Ae||.1;function On(Ne,Qe,Ue){for(var Ie=0;Ie<16;++Ie)if(Lt=(Ne+Qe)/2,Gt(Ht.x,1,_.x,Lt,L),Ce=Ht.fx=Kt(Ht.x,Ht.fxprime),qe=je(Ht.fxprime,L),Ce>jt+Oe*Lt*le||Ce>=Ue)Qe=Lt;else{if(Math.abs(qe)<=-Ae*le)return Lt;qe*(Qe-Ne)>=0&&(Qe=Ne),Ne=Lt,Ue=Ce}return 0}for(var ve=0;ve<10;++ve){if(Gt(Ht.x,1,_.x,Lt,L),Ce=Ht.fx=Kt(Ht.x,Ht.fxprime),qe=je(Ht.fxprime,L),Ce>jt+Oe*Lt*le||ve&&Ce>=Ve)return On(Xe,Lt,Ve);if(Math.abs(qe)<=-Ae*le)return Lt;if(qe>=0)return On(Lt,Xe,Ce);Ve=Ce,Xe=Lt,Lt*=2}return Lt}function ue(Kt,L,_){var Ht={x:L.slice(),fx:0,fxprime:L.slice()},Lt={x:L.slice(),fx:0,fxprime:L.slice()},Oe=L.slice(),Ae,jt,le=1,Ce;_=_||{},Ce=_.maxIterations||L.length*20,Ht.fx=Kt(Ht.x,Ht.fxprime),Ae=Ht.fxprime.slice(),B(Ae,Ht.fxprime,-1);for(var Ve=0;Ve<Ce;++Ve){if(le=rt(Kt,Ae,Ht,Lt,le),_.history&&_.history.push({x:Ht.x.slice(),fx:Ht.fx,fxprime:Ht.fxprime.slice(),alpha:le}),!le)B(Ae,Ht.fxprime,-1);else{Gt(Oe,1,Lt.fxprime,-1,Ht.fxprime);var qe=je(Ht.fxprime,Ht.fxprime),Xe=Math.max(0,je(Oe,Lt.fxprime)/qe);Gt(Ae,Xe,Ae,-1,Lt.fxprime),jt=Ht,Ht=Lt,Lt=jt}if(Ee(Ht.fxprime)<=1e-5)break}return _.history&&_.history.push({x:Ht.x.slice(),fx:Ht.fx,fxprime:Ht.fxprime.slice(),alpha:le}),Ht}function se(Kt,L,_){_=_||{};for(var Ht=_.maxIterations||L.length*100,Lt=_.learnRate||.001,Oe={x:L.slice(),fx:0,fxprime:L.slice()},Ae=0;Ae<Ht&&(Oe.fx=Kt(Oe.x,Oe.fxprime),_.history&&_.history.push({x:Oe.x.slice(),fx:Oe.fx,fxprime:Oe.fxprime.slice()}),Gt(Oe.x,1,Oe.x,-Lt,Oe.fxprime),!(Ee(Oe.fxprime)<=1e-5));++Ae);return Oe}function de(Kt,L,_){_=_||{};var Ht={x:L.slice(),fx:0,fxprime:L.slice()},Lt={x:L.slice(),fx:0,fxprime:L.slice()},Oe=_.maxIterations||L.length*100,Ae=_.learnRate||1,jt=L.slice(),le=_.c1||.001,Ce=_.c2||.1,Ve,qe=[];if(_.history){var Xe=Kt;Kt=function(ve,Ne){return qe.push(ve.slice()),Xe(ve,Ne)}}Ht.fx=Kt(Ht.x,Ht.fxprime);for(var On=0;On<Oe&&(B(jt,Ht.fxprime,-1),Ae=rt(Kt,jt,Ht,Lt,Ae,le,Ce),_.history&&(_.history.push({x:Ht.x.slice(),fx:Ht.fx,fxprime:Ht.fxprime.slice(),functionCalls:qe,learnRate:Ae,alpha:Ae}),qe=[]),Ve=Ht,Ht=Lt,Lt=Ve,!(Ae===0||Ee(Ht.fxprime)<1e-5));++On);return Ht}kt.bisect=Te,kt.nelderMead=fe,kt.conjugateGradient=ue,kt.gradientDescent=se,kt.gradientDescentLineSearch=de,kt.zeros=ne,kt.zerosM=Ge,kt.norm2=Ee,kt.weightedSum=Gt,kt.scale=B})},49685:function(Dn,mn,kt){"use strict";kt.d(mn,{Ib:function(){return Te},WT:function(){return ne}});var Te=1e-6,ne=typeof Float32Array!="undefined"?Float32Array:Array,Ge=Math.random;function je(fe){ne=fe}var Ee=Math.PI/180;function B(fe){return fe*Ee}function Gt(fe,rt){return Math.abs(fe-rt)<=Te*Math.max(1,Math.abs(fe),Math.abs(rt))}Math.hypot||(Math.hypot=function(){for(var fe=0,rt=arguments.length;rt--;)fe+=arguments[rt]*arguments[rt];return Math.sqrt(fe)})},35600:function(Dn,mn,kt){"use strict";kt.d(mn,{Jp:function(){return Kt},U_:function(){return ue},Ue:function(){return ne},Us:function(){return Oe},al:function(){return B},vc:function(){return Lt},xJ:function(){return Ae},xO:function(){return Ge}});var Te=kt(49685);function ne(){var nt=new Te.WT(9);return Te.WT!=Float32Array&&(nt[1]=0,nt[2]=0,nt[3]=0,nt[5]=0,nt[6]=0,nt[7]=0),nt[0]=1,nt[4]=1,nt[8]=1,nt}function Ge(nt,Et){return nt[0]=Et[0],nt[1]=Et[1],nt[2]=Et[2],nt[3]=Et[4],nt[4]=Et[5],nt[5]=Et[6],nt[6]=Et[8],nt[7]=Et[9],nt[8]=Et[10],nt}function je(nt){var Et=new glMatrix.ARRAY_TYPE(9);return Et[0]=nt[0],Et[1]=nt[1],Et[2]=nt[2],Et[3]=nt[3],Et[4]=nt[4],Et[5]=nt[5],Et[6]=nt[6],Et[7]=nt[7],Et[8]=nt[8],Et}function Ee(nt,Et){return nt[0]=Et[0],nt[1]=Et[1],nt[2]=Et[2],nt[3]=Et[3],nt[4]=Et[4],nt[5]=Et[5],nt[6]=Et[6],nt[7]=Et[7],nt[8]=Et[8],nt}function B(nt,Et,ie,He,Je,tt,ct,Ot,yt){var Yt=new Te.WT(9);return Yt[0]=nt,Yt[1]=Et,Yt[2]=ie,Yt[3]=He,Yt[4]=Je,Yt[5]=tt,Yt[6]=ct,Yt[7]=Ot,Yt[8]=yt,Yt}function Gt(nt,Et,ie,He,Je,tt,ct,Ot,yt,Yt){return nt[0]=Et,nt[1]=ie,nt[2]=He,nt[3]=Je,nt[4]=tt,nt[5]=ct,nt[6]=Ot,nt[7]=yt,nt[8]=Yt,nt}function fe(nt){return nt[0]=1,nt[1]=0,nt[2]=0,nt[3]=0,nt[4]=1,nt[5]=0,nt[6]=0,nt[7]=0,nt[8]=1,nt}function rt(nt,Et){if(nt===Et){var ie=Et[1],He=Et[2],Je=Et[5];nt[1]=Et[3],nt[2]=Et[6],nt[3]=ie,nt[5]=Et[7],nt[6]=He,nt[7]=Je}else nt[0]=Et[0],nt[1]=Et[3],nt[2]=Et[6],nt[3]=Et[1],nt[4]=Et[4],nt[5]=Et[7],nt[6]=Et[2],nt[7]=Et[5],nt[8]=Et[8];return nt}function ue(nt,Et){var ie=Et[0],He=Et[1],Je=Et[2],tt=Et[3],ct=Et[4],Ot=Et[5],yt=Et[6],Yt=Et[7],qt=Et[8],we=qt*ct-Ot*Yt,xe=-qt*tt+Ot*yt,xt=Yt*tt-ct*yt,Wt=ie*we+He*xe+Je*xt;return Wt?(Wt=1/Wt,nt[0]=we*Wt,nt[1]=(-qt*He+Je*Yt)*Wt,nt[2]=(Ot*He-Je*ct)*Wt,nt[3]=xe*Wt,nt[4]=(qt*ie-Je*yt)*Wt,nt[5]=(-Ot*ie+Je*tt)*Wt,nt[6]=xt*Wt,nt[7]=(-Yt*ie+He*yt)*Wt,nt[8]=(ct*ie-He*tt)*Wt,nt):null}function se(nt,Et){var ie=Et[0],He=Et[1],Je=Et[2],tt=Et[3],ct=Et[4],Ot=Et[5],yt=Et[6],Yt=Et[7],qt=Et[8];return nt[0]=ct*qt-Ot*Yt,nt[1]=Je*Yt-He*qt,nt[2]=He*Ot-Je*ct,nt[3]=Ot*yt-tt*qt,nt[4]=ie*qt-Je*yt,nt[5]=Je*tt-ie*Ot,nt[6]=tt*Yt-ct*yt,nt[7]=He*yt-ie*Yt,nt[8]=ie*ct-He*tt,nt}function de(nt){var Et=nt[0],ie=nt[1],He=nt[2],Je=nt[3],tt=nt[4],ct=nt[5],Ot=nt[6],yt=nt[7],Yt=nt[8];return Et*(Yt*tt-ct*yt)+ie*(-Yt*Je+ct*Ot)+He*(yt*Je-tt*Ot)}function Kt(nt,Et,ie){var He=Et[0],Je=Et[1],tt=Et[2],ct=Et[3],Ot=Et[4],yt=Et[5],Yt=Et[6],qt=Et[7],we=Et[8],xe=ie[0],xt=ie[1],Wt=ie[2],re=ie[3],wt=ie[4],vt=ie[5],Bt=ie[6],Zt=ie[7],at=ie[8];return nt[0]=xe*He+xt*ct+Wt*Yt,nt[1]=xe*Je+xt*Ot+Wt*qt,nt[2]=xe*tt+xt*yt+Wt*we,nt[3]=re*He+wt*ct+vt*Yt,nt[4]=re*Je+wt*Ot+vt*qt,nt[5]=re*tt+wt*yt+vt*we,nt[6]=Bt*He+Zt*ct+at*Yt,nt[7]=Bt*Je+Zt*Ot+at*qt,nt[8]=Bt*tt+Zt*yt+at*we,nt}function L(nt,Et,ie){var He=Et[0],Je=Et[1],tt=Et[2],ct=Et[3],Ot=Et[4],yt=Et[5],Yt=Et[6],qt=Et[7],we=Et[8],xe=ie[0],xt=ie[1];return nt[0]=He,nt[1]=Je,nt[2]=tt,nt[3]=ct,nt[4]=Ot,nt[5]=yt,nt[6]=xe*He+xt*ct+Yt,nt[7]=xe*Je+xt*Ot+qt,nt[8]=xe*tt+xt*yt+we,nt}function _(nt,Et,ie){var He=Et[0],Je=Et[1],tt=Et[2],ct=Et[3],Ot=Et[4],yt=Et[5],Yt=Et[6],qt=Et[7],we=Et[8],xe=Math.sin(ie),xt=Math.cos(ie);return nt[0]=xt*He+xe*ct,nt[1]=xt*Je+xe*Ot,nt[2]=xt*tt+xe*yt,nt[3]=xt*ct-xe*He,nt[4]=xt*Ot-xe*Je,nt[5]=xt*yt-xe*tt,nt[6]=Yt,nt[7]=qt,nt[8]=we,nt}function Ht(nt,Et,ie){var He=ie[0],Je=ie[1];return nt[0]=He*Et[0],nt[1]=He*Et[1],nt[2]=He*Et[2],nt[3]=Je*Et[3],nt[4]=Je*Et[4],nt[5]=Je*Et[5],nt[6]=Et[6],nt[7]=Et[7],nt[8]=Et[8],nt}function Lt(nt,Et){return nt[0]=1,nt[1]=0,nt[2]=0,nt[3]=0,nt[4]=1,nt[5]=0,nt[6]=Et[0],nt[7]=Et[1],nt[8]=1,nt}function Oe(nt,Et){var ie=Math.sin(Et),He=Math.cos(Et);return nt[0]=He,nt[1]=ie,nt[2]=0,nt[3]=-ie,nt[4]=He,nt[5]=0,nt[6]=0,nt[7]=0,nt[8]=1,nt}function Ae(nt,Et){return nt[0]=Et[0],nt[1]=0,nt[2]=0,nt[3]=0,nt[4]=Et[1],nt[5]=0,nt[6]=0,nt[7]=0,nt[8]=1,nt}function jt(nt,Et){return nt[0]=Et[0],nt[1]=Et[1],nt[2]=0,nt[3]=Et[2],nt[4]=Et[3],nt[5]=0,nt[6]=Et[4],nt[7]=Et[5],nt[8]=1,nt}function le(nt,Et){var ie=Et[0],He=Et[1],Je=Et[2],tt=Et[3],ct=ie+ie,Ot=He+He,yt=Je+Je,Yt=ie*ct,qt=He*ct,we=He*Ot,xe=Je*ct,xt=Je*Ot,Wt=Je*yt,re=tt*ct,wt=tt*Ot,vt=tt*yt;return nt[0]=1-we-Wt,nt[3]=qt-vt,nt[6]=xe+wt,nt[1]=qt+vt,nt[4]=1-Yt-Wt,nt[7]=xt-re,nt[2]=xe-wt,nt[5]=xt+re,nt[8]=1-Yt-we,nt}function Ce(nt,Et){var ie=Et[0],He=Et[1],Je=Et[2],tt=Et[3],ct=Et[4],Ot=Et[5],yt=Et[6],Yt=Et[7],qt=Et[8],we=Et[9],xe=Et[10],xt=Et[11],Wt=Et[12],re=Et[13],wt=Et[14],vt=Et[15],Bt=ie*Ot-He*ct,Zt=ie*yt-Je*ct,at=ie*Yt-tt*ct,mt=He*yt-Je*Ot,It=He*Yt-tt*Ot,te=Je*Yt-tt*yt,Qt=qt*re-we*Wt,ee=qt*wt-xe*Wt,me=qt*vt-xt*Wt,dt=we*wt-xe*re,it=we*vt-xt*re,Tt=xe*vt-xt*wt,_t=Bt*Tt-Zt*it+at*dt+mt*me-It*ee+te*Qt;return _t?(_t=1/_t,nt[0]=(Ot*Tt-yt*it+Yt*dt)*_t,nt[1]=(yt*me-ct*Tt-Yt*ee)*_t,nt[2]=(ct*it-Ot*me+Yt*Qt)*_t,nt[3]=(Je*it-He*Tt-tt*dt)*_t,nt[4]=(ie*Tt-Je*me+tt*ee)*_t,nt[5]=(He*me-ie*it-tt*Qt)*_t,nt[6]=(re*te-wt*It+vt*mt)*_t,nt[7]=(wt*at-Wt*te-vt*Zt)*_t,nt[8]=(Wt*It-re*at+vt*Bt)*_t,nt):null}function Ve(nt,Et,ie){return nt[0]=2/Et,nt[1]=0,nt[2]=0,nt[3]=0,nt[4]=-2/ie,nt[5]=0,nt[6]=-1,nt[7]=1,nt[8]=1,nt}function qe(nt){return"mat3("+nt[0]+", "+nt[1]+", "+nt[2]+", "+nt[3]+", "+nt[4]+", "+nt[5]+", "+nt[6]+", "+nt[7]+", "+nt[8]+")"}function Xe(nt){return Math.hypot(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],nt[7],nt[8])}function On(nt,Et,ie){return nt[0]=Et[0]+ie[0],nt[1]=Et[1]+ie[1],nt[2]=Et[2]+ie[2],nt[3]=Et[3]+ie[3],nt[4]=Et[4]+ie[4],nt[5]=Et[5]+ie[5],nt[6]=Et[6]+ie[6],nt[7]=Et[7]+ie[7],nt[8]=Et[8]+ie[8],nt}function ve(nt,Et,ie){return nt[0]=Et[0]-ie[0],nt[1]=Et[1]-ie[1],nt[2]=Et[2]-ie[2],nt[3]=Et[3]-ie[3],nt[4]=Et[4]-ie[4],nt[5]=Et[5]-ie[5],nt[6]=Et[6]-ie[6],nt[7]=Et[7]-ie[7],nt[8]=Et[8]-ie[8],nt}function Ne(nt,Et,ie){return nt[0]=Et[0]*ie,nt[1]=Et[1]*ie,nt[2]=Et[2]*ie,nt[3]=Et[3]*ie,nt[4]=Et[4]*ie,nt[5]=Et[5]*ie,nt[6]=Et[6]*ie,nt[7]=Et[7]*ie,nt[8]=Et[8]*ie,nt}function Qe(nt,Et,ie,He){return nt[0]=Et[0]+ie[0]*He,nt[1]=Et[1]+ie[1]*He,nt[2]=Et[2]+ie[2]*He,nt[3]=Et[3]+ie[3]*He,nt[4]=Et[4]+ie[4]*He,nt[5]=Et[5]+ie[5]*He,nt[6]=Et[6]+ie[6]*He,nt[7]=Et[7]+ie[7]*He,nt[8]=Et[8]+ie[8]*He,nt}function Ue(nt,Et){return nt[0]===Et[0]&&nt[1]===Et[1]&&nt[2]===Et[2]&&nt[3]===Et[3]&&nt[4]===Et[4]&&nt[5]===Et[5]&&nt[6]===Et[6]&&nt[7]===Et[7]&&nt[8]===Et[8]}function Ie(nt,Et){var ie=nt[0],He=nt[1],Je=nt[2],tt=nt[3],ct=nt[4],Ot=nt[5],yt=nt[6],Yt=nt[7],qt=nt[8],we=Et[0],xe=Et[1],xt=Et[2],Wt=Et[3],re=Et[4],wt=Et[5],vt=Et[6],Bt=Et[7],Zt=Et[8];return Math.abs(ie-we)<=glMatrix.EPSILON*Math.max(1,Math.abs(ie),Math.abs(we))&&Math.abs(He-xe)<=glMatrix.EPSILON*Math.max(1,Math.abs(He),Math.abs(xe))&&Math.abs(Je-xt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Je),Math.abs(xt))&&Math.abs(tt-Wt)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(Wt))&&Math.abs(ct-re)<=glMatrix.EPSILON*Math.max(1,Math.abs(ct),Math.abs(re))&&Math.abs(Ot-wt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(wt))&&Math.abs(yt-vt)<=glMatrix.EPSILON*Math.max(1,Math.abs(yt),Math.abs(vt))&&Math.abs(Yt-Bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Yt),Math.abs(Bt))&&Math.abs(qt-Zt)<=glMatrix.EPSILON*Math.max(1,Math.abs(qt),Math.abs(Zt))}var zt=null,ye=null},31437:function(Dn,mn,kt){"use strict";kt.d(mn,{$X:function(){return fe},AK:function(){return Xe},EU:function(){return nt},Fp:function(){return L},Fv:function(){return qe},I6:function(){return He},IH:function(){return Gt},JG:function(){return Ee},TE:function(){return Oe},VV:function(){return Kt},al:function(){return je},bA:function(){return Ht},kE:function(){return jt},kK:function(){return Ie},lu:function(){return ct}});var Te=kt(49685);function ne(){var xt=new Te.WT(2);return Te.WT!=Float32Array&&(xt[0]=0,xt[1]=0),xt}function Ge(xt){var Wt=new glMatrix.ARRAY_TYPE(2);return Wt[0]=xt[0],Wt[1]=xt[1],Wt}function je(xt,Wt){var re=new Te.WT(2);return re[0]=xt,re[1]=Wt,re}function Ee(xt,Wt){return xt[0]=Wt[0],xt[1]=Wt[1],xt}function B(xt,Wt,re){return xt[0]=Wt,xt[1]=re,xt}function Gt(xt,Wt,re){return xt[0]=Wt[0]+re[0],xt[1]=Wt[1]+re[1],xt}function fe(xt,Wt,re){return xt[0]=Wt[0]-re[0],xt[1]=Wt[1]-re[1],xt}function rt(xt,Wt,re){return xt[0]=Wt[0]*re[0],xt[1]=Wt[1]*re[1],xt}function ue(xt,Wt,re){return xt[0]=Wt[0]/re[0],xt[1]=Wt[1]/re[1],xt}function se(xt,Wt){return xt[0]=Math.ceil(Wt[0]),xt[1]=Math.ceil(Wt[1]),xt}function de(xt,Wt){return xt[0]=Math.floor(Wt[0]),xt[1]=Math.floor(Wt[1]),xt}function Kt(xt,Wt,re){return xt[0]=Math.min(Wt[0],re[0]),xt[1]=Math.min(Wt[1],re[1]),xt}function L(xt,Wt,re){return xt[0]=Math.max(Wt[0],re[0]),xt[1]=Math.max(Wt[1],re[1]),xt}function _(xt,Wt){return xt[0]=Math.round(Wt[0]),xt[1]=Math.round(Wt[1]),xt}function Ht(xt,Wt,re){return xt[0]=Wt[0]*re,xt[1]=Wt[1]*re,xt}function Lt(xt,Wt,re,wt){return xt[0]=Wt[0]+re[0]*wt,xt[1]=Wt[1]+re[1]*wt,xt}function Oe(xt,Wt){var re=Wt[0]-xt[0],wt=Wt[1]-xt[1];return Math.hypot(re,wt)}function Ae(xt,Wt){var re=Wt[0]-xt[0],wt=Wt[1]-xt[1];return re*re+wt*wt}function jt(xt){var Wt=xt[0],re=xt[1];return Math.hypot(Wt,re)}function le(xt){var Wt=xt[0],re=xt[1];return Wt*Wt+re*re}function Ce(xt,Wt){return xt[0]=-Wt[0],xt[1]=-Wt[1],xt}function Ve(xt,Wt){return xt[0]=1/Wt[0],xt[1]=1/Wt[1],xt}function qe(xt,Wt){var re=Wt[0],wt=Wt[1],vt=re*re+wt*wt;return vt>0&&(vt=1/Math.sqrt(vt)),xt[0]=Wt[0]*vt,xt[1]=Wt[1]*vt,xt}function Xe(xt,Wt){return xt[0]*Wt[0]+xt[1]*Wt[1]}function On(xt,Wt,re){var wt=Wt[0]*re[1]-Wt[1]*re[0];return xt[0]=xt[1]=0,xt[2]=wt,xt}function ve(xt,Wt,re,wt){var vt=Wt[0],Bt=Wt[1];return xt[0]=vt+wt*(re[0]-vt),xt[1]=Bt+wt*(re[1]-Bt),xt}function Ne(xt,Wt){Wt=Wt||1;var re=glMatrix.RANDOM()*2*Math.PI;return xt[0]=Math.cos(re)*Wt,xt[1]=Math.sin(re)*Wt,xt}function Qe(xt,Wt,re){var wt=Wt[0],vt=Wt[1];return xt[0]=re[0]*wt+re[2]*vt,xt[1]=re[1]*wt+re[3]*vt,xt}function Ue(xt,Wt,re){var wt=Wt[0],vt=Wt[1];return xt[0]=re[0]*wt+re[2]*vt+re[4],xt[1]=re[1]*wt+re[3]*vt+re[5],xt}function Ie(xt,Wt,re){var wt=Wt[0],vt=Wt[1];return xt[0]=re[0]*wt+re[3]*vt+re[6],xt[1]=re[1]*wt+re[4]*vt+re[7],xt}function zt(xt,Wt,re){var wt=Wt[0],vt=Wt[1];return xt[0]=re[0]*wt+re[4]*vt+re[12],xt[1]=re[1]*wt+re[5]*vt+re[13],xt}function ye(xt,Wt,re,wt){var vt=Wt[0]-re[0],Bt=Wt[1]-re[1],Zt=Math.sin(wt),at=Math.cos(wt);return xt[0]=vt*at-Bt*Zt+re[0],xt[1]=vt*Zt+Bt*at+re[1],xt}function nt(xt,Wt){var re=xt[0],wt=xt[1],vt=Wt[0],Bt=Wt[1],Zt=Math.sqrt(re*re+wt*wt)*Math.sqrt(vt*vt+Bt*Bt),at=Zt&&(re*vt+wt*Bt)/Zt;return Math.acos(Math.min(Math.max(at,-1),1))}function Et(xt){return xt[0]=0,xt[1]=0,xt}function ie(xt){return"vec2("+xt[0]+", "+xt[1]+")"}function He(xt,Wt){return xt[0]===Wt[0]&&xt[1]===Wt[1]}function Je(xt,Wt){var re=xt[0],wt=xt[1],vt=Wt[0],Bt=Wt[1];return Math.abs(re-vt)<=glMatrix.EPSILON*Math.max(1,Math.abs(re),Math.abs(vt))&&Math.abs(wt-Bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(wt),Math.abs(Bt))}var tt=null,ct=fe,Ot=null,yt=null,Yt=null,qt=null,we=null,xe=function(){var xt=ne();return function(Wt,re,wt,vt,Bt,Zt){var at,mt;for(re||(re=2),wt||(wt=0),vt?mt=Math.min(vt*re+wt,Wt.length):mt=Wt.length,at=wt;at<mt;at+=re)xt[0]=Wt[at],xt[1]=Wt[at+1],Bt(xt,xt,Zt),Wt[at]=xt[0],Wt[at+1]=xt[1];return Wt}}()},77160:function(Dn,mn,kt){"use strict";kt.d(mn,{$X:function(){return rt},AK:function(){return Xe},Fv:function(){return qe},IH:function(){return fe},JG:function(){return B},Jp:function(){return ue},TK:function(){return we},Ue:function(){return ne},VC:function(){return ye},Zh:function(){return xt},al:function(){return Ee},bA:function(){return Lt},d9:function(){return Ge},fF:function(){return Ie},fS:function(){return Ot},kC:function(){return On},kE:function(){return je},kK:function(){return zt},t7:function(){return ve},t8:function(){return Gt}});var Te=kt(49685);function ne(){var wt=new Te.WT(3);return Te.WT!=Float32Array&&(wt[0]=0,wt[1]=0,wt[2]=0),wt}function Ge(wt){var vt=new Te.WT(3);return vt[0]=wt[0],vt[1]=wt[1],vt[2]=wt[2],vt}function je(wt){var vt=wt[0],Bt=wt[1],Zt=wt[2];return Math.hypot(vt,Bt,Zt)}function Ee(wt,vt,Bt){var Zt=new Te.WT(3);return Zt[0]=wt,Zt[1]=vt,Zt[2]=Bt,Zt}function B(wt,vt){return wt[0]=vt[0],wt[1]=vt[1],wt[2]=vt[2],wt}function Gt(wt,vt,Bt,Zt){return wt[0]=vt,wt[1]=Bt,wt[2]=Zt,wt}function fe(wt,vt,Bt){return wt[0]=vt[0]+Bt[0],wt[1]=vt[1]+Bt[1],wt[2]=vt[2]+Bt[2],wt}function rt(wt,vt,Bt){return wt[0]=vt[0]-Bt[0],wt[1]=vt[1]-Bt[1],wt[2]=vt[2]-Bt[2],wt}function ue(wt,vt,Bt){return wt[0]=vt[0]*Bt[0],wt[1]=vt[1]*Bt[1],wt[2]=vt[2]*Bt[2],wt}function se(wt,vt,Bt){return wt[0]=vt[0]/Bt[0],wt[1]=vt[1]/Bt[1],wt[2]=vt[2]/Bt[2],wt}function de(wt,vt){return wt[0]=Math.ceil(vt[0]),wt[1]=Math.ceil(vt[1]),wt[2]=Math.ceil(vt[2]),wt}function Kt(wt,vt){return wt[0]=Math.floor(vt[0]),wt[1]=Math.floor(vt[1]),wt[2]=Math.floor(vt[2]),wt}function L(wt,vt,Bt){return wt[0]=Math.min(vt[0],Bt[0]),wt[1]=Math.min(vt[1],Bt[1]),wt[2]=Math.min(vt[2],Bt[2]),wt}function _(wt,vt,Bt){return wt[0]=Math.max(vt[0],Bt[0]),wt[1]=Math.max(vt[1],Bt[1]),wt[2]=Math.max(vt[2],Bt[2]),wt}function Ht(wt,vt){return wt[0]=Math.round(vt[0]),wt[1]=Math.round(vt[1]),wt[2]=Math.round(vt[2]),wt}function Lt(wt,vt,Bt){return wt[0]=vt[0]*Bt,wt[1]=vt[1]*Bt,wt[2]=vt[2]*Bt,wt}function Oe(wt,vt,Bt,Zt){return wt[0]=vt[0]+Bt[0]*Zt,wt[1]=vt[1]+Bt[1]*Zt,wt[2]=vt[2]+Bt[2]*Zt,wt}function Ae(wt,vt){var Bt=vt[0]-wt[0],Zt=vt[1]-wt[1],at=vt[2]-wt[2];return Math.hypot(Bt,Zt,at)}function jt(wt,vt){var Bt=vt[0]-wt[0],Zt=vt[1]-wt[1],at=vt[2]-wt[2];return Bt*Bt+Zt*Zt+at*at}function le(wt){var vt=wt[0],Bt=wt[1],Zt=wt[2];return vt*vt+Bt*Bt+Zt*Zt}function Ce(wt,vt){return wt[0]=-vt[0],wt[1]=-vt[1],wt[2]=-vt[2],wt}function Ve(wt,vt){return wt[0]=1/vt[0],wt[1]=1/vt[1],wt[2]=1/vt[2],wt}function qe(wt,vt){var Bt=vt[0],Zt=vt[1],at=vt[2],mt=Bt*Bt+Zt*Zt+at*at;return mt>0&&(mt=1/Math.sqrt(mt)),wt[0]=vt[0]*mt,wt[1]=vt[1]*mt,wt[2]=vt[2]*mt,wt}function Xe(wt,vt){return wt[0]*vt[0]+wt[1]*vt[1]+wt[2]*vt[2]}function On(wt,vt,Bt){var Zt=vt[0],at=vt[1],mt=vt[2],It=Bt[0],te=Bt[1],Qt=Bt[2];return wt[0]=at*Qt-mt*te,wt[1]=mt*It-Zt*Qt,wt[2]=Zt*te-at*It,wt}function ve(wt,vt,Bt,Zt){var at=vt[0],mt=vt[1],It=vt[2];return wt[0]=at+Zt*(Bt[0]-at),wt[1]=mt+Zt*(Bt[1]-mt),wt[2]=It+Zt*(Bt[2]-It),wt}function Ne(wt,vt,Bt,Zt,at,mt){var It=mt*mt,te=It*(2*mt-3)+1,Qt=It*(mt-2)+mt,ee=It*(mt-1),me=It*(3-2*mt);return wt[0]=vt[0]*te+Bt[0]*Qt+Zt[0]*ee+at[0]*me,wt[1]=vt[1]*te+Bt[1]*Qt+Zt[1]*ee+at[1]*me,wt[2]=vt[2]*te+Bt[2]*Qt+Zt[2]*ee+at[2]*me,wt}function Qe(wt,vt,Bt,Zt,at,mt){var It=1-mt,te=It*It,Qt=mt*mt,ee=te*It,me=3*mt*te,dt=3*Qt*It,it=Qt*mt;return wt[0]=vt[0]*ee+Bt[0]*me+Zt[0]*dt+at[0]*it,wt[1]=vt[1]*ee+Bt[1]*me+Zt[1]*dt+at[1]*it,wt[2]=vt[2]*ee+Bt[2]*me+Zt[2]*dt+at[2]*it,wt}function Ue(wt,vt){vt=vt||1;var Bt=glMatrix.RANDOM()*2*Math.PI,Zt=glMatrix.RANDOM()*2-1,at=Math.sqrt(1-Zt*Zt)*vt;return wt[0]=Math.cos(Bt)*at,wt[1]=Math.sin(Bt)*at,wt[2]=Zt*vt,wt}function Ie(wt,vt,Bt){var Zt=vt[0],at=vt[1],mt=vt[2],It=Bt[3]*Zt+Bt[7]*at+Bt[11]*mt+Bt[15];return It=It||1,wt[0]=(Bt[0]*Zt+Bt[4]*at+Bt[8]*mt+Bt[12])/It,wt[1]=(Bt[1]*Zt+Bt[5]*at+Bt[9]*mt+Bt[13])/It,wt[2]=(Bt[2]*Zt+Bt[6]*at+Bt[10]*mt+Bt[14])/It,wt}function zt(wt,vt,Bt){var Zt=vt[0],at=vt[1],mt=vt[2];return wt[0]=Zt*Bt[0]+at*Bt[3]+mt*Bt[6],wt[1]=Zt*Bt[1]+at*Bt[4]+mt*Bt[7],wt[2]=Zt*Bt[2]+at*Bt[5]+mt*Bt[8],wt}function ye(wt,vt,Bt){var Zt=Bt[0],at=Bt[1],mt=Bt[2],It=Bt[3],te=vt[0],Qt=vt[1],ee=vt[2],me=at*ee-mt*Qt,dt=mt*te-Zt*ee,it=Zt*Qt-at*te,Tt=at*it-mt*dt,_t=mt*me-Zt*it,Dt=Zt*dt-at*me,$t=It*2;return me*=$t,dt*=$t,it*=$t,Tt*=2,_t*=2,Dt*=2,wt[0]=te+me+Tt,wt[1]=Qt+dt+_t,wt[2]=ee+it+Dt,wt}function nt(wt,vt,Bt,Zt){var at=[],mt=[];return at[0]=vt[0]-Bt[0],at[1]=vt[1]-Bt[1],at[2]=vt[2]-Bt[2],mt[0]=at[0],mt[1]=at[1]*Math.cos(Zt)-at[2]*Math.sin(Zt),mt[2]=at[1]*Math.sin(Zt)+at[2]*Math.cos(Zt),wt[0]=mt[0]+Bt[0],wt[1]=mt[1]+Bt[1],wt[2]=mt[2]+Bt[2],wt}function Et(wt,vt,Bt,Zt){var at=[],mt=[];return at[0]=vt[0]-Bt[0],at[1]=vt[1]-Bt[1],at[2]=vt[2]-Bt[2],mt[0]=at[2]*Math.sin(Zt)+at[0]*Math.cos(Zt),mt[1]=at[1],mt[2]=at[2]*Math.cos(Zt)-at[0]*Math.sin(Zt),wt[0]=mt[0]+Bt[0],wt[1]=mt[1]+Bt[1],wt[2]=mt[2]+Bt[2],wt}function ie(wt,vt,Bt,Zt){var at=[],mt=[];return at[0]=vt[0]-Bt[0],at[1]=vt[1]-Bt[1],at[2]=vt[2]-Bt[2],mt[0]=at[0]*Math.cos(Zt)-at[1]*Math.sin(Zt),mt[1]=at[0]*Math.sin(Zt)+at[1]*Math.cos(Zt),mt[2]=at[2],wt[0]=mt[0]+Bt[0],wt[1]=mt[1]+Bt[1],wt[2]=mt[2]+Bt[2],wt}function He(wt,vt){var Bt=wt[0],Zt=wt[1],at=wt[2],mt=vt[0],It=vt[1],te=vt[2],Qt=Math.sqrt(Bt*Bt+Zt*Zt+at*at),ee=Math.sqrt(mt*mt+It*It+te*te),me=Qt*ee,dt=me&&Xe(wt,vt)/me;return Math.acos(Math.min(Math.max(dt,-1),1))}function Je(wt){return wt[0]=0,wt[1]=0,wt[2]=0,wt}function tt(wt){return"vec3("+wt[0]+", "+wt[1]+", "+wt[2]+")"}function ct(wt,vt){return wt[0]===vt[0]&&wt[1]===vt[1]&&wt[2]===vt[2]}function Ot(wt,vt){var Bt=wt[0],Zt=wt[1],at=wt[2],mt=vt[0],It=vt[1],te=vt[2];return Math.abs(Bt-mt)<=Te.Ib*Math.max(1,Math.abs(Bt),Math.abs(mt))&&Math.abs(Zt-It)<=Te.Ib*Math.max(1,Math.abs(Zt),Math.abs(It))&&Math.abs(at-te)<=Te.Ib*Math.max(1,Math.abs(at),Math.abs(te))}var yt=null,Yt=null,qt=null,we=Ae,xe=null,xt=je,Wt=null,re=function(){var wt=ne();return function(vt,Bt,Zt,at,mt,It){var te,Qt;for(Bt||(Bt=3),Zt||(Zt=0),at?Qt=Math.min(at*Bt+Zt,vt.length):Qt=vt.length,te=Zt;te<Qt;te+=Bt)wt[0]=vt[te],wt[1]=vt[te+1],wt[2]=vt[te+2],mt(wt,wt,It),vt[te]=wt[0],vt[te+1]=wt[1],vt[te+2]=wt[2];return vt}}()},73807:function(Dn){"use strict";var mn=Dn.exports;Dn.exports.isNumber=function(kt){return typeof kt=="number"},Dn.exports.findMin=function(kt){if(kt.length===0)return 1/0;for(var Te=kt[0],ne=1;ne<kt.length;ne++)Te=Math.min(Te,kt[ne]);return Te},Dn.exports.findMax=function(kt){if(kt.length===0)return-1/0;for(var Te=kt[0],ne=1;ne<kt.length;ne++)Te=Math.max(Te,kt[ne]);return Te},Dn.exports.findMinMulti=function(kt){for(var Te=mn.findMin(kt[0]),ne=1;ne<kt.length;ne++)Te=Math.min(Te,mn.findMin(kt[ne]));return Te},Dn.exports.findMaxMulti=function(kt){for(var Te=mn.findMax(kt[0]),ne=1;ne<kt.length;ne++)Te=Math.max(Te,mn.findMax(kt[ne]));return Te},Dn.exports.inside=function(kt,Te,ne){return kt<=ne&&ne<=Te}},53843:function(Dn,mn,kt){"use strict";var Te=50,ne=2,Ge=Math.log(2),je=Dn.exports,Ee=kt(73807);function B(fe){return 1-Math.abs(fe)}Dn.exports.getUnifiedMinMax=function(fe,rt){return je.getUnifiedMinMaxMulti([fe],rt)},Dn.exports.getUnifiedMinMaxMulti=function(fe,rt){rt=rt||{};var ue=!1,se=!1,de=Ee.isNumber(rt.width)?rt.width:ne,Kt=Ee.isNumber(rt.size)?rt.size:Te,L=Ee.isNumber(rt.min)?rt.min:(ue=!0,Ee.findMinMulti(fe)),_=Ee.isNumber(rt.max)?rt.max:(se=!0,Ee.findMaxMulti(fe)),Ht=_-L,Lt=Ht/(Kt-1);return ue&&(L=L-2*de*Lt),se&&(_=_+2*de*Lt),{min:L,max:_}},Dn.exports.create=function(fe,rt){if(rt=rt||{},!fe||fe.length===0)return[];var ue=Ee.isNumber(rt.size)?rt.size:Te,se=Ee.isNumber(rt.width)?rt.width:ne,de=je.getUnifiedMinMax(fe,{size:ue,width:se,min:rt.min,max:rt.max}),Kt=de.min,L=de.max,_=L-Kt,Ht=_/(ue-1);if(_===0)return[{x:Kt,y:1}];for(var Lt=[],Oe=0;Oe<ue;Oe++)Lt.push({x:Kt+Oe*Ht,y:0});var Ae=function(ve){return Math.floor((ve-Kt)/Ht)},jt=Gt(B,se),le=jt[se],Ce=jt[se-1]-jt[se-2],Ve=0;fe.forEach(function(ve){var Ne=Ae(ve);if(!(Ne+se<0||Ne-se>=Lt.length)){var Qe=Math.max(Ne-se,0),Ue=Ne,Ie=Math.min(Ne+se,Lt.length-1),zt=Qe-(Ne-se),ye=Ne+se-Ie,nt=jt[-se-1+zt]||0,Et=jt[-se-1+ye]||0,ie=le/(le-nt-Et);zt>0&&(Ve+=ie*(zt-1)*Ce);var He=Math.max(0,Ne-se+1);Ee.inside(0,Lt.length-1,He)&&(Lt[He].y+=ie*1*Ce),Ee.inside(0,Lt.length-1,Ue+1)&&(Lt[Ue+1].y-=ie*2*Ce),Ee.inside(0,Lt.length-1,Ie+1)&&(Lt[Ie+1].y+=ie*1*Ce)}});var qe=Ve,Xe=0,On=0;return Lt.forEach(function(ve){Xe+=ve.y,qe+=Xe,ve.y=qe,On+=qe}),On>0&&Lt.forEach(function(ve){ve.y/=On}),Lt};function Gt(fe,rt){for(var ue={},se=0,de=-rt;de<=rt;de++)se+=fe(de/rt),ue[de]=se;return ue}Dn.exports.getExpectedValueFromPdf=function(fe){if(!(!fe||fe.length===0)){var rt=0;return fe.forEach(function(ue){rt+=ue.x*ue.y}),rt}},Dn.exports.getXWithLeftTailArea=function(fe,rt){if(!(!fe||fe.length===0)){for(var ue=0,se=0,de=0;de<fe.length&&(se=de,ue+=fe[de].y,!(ue>=rt));de++);return fe[se].x}},Dn.exports.getPerplexity=function(fe){if(!(!fe||fe.length===0)){var rt=0;return fe.forEach(function(ue){var se=Math.log(ue.y);isFinite(se)&&(rt+=ue.y*se)}),rt=-rt/Ge,Math.pow(2,rt)}}},86851:function(Dn,mn,kt){"use strict";var Te=kt(89594),ne=Array.prototype.concat,Ge=Array.prototype.slice,je=Dn.exports=function(B){for(var Gt=[],fe=0,rt=B.length;fe<rt;fe++){var ue=B[fe];Te(ue)?Gt=ne.call(Gt,Ge.call(ue)):Gt.push(ue)}return Gt};je.wrap=function(Ee){return function(){return Ee(je(arguments))}}},89594:function(Dn){Dn.exports=function(kt){return!kt||typeof kt=="string"?!1:kt instanceof Array||Array.isArray(kt)||kt.length>=0&&(kt.splice instanceof Function||Object.getOwnPropertyDescriptor(kt,kt.length-1)&&kt.constructor.name!=="String")}},96695:function(Dn,mn,kt){var Te=kt(96263);function ne(Ge,je){var Ee=typeof Symbol!="undefined"&&Ge[Symbol.iterator]||Ge["@@iterator"];if(!Ee){if(Array.isArray(Ge)||(Ee=Te(Ge))||je&&Ge&&typeof Ge.length=="number"){Ee&&(Ge=Ee);var B=0,Gt=function(){};return{s:Gt,n:function(){return B>=Ge.length?{done:!0}:{done:!1,value:Ge[B++]}},e:function(de){throw de},f:Gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe=!0,rt=!1,ue;return{s:function(){Ee=Ee.call(Ge)},n:function(){var de=Ee.next();return fe=de.done,de},e:function(de){rt=!0,ue=de},f:function(){try{!fe&&Ee.return!=null&&Ee.return()}finally{if(rt)throw ue}}}}Dn.exports=ne,Dn.exports.__esModule=!0,Dn.exports.default=Dn.exports},96683:function(Dn,mn,kt){"use strict";kt.d(mn,{B8:function(){return qe},Il:function(){return ne},J5:function(){return je},SU:function(){return Ve},Ss:function(){return Xe},ZP:function(){return jt},xV:function(){return Ge}});var Te=kt(9546);function ne(){}var Ge=.7,je=1/Ge,Ee="\\s*([+-]?\\d+)\\s*",B="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,rt=new RegExp("^rgb\\(".concat(Ee,",").concat(Ee,",").concat(Ee,"\\)$")),ue=new RegExp("^rgb\\(".concat(Gt,",").concat(Gt,",").concat(Gt,"\\)$")),se=new RegExp("^rgba\\(".concat(Ee,",").concat(Ee,",").concat(Ee,",").concat(B,"\\)$")),de=new RegExp("^rgba\\(".concat(Gt,",").concat(Gt,",").concat(Gt,",").concat(B,"\\)$")),Kt=new RegExp("^hsl\\(".concat(B,",").concat(Gt,",").concat(Gt,"\\)$")),L=new RegExp("^hsla\\(".concat(B,",").concat(Gt,",").concat(Gt,",").concat(B,"\\)$")),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,Te.Z)(ne,jt,{copy:function(ct){return Object.assign(new this.constructor,this,ct)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHex8:Lt,formatHsl:Oe,formatRgb:Ae,toString:Ae});function Ht(){return this.rgb().formatHex()}function Lt(){return this.rgb().formatHex8()}function Oe(){return ye(this).formatHsl()}function Ae(){return this.rgb().formatRgb()}function jt(tt){var ct,Ot;return tt=(tt+"").trim().toLowerCase(),(ct=fe.exec(tt))?(Ot=ct[1].length,ct=parseInt(ct[1],16),Ot===6?le(ct):Ot===3?new Xe(ct>>8&15|ct>>4&240,ct>>4&15|ct&240,(ct&15)<<4|ct&15,1):Ot===8?Ce(ct>>24&255,ct>>16&255,ct>>8&255,(ct&255)/255):Ot===4?Ce(ct>>12&15|ct>>8&240,ct>>8&15|ct>>4&240,ct>>4&15|ct&240,((ct&15)<<4|ct&15)/255):null):(ct=rt.exec(tt))?new Xe(ct[1],ct[2],ct[3],1):(ct=ue.exec(tt))?new Xe(ct[1]*255/100,ct[2]*255/100,ct[3]*255/100,1):(ct=se.exec(tt))?Ce(ct[1],ct[2],ct[3],ct[4]):(ct=de.exec(tt))?Ce(ct[1]*255/100,ct[2]*255/100,ct[3]*255/100,ct[4]):(ct=Kt.exec(tt))?zt(ct[1],ct[2]/100,ct[3]/100,1):(ct=L.exec(tt))?zt(ct[1],ct[2]/100,ct[3]/100,ct[4]):_.hasOwnProperty(tt)?le(_[tt]):tt==="transparent"?new Xe(NaN,NaN,NaN,0):null}function le(tt){return new Xe(tt>>16&255,tt>>8&255,tt&255,1)}function Ce(tt,ct,Ot,yt){return yt<=0&&(tt=ct=Ot=NaN),new Xe(tt,ct,Ot,yt)}function Ve(tt){return tt instanceof ne||(tt=jt(tt)),tt?(tt=tt.rgb(),new Xe(tt.r,tt.g,tt.b,tt.opacity)):new Xe}function qe(tt,ct,Ot,yt){return arguments.length===1?Ve(tt):new Xe(tt,ct,Ot,yt==null?1:yt)}function Xe(tt,ct,Ot,yt){this.r=+tt,this.g=+ct,this.b=+Ot,this.opacity=+yt}(0,Te.Z)(Xe,qe,(0,Te.l)(ne,{brighter:function(ct){return ct=ct==null?je:Math.pow(je,ct),new Xe(this.r*ct,this.g*ct,this.b*ct,this.opacity)},darker:function(ct){return ct=ct==null?Ge:Math.pow(Ge,ct),new Xe(this.r*ct,this.g*ct,this.b*ct,this.opacity)},rgb:function(){return this},clamp:function(){return new Xe(Ue(this.r),Ue(this.g),Ue(this.b),Qe(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:On,formatHex:On,formatHex8:ve,formatRgb:Ne,toString:Ne}));function On(){return"#".concat(Ie(this.r)).concat(Ie(this.g)).concat(Ie(this.b))}function ve(){return"#".concat(Ie(this.r)).concat(Ie(this.g)).concat(Ie(this.b)).concat(Ie((isNaN(this.opacity)?1:this.opacity)*255))}function Ne(){var tt=Qe(this.opacity);return"".concat(tt===1?"rgb(":"rgba(").concat(Ue(this.r),", ").concat(Ue(this.g),", ").concat(Ue(this.b)).concat(tt===1?")":", ".concat(tt,")"))}function Qe(tt){return isNaN(tt)?1:Math.max(0,Math.min(1,tt))}function Ue(tt){return Math.max(0,Math.min(255,Math.round(tt)||0))}function Ie(tt){return tt=Ue(tt),(tt<16?"0":"")+tt.toString(16)}function zt(tt,ct,Ot,yt){return yt<=0?tt=ct=Ot=NaN:Ot<=0||Ot>=1?tt=ct=NaN:ct<=0&&(tt=NaN),new Et(tt,ct,Ot,yt)}function ye(tt){if(tt instanceof Et)return new Et(tt.h,tt.s,tt.l,tt.opacity);if(tt instanceof ne||(tt=jt(tt)),!tt)return new Et;if(tt instanceof Et)return tt;tt=tt.rgb();var ct=tt.r/255,Ot=tt.g/255,yt=tt.b/255,Yt=Math.min(ct,Ot,yt),qt=Math.max(ct,Ot,yt),we=NaN,xe=qt-Yt,xt=(qt+Yt)/2;return xe?(ct===qt?we=(Ot-yt)/xe+(Ot<yt)*6:Ot===qt?we=(yt-ct)/xe+2:we=(ct-Ot)/xe+4,xe/=xt<.5?qt+Yt:2-qt-Yt,we*=60):xe=xt>0&&xt<1?0:we,new Et(we,xe,xt,tt.opacity)}function nt(tt,ct,Ot,yt){return arguments.length===1?ye(tt):new Et(tt,ct,Ot,yt==null?1:yt)}function Et(tt,ct,Ot,yt){this.h=+tt,this.s=+ct,this.l=+Ot,this.opacity=+yt}(0,Te.Z)(Et,nt,(0,Te.l)(ne,{brighter:function(ct){return ct=ct==null?je:Math.pow(je,ct),new Et(this.h,this.s,this.l*ct,this.opacity)},darker:function(ct){return ct=ct==null?Ge:Math.pow(Ge,ct),new Et(this.h,this.s,this.l*ct,this.opacity)},rgb:function(){var ct=this.h%360+(this.h<0)*360,Ot=isNaN(ct)||isNaN(this.s)?0:this.s,yt=this.l,Yt=yt+(yt<.5?yt:1-yt)*Ot,qt=2*yt-Yt;return new Xe(Je(ct>=240?ct-240:ct+120,qt,Yt),Je(ct,qt,Yt),Je(ct<120?ct+240:ct-120,qt,Yt),this.opacity)},clamp:function(){return new Et(ie(this.h),He(this.s),He(this.l),Qe(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ct=Qe(this.opacity);return"".concat(ct===1?"hsl(":"hsla(").concat(ie(this.h),", ").concat(He(this.s)*100,"%, ").concat(He(this.l)*100,"%").concat(ct===1?")":", ".concat(ct,")"))}}));function ie(tt){return tt=(tt||0)%360,tt<0?tt+360:tt}function He(tt){return Math.max(0,Math.min(1,tt||0))}function Je(tt,ct,Ot){return(tt<60?ct+(Ot-ct)*tt/60:tt<180?Ot:tt<240?ct+(Ot-ct)*(240-tt)/60:ct)*255}},9546:function(Dn,mn,kt){"use strict";kt.d(mn,{Z:function(){return Te},l:function(){return ne}});function Te(Ge,je,Ee){Ge.prototype=je.prototype=Ee,Ee.constructor=Ge}function ne(Ge,je){var Ee=Object.create(Ge.prototype);for(var B in je)Ee[B]=je[B];return Ee}},5312:function(Dn,mn,kt){"use strict";kt.d(mn,{ZP:function(){return B},wx:function(){return je},yi:function(){return Ee}});var Te=kt(93816);function ne(Gt,fe){return function(rt){return Gt+rt*fe}}function Ge(Gt,fe,rt){return Gt=Math.pow(Gt,rt),fe=Math.pow(fe,rt)-Gt,rt=1/rt,function(ue){return Math.pow(Gt+ue*fe,rt)}}function je(Gt,fe){var rt=fe-Gt;return rt?ne(Gt,rt>180||rt<-180?rt-360*Math.round(rt/360):rt):(0,Te.Z)(isNaN(Gt)?fe:Gt)}function Ee(Gt){return(Gt=+Gt)==1?B:function(fe,rt){return rt-fe?Ge(fe,rt,Gt):(0,Te.Z)(isNaN(fe)?rt:fe)}}function B(Gt,fe){var rt=fe-Gt;return rt?ne(Gt,rt):(0,Te.Z)(isNaN(Gt)?fe:Gt)}},93816:function(Dn,mn){"use strict";mn.Z=function(kt){return function(){return kt}}},43867:function(Dn,mn,kt){"use strict";kt.d(mn,{ZP:function(){return B},hD:function(){return fe}});var Te=kt(96683);function ne(ue,se,de,Kt,L){var _=ue*ue,Ht=_*ue;return((1-3*ue+3*_-Ht)*se+(4-6*_+3*Ht)*de+(1+3*ue+3*_-3*Ht)*Kt+Ht*L)/6}function Ge(ue){var se=ue.length-1;return function(de){var Kt=de<=0?de=0:de>=1?(de=1,se-1):Math.floor(de*se),L=ue[Kt],_=ue[Kt+1],Ht=Kt>0?ue[Kt-1]:2*L-_,Lt=Kt<se-1?ue[Kt+2]:2*_-L;return ne((de-Kt/se)*se,Ht,L,_,Lt)}}function je(ue){var se=ue.length;return function(de){var Kt=Math.floor(((de%=1)<0?++de:de)*se),L=ue[(Kt+se-1)%se],_=ue[Kt%se],Ht=ue[(Kt+1)%se],Lt=ue[(Kt+2)%se];return ne((de-Kt/se)*se,L,_,Ht,Lt)}}var Ee=kt(5312),B=function ue(se){var de=(0,Ee.yi)(se);function Kt(L,_){var Ht=de((L=(0,Te.B8)(L)).r,(_=(0,Te.B8)(_)).r),Lt=de(L.g,_.g),Oe=de(L.b,_.b),Ae=(0,Ee.ZP)(L.opacity,_.opacity);return function(jt){return L.r=Ht(jt),L.g=Lt(jt),L.b=Oe(jt),L.opacity=Ae(jt),L+""}}return Kt.gamma=ue,Kt}(1);function Gt(ue){return function(se){var de=se.length,Kt=new Array(de),L=new Array(de),_=new Array(de),Ht,Lt;for(Ht=0;Ht<de;++Ht)Lt=(0,Te.B8)(se[Ht]),Kt[Ht]=Lt.r||0,L[Ht]=Lt.g||0,_[Ht]=Lt.b||0;return Kt=ue(Kt),L=ue(L),_=ue(_),Lt.opacity=1,function(Oe){return Lt.r=Kt(Oe),Lt.g=L(Oe),Lt.b=_(Oe),Lt+""}}}var fe=Gt(Ge),rt=Gt(je)}}]);
